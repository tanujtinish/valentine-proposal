;/*FB_PKG_DELIM*/

__d("IGDSecureShareSheetCommentTextInput.react",["IGDSBox.react","IGDSTextInput.react","PolarisDirectStrings","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useImperativeHandle,m=u.useState,p={commentTextInput:{display:"x78zum5",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",transition:"x13vyecm",$$css:!0},hiddenCommentTextInput:{height:"xqtp20y",visibility:"xlshs6z",$$css:!0},visibleCommentTextInput:{height:"x5kalc8",visibility:"xnpuxes",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(8),n=e.initialText,a=e.isHidden,i=e.ref,l=a===void 0?!1:a,u=m(n!=null?n:""),c=u[0],_=u[1],f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=function(t){_(t.target.value)},t[0]=f):f=t[0];var g=f,h;t[1]!==c?(h=function(){return{getComment:function(){return c}}},t[1]=c,t[2]=h):h=t[2],d(i,h);var y=l?p.hiddenCommentTextInput:p.visibleCommentTextInput,C;t[3]!==y?(C=[p.commentTextInput,y],t[3]=y,t[4]=C):C=t[4];var b;return t[5]!==c||t[6]!==C?(b=s.jsx(r("IGDSBox.react"),{children:s.jsx(r("IGDSTextInput.react"),{backgroundColor:"transparent",name:"shareCommentText",onChange:g,placeholder:o("PolarisDirectStrings").COMMENT_INPUT_PLACEHOLDER,style:"borderless",testid:void 0,value:c,xstyle:C})}),t[5]=c,t[6]=C,t[7]=b):b=t[7],b}l.default=_}),98);
__d("PolarisHScrollAnimationController.react",["cx","invariant","CometEventListener","PolarisEventLoop","PolarisResponsiveBlock.react","PolarisUA","joinClasses","nullthrows","polarisDebounce","react","shallowEqual"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=50,m=300,p=.75,_=30,f=20,g=30;function h(e){return Math.pow(Math.abs(e),.75)*10}var y=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.$20=function(){n.setState(function(e,t){var r=t.onAnimationEnd,o=e.futureScrollLeft;return n.$21(r,e.currentScrollLeft,o),{currentScrollLeft:o,futureScrollLeft:o}})},n.$28=function(e){if(!n.isAnimated()){var t=e,o=t.deltaMode,a=t.deltaX;n.setState(function(e,t){var i=t.onUserScroll,l=e.currentScrollLeft;n.$5==null&&(n.$5=l);var s=n.$5,u=[1,16,e.outerWidth];l+=a*u[o],l=n.$17(l),n.$6!=null&&r("PolarisEventLoop").clearTimeout(n.$6),n.$6=r("PolarisEventLoop").setTimeout(n.$29,m),i!=null&&i({scrollLeft:l,scrollRight:n.$25(l)});var c=Math.abs(l-s);return c>_&&(n.$13=!0),n.$18(),{currentScrollLeft:l,futureScrollLeft:l}})}},n.$30=function(e){e.touches.length>1||n.isAnimated()?n.$7=null:(n.$7=e.touches[0].clientX,n.$8=e.touches[0].clientY,n.$12=n.state.currentScrollLeft),n.$18()},n.$31=function(e){if(!(n.$7==null||n.$8==null||n.$12==null||n.isAnimated())){var t=n.$12,r=e.touches[0].clientX-n.$7,o=e.touches[0].clientY-n.$8,a=t-r;if(a=n.$26(a),!n.$11){var i=Math.abs(r)>Math.abs(o);i&&(n.$13=!0,n.$10=window.scrollY),n.$11=!0}n.$13&&n.$10===window.scrollY&&n.setState(function(e,t){var r=t.onUserScroll;return r!=null&&r({scrollLeft:a,scrollRight:n.$25(a)}),{currentScrollLeft:a,futureScrollLeft:a}})}},n.$32=function(){n.$7!=null&&n.$29(),n.$7=null,n.$8=null,n.$11=!1},n.$29=function(){var e=n.props.onUserScrollEnd;if(e!=null){var t=n.state.currentScrollLeft;e({scrollLeft:t,scrollRight:n.$25(t)})}n.$13=!1,n.$5=null},n.$33=function(e){var t=e,r=n.state.futureScrollLeft;t.keyCode===37?n.props.snapPoints?n.scrollTo(n.$22(r)):n.scrollBy(-f):t.keyCode===39&&(n.props.snapPoints?n.scrollTo(n.$23(r)):n.scrollBy(f))},n.$34=function(e){if(n.$13&&e.cancelable)return e.preventDefault(),e.stopPropagation(),!1},n.$15=function(e,t){n.$35(n.state.innerWidth,e,t)},n.$36=function(e,t){n.$35(e,n.state.outerWidth,t)},n.$15=r("polarisDebounce")(n.$15,d,n),n.state={currentScrollLeft:0,futureScrollLeft:0,height:0,innerWidth:0,outerWidth:0},n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getScrollableElement=function(){return this.$4},n.isAnimated=function(t){return t=t||this.state,t.currentScrollLeft!==t.futureScrollLeft},n.scrollTo=function(t,n){n===void 0&&(n={}),this.scrollBy(t-this.state.futureScrollLeft,n)},n.scrollBy=function(t,n){var e=this,o=n===void 0?{}:n,a=o.animated,i=a===void 0?!0:a,l=o.snap,s=l===void 0?!0:l;this.setState(function(n,o){s=s&&o.snapPoints!=null;var a=n.futureScrollLeft+t;if(s&&(a=e.$16(a)),a=e.$17(a),e.$18(),e.$9!=null&&(e.$9.remove(),e.$9=null),!i)return{currentScrollLeft:a,futureScrollLeft:a};var l=e.$19();return e.$4||u(0,51628),e.$9=r("CometEventListener").listen(e.$4,"transitionend",e.$20),e.$21(o.onAnimationStart,l,a),{currentScrollLeft:l,futureScrollLeft:a}})},n.$22=function(t){var e=this.props.snapPoints;return this.$16(t,e&&e.filter(function(e){return e<t}),[0])},n.$23=function(t){var e=this.props.snapPoints;return this.$16(t,e&&e.filter(function(e){return e>t}),[this.state.innerWidth-this.state.outerWidth])},n.$24=function(t){return Math.abs(t)>=g},n.$16=function(t,n,r){n=n||this.props.snapPoints,n!=null||u(0,51629),r=r||[0,this.state.innerWidth-this.state.outerWidth];var e=function(n){return Math.abs(n-t)},o=this.$12||0,a=this.$24(e(o)),i=o<t&&a,l=o>t&&a,s=1/0,c=n.concat(r);for(var d of c)i&&d<=o||l&&d>=o||e(d)<e(s)&&(s=d);return s===1/0?o:s},n.$19=function(){if(!this.$4)return this.state.currentScrollLeft;var e=window.getComputedStyle(this.$4),t=e.transform||e.webkitTransform;if(!t)return this.state.currentScrollLeft;var n=window.WebKitCSSMatrix||window.MSCSSMatrix;if(n){var r=new n(t);return-r.m41}return this.state.currentScrollLeft},n.$21=function(t,n,r){t!=null&&t({from:{scrollLeft:n,scrollRight:this.$25(n)},to:{scrollLeft:r,scrollRight:this.$25(r)}})},n.$25=function(t,n,r){var e=r!=null?r:this.state.outerWidth,o=Math.max(e,n!=null?n:this.state.innerWidth);return o-e-t},n.$17=function(t,n,r){var e=r!=null?r:this.state.outerWidth,o=Math.max(e,n!=null?n:this.state.innerWidth);return Math.min(o-e,Math.max(0,t))},n.$26=function(t){var e=this.$25(t);if(t<0)return-Math.pow(-t,p);if(e<0){var n=-Math.pow(-e,p);return t-(n-e)}return t},n.$27=function(t){var e=Math.min(t.currentScrollLeft,t.futureScrollLeft),n=Math.max(t.currentScrollLeft,t.futureScrollLeft)+t.outerWidth;return{bottom:t.height,height:t.height,left:e,right:n,top:0,width:n-e}},n.$35=function(t,n,r){var e=this;this.$1&&this.setState(function(o,a){var i=a.onResize,l=e.$17(o.futureScrollLeft,t,n),s=e.$25(l,t,n);return i&&i({scrollLeft:l,scrollRight:s}),{currentScrollLeft:l,futureScrollLeft:l,height:r,innerWidth:t,outerWidth:n}})},n.$37=function(t,n){var e=t.onVisibilityChange;if(e!=null){var o=this.$27(n);r("shallowEqual")(this.$14,o)||(e(o),this.$14=o)}},n.$18=function(){var e=this.$3;e&&(e.scrollLeft=0)},n.render=function(){var e=this,t=this.props,n=t.children,o=t.className;return c.jsx(r("PolarisResponsiveBlock.react"),{className:r("joinClasses")(o,"_adc-"),onResize:this.$15,ref:function(n){return e.$3=n},children:c.jsx("div",{className:"_adc_",onTouchEnd:this.$32,onTouchMove:this.$31,onTouchStart:this.$30,ref:function(n){return e.$4=n},tabIndex:0,children:c.jsx(r("PolarisResponsiveBlock.react"),{className:"_add0",onResize:this.$36,children:n})})})},n.componentDidUpdate=function(t,n){var e=this;this.$37(this.props,this.state);var o=r("nullthrows")(this.$4),a=this.state,i=a.currentScrollLeft,l=a.futureScrollLeft,s=l-i,u=this.props.getAnimationDuration(s);if(u=Math.max(u,1),o.style.transitionDuration=(this.isAnimated()?u/1e3:0)+"s",this.isAnimated()===this.isAnimated(n)){var c="translateX("+-this.state.futureScrollLeft+"px)";o.style.webkitTransform=c,o.style.transform=c;return}window.requestAnimationFrame(function(){o.offsetHeight;var t="translateX("+-e.state.futureScrollLeft+"px)";o.style.webkitTransform=t,o.style.transform=t})},n.componentDidMount=function(){var e=r("nullthrows")(this.$4);this.$1=!0,this.$37(this.props,this.state),o("PolarisUA").isDesktop()&&(e.addEventListener("wheel",this.$28),document.addEventListener("wheel",this.$34)),document.addEventListener("touchmove",this.$34),e.addEventListener("keydown",this.$33),e.addEventListener("touchforcechange",this.$34)},n.componentWillUnmount=function(){var e=r("nullthrows")(this.$4);this.$1=!1,o("PolarisUA").isDesktop()&&(e.removeEventListener("wheel",this.$28),document.removeEventListener("wheel",this.$34)),document.removeEventListener("touchmove",this.$34),e.removeEventListener("keydown",this.$33),e.removeEventListener("touchforcechange",this.$34),this.$6!=null&&this.$6!==0&&r("PolarisEventLoop").clearTimeout(this.$6),this.$9!=null&&(this.$9.remove(),this.$9=null),this.$2&&this.$2()},t})(c.PureComponent);y.defaultProps={getAnimationDuration:h},l.default=y}),98);
__d("PolarisHScrollContainer.react",["cx","invariant","ExecutionEnvironment","PolarisHScrollAnimationController.react","PolarisPagerButton.react","joinClasses","react"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=c||(c=o("react")),m=(function(t){function n(e){var n;return n=t.call(this,e)||this,n.$1=d.createRef(),n.$4=function(){n.$3(!1)},n.$5=function(){n.$3(!0)},n.$6=function(e){n.$7(e),n.props.onResize&&n.props.onResize(e)},n.$8=function(e){n.props.onLogEvent!=null&&n.props.onLogEvent({source:"hscroll",type:"scroll"}),n.$7(e)},n.$9=function(e){n.$2!=null&&n.props.snapPoints!=null&&n.$2.scrollBy(0)},n.$10=function(e){n.$7(e.to)},n.state={leftPagerEnabled:!1,rightPagerEnabled:!1},n}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.getClickScrollIncrement=function(){if(this.$2!=null||u(0,63797),this.props.clickScrollIncrement!=null)return this.props.clickScrollIncrement;var e=this.$2.getScrollableElement();return e!=null||u(0,63798),e.offsetWidth},a.getContainerElement=function(){return this.$1.current},a.$3=function(t){this.props.onLogEvent!=null&&this.props.onLogEvent({source:"hscroll",type:"click"});var e=this.getClickScrollIncrement();this.$2!=null&&this.$2.scrollBy(t?e:-e)},a.scrollToNext=function(){this.$5()},a.$7=function(t){var e=t.scrollLeft,n=t.scrollRight;this.setState({leftPagerEnabled:e>0,rightPagerEnabled:n>0})},a.render=function(){var t=this,n=this.props,a=n.children,i=n.className,l=n.disablePagerButtons,s=n.getAnimationDuration,u=n.onVisibilityChange,c=n.snapPoints;return(e||(e=r("ExecutionEnvironment"))).canUseDOM?d.jsxs("div",{className:r("joinClasses")(i,"_adl6"),ref:this.$1,children:[d.jsx(r("PolarisHScrollAnimationController.react"),{getAnimationDuration:s,onAnimationStart:this.$10,onResize:this.$6,onUserScroll:this.$8,onUserScrollEnd:this.$9,onVisibilityChange:u,ref:function(n){return t.$2=n},snapPoints:c,children:a}),d.jsx(o("PolarisPagerButton.react").PagerButton,{direction:o("PolarisPagerButton.react").PAGER_BUTTON_DIRECTIONS.previous,enabled:this.state.leftPagerEnabled&&!l,onClick:this.$4,variant:this.props.pagerVariant}),d.jsx(o("PolarisPagerButton.react").PagerButton,{direction:o("PolarisPagerButton.react").PAGER_BUTTON_DIRECTIONS.next,enabled:this.state.rightPagerEnabled&&!l,onClick:this.$5,variant:this.props.pagerVariant})]}):d.jsx("div",{className:r("joinClasses")(i,"_adl5"),ref:this.$1,children:a})},n})(d.PureComponent);l.default=m}),98);
__d("PolarisPostShareUtils",["PolarisLinkBuilder","PolarisThirdPartyPlatformType","URI","nullthrows","polarisGetPostFromGraphMediaInterface"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t){return(t==null?void 0:t.isPrivate)!==!0&&e.viewerCanReshare===!0}function u(e){return e.igMediaSharingDisabled!==!0}function c(e){var t=r("nullthrows")(e.code);return o("polarisGetPostFromGraphMediaInterface").isClipsPost(e)?o("PolarisLinkBuilder").buildClipsMediaLink(t):o("PolarisLinkBuilder").buildMediaLink(t)}function d(t){var n=window.location.origin+c(t),a=t.shareUrls,i=a!=null?a[o("PolarisThirdPartyPlatformType").PolarisThirdPartyPlatformType.COPY_LINK]:null;if(i!=null){var l=new(e||(e=r("URI")))(i);return l.setQueryData(babelHelpers.extends({utm_source:"ig_web_copy_link"},l.getQueryData())).toStringRawQuery()}return n+"?utm_source=ig_web_copy_link"}l.getIsShareable=s,l.getIsMediaQuarantinedForShare=u,l.getShareURL=c,l.getCopyUrl=d}),98);
__d("usePolarisCopyLinkDialogFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisCopyLinkDialogFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"usePolarisIsMediaShareable_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisIsMediaShareable_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisIsMediaShareable_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_media_sharing_disabled",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisIsMediaShareable",["invariant","CometRelay","PolarisPostShareUtils.next.react","react-compiler-runtime","usePolarisIsMediaShareable_media.graphql"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t,r){var a=o("react-compiler-runtime").c(7),i=r===void 0?null:r;t!=null||i!=null||s(0,77597);var l=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisIsMediaShareable_media.graphql"),t);if(t!=null&&l!=null){var u=l.can_viewer_reshare,c=l.ig_media_sharing_disabled,d=l.user;if(d==null)return!1;var m;return a[0]!==u||a[1]!==c||a[2]!==d.is_private?(m=o("PolarisPostShareUtils.next.react").getIsShareable(!!d.is_private,!!u)&&c!==!0,a[0]=u,a[1]=c,a[2]=d.is_private,a[3]=m):m=a[3],m}if(i!=null){var p,_,f;if(i.owner==null)return!1;var g=(p=(_=i.owner)==null?void 0:_.isPrivate)!=null?p:!0,h=(f=i.viewerCanReshare)!=null?f:!1,y;return a[4]!==g||a[5]!==h?(y=o("PolarisPostShareUtils.next.react").getIsShareable(g,h),a[4]=g,a[5]=h,a[6]=y):y=a[6],y}return!1}l.default=u}),98);
__d("usePolarisCopyLinkDialog",["fbt","invariant","Clipboard","CometRelay","FBLogger","JSResourceForInteraction","PolarisLinkBuilder","URI","emptyFunction","getPolarisPostType.next.react","justknobx","polarisGetPostFromGraphMediaInterface","polarisLogAction","react-compiler-runtime","useIGDSLazyDialog","usePolarisAnalyticsContext","usePolarisCopyLinkDialogFragment.graphql","usePolarisIsMediaShareable","usePolarisShowToast"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=s._(/*BTDS*/"Link copied to clipboard."),m=s._(/*BTDS*/"Copy link"),p=r("JSResourceForInteraction")("PolarisCopyLinkDialog.react").__setRef("usePolarisCopyLinkDialog");function _(e,t,n){n===void 0&&(n=null);var a=o("PolarisLinkBuilder").buildMediaLink(e);t===o("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_CLIPS&&(a=o("PolarisLinkBuilder").buildClipsMediaLink(e)),r("justknobx")._("2417")&&(a=o("PolarisLinkBuilder").buildUsernameMediaLink(n,e,{productType:t}));var i=window.location.origin+a;return i+"?utm_source=ig_web_copy_link"}function f(t,a,i){var l=o("react-compiler-runtime").c(12),s=i===void 0?r("emptyFunction"):i;t!=null||a!=null||u(0,77596);var m=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisCopyLinkDialogFragment.graphql"),t),f=r("usePolarisShowToast")(),g=r("usePolarisAnalyticsContext")(),h=r("useIGDSLazyDialog")(p),y=h[0],C=r("usePolarisIsMediaShareable")(m,a);if(!C)return r("emptyFunction");var b,v,S;if(l[0]!==m||l[1]!==a){S=Symbol.for("react.early_return_sentinel");e:if(v="",b="",m!=null){var R,L,E;if(m.user==null||m.code==null){S=r("emptyFunction");break e}v=o("getPolarisPostType.next.react").getPolarisPostType((R=m==null?void 0:m.media_type)!=null?R:0),b=_((L=m.code)!=null?L:"",(E=m.product_type)!=null?E:"",m==null?void 0:m.user.username)}else if(a!=null){var k,I;if(a.owner==null||a.code==null){S=r("emptyFunction");break e}v=(k=a.productType)!=null?k:"",b=_(a.code,(I=a.productType)!=null?I:"",m==null?void 0:m.user.username)}else{S=r("emptyFunction");break e}l[0]=m,l[1]=a,l[2]=b,l[3]=v,l[4]=S}else b=l[2],v=l[3],S=l[4];if(S!==Symbol.for("react.early_return_sentinel"))return S;var T;l[5]!==g||l[6]!==b||l[7]!==s||l[8]!==v||l[9]!==y||l[10]!==f?(T=function(t){var e=b;if(typeof t=="string"&&t!=="")try{var n=new(c||(c=r("URI")))(t),a=n.getQueryData();if(Object.keys(a).length>0){var i=new(c||(c=r("URI")))(b);e=i.setQueryData(babelHelpers.extends({},i.getQueryData(),a)).toStringRawQuery()}}catch(e){r("FBLogger")("ig_web").mustfix('Invalid shareIds URL: "%s"',t)}if(!o("Clipboard").isSupported()){y({postUrl:e});return}var l=o("Clipboard").copy(e);r("polarisLogAction")("postLinkCopy",{source:g,type:v}),l?(f({text:d}),s()):y({postUrl:e})},l[5]=g,l[6]=b,l[7]=s,l[8]=v,l[9]=y,l[10]=f,l[11]=T):T=l[11];var D=T;return D}l.LINK_COPIED_PROMPT=d,l.COPY_LINK_TEXT=m,l.usePolarisCopyLinkDialog=f}),226);