;/*FB_PKG_DELIM*/

__d("BladeRunnerConfig",["RTISubscriptionManagerConfig","WebDriverConfig","cr:3024","gkx","isEmpty"],(function(t,n,r,o,a,i,l){var e,s="javascript-sandbox",u="OverrideServer",c="www_sandbox",d="www_tier",m=(function(){function t(){}var o=t.prototype;return o.patchRequestHeaders=function(o){var t={},a=r("RTISubscriptionManagerConfig").bladerunner_www_sandbox,i=r("RTISubscriptionManagerConfig").is_intern;if((e||(e=r("isEmpty")))(r("WebDriverConfig").auxiliaryServiceInfo))a!=null&&(t[s]=a);else{var l,m=(l=r("WebDriverConfig").auxiliaryServiceInfo.BladeRunner)!=null?l:r("WebDriverConfig").auxiliaryServiceInfo["BladeRunner-sandcastle"];m!=null?(typeof m.ip_address=="string"?t[u]=m.ip_address+":18295":typeof m.hostname=="string"&&(t[u]=m.hostname+":18295"),typeof r("WebDriverConfig").originHost=="string"&&(t[c]="www."+r("WebDriverConfig").originHost)):a!=null&&(t[s]=a)}if(i===!0&&(t[d]="intern"),r("WebDriverConfig").isTestRunning&&r("gkx")("20919")){var p=n("cr:3024")==null?void 0:n("cr:3024").get();p!=null&&(t.is_test="true",t.original_request_id=p)}r("gkx")("20929")&&(t["Accept-Ack"]="RSAck");for(var _ in o)t[_]=o[_];return t.http_referer=window.location.href,t},t})(),p=new m,_=p;l.default=_}),98);
__d("BladeRunnerLogger",["FBLogger","ODS"],(function(t,n,r,o,a,i,l){var e,s="bladerunner_js_client",u={info:"info",warning:"warning",exception:"exception"},c=(function(){function t(){this.setFBLoggerLevel(1)}var n=t.prototype;return n.info=function(t){this.$2>=2&&r("FBLogger")(s).info("BladeRunner info: %s",t),this.$3(u.info,t)},n.warn=function(t){this.$2>=1&&r("FBLogger")(s).warn("BladeRunner warn: %s",t),this.$3(u.warning,t)},n.exception=function(t,n){n===void 0&&(n="");var e=n+" "+t.toString();this.$2>=0&&r("FBLogger")(s).warn("BladeRunner exception: %s, %s",n,t.toString()),this.$3(u.exception,e)},n.trimForLogging=function(t){var e=1024;return typeof t=="string"&&t.length>e?"[trimmed]:"+t.substring(0,e)+"...":t},n.bumpCounter=function(n,r){r===void 0&&(r=1),(e||(e=o("ODS"))).bumpEntityKey(2966,"BladeRunnerClient",n,r)},n.setClientSessionId=function(t){this.$1=t},n.setFBLoggerLevel=function(t){this.$2=t},n.$3=function(t,n){},t})(),d=new c,m=d;l.default=m}),98);
__d("BladeRunnerTypes",[],(function(t,n,r,o,a,i,l){var e={REQUEST:1,DATA:2,DATA_ACK:3,STATUS_UPDATE:4,REWRITE_REQUEST:5,LOG:6},s={BLADE_RUNNER:1,GATEWAY:2};l.StreamFrameType=e,l.StreamRequestType=s}),98);
__d("BladeRunnerTypesInternal",["Base64","BladeRunnerLogger","BladeRunnerTypes"],(function(t,n,r,o,a,i,l){var e=(function(){function e(){}var t=e.prototype;return t.getHeaders=function(){if(this.headers!=null)return this.headers;throw new Error("Expected headers")},t.getInstrumentationData=function(){if(this.instrumentationData!=null&&this.instrumentationData.length>0)try{return JSON.parse(this.instrumentationData)}catch(e){return null}else return null},t.updateRetryRequestPayload=function(t){t!=null?this.payload=r("Base64").encode(t):this.payload=null},e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.requestType=f(n.requestType),t.payload=y(n.payload),t.headers=v(n.headers),t.extraHeader=y(n.extraHeader),t.requestTarget=y(n.requestTarget),t.instrumentationData=y(n.instrumentationData),t},e})(),s=(function(){function e(){}e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.dataId=g(n.dataId),t.data=y(n.data),t.shouldAck=R(n.shouldAck),t};var t=e.prototype;return t.rawData=function(){if(this.data==null)throw new Error("Expected data");return this.data},t.rawDataSize=function(){return this.data==null?0:this.data.length},t.decodeData=function(){if(this.data==null)throw new Error("Expected data");return r("Base64").decode(this.data)},t.setData=function(t){this.data=r("Base64").encode(t)},t.getInstrumentationData=function(){return this.instrumentationData!=null?JSON.parse(this.instrumentationData):null},e})(),u=(function(){function e(){}return e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.dataId=f(n.dataId),t.success=S(n.success),t.message=y(n.message),t.code=g(n.code),t},e})();u.ACK_CODE_LANDED_AND_ACCEPTED=20,u.ACK_CODE_LANDED_BUT_NOT_ACCEPTED=21,u.ACK_CODE_FAILED_TO_LAND=50;var c=(function(){function e(){}return e.readObject=function(n){var t=new e;return t.streamId=g(n.streamId),t.message=y(n.message),t},e})(),d=(function(){function e(){}return e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.status=f(n.status),t.message=y(n.message),t.code=g(n.code),t.shouldRetry=R(n.shouldRetry),t.retryDelayMs=g(n.retryDelayMs),t},e})(),m=(function(){function e(){}return e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.newBody=y(n.newBody),t.newExtraHeader=y(n.newExtraHeader),t.patchExtraHeader=y(n.patchExtraHeader),t.killBody=R(n.killBody),t.temporary=R(n.temporary),t},e})(),p=(function(){function t(){}var n=t.prototype;return n.getRequest=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request;throw new Error("Expected request")},n.getData=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data;throw new Error("Expected data")},n.getDataAck=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck;throw new Error("Expected dataAck")},n.getStatusUpdate=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate;throw new Error("Expected status update")},n.getLog=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log;throw new Error("Expected log")},n.getRewriteRequest=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest;throw new Error("Expected rewrite request")},n.getStreamId=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck.streamId;throw new Error("Frame with unexpected type")},n.isInstrumented=function(){return this.type===o("BladeRunnerTypes").StreamFrameType.REQUEST?this.getRequest().instrumentationData!=null:this.type===o("BladeRunnerTypes").StreamFrameType.DATA?this.getData().instrumentationData!=null:!1},t.readObject=function(a){var n=new t;switch(n.type=f(a.type),n.type){case o("BladeRunnerTypes").StreamFrameType.REQUEST:n.request=e.readObject(C(a.request));break;case o("BladeRunnerTypes").StreamFrameType.DATA:n.data=s.readObject(C(a.data));break;case o("BladeRunnerTypes").StreamFrameType.DATA_ACK:n.dataAck=u.readObject(C(a.dataAck));break;case o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:n.statusUpdate=d.readObject(C(a.statusUpdate));break;case o("BladeRunnerTypes").StreamFrameType.LOG:n.log=c.readObject(C(a.log));break;case o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:n.rewriteRequest=m.readObject(C(a.rewriteRequest));break;default:return r("BladeRunnerLogger").warn("Frame with unexpected type: "+n.type),null}return n},t.newRequestFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.REQUEST,e.request=n,e},t.newDataFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.DATA,e.data=n,e},t.newDataAckFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.DATA_ACK,e.dataAck=n,e},t.newStatusUpdateFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE,e.statusUpdate=n,e},t.newLogFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.LOG,e.log=n,e},t.newRewriteRequestFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST,e.rewriteRequest=n,e},t})(),_=(function(){function e(e,t,n){this.batchId=e,this.frames=t,this.instrumentationData=n}var t=e.prototype;return t.getFrames=function(){if(this.frames!=null)return this.frames;throw new Error("Expected frames")},t.getInstrumentationData=function(){if(this.instrumentationData!=null)try{return JSON.parse(this.instrumentationData)}catch(e){return null}else return null},t.getInstrumentationDataDfTraceId=function(){if(this.instrumentationData!=null)try{var e,t=JSON.parse(this.instrumentationData);return(e=t.dataFlowTracingData)==null?void 0:e.traceId}catch(e){return null}else return null},t.write=function(){return JSON.stringify(this)},t.isInstrumented=function(){return this.getFrames().some(function(e){return e.isInstrumented()})},e.read=function(n){var t=JSON.parse(n),r=t.batchId||0,o=[];for(var a of t.frames){var i=p.readObject(a);i!=null&&o.push(i)}var l=t.instrumentationData||null;return new e(r,o,l)},e})();function f(e){if(typeof e=="number")return e;throw new Error("Expected number")}function g(e){return e==null?null:f(e)}function h(e){if(typeof e=="string")return e;throw new Error("Expected string")}function y(e){return e==null?null:h(e)}function C(e){if(typeof e=="object"&&e!=null)return e;throw new Error("Expected object")}function b(e){if(typeof e=="object"&&e!=null){var t=e,n={};return Object.keys(t).forEach(function(e){var r=t[e];typeof r=="string"&&r!=null&&(n[e]=r)}),n}throw new Error("Expected string map")}function v(e){return e==null?null:b(e)}function S(e){if(typeof e=="boolean"&&e!=null)return e;throw new Error("Expected boolean")}function R(e){return e==null?null:S(e)}l.GatewayStreamRequest=e,l.GatewayStreamData=s,l.GatewayStreamDataAck=u,l.GatewayStreamLog=c,l.GatewayStreamStatusUpdate=d,l.GatewayStreamRewriteRequest=m,l.GatewayStreamFrame=p,l.GatewayStreamBatch=_}),98);
__d("RequestStreamE2EClientLoggerEvent",[],(function(t,n,r,o,a,i){var e=Object.freeze({RECEIVED:"received",SENT:"sent",FAILURE:"failure",PUBACK:"puback"});i.default=e}),66);
__d("RequestStreamE2EClientLoggerMessageType",[],(function(t,n,r,o,a,i){var e=Object.freeze({REQUEST_STREAM:"request_stream",AMENDMENT:"amendment",AMENDMENT_ACK:"amendment_ack",CANCEL:"cancel",RESPONSE:"response",RESPONSE_ACK:"response_ack",TIMED_REQUEST:"timed_request",INTERRUPT:"interrupt"});i.default=e}),66);
__d("BladeRunnerEventHandler",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","getErrorSafe","setTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){var e=1e3,s=(function(){function t(e,t,n){this.$2=e,this.$1=t,this.$3=n}var n=t.prototype;return n.onProxyResponse=function(t){var e,n;this.$4(t);var a=[];for(var i of t.getFrames())this.$2.witnessFrame(i)&&a.push(i);var l=this.$2.getRequest();(e=l.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").SENT,{},(n=t.getInstrumentationData())==null?void 0:n.auxId,null,t.getInstrumentationDataDfTraceId()),a.length>0&&this.$5(new(o("BladeRunnerTypesInternal")).GatewayStreamBatch(t.batchId,a,t.instrumentationData))},n.onDisconnect=function(){this.$2.resetErrors();var e=new(o("BladeRunnerTypesInternal")).GatewayStreamStatusUpdate;e.streamId=this.$2.getRequest().streamId,e.status=o("BladeRunnerStreamStatus").StreamStatus.CLOSED,e.shouldRetry=!0,e.retryDelayMs=0;var t=new(o("BladeRunnerTypesInternal")).GatewayStreamBatch(null,[o("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(e)]);this.onProxyResponse(t)},n.$4=function(n){var t=this,a=n.getFrames().filter(function(e){return e.type==o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE});for(var i of a){var l=i.getStatusUpdate();if(l.status==o("BladeRunnerStreamStatus").StreamStatus.CLOSED||l.status==o("BladeRunnerStreamStatus").StreamStatus.REJECTED){this.$2.onError();var s=l.shouldRetry!=null&&l.shouldRetry,u=l.message!=null?l.message:"null";if(s&&this.$2.getErrorCount()<=this.$2.getRetriesAllowed()){l.status=o("BladeRunnerStreamStatus").StreamStatus.STOPPED;var c=e;l.retryDelayMs!=null&&(c=l.retryDelayMs),r("BladeRunnerLogger").info("Can retry: stream "+l.streamId+" closed with status "+l.status+", message "+u+". Error count: "+this.$2.getErrorCount()+", retryDelay "+c+"ms. Already retrying: "+this.$2.getRetryRequestScheduled().toString()),this.$2.getRetryRequestScheduled()?r("BladeRunnerLogger").bumpCounter("stream_closed_already_retrying"):(r("BladeRunnerLogger").bumpCounter("stream_closed_will_retry"),this.$2.setRetryRequestScheduled(!0),c>0?r("setTimeoutAcrossTransitions")(function(){return t.$6()},c):this.$6())}else r("BladeRunnerLogger").info("Will not retry: stream "+l.streamId+" closed with status "+l.status+", message "+u+". Error count: "+this.$2.getErrorCount()+", shouldRetry "+s.toString()+". Already retrying: "+this.$2.getRetryRequestScheduled().toString()),s?r("BladeRunnerLogger").bumpCounter("stream_closed_retry_exceeded"):r("BladeRunnerLogger").bumpCounter("stream_closed_no_retry"),this.$3.removeStream(l.streamId)}}},n.$6=function(){if(this.$2.setRetryRequestScheduled(!1),this.$2.isAlive()){var e=this.$1.getUpdatedRequestBody();e!=null&&this.$2.updateRetryRequestPayload(e),this.$3.sendRetryStreamRequest(this.$2)}},n.$5=function(t){r("BladeRunnerLogger").bumpCounter("send_to_handler");var e=[];this.$1.onBatch(t);for(var n of t.getFrames())try{switch(n.type){case o("BladeRunnerTypes").StreamFrameType.DATA:this.$1.onData(n.getData()),e.push(n.getData());break;case o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:this.$1.onStatusUpdate(n.getStatusUpdate().status);break;case o("BladeRunnerTypes").StreamFrameType.LOG:var a=n.getLog().message;a!=null&&this.$1.onLog(a);break;case o("BladeRunnerTypes").StreamFrameType.DATA_ACK:break;default:throw new Error("Frame with unexpected type")}}catch(e){var i=r("getErrorSafe")(e);r("BladeRunnerLogger").bumpCounter("send_to_handler_error"),r("BladeRunnerLogger").exception(i,"Failed sending frame to stream handler")}this.$7(e)},n.$7=function(t){var e=[];for(var n of t)if(n.shouldAck===!0&&n.dataId!=null){var r=new(o("BladeRunnerTypesInternal")).GatewayStreamDataAck;r.streamId=n.streamId,r.dataId=n.dataId,r.success=!0,e.push(r)}this.$3.sendDataAcks(e)},t})();l.default=s}),98);
__d("RtiRequestStreamE2eClientBatchFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("819"),s=o("FalcoLoggerInternal").create("rti_request_stream_e2e_client_batch",e),u=s;l.default=u}),98);
__d("RtiRequestStreamE2eClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1857112"),s=o("FalcoLoggerInternal").create("rti_request_stream_e2e_client",e),u=s;l.default=u}),98);
__d("RequestStreamE2ELogger",["ConstUriUtils","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RtiRequestStreamE2eClientBatchFalcoEvent","RtiRequestStreamE2eClientFalcoEvent","WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="rs_debug_logging",u=["FBGQLS:COMMENT_CREATE_SUBSCRIBE","FBGQLS:COMMENT_LIKE_SUBSCRIBE","FBGQLS:FEEDBACK_COMMENT_PERMISSION_TOGGLE_SUBSCRIBE","FBGQLS:FEEDBACK_TYPING_SUBSCRIBE","GRAPHQL:CometNotificationsReceiveLiveQuery"],c=0;function d(){var e=Date.now();return c>=e?c+=1:c=e,c.toString()}var m=(function(){function e(e,t,n,r,a,i,l,s,u,c){this.$10=[],this.$11=!1,this.$1=e,this.$2=t,this.$3=n,this.$4=r,this.$5=a,this.$6=i,this.$7=l,this.$8=s,this.$9=u,this.$12=c!=null?c:!1;var d=o("ConstUriUtils").getUri(window.location.href);d&&(this.$13=d.getDomain())}var t=e.prototype;return t.logE2EEvent=function(t,n,r,o,a,i,l){if(r===void 0&&(r=null),o===void 0&&(o=null),a===void 0&&(a=null),i===void 0&&(i=null),l===void 0&&(l=null),this.$3!=="Falco"){var e={request_id:this.$1,resume_id:"0",retry_id:a,transport:this.$2,method:this.$3,use_case:this.$4,request_log_context:this.$5,force_log_context:this.$6,e2e_sample_rate:this.$7,message_type:t,event:n,timestamp_ms:d(),aux_id:o,additional_data:r,dgw_stream_group_logging_id:this.$8,dgw_count_prior_streams_in_group:this.$9,domain:this.$13,df_trace_id:i};this.$14(e,l)}},t.$14=function(t,n){if(!this.$12){r("RtiRequestStreamE2eClientFalcoEvent").log(function(){return t});return}if(this.$10.push(t),this.$11||t.event==r("RequestStreamE2EClientLoggerEvent").FAILURE||t.message_type==r("RequestStreamE2EClientLoggerMessageType").RESPONSE){var e={events:this.$10};r("RtiRequestStreamE2eClientBatchFalcoEvent").log(function(){return e}),this.$10=[],this.$11=!0}},t.getRequestId=function(){return this.$1},e})();function p(e,t,n){if(e==null||e.method==null)return null;var r=!1;if(u.includes(e.method)&&(r=!0),t==null||t.length===0)return null;var o=JSON.parse(t);return o.requestId==null?null:new m(o.requestId,n,e.method,_(e.method,e),o.requestLogContext,o.forceLogContext,o.sampleRate,o.dgwStreamGroupLoggingId,o.dgwCountPriorStreamsInGroup,r)}function _(e,t){if(e==="FBLQ"&&t.config_id)return t.config_id;if(e==="SKY"){if(t.topic){var n=t.topic.lastIndexOf("/");return n>0?t.topic.substr(0,n):t.topic}return}return e}function f(e,t,n,o,a,i){if(a===void 0&&(a=null),i===void 0&&(i=null),!(e==null||e.requestId==null||e.clientLoggingDisabled!=null)){var l={request_id:e.requestId,resume_id:"0",transport:t,e2e_sample_rate:e.sampleRate,message_type:n,event:o,timestamp_ms:d(),aux_id:e.auxId,additional_data:a,df_trace_id:i};r("RtiRequestStreamE2eClientFalcoEvent").log(function(){return l})}}l.RequestStreamE2ELogger=m,l.createStreamLogger=p,l.logRequestStreamE2EEventStatic=f}),98);
__d("RequestStreamTransport",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["WEB_BR_MQTT","WEB_RS_MQTT","WEB_RS_STARGATE"]);i.RequestStreamTransport=e}),66);
__d("BladeRunnerSocket",["BladeRunnerEventHandler","BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","CurrentUser","FBMqttChannel","MqttPublishListener","Promise","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamTransport","getErrorSafe","justknobx","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s="Connected",u="Disconnected",c="/br_sr",d="/sr_res",m=null;function p(e){var t,n;switch(e.type){case o("BladeRunnerTypes").StreamFrameType.REQUEST:return(t=e.request)==null?void 0:t.getInstrumentationData();case o("BladeRunnerTypes").StreamFrameType.DATA:return(n=e.data)==null?void 0:n.getInstrumentationData()}return null}function _(e){switch(e.type){case o("BladeRunnerTypes").StreamFrameType.REQUEST:return r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM;case o("BladeRunnerTypes").StreamFrameType.DATA:return r("RequestStreamE2EClientLoggerMessageType").AMENDMENT}return null}function f(e){if(e===null)return null;switch(e){case o("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:return"Accepted";case o("BladeRunnerStreamStatus").StreamStatus.REJECTED:return"Rejected";case o("BladeRunnerStreamStatus").StreamStatus.STARTED:return"Started";case o("BladeRunnerStreamStatus").StreamStatus.STOPPED:return"Stopped";case o("BladeRunnerStreamStatus").StreamStatus.CLOSED:return"Closed"}return null}function g(e){var t,n={};return e==null||(t=e.frames)==null||t.forEach(function(e){if(e.type===o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE){var t,r=(t=e.statusUpdate)==null?void 0:t.status,a=f(r);a!==null&&(n.flow_status=a)}}),n}function h(e,t){var n,r;switch(e.type){case o("BladeRunnerTypes").StreamFrameType.REQUEST:t.data_base64_size=(n=e.request)==null||(n=n.payload)==null||(n=n.length)==null?void 0:n.toString();break;case o("BladeRunnerTypes").StreamFrameType.DATA:t.data_base64_size=(r=e.data)==null||(r=r.rawDataSize())==null?void 0:r.toString();break}return null}function y(e,t,n){var a,i=p(e);if(i!=null){var l=_(e);if(l!=null){var s=null;switch(t){case o("MqttPublishListener").MqttPublishEvent.SENT:s=r("RequestStreamE2EClientLoggerEvent").SENT;break;case o("MqttPublishListener").MqttPublishEvent.ACKED:s=r("RequestStreamE2EClientLoggerEvent").PUBACK;break;case o("MqttPublishListener").MqttPublishEvent.NOT_ACKED:case o("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED:case o("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR:s=r("RequestStreamE2EClientLoggerEvent").FAILURE,n.reason==null&&(n.reason=t);break}if(s!=null)if(h(e,n),((a=e.request)==null?void 0:a.e2eLogger)!=null&&i.clientLoggingDisabled==null){var u;(u=e.request)==null||u.e2eLogger.logE2EEvent(l,s,n,i.auxId)}else o("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(i,o("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,l,s,n)}}}var C=(function(){function t(e){this.$1=[],this.$2=0,this.$3=0,this.$4=null,this.$5=0,this.$6=new Map,this.$7=e!=null?e:r("FBMqttChannel"),this.$8=new Map,r("BladeRunnerLogger").setClientSessionId(r("uuidv4")()),this.$9()}t.get=function(){return m==null&&(m=new t(r("FBMqttChannel"))),m};var a=t.prototype;return a.sendNewStreamRequest=function(n,o){var e=new(r("BladeRunnerEventHandler"))(n,o,this),a=n.getRequest();if(this.$6.set(a.streamId,e),!this.$10()){this.$11(e,a.streamId);return}this.getStreamCount()<=t.maxStreamCount?this.$12(a):(r("BladeRunnerLogger").bumpCounter("socket_request_throttled_max_streams"),r("BladeRunnerLogger").warn("Maximum stream count reached, will not send request: "+JSON.stringify(n.getRequest().getHeaders())),this.$11(e,a.streamId))},a.sendRetryStreamRequest=function(t){this.$12(t.getRequest())},a.sendCancel=function(t){r("BladeRunnerLogger").bumpCounter("socket_send_cancel");var e=new(o("BladeRunnerTypesInternal")).GatewayStreamStatusUpdate;e.streamId=t.streamId,e.status=o("BladeRunnerStreamStatus").StreamStatus.CLOSED,this.$13(e,t),this.removeStream(t.streamId)},a.sendAmendment=function(t,n,a){r("BladeRunnerLogger").bumpCounter("socket_send_amendment");var e=new(o("BladeRunnerTypesInternal")).GatewayStreamData;e.streamId=t,e.setData(n),a!=null&&(e.instrumentationData=a),this.$14(e)},a.sendAmendmentWithAck=function(a,i,l){var t=this;r("BladeRunnerLogger").bumpCounter("socket_send_amendment");var s=this.$15(),u=new(o("BladeRunnerTypesInternal")).GatewayStreamData;u.streamId=a,u.setData(i),u.shouldAck=!0,u.dataId=s,l!=null&&(u.instrumentationData=l);var c=new(e||(e=n("Promise")))(function(e,n){t.$8.set(s,{resolve:e,reject:n})});return this.$14(u),c},a.$14=function(t){this.$1.push(o("BladeRunnerTypesInternal").GatewayStreamFrame.newDataFrame(t)),this.$16()},a.sendDataAcks=function(t){r("BladeRunnerLogger").bumpCounter("socket_send_data_ack",t.length),this.$17(t)},a.removeStream=function(t){this.$6.delete(t)},a.getStreamCount=function(){return this.$6.size},a.getNextStreamId=function(){return this.$5++,this.$5},a.onMQTTStateChanged=function(t){this.$16(),!(t!=u&&t!=s||this.$4==t)&&(this.$4=t,r("BladeRunnerLogger").info("MQTTStateChanged: "+t),t==u?(r("BladeRunnerLogger").bumpCounter("mqtt_state_disconnected"),this.$18()):t==s&&r("BladeRunnerLogger").bumpCounter("mqtt_state_connected"))},a.$12=function(t){if(r("BladeRunnerLogger").bumpCounter("socket_send_request"),this.$1.push(o("BladeRunnerTypesInternal").GatewayStreamFrame.newRequestFrame(t)),!this.$16()){var e;(e=t.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"MQTT Not Connected"})}},a.$13=function(t,n){if(this.$1.push(o("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(t)),this.$16()){var e;(e=n.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").CANCEL,r("RequestStreamE2EClientLoggerEvent").SENT)}},a.$17=function(t){for(var e of t)this.$1.push(o("BladeRunnerTypesInternal").GatewayStreamFrame.newDataAckFrame(e));this.$16()},a.$19=function(){return this.$2++,this.$2},a.$15=function(){return this.$3++,this.$3},a.$16=function(){var e=!1;if(this.$7.getConnectionState()===s&&this.$1.length>0)try{this.$20(this.$1),e=!0}catch(e){}finally{this.$1=[]}return e},a.$20=function(t){var e=this,n=new(o("BladeRunnerTypesInternal")).GatewayStreamBatch(this.$19(),t),a=n.write();if(a.length>this.$21()){var i=Math.floor(t.length/2);if(i===0){t.forEach(function(e){return y(e,o("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR,{reason:"too long"})});var l=new Error("Publish is too long: "+a.length);throw l.stack,this.$22(n,l,"Publish is too long"),l}this.$20(t.slice(0,i)),this.$20(t.slice(i,t.length))}else try{r("BladeRunnerLogger").info("send message to "+c+" ("+a.length+" bytes)");var s={qos:1,skipBuffer:!1};if(n.isInstrumented()){var u=Date.now();s.listener={onEvent:function(n){var e=(Date.now()-u).toString();t.forEach(function(t){y(t,n,{latency:e})})}}}this.$7.publish(c,a,s).catch(function(t){e.$22(n,t,"Failed publishing to MQTT")}),r("BladeRunnerLogger").bumpCounter("mqtt_publish_success")}catch(e){var d=r("getErrorSafe")(e);throw this.$22(n,d,"Failed publishing to MQTT"),d}},a.$9=function(){var e=this;r("BladeRunnerLogger").info("Starting socket with endpoint "+this.$7.getEndpoint()+" useragent "+navigator.userAgent),this.onMQTTStateChanged(this.$7.getConnectionState()),this.$7.subscribeChannelEvents({onMQTTStateChanged:function(n){e.onMQTTStateChanged(n)},onJSError:function(t){var e=t!=null&&typeof t.isRecoverable=="boolean"?t.isRecoverable:!1;e?r("BladeRunnerLogger").bumpCounter("mqtt_channel_recoverable_error"):(r("BladeRunnerLogger").warn("JS error in MQTTChannel: "+(typeof t=="object"&&t!=null?t.toString():"unknown error")+", "+JSON.stringify(t)),r("BladeRunnerLogger").bumpCounter("mqtt_channel_error"))}}),this.$7.subscribe(c,function(e){throw new Error("Unexpected response: "+c+" "+e.toString())}),this.$7.subscribe(d,function(t){e.$23(t)})},a.$23=function(t){var e=o("BladeRunnerTypesInternal").GatewayStreamBatch.read(t);this.processBatch(e)},a.$22=function(t,n,a){for(var e of t.getFrames())if(e.type===o("BladeRunnerTypes").StreamFrameType.REQUEST){var i=e.getRequest(),l=this.$6.get(i.streamId);l!=null&&this.$24(l,i.streamId,o("BladeRunnerStreamStatus").StreamStatus.CLOSED,!0,null)}else if(e.type===o("BladeRunnerTypes").StreamFrameType.DATA){var s=e.getData(),u=s.dataId;if(s.shouldAck!=null&&s.shouldAck&&u!=null){var c=new(o("BladeRunnerTypesInternal")).GatewayStreamDataAck;c.streamId=s.streamId,c.dataId=u,c.success=!1,c.code=o("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_FAILED_TO_LAND,c.message=a,this.$25(c)}}r("BladeRunnerLogger").info("Failed publishing to MQTT: "+n.message),r("BladeRunnerLogger").bumpCounter("mqtt_publish_error")},a.$25=function(t){var e=this.$8.get(t.dataId);e!=null&&(this.$8.delete(t.dataId),t.success?e.resolve(!0):t.code===o("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_LANDED_BUT_NOT_ACCEPTED?e.resolve(!1):e.reject(t.message))},a.processBatch=function(t){try{o("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(t.getInstrumentationData(),o("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").RECEIVED,g(t),t.getInstrumentationDataDfTraceId()),r("BladeRunnerLogger").bumpCounter("socket_process_batch");var e=JSON.stringify(t);r("BladeRunnerLogger").info("Received batch ("+e.length+" bytes)");var n=null;for(var a of t.getFrames()){var i=a.getStreamId();if(n==null&&(n=i),i!=null&&n!=i)throw new Error("Received batch with frames for multiple streams");a.type==o("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.$25(a.getDataAck())}if(n!=null){var l=this.$6.get(n);l!=null?l.onProxyResponse(t):r("BladeRunnerLogger").info("Received batch with frames for unknown stream id: "+n)}else r("BladeRunnerLogger").info("Received batch with no frames")}catch(e){var s=r("getErrorSafe")(e);throw r("BladeRunnerLogger").exception(s,"Failed processing batch from MQTT"),r("BladeRunnerLogger").bumpCounter("socket_process_batch_error"),s}},a.$18=function(){this.$6.forEach(function(e,t,n){e.onDisconnect()})},a.$11=function(t,n){this.$24(t,n,o("BladeRunnerStreamStatus").StreamStatus.REJECTED,!1,0)},a.$24=function(t,n,r,a,i){var e=new(o("BladeRunnerTypesInternal")).GatewayStreamStatusUpdate;e.streamId=n,e.status=r,e.shouldRetry=a,e.retryDelayMs=i;var l=new(o("BladeRunnerTypesInternal")).GatewayStreamBatch(null,[o("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(e)]);t.onProxyResponse(l)},a.$10=function(){return r("CurrentUser").isLoggedIn()?!0:(r("BladeRunnerLogger").bumpCounter("request_stream_user_logged_out"),!1)},a.$21=function(){var e=1048576,t=512*1024;try{var n=r("justknobx")._("317");t=n*e}catch(e){}return Math.max(t-1024,0)},t})();C.maxStreamCount=2e3,l.default=C}),98);
__d("BladeRunnerStream",["Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){var e,l=(function(){function t(e){this.$1=e}var r=t.prototype;return r.getStreamHandler=function(){return this.$1},r.cancel=function(){},r.amendWithAck=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return!1});function t(t){return e.apply(this,arguments)}return t})(),r.amendFireAndForget=function(t){},r.amendWithoutAck=function(t){},r.start=function(){return(e||(e=n("Promise"))).resolve()},r.isAlive=function(){return!1},r.canAmend=function(){return!1},r.getStatus=function(){return null},r.getStreamId=function(){return 0},t})();i.default=l}),66);
__d("BladeRunnerStreamState",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){this.$1=e,this.$2=null,this.$3=0,this.$4=!1,this.$5=0,this.$6=!1}var t=e.prototype;return t.getRequest=function(){return this.$1},t.updateRetryRequestPayload=function(t){this.$1.updateRetryRequestPayload(t)},t.isAlive=function(){return!(this.$2==o("BladeRunnerStreamStatus").StreamStatus.CLOSED||this.$2==o("BladeRunnerStreamStatus").StreamStatus.REJECTED)},t.canAmend=function(){return this.$2==o("BladeRunnerStreamStatus").StreamStatus.ACCEPTED||this.$2==o("BladeRunnerStreamStatus").StreamStatus.STARTED||this.$2==o("BladeRunnerStreamStatus").StreamStatus.STOPPED},t.getLastStatus=function(){return this.$2},t.setLastStatus=function(t){this.$2=t},t.onError=function(){this.$3+=1},t.getErrorCount=function(){return this.$3},t.resetErrors=function(){this.$3=0},t.getRetryRequestScheduled=function(){return this.$6},t.setRetryRequestScheduled=function(t){this.$6=t},t.witnessFrame=function(t){switch(t.type){case o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:var e=t.getStatusUpdate(),n=!0;switch(e.status){case o("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:n=!this.$4,this.$4||(this.$4=!0);break;case o("BladeRunnerStreamStatus").StreamStatus.STARTED:n=this.getLastStatus()!=o("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case o("BladeRunnerStreamStatus").StreamStatus.STOPPED:n=this.getLastStatus()==o("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case o("BladeRunnerStreamStatus").StreamStatus.CLOSED:case o("BladeRunnerStreamStatus").StreamStatus.REJECTED:default:n=!0}return this.setLastStatus(e.status),n;case o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:return this.$7(t.getRewriteRequest()),!1;default:return!0}},t.setRetriesAllowed=function(t){this.$5=t},t.getRetriesAllowed=function(){return this.$5},t.$7=function(t){if(!(t.temporary!=null||t.temporary==!0)){if(t.newBody!=null&&(this.$1.payload=t.newBody),t.newExtraHeader!=null&&(this.$1.extraHeader=t.newExtraHeader,this.$1.headers=JSON.parse(t.newExtraHeader)),t.patchExtraHeader!=null)try{var e=JSON.parse(t.patchExtraHeader),n=this.$1.extraHeader!=null?JSON.parse(this.$1.extraHeader):{};this.$1.headers==null&&(this.$1.headers={});for(var o of Object.keys(e))this.$1.headers[o]=e[o],n[o]=e[o];this.$1.extraHeader=JSON.stringify(n)}catch(e){r("BladeRunnerLogger").warn("Failed to patch header: "+t.patchExtraHeader)}t.killBody!=null&&t.killBody==!0&&(this.$1.payload=null)}},e})();l.default=e}),98);
__d("BladeRunnerSocketStream",["BladeRunnerStream","BladeRunnerStreamState","BladeRunnerStreamStatus","Promise","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","asyncToGeneratorRuntime","uuidv4"],(function(t,n,r,o,a,i,l){var e,s=4,u={reason:"stream_dead"},c=(function(t){function a(e,n,o){var a;return a=t.call(this,e)||this,a.$BladeRunnerSocketStream$p_1=o,a.$BladeRunnerSocketStream$p_2=new(r("BladeRunnerStreamState"))(n),a.$BladeRunnerSocketStream$p_2.setRetriesAllowed(s),a}babelHelpers.inheritsLoose(a,t);var i=a.prototype;return i.start=function(){var t=this;return new(e||(e=n("Promise")))(function(e){t.send(),e()})},i.send=function(){var e,t,n=this.$BladeRunnerSocketStream$p_2.getRequest();(e=n.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_base64_size:(t=n.payload)==null||(t=t.length)==null?void 0:t.toString()}),this.$BladeRunnerSocketStream$p_1.sendNewStreamRequest(this.$BladeRunnerSocketStream$p_2,this.getStreamHandler())},i.amendWithAck=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var o,a=this.$BladeRunnerSocketStream$p_2.getRequest(),i=a.getInstrumentationData();if(i){var l,s;i.auxId=r("uuidv4")(),(l=a.e2eLogger)==null||l.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:t==null||(s=t.length)==null?void 0:s.toString()},i.auxId)}if(this.canAmend()){if(i){var c,d;(c=a.e2eLogger)==null||c.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").SENT,{data_size:t==null||(d=t.length)==null?void 0:d.toString()},i.auxId)}return this.$BladeRunnerSocketStream$p_1.sendAmendmentWithAck(a.streamId,this.$BladeRunnerSocketStream$p_3(t),i==null?null:JSON.stringify(i))}return(o=a.e2eLogger)==null||o.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").FAILURE,u,i==null?void 0:i.auxId),(e||(e=n("Promise"))).reject("Stream is closed or not accepted")});function o(e){return t.apply(this,arguments)}return o})(),i.amendFireAndForget=function(t){var e=this.$BladeRunnerSocketStream$p_2.getRequest(),n=e.getInstrumentationData();if(n){var o,a;n.auxId=r("uuidv4")(),(o=e.e2eLogger)==null||o.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:t==null||(a=t.length)==null?void 0:a.toString()},n.auxId)}if(this.canAmend()){if(this.$BladeRunnerSocketStream$p_1.sendAmendment(this.$BladeRunnerSocketStream$p_2.getRequest().streamId,this.$BladeRunnerSocketStream$p_3(t),n==null?null:JSON.stringify(n)),n){var i,l;(i=e.e2eLogger)==null||i.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").SENT,{data_size:t==null||(l=t.length)==null?void 0:l.toString()},n.auxId)}}else{var s;throw(s=e.e2eLogger)==null||s.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").FAILURE,u,n==null?void 0:n.auxId),new Error("Stream is closed or not accepted")}},i.amendWithoutAck=function(t){this.amendFireAndForget(t)},i.$BladeRunnerSocketStream$p_3=function(t){return typeof t=="object"?btoa(new TextDecoder("utf8").decode(t)):t},i.cancel=function(){var e,t=this.$BladeRunnerSocketStream$p_2.getRequest();(e=t.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").CANCEL,r("RequestStreamE2EClientLoggerEvent").RECEIVED),this.isAlive()&&(this.$BladeRunnerSocketStream$p_1.sendCancel(this.$BladeRunnerSocketStream$p_2.getRequest()),this.$BladeRunnerSocketStream$p_2.setLastStatus(o("BladeRunnerStreamStatus").StreamStatus.CLOSED),this.getStreamHandler().onClientCancel())},i.isAlive=function(){return this.$BladeRunnerSocketStream$p_2.isAlive()},i.canAmend=function(){return this.$BladeRunnerSocketStream$p_2.canAmend()},i.getStatus=function(){return this.$BladeRunnerSocketStream$p_2.getLastStatus()},i.getStreamId=function(){return this.$BladeRunnerSocketStream$p_2.getRequest().streamId},a})(r("BladeRunnerStream"));l.default=c}),98);
__d("RequestStreamE2ESampling",["invariant","Random","RequestStreamE2EClientSamplingConfig","uuidv4"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){return e==null?!1:e.requestId!=null&&typeof e.requestId=="string"&&e.forceLogContext!=null&&typeof e.forceLogContext=="string"}function u(e,t){var n=r("RequestStreamE2EClientSamplingConfig").sampleRate;if(n>1&&e!=null){var o=r("RequestStreamE2EClientSamplingConfig").methodToSamplingMultiplier[e];o==0?n=0:o!=null&&(n/=o)}return n==1?1:n/t}function c(e,t,n,o){var a=r("uuidv4")();(t.requestId==null||t.requestId===""||typeof t.requestId!="string")&&(e.requestId!=null&&typeof e.requestId=="string"?t.requestId=e.requestId:t.requestId=a),t.requestId+="/_"+a.substring(0,4),t.resumeId="0",n!=null?t.sampleRate=n:t.sampleRate=void 0;var i="";o!=null&&o.length>0&&(i=o),i.length>0&&(t.requestLogContext!=null&&t.requestLogContext.length>0?t.requestLogContext+=":":t.requestLogContext="",t.requestLogContext+=i),(e==null?void 0:e.method)==="Falco"&&(t.clientLoggingDisabled="Falco");var l={};for(var s of Object.keys(t).sort())l[s]=t[s];return JSON.stringify(l)}function d(t,n,o,a){n&&(!n.requestId.includes("/")&&!n.requestId.includes("#")||s(0,41721));var i=u(t.method,a!=null?a:1);return r("Random").coinflip(i)?c(t,n||{requestId:""},i,o):e(n)?c(t,n||{requestId:""},null,o):""}l.isForceLogged=e,l.getSampleRateForLogging=u,l.normalizeInstrumentationData=c,l.validateInstrumentationData=d}),98);
__d("BladeRunnerClient",["Base64","BladeRunnerConfig","BladeRunnerLogger","BladeRunnerSocket","BladeRunnerSocketStream","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamTransport","cr:2046346"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t){this.$2=o("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,this.$1=e!=null?e:r("BladeRunnerSocket").get(),t&&(this.$2=t)}var t=e.prototype;return t.createStream=function(t,n,r,o){return this.$3(t,n,r,o)},t.requestStream=function(t,r,o,a){var e=this.$3(t,r,o,a);return e.send(),n("cr:2046346")!=null&&n("cr:2046346").startPulsarTest(),e},t.logInfo=function(t){r("BladeRunnerLogger").info(t)},t.bumpCounter=function(t){r("BladeRunnerLogger").bumpCounter(t)},t.$3=function(t,n,a,i){var e=new(o("BladeRunnerTypesInternal")).GatewayStreamRequest;return e.streamId=this.$1.getNextStreamId(),e.requestType=o("BladeRunnerTypes").StreamRequestType.BLADE_RUNNER,e.headers=r("BladeRunnerConfig").patchRequestHeaders(t),e.extraHeader=JSON.stringify(e.headers),e.payload=n!=null?r("Base64").encode(n):null,i!=null&&(i.transport="WEB_RS_MQTT"),e.instrumentationData=o("RequestStreamE2ESampling").validateInstrumentationData(e.headers||{},i),e.e2eLogger=o("RequestStreamE2ELogger").createStreamLogger(e.headers,e.instrumentationData,this.$2),new(r("BladeRunnerSocketStream"))(a,e,this.$1)},e})();l.default=e}),98);
__d("jsbi",[],(function(t,n,r,o,a,i){(function(e,t){typeof i=="object"&&typeof a!="undefined"?a.exports=t():typeof define=="function"&&define.amd?define(t):e.JSBI=t()})(this,function(){"use strict";function e(t){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function l(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function s(){return s=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),a=new o;return n&&i(a,n.prototype),a},s.apply(null,arguments)}function u(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function c(e){var t=typeof Map=="function"?new Map:void 0;return c=function(e){function n(){return s(e,arguments,a(this).constructor)}if(e===null||!u(e))return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},c(e)}function d(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:d(e)}var p=(function(n){var i=Math.abs,l=Math.max,s=Math.imul,u=Math.clz32;function c(e,n){var r;if(t(this,c),e>c.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return r=m(this,a(c).call(this,e)),r.sign=n,r}return o(c,n),r(c,[{key:"toDebugString",value:function(){var e=["BigInt["],t=!0,n=!1,r=void 0;try{for(var o,a,i=this[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)a=o.value,e.push((a&&(a>>>0).toString(16))+", ")}catch(e){n=!0,r=e}finally{try{t||i.return==null||i.return()}finally{if(n)throw r}}return e.push("]"),e.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(e&e-1)==0?c.__toStringBasePowerOfTwo(this,e):c.__toStringGeneric(this,e,!1)}},{key:"__copy",value:function(){for(var e=new c(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return u(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(e,t,n){n>this.length&&(n=this.length);for(var r=65535&e,o=e>>>16,a=0,i=65535&t,l=t>>>16,u=0;u<n;u++){var c=this.__digit(u),d=65535&c,m=c>>>16,p=s(d,r),_=s(d,o),f=s(m,r),g=s(m,o),h=i+(65535&p),y=l+a+(h>>>16)+(p>>>16)+(65535&_)+(65535&f);i=(_>>>16)+(f>>>16)+(65535&g)+(y>>>16),a=i>>>16,i&=65535,l=g>>>16,this.__setDigit(u,65535&h|y<<16)}if(a!==0||i!==0||l!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,n){for(var r,o=0,a=0;a<n;a++)r=this.__halfDigit(t+a)+e.__halfDigit(a)+o,o=r>>>16,this.__setHalfDigit(t+a,r);return o}},{key:"__inplaceSub",value:function(e,t,n){var r=0;if(1&t){t>>=1;for(var o=this.__digit(t),a=65535&o,i=0;i<n-1>>>1;i++){var l=e.__digit(i),s=(o>>>16)-(65535&l)-r;r=1&s>>>16,this.__setDigit(t+i,s<<16|65535&a),o=this.__digit(t+i+1),a=(65535&o)-(l>>>16)-r,r=1&a>>>16}var u=e.__digit(i),c=(o>>>16)-(65535&u)-r;if(r=1&c>>>16,this.__setDigit(t+i,c<<16|65535&a),t+i+1>=this.length)throw new RangeError("out of bounds");(1&n)==0&&(o=this.__digit(t+i+1),a=(65535&o)-(u>>>16)-r,r=1&a>>>16,this.__setDigit(t+e.length,4294901760&o|65535&a))}else{t>>=1;for(var d=0;d<e.length-1;d++){var m=this.__digit(t+d),p=e.__digit(d),_=(65535&m)-(65535&p)-r;r=1&_>>>16;var f=(m>>>16)-(p>>>16)-r;r=1&f>>>16,this.__setDigit(t+d,f<<16|65535&_)}var g=this.__digit(t+d),h=e.__digit(d),y=(65535&g)-(65535&h)-r;r=1&y>>>16;var C=0;(1&n)==0&&(C=(g>>>16)-(h>>>16)-r,r=1&C>>>16),this.__setDigit(t+d,C<<16|65535&y)}return r}},{key:"__inplaceRightShift",value:function(e){if(e!==0){for(var t,n=this.__digit(0)>>>e,r=this.length-1,o=0;o<r;o++)t=this.__digit(o+1),this.__setDigit(o,t<<32-e|n),n=t>>>e;this.__setDigit(r,n)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 65535>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 65535&this[e>>>1]>>>((1&e)<<4)}},{key:"__setHalfDigit",value:function(e,t){var n=e>>>1,r=this.__digit(n),o=1&e?65535&r|t<<16:4294901760&r|65535&t;this.__setDigit(n,o)}}],[{key:"BigInt",value:function(t){var n=Math.floor,r=Number.isFinite;if(typeof t=="number"){if(t===0)return c.__zero();if((0|t)===t)return 0>t?c.__oneDigit(-t,!0):c.__oneDigit(t,!1);if(!r(t)||n(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return c.__fromDouble(t)}if(typeof t=="string"){var o=c.__fromString(t);if(o===null)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return o}if(typeof t=="boolean")return t===!0?c.__oneDigit(1,!1):c.__zero();if(e(t)==="object"){if(t.constructor===c)return t;var a=c.__toPrimitive(t);return c.BigInt(a)}throw new TypeError("Cannot convert "+t+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(t===0)return 0;if(t===1){var n=e.__unsignedDigit(0);return e.sign?-n:n}var r=e.__digit(t-1),o=u(r),a=32*t-o;if(1024<a)return e.sign?-1/0:1/0;var i=a-1,l=r,s=t-1,d=o+1,m=d===32?0:l<<d;m>>>=12;var p=d-12,_=12<=d?0:l<<20+d,f=20+d;0<p&&0<s&&(s--,l=e.__digit(s),m|=l>>>32-p,_=l<<p,f=p),0<f&&0<s&&(s--,l=e.__digit(s),_|=l>>>32-f,f-=32);var g=c.__decideRounding(e,f,s,l);if((g===1||g===0&&(1&_)==1)&&(_=_+1>>>0,_===0&&(m++,m>>>20!=0&&(m=0,i++,1023<i))))return e.sign?-1/0:1/0;var h=e.sign?-2147483648:0;return i=i+1023<<20,c.__kBitConversionInts[1]=h|i|m,c.__kBitConversionInts[0]=_,c.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(e.length===0)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?c.__absoluteSubOne(e).__trim():c.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return c.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&(1&t.__digit(0))==0?c.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");var n=t.__unsignedDigit(0);if(n===1)return e;if(n>=c.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){var r=1+(n>>>5),o=e.sign&&(1&n)!=0,a=new c(r,o);a.__initializeDigits();var i=1<<(31&n);return a.__setDigit(r-1,i),a}var l=null,s=e;for((1&n)!=0&&(l=e),n>>=1;n!==0;n>>=1)s=c.multiply(s,s),(1&n)!=0&&(l===null?l=s:l=c.multiply(l,s));return l}},{key:"multiply",value:function(e,t){if(e.length===0)return e;if(t.length===0)return t;var n=e.length+t.length;32<=e.__clzmsd()+t.__clzmsd()&&n--;var r=new c(n,e.sign!==t.sign);r.__initializeDigits();for(var o=0;o<e.length;o++)c.__multiplyAccumulate(t,e.__digit(o),r,o);return r.__trim()}},{key:"divide",value:function(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return c.__zero();var n,r=e.sign!==t.sign,o=t.__unsignedDigit(0);if(t.length===1&&65535>=o){if(o===1)return r===e.sign?e:c.unaryMinus(e);n=c.__absoluteDivSmall(e,o,null)}else n=c.__absoluteDivLarge(e,t,!0,!1);return n.sign=r,n.__trim()}},{key:"remainder",value:function(t,n){if(n.length===0)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(t,n))return t;var e=n.__unsignedDigit(0);if(n.length===1&&65535>=e){if(e===1)return c.__zero();var r=c.__absoluteModSmall(t,e);return r===0?c.__zero():c.__oneDigit(r,t.sign)}var o=c.__absoluteDivLarge(t,n,!1,!0);return o.sign=t.sign,o.__trim()}},{key:"add",value:function(e,t){var n=e.sign;return n===t.sign?c.__absoluteAdd(e,t,n):0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,n):c.__absoluteSub(t,e,!n)}},{key:"subtract",value:function(e,t){var n=e.sign;return n===t.sign?0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,n):c.__absoluteSub(t,e,!n):c.__absoluteAdd(e,t,n)}},{key:"leftShift",value:function(e,t){return t.length===0||e.length===0?e:t.sign?c.__rightShiftByAbsolute(e,t):c.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return t.length===0||e.length===0?e:t.sign?c.__leftShiftByAbsolute(e,t):c.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>c.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=c.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<c.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=c.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}},{key:"notEqual",value:function(e,t){return!c.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var n=l(e.length,t.length)+1,r=c.__absoluteSubOne(e,n),o=c.__absoluteSubOne(t);return r=c.__absoluteOr(r,o,r),c.__absoluteAddOne(r,!0,r).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}return c.__absoluteAndNot(e,c.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var n=l(e.length,t.length),r=c.__absoluteSubOne(e,n),o=c.__absoluteSubOne(t);return c.__absoluteXor(r,o,r).__trim()}var a=l(e.length,t.length)+1;if(e.sign){var i=[t,e];e=i[0],t=i[1]}var s=c.__absoluteSubOne(t,a);return s=c.__absoluteXor(s,e,s),c.__absoluteAddOne(s,!0,s).__trim()}},{key:"bitwiseOr",value:function(e,t){var n=l(e.length,t.length);if(!e.sign&&!t.sign)return c.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var r=c.__absoluteSubOne(e,n),o=c.__absoluteSubOne(t);return r=c.__absoluteAnd(r,o,r),c.__absoluteAddOne(r,!0,r).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}var i=c.__absoluteSubOne(t,n);return i=c.__absoluteAndNot(i,e,i),c.__absoluteAddOne(i,!0,i).__trim()}},{key:"asIntN",value:function(e,t){if(t.length===0)return t;if(e===0)return c.__zero();if(e>=c.__kMaxLengthBits)return t;var n=e+31>>>5;if(t.length<n)return t;var r=t.__unsignedDigit(n-1),o=1<<(31&e-1);if(t.length===n&&r<o)return t;if((r&o)!==o)return c.__truncateToNBits(e,t);if(!t.sign)return c.__truncateAndSubFromPowerOfTwo(e,t,!0);if((r&o-1)==0){for(var a=n-2;0<=a;a--)if(t.__digit(a)!==0)return c.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===n&&r===o?t:c.__truncateToNBits(e,t)}return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(t.length===0)return t;if(e===0)return c.__zero();if(t.sign){if(e>c.__kMaxLengthBits)throw new RangeError("BigInt too big");return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=c.__kMaxLengthBits)return t;var n=e+31>>>5;if(t.length<n)return t;var r=31&e;if(t.length==n){if(r==0)return t;var o=t.__digit(n-1);if(!(o>>>r))return t}return c.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)&&c.__isBigInt(t))return c.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return c.__compare(e,t,0)}},{key:"LE",value:function(e,t){return c.__compare(e,t,1)}},{key:"GT",value:function(e,t){return c.__compare(e,t,2)}},{key:"GE",value:function(e,t){return c.__compare(e,t,3)}},{key:"EQ",value:function(t,n){for(;;){if(c.__isBigInt(t))return c.__isBigInt(n)?c.equal(t,n):c.EQ(n,t);if(typeof t=="number"){if(c.__isBigInt(n))return c.__equalToNumber(n,t);if(e(n)!=="object")return t==n;n=c.__toPrimitive(n)}else if(typeof t=="string"){if(c.__isBigInt(n))return t=c.__fromString(t),t!==null&&c.equal(t,n);if(e(n)!=="object")return t==n;n=c.__toPrimitive(n)}else if(typeof t=="boolean"){if(c.__isBigInt(n))return c.__equalToNumber(n,+t);if(e(n)!=="object")return t==n;n=c.__toPrimitive(n)}else if(e(t)==="symbol"){if(c.__isBigInt(n))return!1;if(e(n)!=="object")return t==n;n=c.__toPrimitive(n)}else if(e(t)==="object"){if(e(n)==="object"&&n.constructor!==c)return t==n;t=c.__toPrimitive(t)}else return t==n}}},{key:"NE",value:function(e,t){return!c.EQ(e,t)}},{key:"__zero",value:function(){return new c(0,!1)}},{key:"__oneDigit",value:function(e,t){var n=new c(1,t);return n.__setDigit(0,e),n}},{key:"__decideRounding",value:function(e,t,n,r){if(0<t)return-1;var o;if(0>t)o=-t-1;else{if(n===0)return-1;n--,r=e.__digit(n),o=31}var a=1<<o;if((r&a)==0)return-1;if(a-=1,(r&a)!=0)return 1;for(;0<n;)if(n--,e.__digit(n)!==0)return 1;return 0}},{key:"__fromDouble",value:function(e){c.__kBitConversionDouble[0]=e;var t,n=2047&c.__kBitConversionInts[1]>>>20,r=n-1023,o=(r>>>5)+1,a=new c(o,0>e),i=1048575&c.__kBitConversionInts[1]|1048576,l=c.__kBitConversionInts[0],s=20,u=31&r,d=0;if(u<s){var m=s-u;d=m+32,t=i>>>m,i=i<<32-m|l>>>m,l<<=32-m}else if(u===s)d=32,t=i,i=l;else{var p=u-s;d=32-p,t=i<<p|l>>>32-p,i=l<<p}a.__setDigit(o-1,t);for(var _=o-2;0<=_;_--)0<d?(d-=32,t=i,i=l):t=0,a.__setDigit(_,t);return a.__trim()}},{key:"__isWhitespace",value:function(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=0,r=e.length,o=0;if(o===r)return c.__zero();for(var a=e.charCodeAt(o);c.__isWhitespace(a);){if(++o===r)return c.__zero();a=e.charCodeAt(o)}if(a===43){if(++o===r)return null;a=e.charCodeAt(o),n=1}else if(a===45){if(++o===r)return null;a=e.charCodeAt(o),n=-1}if(t===0){if(t=10,a===48){if(++o===r)return c.__zero();if(a=e.charCodeAt(o),a===88||a===120){if(t=16,++o===r)return null;a=e.charCodeAt(o)}else if(a===79||a===111){if(t=8,++o===r)return null;a=e.charCodeAt(o)}else if(a===66||a===98){if(t=2,++o===r)return null;a=e.charCodeAt(o)}}}else if(t===16&&a===48){if(++o===r)return c.__zero();if(a=e.charCodeAt(o),a===88||a===120){if(++o===r)return null;a=e.charCodeAt(o)}}for(;a===48;){if(++o===r)return c.__zero();a=e.charCodeAt(o)}var i=r-o,l=c.__kMaxBitsPerChar[t],s=c.__kBitsPerCharTableMultiplier-1;if(i>1073741824/l)return null;var u=l*i+s>>>c.__kBitsPerCharTableShift,d=new c(u+31>>>5,!1),m=10>t?t:10,p=10<t?t-10:0;if((t&t-1)==0){l>>=c.__kBitsPerCharTableShift;var _=[],f=[],g=!1;do{for(var h,y=0,C=0;;){if(h=void 0,a-48>>>0<m)h=a-48;else if((32|a)-97>>>0<p)h=(32|a)-87;else{g=!0;break}if(C+=l,y=y<<l|h,++o===r){g=!0;break}if(a=e.charCodeAt(o),32<C+l)break}_.push(y),f.push(C)}while(!g);c.__fillFromParts(d,_,f)}else{d.__initializeDigits();var b=!1,v=0;do{for(var S,R=0,L=1;;){if(S=void 0,a-48>>>0<m)S=a-48;else if((32|a)-97>>>0<p)S=(32|a)-87;else{b=!0;break}var E=L*t;if(4294967295<E)break;if(L=E,R=R*t+S,v++,++o===r){b=!0;break}a=e.charCodeAt(o)}s=32*c.__kBitsPerCharTableMultiplier-1;var k=l*v+s>>>c.__kBitsPerCharTableShift+5;d.__inplaceMultiplyAdd(L,R,k)}while(!b)}if(o!==r){if(!c.__isWhitespace(a))return null;for(o++;o<r;o++)if(a=e.charCodeAt(o),!c.__isWhitespace(a))return null}return n!==0&&t!==10?null:(d.sign=n===-1,d.__trim())}},{key:"__fillFromParts",value:function(e,t,n){for(var r=0,o=0,a=0,i=t.length-1;0<=i;i--){var l=t[i],s=n[i];o|=l<<a,a+=s,a===32?(e.__setDigit(r++,o),a=0,o=0):32<a&&(e.__setDigit(r++,o),a-=32,o=l>>>s-a)}if(o!==0){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,o)}for(;r<e.length;r++)e.__setDigit(r,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var n=e.length,r=t-1;r=(85&r>>>1)+(85&r),r=(51&r>>>2)+(51&r),r=(15&r>>>4)+(15&r);var o=r,a=t-1,i=e.__digit(n-1),l=u(i),s=0|(32*n-l+o-1)/o;if(e.sign&&s++,268435456<s)throw new Error("string too long");for(var d=Array(s),m=s-1,p=0,_=0,f=0;f<n-1;f++){var g=e.__digit(f),h=(p|g<<_)&a;d[m--]=c.__kConversionChars[h];var y=o-_;for(p=g>>>y,_=32-y;_>=o;)d[m--]=c.__kConversionChars[p&a],p>>>=o,_-=o}var C=(p|i<<_)&a;for(d[m--]=c.__kConversionChars[C],p=i>>>o-_;p!==0;)d[m--]=c.__kConversionChars[p&a],p>>>=o;if(e.sign&&(d[m--]="-"),m!==-1)throw new Error("implementation bug");return d.join("")}},{key:"__toStringGeneric",value:function(e,t,n){var r=e.length;if(r===0)return"";if(r===1){var o=e.__unsignedDigit(0).toString(t);return n===!1&&e.sign&&(o="-"+o),o}var a=32*r-u(e.__digit(r-1)),i=c.__kMaxBitsPerChar[t],l=i-1,s=a*c.__kBitsPerCharTableMultiplier;s+=l-1,s=0|s/l;var d,m,p=s+1>>1,_=c.exponentiate(c.__oneDigit(t,!1),c.__oneDigit(p,!1)),f=_.__unsignedDigit(0);if(_.length===1&&65535>=f){d=new c(e.length,!1),d.__initializeDigits();for(var g,h=0,y=2*e.length-1;0<=y;y--)g=h<<16|e.__halfDigit(y),d.__setHalfDigit(y,0|g/f),h=0|g%f;m=h.toString(t)}else{var C=c.__absoluteDivLarge(e,_,!0,!0);d=C.quotient;var b=C.remainder.__trim();m=c.__toStringGeneric(b,t,!0)}d.__trim();for(var v=c.__toStringGeneric(d,t,!0);m.length<p;)m="0"+m;return n===!1&&e.sign&&(v="-"+v),v+m}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var n=e.sign;if(n!==t.sign)return c.__unequalSign(n);var r=c.__absoluteCompare(e,t);return 0<r?c.__absoluteGreater(n):0>r?c.__absoluteLess(n):0}},{key:"__compareToNumber",value:function(e,t){if(!0|t){var n=e.sign,r=0>t;if(n!==r)return c.__unequalSign(n);if(e.length===0){if(r)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return c.__absoluteGreater(n);var o=i(t),a=e.__unsignedDigit(0);return a>o?c.__absoluteGreater(n):a<o?c.__absoluteLess(n):0}return c.__compareToDouble(e,t)}},{key:"__compareToDouble",value:function(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var n=e.sign;if(n!==0>t)return c.__unequalSign(n);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;c.__kBitConversionDouble[0]=t;var r=2047&c.__kBitConversionInts[1]>>>20;if(r==2047)throw new Error("implementation bug: handled elsewhere");var o=r-1023;if(0>o)return c.__absoluteGreater(n);var a=e.length,i=e.__digit(a-1),l=u(i),s=32*a-l,d=o+1;if(s<d)return c.__absoluteLess(n);if(s>d)return c.__absoluteGreater(n);var m=1048576|1048575&c.__kBitConversionInts[1],p=c.__kBitConversionInts[0],_=20,f=31-l;if(f!==(s-1)%31)throw new Error("implementation bug");var g,h=0;if(f<_){var y=_-f;h=y+32,g=m>>>y,m=m<<32-y|p>>>y,p<<=32-y}else if(f===_)h=32,g=m,m=p;else{var C=f-_;h=32-C,g=m<<C|p>>>32-C,m=p<<C}if(i>>>=0,g>>>=0,i>g)return c.__absoluteGreater(n);if(i<g)return c.__absoluteLess(n);for(var b=a-2;0<=b;b--){0<h?(h-=32,g=m>>>0,m=p,p=0):g=0;var v=e.__unsignedDigit(b);if(v>g)return c.__absoluteGreater(n);if(v<g)return c.__absoluteLess(n)}if(m!==0||p!==0){if(h===0)throw new Error("implementation bug");return c.__absoluteLess(n)}return 0}},{key:"__equalToNumber",value:function(e,t){return t|t===0?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===i(t):c.__compareToDouble(e,t)===0}},{key:"__comparisonResultToBool",value:function(e,t){switch(t){case 0:return 0>e;case 1:return 0>=e;case 2:return 0<e;case 3:return 0<=e}throw new Error("unreachable")}},{key:"__compare",value:function(e,t,n){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(n){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(c.__isBigInt(e)&&typeof t=="string")return t=c.__fromString(t),t!==null&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),n);if(typeof e=="string"&&c.__isBigInt(t))return e=c.__fromString(e),e!==null&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),n);if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)){if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToBigInt(e,t),n);if(typeof t!="number")throw new Error("implementation bug");return c.__comparisonResultToBool(c.__compareToNumber(e,t),n)}if(typeof e!="number")throw new Error("implementation bug");if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToNumber(t,e),2^n);if(typeof t!="number")throw new Error("implementation bug");return n===0?e<t:n===1?e<=t:n===2?e>t:n===3?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,n){if(e.length<t.length)return c.__absoluteAdd(t,e,n);if(e.length===0)return e;if(t.length===0)return e.sign===n?e:c.unaryMinus(e);var r=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&r++;for(var o=new c(r,n),a=0,i=0;i<t.length;i++){var l=t.__digit(i),s=e.__digit(i),u=(65535&s)+(65535&l)+a,d=(s>>>16)+(l>>>16)+(u>>>16);a=d>>>16,o.__setDigit(i,65535&u|d<<16)}for(;i<e.length;i++){var m=e.__digit(i),p=(65535&m)+a,_=(m>>>16)+(p>>>16);a=_>>>16,o.__setDigit(i,65535&p|_<<16)}return i<o.length&&o.__setDigit(i,a),o.__trim()}},{key:"__absoluteSub",value:function(e,t,n){if(e.length===0)return e;if(t.length===0)return e.sign===n?e:c.unaryMinus(e);for(var r=new c(e.length,n),o=0,a=0;a<t.length;a++){var i=e.__digit(a),l=t.__digit(a),s=(65535&i)-(65535&l)-o;o=1&s>>>16;var u=(i>>>16)-(l>>>16)-o;o=1&u>>>16,r.__setDigit(a,65535&s|u<<16)}for(;a<e.length;a++){var d=e.__digit(a),m=(65535&d)-o;o=1&m>>>16;var p=(d>>>16)-o;o=1&p>>>16,r.__setDigit(a,65535&m|p<<16)}return r.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length;n===null?n=new c(r,t):n.sign=t;for(var o=!0,a=0;a<r;a++){var i=e.__digit(a),l=i===-1;o&&(i=0|i+1),o=l,n.__setDigit(a,i)}return o&&n.__setDigitGrow(r,1),n}},{key:"__absoluteSubOne",value:function(e,t){var n=e.length;t=t||n;for(var r=new c(t,!1),o=!0,a=0;a<n;a++){var i=e.__digit(a),l=i===0;o&&(i=0|i-1),o=l,r.__setDigit(a,i)}for(var s=n;s<t;s++)r.__setDigit(s,0);return r}},{key:"__absoluteAnd",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length,o=t.length,a=o;if(r<o){a=r;var i=e,l=r;e=t,r=o,t=i,o=l}var s=a;n===null?n=new c(s,!1):s=n.length;for(var u=0;u<a;u++)n.__setDigit(u,e.__digit(u)&t.__digit(u));for(;u<s;u++)n.__setDigit(u,0);return n}},{key:"__absoluteAndNot",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length,o=t.length,a=o;r<o&&(a=r);var i=r;n===null?n=new c(i,!1):i=n.length;for(var l=0;l<a;l++)n.__setDigit(l,e.__digit(l)&~t.__digit(l));for(;l<r;l++)n.__setDigit(l,e.__digit(l));for(;l<i;l++)n.__setDigit(l,0);return n}},{key:"__absoluteOr",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length,o=t.length,a=o;if(r<o){a=r;var i=e,l=r;e=t,r=o,t=i,o=l}var s=r;n===null?n=new c(s,!1):s=n.length;for(var u=0;u<a;u++)n.__setDigit(u,e.__digit(u)|t.__digit(u));for(;u<r;u++)n.__setDigit(u,e.__digit(u));for(;u<s;u++)n.__setDigit(u,0);return n}},{key:"__absoluteXor",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length,o=t.length,a=o;if(r<o){a=r;var i=e,l=r;e=t,r=o,t=i,o=l}var s=r;n===null?n=new c(s,!1):s=n.length;for(var u=0;u<a;u++)n.__setDigit(u,e.__digit(u)^t.__digit(u));for(;u<r;u++)n.__setDigit(u,e.__digit(u));for(;u<s;u++)n.__setDigit(u,0);return n}},{key:"__absoluteCompare",value:function(e,t){var n=e.length-t.length;if(n!=0)return n;for(var r=e.length-1;0<=r&&e.__digit(r)===t.__digit(r);)r--;return 0>r?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,n,r){if(t!==0){for(var o=65535&t,a=t>>>16,i=0,l=0,u=0,c=0;c<e.length;c++,r++){var d=n.__digit(r),m=65535&d,p=d>>>16,_=e.__digit(c),f=65535&_,g=_>>>16,h=s(f,o),y=s(f,a),C=s(g,o),b=s(g,a);m+=l+(65535&h),p+=u+i+(m>>>16)+(h>>>16)+(65535&y)+(65535&C),i=p>>>16,l=(y>>>16)+(C>>>16)+(65535&b)+i,i=l>>>16,l&=65535,u=b>>>16,d=65535&m|p<<16,n.__setDigit(r,d)}for(;i!==0||l!==0||u!==0;r++){var v=n.__digit(r),S=(65535&v)+l,R=(v>>>16)+(S>>>16)+u+i;l=0,u=0,i=R>>>16,v=65535&S|R<<16,n.__setDigit(r,v)}}}},{key:"__internalMultiplyAdd",value:function(e,t,n,r,o){for(var a=n,i=0,l=0;l<r;l++){var u=e.__digit(l),c=s(65535&u,t),d=(65535&c)+i+a;a=d>>>16;var m=s(u>>>16,t),p=(65535&m)+(c>>>16)+a;a=p>>>16,i=m>>>16,o.__setDigit(l,p<<16|65535&d)}if(o.length>r)for(o.__setDigit(r++,a+i);r<o.length;)o.__setDigit(r++,0);else if(a+i!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t,n){n===null&&(n=new c(e.length,!1));for(var r=0,o=2*e.length-1;0<=o;o-=2){var a=(r<<16|e.__halfDigit(o))>>>0,i=0|a/t;r=0|a%t,a=(r<<16|e.__halfDigit(o-1))>>>0;var l=0|a/t;r=0|a%t,n.__setDigit(o>>>1,i<<16|l)}return n}},{key:"__absoluteModSmall",value:function(e,t){for(var n,r=0,o=2*e.length-1;0<=o;o--)n=(r<<16|e.__halfDigit(o))>>>0,r=0|n%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,n,r){var o=t.__halfDigitLength(),a=t.length,i=e.__halfDigitLength()-o,l=null;n&&(l=new c(i+2>>>1,!1),l.__initializeDigits());var u=new c(o+2>>>1,!1);u.__initializeDigits();var d=c.__clz16(t.__halfDigit(o-1));0<d&&(t=c.__specialLeftShift(t,d,0));for(var m=c.__specialLeftShift(e,d,1),p=t.__halfDigit(o-1),_=0,f=i;0<=f;f--){var g=65535,h=m.__halfDigit(f+o);if(h!==p){var y=(h<<16|m.__halfDigit(f+o-1))>>>0;g=0|y/p;for(var C=0|y%p,b=t.__halfDigit(o-2),v=m.__halfDigit(f+o-2);s(g,b)>>>0>(C<<16|v)>>>0&&(g--,C+=p,!(65535<C)););}c.__internalMultiplyAdd(t,g,0,a,u);var S=m.__inplaceSub(u,f,o+1);S!==0&&(S=m.__inplaceAdd(t,f,o),m.__setHalfDigit(f+o,m.__halfDigit(f+o)+S),g--),n&&(1&f?_=g<<16:l.__setDigit(f>>>1,_|g))}return r?(m.__inplaceRightShift(d),n?{quotient:l,remainder:m}:m):n?l:void 0}},{key:"__clz16",value:function(e){return u(e)-16}},{key:"__specialLeftShift",value:function(e,t,n){var r=e.length,o=new c(r+n,!1);if(t===0){for(var a=0;a<r;a++)o.__setDigit(a,e.__digit(a));return 0<n&&o.__setDigit(r,0),o}for(var i,l=0,s=0;s<r;s++)i=e.__digit(s),o.__setDigit(s,i<<t|l),l=i>>>32-t;return 0<n&&o.__setDigit(r,l),o}},{key:"__leftShiftByAbsolute",value:function(e,t){var n=c.__toShiftAmount(t);if(0>n)throw new RangeError("BigInt too big");var r=n>>>5,o=31&n,a=e.length,i=o!==0&&e.__digit(a-1)>>>32-o!=0,l=a+r+(i?1:0),s=new c(l,e.sign);if(o===0){for(var u=0;u<r;u++)s.__setDigit(u,0);for(;u<l;u++)s.__setDigit(u,e.__digit(u-r))}else{for(var d=0,m=0;m<r;m++)s.__setDigit(m,0);for(var p,_=0;_<a;_++)p=e.__digit(_),s.__setDigit(_+r,p<<o|d),d=p>>>32-o;if(i)s.__setDigit(a+r,d);else if(d!==0)throw new Error("implementation bug")}return s.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var n=e.length,r=e.sign,o=c.__toShiftAmount(t);if(0>o)return c.__rightShiftByMaximum(r);var a=o>>>5,i=31&o,l=n-a;if(0>=l)return c.__rightShiftByMaximum(r);var s=!1;if(r){if((e.__digit(a)&(1<<i)-1)!=0)s=!0;else for(var u=0;u<a;u++)if(e.__digit(u)!==0){s=!0;break}}if(s&&i===0){var d=e.__digit(n-1);~d==0&&l++}var m=new c(l,r);if(i===0)for(var p=a;p<n;p++)m.__setDigit(p-a,e.__digit(p));else{for(var _,f=e.__digit(a)>>>i,g=n-a-1,h=0;h<g;h++)_=e.__digit(h+a+1),m.__setDigit(h,_<<32-i|f),f=_>>>i;m.__setDigit(g,f)}return s&&(m=c.__absoluteAddOne(m,!0,m)),m.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?c.__oneDigit(1,!0):c.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>c.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(e(t)!=="object"||t.constructor===c)return t;var r=t[Symbol.toPrimitive];if(r){var o=r(n);if(e(o)!=="object")return o;throw new TypeError("Cannot convert object to primitive value")}var a=t.valueOf;if(a){var i=a.call(t);if(e(i)!=="object")return i}var l=t.toString;if(l){var s=l.call(t);if(e(s)!=="object")return s}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return c.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(t){return e(t)==="object"&&t.constructor===c}},{key:"__truncateToNBits",value:function(e,t){for(var n=e+31>>>5,r=new c(n,t.sign),o=n-1,a=0;a<o;a++)r.__setDigit(a,t.__digit(a));var i=t.__digit(o);if((31&e)!=0){var l=32-(31&e);i=i<<l>>>l}return r.__setDigit(o,i),r.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,n){for(var r=Math.min,o=e+31>>>5,a=new c(o,n),i=0,l=o-1,s=0,u=r(l,t.length);i<u;i++){var d=t.__digit(i),m=0-(65535&d)-s;s=1&m>>>16;var p=0-(d>>>16)-s;s=1&p>>>16,a.__setDigit(i,65535&m|p<<16)}for(;i<l;i++)a.__setDigit(i,0|-s);var _,f=l<t.length?t.__digit(l):0,g=31&e;if(g===0){var h=0-(65535&f)-s;s=1&h>>>16;var y=0-(f>>>16)-s;_=65535&h|y<<16}else{var C=32-g;f=f<<C>>>C;var b=1<<32-C,v=(65535&b)-(65535&f)-s;s=1&v>>>16;var S=(b>>>16)-(f>>>16)-s;_=65535&v|S<<16,_&=b-1}return a.__setDigit(l,_),a.__trim()}},{key:"__digitPow",value:function(e,t){for(var n=1;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}}]),c})(c(Array));return p.__kMaxLength=33554432,p.__kMaxLengthBits=p.__kMaxLength<<5,p.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],p.__kBitsPerCharTableShift=5,p.__kBitsPerCharTableMultiplier=1<<p.__kBitsPerCharTableShift,p.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],p.__kBitConversionBuffer=new ArrayBuffer(8),p.__kBitConversionDouble=new Float64Array(p.__kBitConversionBuffer),p.__kBitConversionInts=new Int32Array(p.__kBitConversionBuffer),p})}),null);
__d("TCompactProtocolPolyfill",["StringToUtf8","ThriftTypes","Utf8ToString","jsbi"],(function(t,n,r,o,a,i,l){var e,s,u=Object.freeze({CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12,CT_FLOAT:13}),c=Object.freeze({NONE:-1,CT_BOOLEAN_TRUE:u.CT_BOOLEAN_TRUE,CT_BOOLEAN_FALSE:u.CT_BOOLEAN_FALSE}),d=[u.CT_STOP,0,u.CT_BOOLEAN_TRUE,u.CT_BYTE,u.CT_DOUBLE,0,u.CT_I16,0,u.CT_I32,0,u.CT_I64,u.CT_BINARY,u.CT_STRUCT,u.CT_MAP,u.CT_SET,u.CT_LIST,0,0,0,u.CT_FLOAT],m=Math.pow(2,7)-1,p=-1*Math.pow(2,7),_=Math.pow(2,15)-1,f=-1*Math.pow(2,15),g=Math.pow(2,31)-1,h=-1*Math.pow(2,31),y=Math.pow(2,32)-1,C=(s=r("jsbi")).BigInt("9223372036854775807"),b=s.BigInt("-9223372036854775808"),v=s.BigInt("18446744073709551615"),S=s.BigInt(63),R=s.BigInt(1),L=s.BigInt(0),E=s.BigInt(7),k=s.BigInt(70),I=s.BigInt(127),T=s.BigInt(128),D=Math.pow(2,4),x=(function(){function t(e){this.$4=null,this.$5=null,this.$1=e,this.$2=[],this.$3=0,this.$6=new DataView(new ArrayBuffer(1))}var n=t.prototype;return n.readStructBegin=function(){this.$2.push(this.$3),this.$3=0},n.readStructEnd=function(){return this.$3=this.$2.pop(),0},n.writeStructBegin=function(t){return this.$2.push(this.$3),this.$3=0,0},n.writeStructEnd=function(){return this.$3=this.$2.pop(),0},n.writeFieldBegin=function(n){return n.ftype===(e||(e=r("ThriftTypes"))).BOOL?(this.$4={fid:n.fid,fname:n.fname,ftype:n.ftype},0):this.$7(n,c.NONE)},n.writeListBegin=function(t){return this.$8(t)},n.writeListEnd=function(){return 0},n.writeSetBegin=function(t){return this.$8(t)},n.writeSetEnd=function(){return 0},n.writeMapBegin=function(t){var e=0;if(t.size===0)e+=this.$1.writeByte(0);else if(e+=this.writeVarint32(t.size),t.ktype!=null&&t.vtype!=null)e+=this.$1.writeByte(this.$9(t.ktype)<<4|this.$9(t.vtype));else throw new Error("received invalid map info: "+JSON.stringify(t));return e},n.writeMapEnd=function(){return 0},n.$7=function(t,n){var e=0,r=n===c.NONE?this.$9(t.ftype):n;return t.fid>this.$3&&t.fid-this.$3<=D-1?e+=this.$1.writeByte(t.fid-this.$3<<4|r):(e+=this.$1.writeByte(r),e+=this.writeI16(t.fid)),this.$3=t.fid,e},n.$8=function(t){var e=0,n=this.$9(t.etype);return t.size<=D-2?e+=this.$1.writeByte(t.size<<4|n):(e+=this.$1.writeByte(240|n),e+=this.writeVarint32(t.size)),e},n.readFieldBegin=function(){var t=this.$1.readByte(),n=t&15;if(n===(e||(e=r("ThriftTypes"))).STOP)return{ftype:(e||(e=r("ThriftTypes"))).STOP,fid:0};var o=(t&240)>>>4,a;o===0?a=this.readI16():a=this.$3+o;var i=this.$10(n);return(n===u.CT_BOOLEAN_TRUE||n===u.CT_BOOLEAN_FALSE)&&(this.$5=n===u.CT_BOOLEAN_TRUE),this.$3=a,{ftype:i,fid:a}},n.readListBegin=function(){return this.$11()},n.readListEnd=function(){return 0},n.readSetBegin=function(){return this.$11()},n.readSetEnd=function(){return 0},n.readMapBegin=function(){var e=this.readVarint32();if(e>0){var t=this.$1.readByte(),n=this.$12(t>>4,"readMapBegin:key"),r=this.$12(t&15,"readMapBegin:value");return{ktype:this.$10(n),vtype:this.$10(r),size:e}}return{size:e}},n.readMapEnd=function(){return 0},n.$12=function(t,n){if(t<0||t>13)throw new Error(n+" read invalid compact type: "+t);return t},n.$11=function(){var e=this.$1.readByte(),t=this.$12(e&15,"_readListOrSetBegin"),n=this.$10(t),r=e>>4&15;return r===15&&(r=this.readVarint32()),{etype:n,size:r}},n.readFieldEnd=function(){return 0},n.readByte=function(){return this.$6.setUint8(0,this.$1.readByte()),this.$6.getInt8(0)},n.writeByte=function(t){if(t<p||t>m)throw new Error("byte to write is out of range: "+t);return this.$6.setInt8(0,t),this.$1.writeByte(this.$6.getUint8(0))},n.readFloat=function(){return this.$1.readFloatBE()},n.writeFloat=function(t){return this.$1.writeFloatBE(t)},n.readDouble=function(){return this.$1.readDoubleBE()},n.writeDouble=function(t){return this.$1.writeDoubleBE(t)},n.writeString=function(t){return this.writeBinary(o("StringToUtf8").StringToUtf8(t))},n.skip=function(n){switch(n){case(e||(e=r("ThriftTypes"))).STOP:return;case(e||(e=r("ThriftTypes"))).BOOL:this.readBool();break;case(e||(e=r("ThriftTypes"))).BYTE:this.readByte();break;case(e||(e=r("ThriftTypes"))).DOUBLE:this.readDouble();break;case(e||(e=r("ThriftTypes"))).I16:this.readI16();break;case(e||(e=r("ThriftTypes"))).I32:this.readI32();break;case(e||(e=r("ThriftTypes"))).I64:this.readI64();break;case(e||(e=r("ThriftTypes"))).STRING:this.readString();break;case(e||(e=r("ThriftTypes"))).STRUCT:{this.readStructBegin();for(var t;t=this.readFieldBegin(),t.ftype!==(e||(e=r("ThriftTypes"))).STOP;)this.skip(t.ftype);this.readStructEnd();break}case(e||(e=r("ThriftTypes"))).MAP:{var o=this.readMapBegin();if(o.size>0&&o.ktype!=null&&o.vtype!=null)for(var a=o.ktype,i=o.vtype,l=0;l<o.size;l++)this.skip(a),this.skip(i);break}case(e||(e=r("ThriftTypes"))).SET:case(e||(e=r("ThriftTypes"))).LIST:{for(var s=this.$11(),u=0;u<s.size;u++)this.skip(s.etype);break}case(e||(e=r("ThriftTypes"))).FLOAT:this.readFloat();break;default:throw new Error("encoutered unknow thrift type: "+n+" in skip")}},n.toByteArray=function(){return this.$1.toByteArray()},n.writeFieldEnd=function(){return 0},n.writeFieldStop=function(){return this.$1.writeByte((e||(e=r("ThriftTypes"))).STOP)},n.writeI16=function(t){if(t<f||t>_)throw new Error("trying to write i16 out of range: "+t);return this.writeVarint32(this.i32ToZigzag(t))},n.readI16=function(){var e=this.zigzagToI32(this.readVarint32());if(e<f||e>_)throw new Error("read invalid i16: "+e);return e},n.writeI32=function(t){if(t<h||t>g)throw new Error("i32 out of range: "+t);return this.writeVarint32(this.i32ToZigzag(t))},n.readI32=function(){return this.zigzagToI32(this.readVarint32())},n.writeI64=function(t){return this.writeVarint64(this.i64ToZigzag(t))},n.readI64=function(){return this.zigzagToI64(this.readVarint64())},n.readBool=function(){var e;return this.$5!=null?(e=this.$5,this.$5=null):e=this.$1.readByte()===u.CT_BOOLEAN_TRUE,e},n.writeBool=function(t){var e=0;return this.$4!=null?(e+=this.$7(this.$4,t?c.CT_BOOLEAN_TRUE:c.CT_BOOLEAN_FALSE),this.$4=null):e+=this.$1.writeByte(t?u.CT_BOOLEAN_TRUE:u.CT_BOOLEAN_FALSE),e},n.readBinary=function(){var e=this.readVarint32();return e===0?new Uint8Array(0):this.$1.readBytes(e)},n.writeBinary=function(t){var e=0;return e+=this.writeVarint32(t.length),e+=this.$1.write(t),e},n.i32ToZigzag=function(t){if(t<h||t>g)throw new Error("number: "+t+" is out of range of i32");return(t<<1^(t<0?4294967295:0))>>>0},n.zigzagToI32=function(t){if(t<0||t>y)throw new Error("number: "+t+" is out of range of uint32");return t>>>1^-1*(t&1)},n.i64ToZigzag=function(t){if(r("jsbi").greaterThan(t,C)||r("jsbi").lessThan(t,b))throw new Error("i64 out of range: "+t.toString());return r("jsbi").bitwiseXor(r("jsbi").signedRightShift(t,S),r("jsbi").leftShift(t,R))},n.zigzagToI64=function(t){if(r("jsbi").lessThan(t,0)||r("jsbi").greaterThan(t,v))throw new Error("invalid uint64: "+t.toString());return r("jsbi").equal(r("jsbi").bitwiseAnd(t,R),R)?r("jsbi").bitwiseNot(r("jsbi").signedRightShift(t,R)):r("jsbi").signedRightShift(t,R)},n.writeVarint32=function(t){if(t<0||t>y)throw new Error("writeVarint32 received out of range uint32: "+t);for(var e=t,n=0;;)if(e>>>7)this.$1.writeByte(e&127|128),n++,e>>>=7;else{this.$1.writeByte(e),n++;break}return n},n.readVarint32=function(){for(var e=0,t=0,n;;){if(n=this.$1.readByte(),e=(e|(n&127)<<t)>>>0,t+=7,(n&128)==0){if(t===35&&(n&240)!=0)throw new Error("result exceeded 32 bit limit");break}if(t>28)throw new Error("result exceeded 32 bit limit")}return e},n.writeVarint64=function(t){if(r("jsbi").lessThan(t,L)||r("jsbi").greaterThan(t,v))throw new Error("invalid uint64: "+t.toString());for(var e=t,n=0;;)if(r("jsbi").equal(r("jsbi").signedRightShift(e,E),L)){this.$1.writeByte(r("jsbi").toNumber(e)),n++;break}else{var o,a=(o=r("jsbi")).toNumber(o.bitwiseOr(o.bitwiseAnd(e,I),T));this.$1.writeByte(a),n++,e=o.signedRightShift(e,E)}return n},n.readVarint64=function(){for(var e=L,t=L,n;;){var o;if(n=(o=r("jsbi")).BigInt(this.$1.readByte()),e=o.bitwiseOr(e,o.leftShift(o.bitwiseAnd(n,I),t)),t=o.add(t,E),r("jsbi").equal(r("jsbi").bitwiseAnd(n,T),L)){if(r("jsbi").equal(t,k)&&r("jsbi").notEqual(n,R))throw new Error("result exceeded 64 bit limit");break}if(r("jsbi").greaterThan(t,S))throw new Error("result exceeded 64 bit limit")}return e},n.readString=function(){return o("Utf8ToString").Utf8ToString(this.readBinary())},n.getLastFieldId=function(){return this.$3},n.getLastField=function(){return this.$2},n.getBooleanFieldInfo=function(){return this.$4},n.getBooleanValue=function(){return this.$5},n.$9=function(t){return d[t]},n.$10=function(n){switch(n){case u.CT_STOP:return(e||(e=r("ThriftTypes"))).STOP;case u.CT_BOOLEAN_FALSE:case u.CT_BOOLEAN_TRUE:return(e||(e=r("ThriftTypes"))).BOOL;case u.CT_BYTE:return(e||(e=r("ThriftTypes"))).BYTE;case u.CT_I16:return(e||(e=r("ThriftTypes"))).I16;case u.CT_I32:return(e||(e=r("ThriftTypes"))).I32;case u.CT_I64:return(e||(e=r("ThriftTypes"))).I64;case u.CT_DOUBLE:return(e||(e=r("ThriftTypes"))).DOUBLE;case u.CT_FLOAT:return(e||(e=r("ThriftTypes"))).FLOAT;case u.CT_BINARY:return(e||(e=r("ThriftTypes"))).STRING;case u.CT_LIST:return(e||(e=r("ThriftTypes"))).LIST;case u.CT_SET:return(e||(e=r("ThriftTypes"))).SET;case u.CT_MAP:return(e||(e=r("ThriftTypes"))).MAP;case u.CT_STRUCT:return(e||(e=r("ThriftTypes"))).STRUCT;default:throw new Error("don't know what type")}},t})();l.default=x}),98);
__d("CompactSerializerPolyfill",["TCompactProtocolPolyfill","TNoOpWriteBuffer","TReadBuffer","TWriteBuffer","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=new(r("TReadBuffer"))(e),o=new(r("TCompactProtocolPolyfill"))(n);return t(o)}function s(t,n,o){try{return e(t,n)}catch(e){o!=null&&o(r("getErrorSafe")(e))}return null}function u(e,t,n){n===void 0&&(n=!1);var o;if(n){var a=new(r("TNoOpWriteBuffer")),i=new(r("TCompactProtocolPolyfill"))(a);t(e,i),o=new(r("TWriteBuffer"))(a.currentSize())}else o=new(r("TWriteBuffer"));var l=new(r("TCompactProtocolPolyfill"))(o);return t(e,l),l.toByteArray()}function c(e,t,n,o){n===void 0&&(n=!1);try{return u(e,t,n)}catch(e){o!=null&&o(r("getErrorSafe")(e))}return null}l.deserialize=e,l.deserializeNoThrow=s,l.serialize=u,l.serializeNoThrow=c}),98);
__d("ContextualConfigConstants",[],(function(t,n,r,o,a,i){"use strict";var e=1e3,l=", ",s={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"},u={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"},c=[],d=[],m=[],p={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"},_=10,f=", ",g={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};i.ANALYTICS_SAMPLE_RATE=e,i.BUCKET_DELIMITER=l,i.CONTEXT_BUCKET_STRATEGY=s,i.CONFIG_TYPE=u,i.EMPTY_RESOLVED_CONTEXTS=c,i.EMPTY_RESOLVED_MONITORS=d,i.EMPTY_RESULT_PARAMS=m,i.ERROR=p,i.JSON_SUB_SAMPLE_RATE=_,i.LIST_DELIMITER=f,i.TYPE=g}),66);
__d("ContextualConfigResolvedContextsUtils",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){var e=[];for(var n of t){var r=n.bucketIndex;if(r==null)break;e.push(r)}return e},l=function(t){var e=[];for(var n of t){var r=n.bucketName;if(r===void 0)break;e.push(r)}return e},s=function(t){return t.name},u=function(t){return t.map(s)},c=function(t){var e=[];for(var n of t){var r=n.value;if(r===void 0)break;e.push(r)}return e};i.getBucketIndices=e,i.getBucketNames=l,i.getContextNames=u,i.getContextValues=c}),66);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=["cfg_ver_timestamp","policy_id","version","sample_rate"],s=function(t){return t.join(o("ContextualConfigConstants").LIST_DELIMITER)},u=function(n,r){for(var t of e)r[t]!=null&&(n[t]=r[t]);r.name&&(n.config_name=r.name)},c=function(t,n){var e=n[0],r=n[1],a=n[2],i=n[3];e!=null&&(t.exception=e.message),t.result=s(r.map(function(e){return e.value}))||"INVALID",t.context=s(o("ContextualConfigResolvedContextsUtils").getContextNames(a)),t.context_value=s(o("ContextualConfigResolvedContextsUtils").getContextValues(a)),t.bucket_name=s(o("ContextualConfigResolvedContextsUtils").getBucketNames(a)),t.monitor=s(o("ContextualConfigResolvedContextsUtils").getContextNames(i)),t.monitor_value=s(o("ContextualConfigResolvedContextsUtils").getContextValues(i))};function d(e,t,n){var r={sample_rate:o("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE};return u(r,e),c(r,t),n&&(r.config_contents=JSON.stringify(e)),r}l.default=d}),98);
__d("ContextualConfigExposureEvent",["Random"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$2=e,this.$4=o("Random").random()<1/e.sample_rate,this.$3=t,this.$1=n}var t=e.prototype;return t.getData=function(){return this.$2},t.log=function(t){var e=this.$2,n=this.$3,r=this.$4;return t&&n(e),r&&this.$1(e),this},t.isSampled=function(){return this.$4},e})();l.default=e}),98);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$2=e,this.$1=t}var t=e.prototype;return t.createEvent=function(t){var e=new(r("ContextualConfigExposureEvent"))(t,this.$2,this.$1);return e},e})();function s(t,n){return new e(t,n)}l.default=s}),98);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(t,n,r,o,a,i){var e="client_event",l="navigation",s=18e4,u="marauder",c="marauder_last_event_time",d="marauder_last_session_id",m={},p=[],_=!1,f=null,g=null,h=null,y=0,C,b,v=!1,S=null;function R(){P().set(c,L())}n("Banzai").subscribe(n("Banzai").SHUTDOWN,R);function L(){return C=C||P().get(c)||0,C}function E(){v||(b=P().get(d),v=!0);var e=Date.now();return(!b||e-s>L())&&(b=e.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),P().set(d,b)),b}function k(){var e;return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:(e=window.screen.devicePixelRatio)!=null?e:null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function I(){return{locale:navigator.language}}function T(e,t,n,r,o,a,i){var l=i!=null&&i!=0?i:Date.now();C=i!=null&&i!=0?Date.now():l;var s=t!=null&&t!=""?t:f;return{name:e,time:l/1e3,module:s,obj_type:r,obj_id:o,uuid:a,extra:n}}function D(e,t,n){return T("content",null,{flags:t},null,null,e,n)}function x(e){var t=window.__mrdr;if(t)for(var n in t){var r=t[n];if(r[3]!==0){if(delete t[n],n==="1")if(h!==null)n=h;else continue;e.push(D(n,1,r[1])),e.push(D(n,2,r[2])),e.push(D(n,3,r[3]))}}}function $(t,r){if(x(t),t.length!==0){_&&t.push(T("counters",null,m));var o=n("Banzai").BASIC;r==="vital"&&(o=n("Banzai").VITAL);var a=n("MarauderConfig").gk_enabled;if(y===0&&a&&(t.push(T("device_status",null,I())),o={delay:5e3}),r==="signal"&&(o={signal:!0}),a&&Math.random()<.01&&t.push(T("device_info",null,k())),h!==null)for(var i=0;i<t.length;i++){var l=t[i];l.uuid==null&&(l.uuid=h)}var s={app_ver:n("MarauderConfig").app_version,data:t,device_id:void 0,log_type:e,seq:y++,session_id:E()},c=P().get("device_id");c&&(s.device_id=c),m={},_=!1,n("Banzai").post(u,s,o)}}function P(){return S||(S=new(n("CacheStorage"))("localstorage","")),S}function N(e){m[e]||(m[e]=0),m[e]++,_=!0}function M(e,t,n,r,o,a,i,l){$([T(e,t,n,r,o,a,i)],l)}function w(e,t){f!==t&&(p.push(T(l,f,{dest_module:t,source_url:g,destination_url:e})),f=t,g=e)}function A(e,t){f!==t&&(h=null,w(e,t))}function F(e,t,n){M(t?"show_module":"hide_module",e,n)}function O(e){f=e}function B(){return f}function W(e){h===null&&(h=e,e!==null&&($(p),p=[]))}a.exports={count:N,log:M,navigateTo:A,navigateWithinSession:w,toggleModule:F,setUUID:W,setNavigationModule:O,getNavigationModule:B}}),null);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){},s=function(t){o("MarauderLogger").log("contextual_config_exposure","",t)},u=r("ContextualConfigExposureLoggerFactory")(e,s);l.default=u}),98);
__d("ContextualConfigAssert",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(e===!1)throw new Error(t)}i.default=e}),66);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return Array.isArray(t)},s=function(t){return typeof t=="boolean"},u=function(t){return t!=null},c=function(t){return(function(e){return Object.prototype.hasOwnProperty.call(t,e)})},d=function(t){return p(t)&&t%1===0},m=function(t){return _(t)&&t.length>0},p=function(t){return typeof t=="number"&&!isNaN(t)&&t!==1/0&&t!==-1/0},_=function(t){return typeof t=="string"},f=function(t){switch(t){case o("ContextualConfigConstants").TYPE.BOOL:case o("ContextualConfigConstants").TYPE.FLOAT:case o("ContextualConfigConstants").TYPE.INT:case o("ContextualConfigConstants").TYPE.STRING:return!0;default:return!1}};l.isArray=e,l.isBoolean=s,l.isDefined=u,l.isKey=c,l.isInteger=d,l.isNonEmptyString=m,l.isNumber=p,l.isString=_,l.isType=f}),98);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(o("ContextualConfigConstants").ERROR.BAD_BOOLEAN_FORMAT)}}l.default=e}),98);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n;switch(t){case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var a=r("ContextualConfigParseBoolean")(e);n=function(t){return t===a};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:n=function(t){return t==null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:n=function(t){return t!=null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:n=function(t){return!0};break;default:throw new Error(o("ContextualConfigConstants").ERROR.ILLEGAL_BOOLEAN_STRATEGY)}return function(e){return n(e)}}l.default=e}),98);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,u=function(t){return s.test(t)};function c(t){(e||(e=r("ContextualConfigAssert")))(u(t),o("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);var n=parseFloat(t);return e(o("ContextualConfigValidators").isNumber(n),o("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT),n}l.default=c}),98);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=/^[-\+]?([1-9]\d*|0)$/,u=function(t){return s.test(t)};function c(t){(e||(e=r("ContextualConfigAssert")))(u(t),o("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);var n=parseInt(t,10);return e(o("ContextualConfigValidators").isNumber(n),o("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT),n}l.default=c}),98);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(n>0,o("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)},u=function(n,a){return(e||(e=r("ContextualConfigAssert")))(n===a,o("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)},c=function(n,a){return(e||(e=r("ContextualConfigAssert")))(n<a,o("ContextualConfigConstants").ERROR.BAD_VALUE_ORDER)};l.assertHasValues=s,l.assertNumberOfValues=u,l.assertValueOrder=c}),98);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a,i){var l=a.map(i?r("ContextualConfigParseInteger"):e||(e=r("ContextualConfigParseFloat"))),s;switch(n){case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var u=i?r("ContextualConfigParseInteger")(t):(e||(e=r("ContextualConfigParseFloat")))(t);s=function(t){return i&&!o("ContextualConfigValidators").isInteger(t)?!1:t===u};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:s=function(t){return t==null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:s=function(t){return t!=null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:s=function(t){return!0};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.COR:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,2),o("ContextualConfigPredAssertions").assertValueOrder(l[0],l[1]),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t>=l[0]&&t<l[1]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LT:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t<l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LTE:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t<=l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.EQ:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t===l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NEQ:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t!==l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GT:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t>l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GTE:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t>=l[0]};break;default:throw new Error(o("ContextualConfigConstants").ERROR.ILLEGAL_NUMERIC_STRATEGY)}return function(e){return s(e)}}l.default=s}),98);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e=/^\/(.+)\/(.*)$/;function s(t){try{var n=t.match(e);return n!=null?new RegExp(n[1],n[2]):new RegExp(t)}catch(e){throw new Error(o("ContextualConfigConstants").ERROR.REGEX_SYNTAX_ERROR)}}l.default=s}),98);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){if(typeof t!="string")throw new Error(o("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE);return t},s=function(n){var t=[];for(var r of n)t.push(e(r));return t};function u(e,t,n){var a=s(n),i;switch(t){case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:i=function(n){return typeof n!="string"?!1:n===e};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:i=function(t){return t==null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:i=function(t){return t!=null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:i=function(t){return!0};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.IN:o("ContextualConfigPredAssertions").assertHasValues(a.length),i=function(t){return typeof t!="string"?!1:a.indexOf(t)!==-1};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NIN:o("ContextualConfigPredAssertions").assertHasValues(a.length),i=function(t){return typeof t!="string"?!1:a.indexOf(t)===-1};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CONTAINS:o("ContextualConfigPredAssertions").assertNumberOfValues(a.length,1),i=function(t){return typeof t!="string"?!1:t.indexOf(a[0])!==-1};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.REGEX:o("ContextualConfigPredAssertions").assertNumberOfValues(a.length,1);var l=r("ContextualConfigParseRegExp")(a[0]);i=function(t){return typeof t!="string"?!1:l.test(t)};break;default:throw new Error(o("ContextualConfigConstants").ERROR.ILLEGAL_STRING_STRATEGY)}return function(e){return i(e)}}l.default=u}),98);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},c=o("ContextualConfigValidators").isKey(o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY),d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isString(n)&&c(n.toUpperCase()),o("ContextualConfigConstants").ERROR.MISSING_BUCKET_STRATEGY)},m=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.ILLEGAL_BUCKET_VALUES)},p=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.MISSING_BUCKET_NAME)},_=function(t,n){var e=n.name;p(e);var a=n.strategy;d(a);var i=n.values||[];switch(m(i),t){case o("ContextualConfigConstants").TYPE.BOOL:return r("ContextualConfigParsePredBoolean")(e,a);case o("ContextualConfigConstants").TYPE.FLOAT:return r("ContextualConfigParsePredNumeric")(e,a,i,!1);case o("ContextualConfigConstants").TYPE.INT:return r("ContextualConfigParsePredNumeric")(e,a,i,!0);case o("ContextualConfigConstants").TYPE.STRING:return r("ContextualConfigParsePredString")(e,a,i);default:throw new Error(o("ContextualConfigConstants").ERROR.UNKNOWN_BUCKET_DEFINITION)}},f=function(t,n){s(n);var e=n.name;return p(e),{name:e,pred:_(t,n)}};function g(e,t){return u(t),t.map(function(t){return f(e,t)})}l.default=g}),98);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n)&&n.length>0,o("ContextualConfigConstants").ERROR.MISSING_CONTEXT_IN_CONFIG)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isType(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(t){s(t);var e=t.buckets,n=t.name,o=t.type;return c(n),d(o),{name:n,type:o,buckets:r("ContextualConfigParseContextBuckets")(o,e)}};function p(e){return u(e),e.map(m)}l.default=p}),98);
__d("ContextualConfigIsEqualParams",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1){var r=e[n],o=t[n];if(r.name!==o.name||r.type!==o.type)return!1}return!0}i.default=e}),66);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isString(n),o("ContextualConfigConstants").ERROR.INVALID_STRING)};function c(e,t){switch(u(t),e){case o("ContextualConfigConstants").TYPE.BOOL:return r("ContextualConfigParseBoolean")(t);case o("ContextualConfigConstants").TYPE.FLOAT:return(s||(s=r("ContextualConfigParseFloat")))(t);case o("ContextualConfigConstants").TYPE.INT:return r("ContextualConfigParseInteger")(t);case o("ContextualConfigConstants").TYPE.STRING:return t;default:throw new Error(o("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE)}}l.default=c}),98);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_RESULTS)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},m=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isType(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},p=function(t,n){for(var e of t)if(e.name===n)return e.type;throw new Error(o("ContextualConfigConstants").ERROR.UNDECLARED_OUTPUT_PARAM)},_=function(t){return(function(e){c(e);var n=e.name;d(n);var o=p(t,n);m(o);var a=(s||(s=r("ContextualConfigParseResultParamValue")))(o,e.value);return{name:n,type:o,value:a}})};function f(e,t){return u(t),t.map(_(e))}l.default=f}),98);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n,a){return(e||(e=r("ContextualConfigAssert")))(r("ContextualConfigIsEqualParams")(n,a),o("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)};function u(e,t){var n=r("ContextualConfigParseResultParams")(e,t.map(function(t,n){return{name:e[n].name,value:t}}));return s(e,n),n}l.default=u}),98);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){try{return r("ContextualConfigParseDenseResultParams")(e,t)}catch(e){throw new Error(o("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)}}l.default=e}),98);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.BAD_MONITORED_CONTEXTS)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isType(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(t){s(t);var e=t.name,n=t.type;return c(e),d(n),{name:e,type:n}};function p(e){return u(e),e.map(m)}l.default=p}),98);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_OUTPUTS_DEFINITION)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isType(n),o("ContextualConfigConstants").ERROR.BAD_OUTPUT_TYPE)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.BAD_OUTPUT_NAME)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(m(n),o("ContextualConfigConstants").ERROR.DUPLICATE_OUTPUT_NAME)},m=function(t){var e={};for(var n of t){if(e[n.name])return!1;e[n.name]=!0}return!0},p=function(t){return c(t.name),u(t.type),t};function _(e){s(e);var t=e.map(p);return d(t),t}l.default=_}),98);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_VECTOR)},c=function(n,a){return(e||(e=r("ContextualConfigAssert")))(n===a,o("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)},d=function(t,n){c(t.length,n.length);for(var e=0;e<t.length;e+=1){var o=t[e].type,a=n[e];(s||(s=r("ContextualConfigParseResultParamValue")))(o,a)}},m=function(t){return t.reduce(function(e,t){var n=t.buckets;return e*n.length},1)};function p(e,t,n){u(n);var r=m(t),o=e.length;c(r*o,n.length);for(var a=0;a<r;a+=1){var i=a*o;d(e,n.slice(i,i+o))}return n}l.default=p}),98);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n){for(var e=0;e<t.length;e+=1){var r=t[e];try{if(r.pred(n))return[r.name,e]}catch(e){return null}}return null};function s(t,n,r){var a=null,i=t.map(function(t){var i=t.name,l={name:i};if(a!=null)return l;var s;if(r[i]!=null?s=r[i]:n[i]!=null?s=n[i]():s=null,l.value=s,t.buckets!=null){var u=e(t.buckets,s);if(u==null)return a=new Error(o("ContextualConfigConstants").ERROR.MISSING_BUCKET_MATCH),l;var c=u[0],d=u[1];l.bucketName=c,l.bucketIndex=d}return l});return[a,i]}l.default=s}),98);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONFIG)},u=function(t){for(var e=[],n=1,r=t.length-1;r>=0;r-=1)e.push(n),n*=t[r].buckets.length;return e.reverse()},c=function(t,n,o,a){try{var e=n.slice(o,o+t.length);return[null,r("ContextualConfigParseDenseResultParams")(t,e)]}catch(e){return[r("getErrorSafe")(e),a]}},d=function(n,o,a){try{var t=a.reduce(function(t,o,a){return(e||(e=r("ContextualConfigAssert")))(a<n.length,"Auxillery index out of range."),t+n[a]*o},0);return[null,t*o]}catch(e){return[r("getErrorSafe")(e),-1]}},m=(function(){function e(e,t){s(e),this.globalContextProviders=babelHelpers.extends({},t);var n=r("ContextualConfigParseOutputParams")(e.outputs),o=r("ContextualConfigParseContexts")(e.contexts);this.aux=u(o),this.contexts=o,this.defaults=r("ContextualConfigParseDenseDefaults")(n,e.vectorDefaults),this.monitors=e.monitors!=null?r("ContextualConfigParseMonitors")(e.monitors):[],this.outputs=n,this.vector=r("ContextualConfigParseVector")(n,o,e.vector)}var t=e.prototype;return t.resolve=function(t){try{return this.unsafeResolve(t)}catch(e){return[r("getErrorSafe")(e),this.defaults,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}},t.unsafeResolve=function(t){var e=this.aux,n=this.contexts,a=this.defaults,i=this.globalContextProviders,l=this.monitors,s=this.outputs,u=this.vector,m=r("ContextualConfigResolveContexts")(n,i,t),p=m[0],_=m[1];if(p!=null)return[p,a,_,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];var f=d(e,s.length,o("ContextualConfigResolvedContextsUtils").getBucketIndices(_)),g=f[0],h=f[1];if(g!=null)return[g,a,_,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];var y=c(s,u,h,a),C=y[0],b=y[1];if(C!=null)return[C,b,_,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];var v=r("ContextualConfigResolveContexts")(l,i,t),S=v[0],R=v[1];return S!=null?[S,b,_,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,b,_,R]},e})();l.default=m}),98);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONFIG)},u=(function(){function e(e,t){s(e),this.globalContextProviders=babelHelpers.extends({},t);var n=r("ContextualConfigParseOutputParams")(e.outputs);this.monitors=e.monitors!=null?r("ContextualConfigParseMonitors")(e.monitors):[],this.values=r("ContextualConfigParseResultParams")(n,e.values)}var t=e.prototype;return t.resolve=function(t){try{return this.unsafeResolve(t)}catch(e){return[r("getErrorSafe")(e),this.values,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}},t.unsafeResolve=function(t){var e=this.globalContextProviders,n=this.monitors,a=this.values,i=r("ContextualConfigResolveContexts")(n,e,t),l=i[0],s=i[1];return l!=null?[l,a,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,a,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,s]},e})();l.default=u}),98);
__d("ContextualConfigMergePartialResultParams",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n={};for(var r of t)n[r.name]=r;var o=[];for(var a of e){var i=n[a.name];o.push(i!=null&&i.name===a.name&&i.type===a.type?i:a)}return o}i.default=e}),66);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n,a){return(e||(e=r("ContextualConfigAssert")))(r("ContextualConfigIsEqualParams")(n,a),o("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)};function u(e,t){var n=r("ContextualConfigParseResultParams")(e,t);return s(e,n),n}l.default=u}),98);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParams","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_TABLE)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.MISSING_TABLE)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_BUCKET)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_VALUES)},m=function(t,n){u(n);var e=n.bucket,o=n.values;return c(e),d(o),{bucket:e,values:r("ContextualConfigParseResultParams")(t,o)}};function p(e,t){return s(t),t.reduce(function(t,n){var r=m(e,n);return t[r.bucket]=r.values,t},{})}l.default=p}),98);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[],u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONFIG)},c=(function(){function e(e,t){u(e),this.globalContextProviders=babelHelpers.extends({},t);var n=r("ContextualConfigParseOutputParams")(e.outputs);this.contexts=r("ContextualConfigParseContexts")(e.contexts),this.defaults=r("ContextualConfigParseDefaults")(n,e.defaults),this.monitors=e.monitors!=null?r("ContextualConfigParseMonitors")(e.monitors):[],this.table=r("ContextualConfigParseTable")(n,e.table)}var t=e.prototype;return t.resolve=function(t){try{return this.unsafeResolve(t)}catch(e){return[e,this.defaults,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}},t.unsafeResolve=function(t){var e=this.contexts,n=this.defaults,a=this.globalContextProviders,i=this.monitors,l=this.table,u=r("ContextualConfigResolveContexts")(e,a,t),c=u[0],d=u[1];if(c!=null)return[c,n,d,[]];var m=o("ContextualConfigResolvedContextsUtils").getBucketNames(d).join(o("ContextualConfigConstants").BUCKET_DELIMITER),p=l[m]||s,_=r("ContextualConfigMergePartialResultParams")(n,p),f=r("ContextualConfigResolveContexts")(i,a,t),g=f[0],h=f[1];return g!=null?[g,_,d,[]]:[null,_,d,h]},e})();l.default=c}),98);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[1],u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n)&&o("ContextualConfigValidators").isDefined(n.version),o("ContextualConfigConstants").ERROR.BAD_CONFIG)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(s.indexOf(n)!==-1,o("ContextualConfigConstants").ERROR.UNSUPPORTED_CONFIG_VERSION)};function d(e,t){switch(u(e),c(e.version),e.cctype){case o("ContextualConfigConstants").CONFIG_TYPE.DENSE:return new(r("DenseContextualConfig"))(e,t);case o("ContextualConfigConstants").CONFIG_TYPE.MULTI_OUTPUT_RESOLVED:return new(r("MultiOutputResolvedContextualConfig"))(e,t);case o("ContextualConfigConstants").CONFIG_TYPE.TABLE:return new(r("TableContextualConfig"))(e,t);default:throw new Error(o("ContextualConfigConstants").ERROR.UNKNOWN_CONFIG_TYPE)}}l.default=d}),98);
__d("ContextualConfigWarn",[],(function(t,n,r,o,a,i){"use strict";function e(e){}i.default=e}),66);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=e.reduce(function(e,t){var n=t.name,r=t.value;return e[n]=r,e},{}),this.$2=e}var t=e.prototype;return t.get=function(t,n){try{var e=this.$1[t];return typeof e!=typeof n?(r("ContextualConfigWarn")(o("ContextualConfigConstants").ERROR.REQUESTED_PARAM_NOT_FOUND),n):e}catch(e){return r("ContextualConfigWarn")(r("getErrorSafe")(e).message),n}},t.getParams=function(){return this.$2},e})();l.default=e}),98);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.error=e}var t=e.prototype;return t.resolve=function(t){return[this.error,o("ContextualConfigConstants").EMPTY_RESULT_PARAMS,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]},e})();l.default=e}),98);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=1/o("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE,s=1,u=(function(){function t(e,t){t===void 0&&(t={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=e,this.$2=t}var n=t.prototype;return n.$5=function(){if(this.$1)return this.$1;var e=this.$2,t=this.$4,n;try{n=r("ContextualConfigParseConfig")(t,e)}catch(e){n=new(r("ErrorContextualConfig"))(r("getErrorSafe")(e))}return this.$1=n,n},n.$6=function(n){var t=this.isDebugLoggingEnabled,a=this.$3,i=!a&&o("Random").random()<e;i&&(this.$3=!0);var l=r("ContextualConfigCollateExposureData")(this.$4,n,i),s=r("ContextualConfigExposureLogger").createEvent(l);s.log(t)},n.resolve=function(t){t===void 0&&(t={});var e=this.$1||this.$5(),n=e.resolve(t);return this.$6(n),new(r("ContextualConfigResult"))(n[s])},t})();l.default=u}),98);
__d("DGWRequestStreamUtils",["Base64","WebDriverConfig","cr:3024","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,o,a){var i={};for(var l of Object.entries(e)){var s=l[0],u=l[1];typeof u=="string"?i["XRSS-"+s]=u:typeof u=="number"?i["XRSN-"+s]=u.toString():typeof u=="boolean"?i["XRSB-"+s]=u.toString():typeof u=="object"&&u!=null&&(i["XRSO-"+s]=r("Base64").encode(JSON.stringify(u)))}if(t&&(i["xrs-body"]="true"),o!=null&&o.length>0&&(i["xrs-instrumentation"]=r("Base64").encode(o)),i["XRS-Accept-Ack"]="RSAck",a!=null&&a.ackTimeoutSec!=null&&(i["XRS-SRAck-Timeout"]=a.ackTimeoutSec.toString()),i["XRSS-http_referer"]=window.location.href,r("WebDriverConfig").isTestRunning&&r("gkx")("20919")){var c=n("cr:3024")==null?void 0:n("cr:3024").get();c!=null&&(i["XRSB-is_test"]="true",i["XRSS-original_request_id"]=c)}return i}function s(e){return Object.keys(e).reduce(function(t,n){return(typeof e[n]=="string"||typeof e[n]=="boolean"||typeof e[n]=="number"||typeof e[n]=="object")&&(t[n]=e[n]),t},{})}function u(e){if(e.response&&e.response.instrumentation_data!=null&&e.response.instrumentation_data.length>0)try{var t,n=JSON.parse(new TextDecoder("utf-8").decode(e.response.instrumentation_data));return{auxId:n.auxId,dfTraceId:(t=n.dataFlowTracingData)==null?void 0:t.traceId}}catch(e){}return null}function c(e,t){var n=e.headers,r=e.body;if(t.kill_body===!0&&(r=null),t.new_body!=null&&(r=t.new_body),t.new_headers!=null)try{n=s(JSON.parse(t.new_headers))}catch(e){}if(t.patch_headers!=null)try{n=babelHelpers.extends({},n,s(JSON.parse(t.patch_headers)))}catch(e){}return{headers:n,body:r}}l.convertHeaders=e,l.cleanHeaders=s,l.getInstrumentationDataFieldsFromPayload=u,l.transformContextWithRewriteDelta=c}),98);
__d("InflightAmends",["Deferred","err"],(function(t,n,r,o,a,i,l){"use strict";var e="inflight_amends_timeout",s="inflight_amends_duplicate_id",u=(function(){function t(e,t,n){this.$1=e,this.$3=t,this.$4=n,this.$2=new Map}var n=t.prototype;return n.add=function(n){var t=this;if(this.$2.has(n))throw r("err")(s);var o=new(r("Deferred")),a=Date.now(),i=setTimeout(function(){t.$2.has(n)&&t.reject(n,r("err")(e))},this.$1);return this.$2.set(n,{id:n,deferred:o,createdTimestampMs:a,timeoutId:i}),o.getPromise()},n.getPromise=function(t){var e;return(e=this.$5(t))==null?void 0:e.deferred.getPromise()},n.resolve=function(t,n){var e=this.$5(t);e&&(e.deferred.resolve==null||e.deferred.resolve(n),this.$3(e.id,Date.now()-e.createdTimestampMs),this.$6(e))},n.reject=function(t,n){var e=this.$5(t);e&&(e.deferred.reject==null||e.deferred.reject(n),this.$4(e.id,n),this.$6(e))},n.rejectAll=function(t){for(var e of this.$2.entries()){var n=e[0],r=e[1];this.reject(n,t)}},n.getSize=function(){return this.$2.size},n.getAllPromises=function(){var e=[];for(var t of this.$2.values())e.push(t.deferred.getPromise());return e},n.$6=function(t){clearTimeout(t.timeoutId),this.$2.delete(t.id)},n.$5=function(t){return this.$2.get(t)},t})();l.default=u}),98);
__d("RequestStreamCloseReason",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["UserIntention","StartStreamFailure","StreamError","RemoteTermination","ServerDataEnd","ServerDrain","ReestablishError","ClientError"]);i.RequestStreamCloseReason=e}),66);
__d("RequestStreamCommonRequestStreamCommonSerializers",["RequestStreamCommonRequestStreamCommonTypes","ThriftTypes","jsbi"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{}}function u(){return{expected_existing_headers:"",patch_headers_if_match:""}}function c(){return{bytes:Uint8Array.of()}}function d(){return{message:""}}function m(){return{reason:o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0)}}function p(){return{}}function _(){return{stream_id:"0",last_sequencer:0,amendment_count:0,last_status:o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0)}}function f(){return{caller_timestamp_ms:"0"}}function g(){return{original_ping_timestamp_ms:"0"}}function h(){return{}}function y(t,n){n.writeStructBegin("ResponseRewriteRequest"),t.new_headers!=null&&(n.writeFieldBegin({fname:"new_headers",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),n.writeString(t.new_headers),n.writeFieldEnd()),t.new_body!=null&&(n.writeFieldBegin({fname:"new_body",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),n.writeBinary(t.new_body),n.writeFieldEnd()),t.patch_headers!=null&&(n.writeFieldBegin({fname:"patch_headers",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:3}),n.writeString(t.patch_headers),n.writeFieldEnd()),t.kill_body!=null&&(n.writeFieldBegin({fname:"kill_body",ftype:(e||(e=r("ThriftTypes"))).BOOL,fid:4}),n.writeBool(t.kill_body),n.writeFieldEnd()),t.temporary!=null&&(n.writeFieldBegin({fname:"temporary",ftype:(e||(e=r("ThriftTypes"))).BOOL,fid:5}),n.writeBool(t.temporary),n.writeFieldEnd()),t.conditional_patch_headers!=null&&(n.writeFieldBegin({fname:"conditional_patch_headers",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:6}),C(t.conditional_patch_headers,n),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function C(t,n){if(n.writeStructBegin("ResponseRewriteConditionalPatchHeaders"),n.writeFieldBegin({fname:"expected_existing_headers",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.expected_existing_headers!=null)n.writeString(t.expected_existing_headers);else{var o="";n.writeString(o)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"patch_headers_if_match",ftype:e.STRING,fid:2}),t.patch_headers_if_match!=null)n.writeString(t.patch_headers_if_match);else{var a="";n.writeString(a)}n.writeFieldEnd(),t.patch_headers_otherwise!=null&&(n.writeFieldBegin({fname:"patch_headers_otherwise",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:3}),n.writeString(t.patch_headers_otherwise),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function b(t,n){if(n.writeStructBegin("ResponseData"),n.writeFieldBegin({fname:"bytes",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.bytes!=null)n.writeBinary(t.bytes);else{var o=Uint8Array.of();n.writeBinary(o)}n.writeFieldEnd(),t.metadata!=null&&(n.writeFieldBegin({fname:"metadata",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),n.writeString(t.metadata),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function v(t,n){if(n.writeStructBegin("LogMessage"),n.writeFieldBegin({fname:"message",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.message!=null)n.writeString(t.message);else{var o="";n.writeString(o)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function S(t,n){if(n.writeStructBegin("Termination"),n.writeFieldBegin({fname:"reason",ftype:(e||(e=r("ThriftTypes"))).I32,fid:1}),t.reason!=null){var a;n.writeI32((a=t.reason)!=null?a:0)}else{var i=o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0);n.writeI32(i!=null?i:0)}n.writeFieldEnd(),t.message!=null&&(n.writeFieldBegin({fname:"message",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),n.writeString(t.message),n.writeFieldEnd()),t.retry_delay_ms!=null&&(n.writeFieldBegin({fname:"retry_delay_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:3}),n.writeI64(r("jsbi").BigInt(t.retry_delay_ms)),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function R(t,n){n.writeStructBegin("AmendStreamAck"),t.amendment_id!=null&&(n.writeFieldBegin({fname:"amendment_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(r("jsbi").BigInt(t.amendment_id)),n.writeFieldEnd()),t.accepted!=null&&(n.writeFieldBegin({fname:"accepted",ftype:(e||(e=r("ThriftTypes"))).BOOL,fid:2}),n.writeBool(t.accepted),n.writeFieldEnd()),t.result!=null&&(n.writeFieldBegin({fname:"result",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:3}),n.writeBinary(t.result),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function L(t,n){if(n.writeStructBegin("StreamCheck"),n.writeFieldBegin({fname:"stream_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),t.stream_id!=null)n.writeI64(r("jsbi").BigInt(t.stream_id));else{var a="0";n.writeI64(r("jsbi").BigInt(a))}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"last_sequencer",ftype:e.I32,fid:2}),t.last_sequencer!=null)n.writeI32(t.last_sequencer);else{var i=0;n.writeI32(i)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"amendment_count",ftype:e.I32,fid:4}),t.amendment_count!=null)n.writeI32(t.amendment_count);else{var l=0;n.writeI32(l)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"last_status",ftype:e.I32,fid:3}),t.last_status!=null){var s;n.writeI32((s=t.last_status)!=null?s:0)}else{var u=o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0);n.writeI32(u!=null?u:0)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function E(t,n){if(n.writeStructBegin("Ping"),n.writeFieldBegin({fname:"caller_timestamp_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),t.caller_timestamp_ms!=null)n.writeI64(r("jsbi").BigInt(t.caller_timestamp_ms));else{var o="0";n.writeI64(r("jsbi").BigInt(o))}if(n.writeFieldEnd(),t.streams_to_check!=null){n.writeFieldBegin({fname:"streams_to_check",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:2}),n.writeListBegin({etype:e.STRUCT,size:t.streams_to_check.length});for(var a of t.streams_to_check)L(a,n);n.writeListEnd(),n.writeFieldEnd()}n.writeFieldStop(),n.writeStructEnd()}function k(t,n){if(n.writeStructBegin("Pong"),n.writeFieldBegin({fname:"original_ping_timestamp_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),t.original_ping_timestamp_ms!=null)n.writeI64(r("jsbi").BigInt(t.original_ping_timestamp_ms));else{var o="0";n.writeI64(r("jsbi").BigInt(o))}if(n.writeFieldEnd(),t.stream_ids_missing!=null){n.writeFieldBegin({fname:"stream_ids_missing",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:2}),n.writeListBegin({etype:e.I64,size:t.stream_ids_missing.length});for(var a of t.stream_ids_missing)n.writeI64(r("jsbi").BigInt(a));n.writeListEnd(),n.writeFieldEnd()}if(t.stream_ids_behind!=null){n.writeFieldBegin({fname:"stream_ids_behind",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:3}),n.writeListBegin({etype:e.I64,size:t.stream_ids_behind.length});for(var i of t.stream_ids_behind)n.writeI64(r("jsbi").BigInt(i));n.writeListEnd(),n.writeFieldEnd()}if(t.stream_ids_with_lost_amendments!=null){n.writeFieldBegin({fname:"stream_ids_with_lost_amendments",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:4}),n.writeListBegin({etype:e.I64,size:t.stream_ids_with_lost_amendments.length});for(var l of t.stream_ids_with_lost_amendments)n.writeI64(r("jsbi").BigInt(l));n.writeListEnd(),n.writeFieldEnd()}if(t.stream_ids_with_wrong_status!=null){n.writeFieldBegin({fname:"stream_ids_with_wrong_status",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:5}),n.writeListBegin({etype:e.I64,size:t.stream_ids_with_wrong_status.length});for(var s of t.stream_ids_with_wrong_status)n.writeI64(r("jsbi").BigInt(s));n.writeListEnd(),n.writeFieldEnd()}n.writeFieldStop(),n.writeStructEnd()}function I(t,n){if(n.writeStructBegin("StreamResponseDelta"),t.flow_status!=null){var o;n.writeFieldBegin({fname:"flow_status",ftype:(e||(e=r("ThriftTypes"))).I32,fid:1}),n.writeI32((o=t.flow_status)!=null?o:0),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.log!=null){n.writeFieldBegin({fname:"log",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:2}),v(t.log,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.rewrite!=null){n.writeFieldBegin({fname:"rewrite",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:3}),y(t.rewrite,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.data!=null){n.writeFieldBegin({fname:"data",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:4}),b(t.data,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.termination!=null){n.writeFieldBegin({fname:"termination",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:5}),S(t.termination,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.amend_ack!=null){n.writeFieldBegin({fname:"amend_ack",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:6}),R(t.amend_ack,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}n.writeFieldStop(),n.writeStructEnd()}function T(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.new_headers=t.readString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.new_body=t.readBinary():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).STRING?n.patch_headers=t.readString():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).BOOL?n.kill_body=t.readBool():t.skip(a);break;case 5:a===(e||(e=r("ThriftTypes"))).BOOL?n.temporary=t.readBool():t.skip(a);break;case 6:a===(e||(e=r("ThriftTypes"))).STRUCT?n.conditional_patch_headers=D(t):t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function D(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.expected_existing_headers=t.readString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.patch_headers_if_match=t.readString():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).STRING?n.patch_headers_otherwise=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.expected_existing_headers===void 0&&(n.expected_existing_headers=""),n.patch_headers_if_match===void 0&&(n.patch_headers_if_match=""),n}function x(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.bytes=t.readBinary():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.metadata=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.bytes===void 0&&(n.bytes=Uint8Array.of()),n}function $(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.message=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.message===void 0&&(n.message=""),n}function P(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I32?n.reason=o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(t.readI32()):t.skip(i);break;case 2:i===(e||(e=r("ThriftTypes"))).STRING?n.message=t.readString():t.skip(i);break;case 3:i===(e||(e=r("ThriftTypes"))).I64?n.retry_delay_ms=t.readI64().toString():t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.reason===void 0&&(n.reason=o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0)),n}function N(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.amendment_id=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).BOOL?n.accepted=t.readBool():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).STRING?n.result=t.readBinary():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function M(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I64?n.stream_id=t.readI64().toString():t.skip(i);break;case 2:i===(e||(e=r("ThriftTypes"))).I32?n.last_sequencer=t.readI32():t.skip(i);break;case 4:i===(e||(e=r("ThriftTypes"))).I32?n.amendment_count=t.readI32():t.skip(i);break;case 3:i===(e||(e=r("ThriftTypes"))).I32?n.last_status=o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(t.readI32()):t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.stream_id===void 0&&(n.stream_id="0"),n.last_sequencer===void 0&&(n.last_sequencer=0),n.amendment_count===void 0&&(n.amendment_count=0),n.last_status===void 0&&(n.last_status=o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0)),n}function w(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.caller_timestamp_ms=t.readI64().toString():t.skip(a);break;case 2:if(a===(e||(e=r("ThriftTypes"))).LIST){n.streams_to_check=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=M(t);n.streams_to_check.push(u)}}else t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.caller_timestamp_ms===void 0&&(n.caller_timestamp_ms="0"),n}function A(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.original_ping_timestamp_ms=t.readI64().toString():t.skip(a);break;case 2:if(a===(e||(e=r("ThriftTypes"))).LIST){n.stream_ids_missing=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readI64().toString();n.stream_ids_missing.push(u)}}else t.skip(a);break;case 3:if(a===(e||(e=r("ThriftTypes"))).LIST){n.stream_ids_behind=[];for(var c=t.readListBegin(),d=0;d<c.size;d++){var m=t.readI64().toString();n.stream_ids_behind.push(m)}}else t.skip(a);break;case 4:if(a===(e||(e=r("ThriftTypes"))).LIST){n.stream_ids_with_lost_amendments=[];for(var p=t.readListBegin(),_=0;_<p.size;_++){var f=t.readI64().toString();n.stream_ids_with_lost_amendments.push(f)}}else t.skip(a);break;case 5:if(a===(e||(e=r("ThriftTypes"))).LIST){n.stream_ids_with_wrong_status=[];for(var g=t.readListBegin(),h=0;h<g.size;h++){var y=t.readI64().toString();n.stream_ids_with_wrong_status.push(y)}}else t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.original_ping_timestamp_ms===void 0&&(n.original_ping_timestamp_ms="0"),n}function F(t){var n,a={};for(t.readStructBegin();;){var i=t.readFieldBegin(),l=i.ftype,s=i.fid;if(l===(e||(e=r("ThriftTypes"))).STOP)break;switch(s){case 1:if(l===(e||(e=r("ThriftTypes"))).I32)if(n==null)a.flow_status=o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(t.readI32()),n="flow_status";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: flow_status, previous deserialized field: "+n);else t.skip(l);break;case 2:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.log=$(t),n="log";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: log, previous deserialized field: "+n);else t.skip(l);break;case 3:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.rewrite=T(t),n="rewrite";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: rewrite, previous deserialized field: "+n);else t.skip(l);break;case 4:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.data=x(t),n="data";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: data, previous deserialized field: "+n);else t.skip(l);break;case 5:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.termination=P(t),n="termination";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: termination, previous deserialized field: "+n);else t.skip(l);break;case 6:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.amend_ack=N(t),n="amend_ack";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: amend_ack, previous deserialized field: "+n);else t.skip(l);break;default:t.skip(l)}t.readFieldEnd()}return t.readStructEnd(),a}l.ResponseRewriteRequest$DefaultConstructor=s,l.ResponseRewriteConditionalPatchHeaders$DefaultConstructor=u,l.ResponseData$DefaultConstructor=c,l.LogMessage$DefaultConstructor=d,l.Termination$DefaultConstructor=m,l.AmendStreamAck$DefaultConstructor=p,l.StreamCheck$DefaultConstructor=_,l.Ping$DefaultConstructor=f,l.Pong$DefaultConstructor=g,l.StreamResponseDelta$DefaultConstructor=h,l.serializeResponseRewriteRequest=y,l.serializeResponseRewriteConditionalPatchHeaders=C,l.serializeResponseData=b,l.serializeLogMessage=v,l.serializeTermination=S,l.serializeAmendStreamAck=R,l.serializeStreamCheck=L,l.serializePing=E,l.serializePong=k,l.serializeStreamResponseDelta=I,l.deserializeResponseRewriteRequest=T,l.deserializeResponseRewriteConditionalPatchHeaders=D,l.deserializeResponseData=x,l.deserializeLogMessage=$,l.deserializeTermination=P,l.deserializeAmendStreamAck=N,l.deserializeStreamCheck=M,l.deserializePing=w,l.deserializePong=A,l.deserializeStreamResponseDelta=F}),98);
__d("RequestStreamSingleChannelSingleChannelRequestStreamTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({Ignored:100,Success:200,Queued:250,UnknownStream:400,HandledUnknownResult:450,Failure:500}),l=n("$InternalEnum")({Request_headers:"request_headers",Request_body:"request_body",Amend:"amend",Ack:"ack",Response:"response",Ping:"ping",Pong:"pong"});a.exports={Ack:e,Payload$Types:l}}),null);
__d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers",["RequestStreamCommonRequestStreamCommonSerializers","RequestStreamCommonRequestStreamCommonTypes","RequestStreamSingleChannelSingleChannelRequestStreamTypes","ThriftTypes","jsbi"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{}}function u(){return{body:Uint8Array.of()}}function c(){return{amendment:Uint8Array.of()}}function d(){return{ack:o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0)}}function m(){return{delta:[]}}function p(){return{}}function _(t,n){n.writeStructBegin("RequestStreamHeaders"),t.headers!=null&&(n.writeFieldBegin({fname:"headers",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),n.writeBinary(t.headers),n.writeFieldEnd()),t.instrumentation_data!=null&&(n.writeFieldBegin({fname:"instrumentation_data",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),n.writeBinary(t.instrumentation_data),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function f(t,n){if(n.writeStructBegin("RequestStreamBody"),n.writeFieldBegin({fname:"body",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.body!=null)n.writeBinary(t.body);else{var o=Uint8Array.of();n.writeBinary(o)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function g(t,n){if(n.writeStructBegin("AmendStream"),t.amendment_id!=null&&(n.writeFieldBegin({fname:"amendment_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(r("jsbi").BigInt(t.amendment_id)),n.writeFieldEnd()),n.writeFieldBegin({fname:"amendment",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),t.amendment!=null)n.writeBinary(t.amendment);else{var o=Uint8Array.of();n.writeBinary(o)}n.writeFieldEnd(),t.is_query!=null&&(n.writeFieldBegin({fname:"is_query",ftype:(e||(e=r("ThriftTypes"))).BOOL,fid:3}),n.writeBool(t.is_query),n.writeFieldEnd()),t.instrumentation_data!=null&&(n.writeFieldBegin({fname:"instrumentation_data",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:4}),n.writeBinary(t.instrumentation_data),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function h(t,n){if(n.writeStructBegin("StreamResponseAck"),t.response_id!=null&&(n.writeFieldBegin({fname:"response_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(r("jsbi").BigInt(t.response_id)),n.writeFieldEnd()),n.writeFieldBegin({fname:"ack",ftype:(e||(e=r("ThriftTypes"))).I32,fid:2}),t.ack!=null){var a;n.writeI32((a=t.ack)!=null?a:0)}else{var i=o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0);n.writeI32(i!=null?i:0)}n.writeFieldEnd(),t.query_result!=null&&(n.writeFieldBegin({fname:"query_result",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:3}),n.writeBinary(t.query_result),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function y(t,n){if(n.writeStructBegin("StreamResponse"),t.response_id!=null&&(n.writeFieldBegin({fname:"response_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(r("jsbi").BigInt(t.response_id)),n.writeFieldEnd()),n.writeFieldBegin({fname:"delta",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:2}),t.delta!=null){n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRUCT,size:t.delta.length});for(var a of t.delta)o("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(a,n);n.writeListEnd()}else{var i=[];n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRUCT,size:i.length});for(var l of i)o("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(l,n);n.writeListEnd()}if(n.writeFieldEnd(),t.ack_level!=null){var s;n.writeFieldBegin({fname:"ack_level",ftype:(e||(e=r("ThriftTypes"))).I32,fid:3}),n.writeI32((s=t.ack_level)!=null?s:0),n.writeFieldEnd()}t.query_request!=null&&(n.writeFieldBegin({fname:"query_request",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:4}),n.writeBinary(t.query_request),n.writeFieldEnd()),t.instrumentation_data!=null&&(n.writeFieldBegin({fname:"instrumentation_data",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:5}),n.writeBinary(t.instrumentation_data),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function C(t,n){if(n.writeStructBegin("Payload"),t.request_headers!=null){n.writeFieldBegin({fname:"request_headers",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:1}),_(t.request_headers,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.request_body!=null){n.writeFieldBegin({fname:"request_body",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:2}),f(t.request_body,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.amend!=null){n.writeFieldBegin({fname:"amend",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:3}),g(t.amend,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.ack!=null){n.writeFieldBegin({fname:"ack",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:4}),h(t.ack,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.response!=null){n.writeFieldBegin({fname:"response",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:5}),y(t.response,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.ping!=null){n.writeFieldBegin({fname:"ping",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:6}),o("RequestStreamCommonRequestStreamCommonSerializers").serializePing(t.ping,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.pong!=null){n.writeFieldBegin({fname:"pong",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:7}),o("RequestStreamCommonRequestStreamCommonSerializers").serializePong(t.pong,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}n.writeFieldStop(),n.writeStructEnd()}function b(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.headers=t.readBinary():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.instrumentation_data=t.readBinary():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function v(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.body=t.readBinary():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.body===void 0&&(n.body=Uint8Array.of()),n}function S(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.amendment_id=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.amendment=t.readBinary():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).BOOL?n.is_query=t.readBool():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).STRING?n.instrumentation_data=t.readBinary():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.amendment===void 0&&(n.amendment=Uint8Array.of()),n}function R(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I64?n.response_id=t.readI64().toString():t.skip(i);break;case 2:i===(e||(e=r("ThriftTypes"))).I32?n.ack=o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(t.readI32()):t.skip(i);break;case 3:i===(e||(e=r("ThriftTypes"))).STRING?n.query_result=t.readBinary():t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.ack===void 0&&(n.ack=o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0)),n}function L(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I64?n.response_id=t.readI64().toString():t.skip(i);break;case 2:if(i===(e||(e=r("ThriftTypes"))).LIST){n.delta=[];for(var s=t.readListBegin(),u=0;u<s.size;u++){var c=o("RequestStreamCommonRequestStreamCommonSerializers").deserializeStreamResponseDelta(t);n.delta.push(c)}}else t.skip(i);break;case 3:i===(e||(e=r("ThriftTypes"))).I32?n.ack_level=o("RequestStreamCommonRequestStreamCommonTypes").AckLevel.cast(t.readI32()):t.skip(i);break;case 4:i===(e||(e=r("ThriftTypes"))).STRING?n.query_request=t.readBinary():t.skip(i);break;case 5:i===(e||(e=r("ThriftTypes"))).STRING?n.instrumentation_data=t.readBinary():t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.delta===void 0&&(n.delta=[]),n}function E(t){var n,a={};for(t.readStructBegin();;){var i=t.readFieldBegin(),l=i.ftype,s=i.fid;if(l===(e||(e=r("ThriftTypes"))).STOP)break;switch(s){case 1:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.request_headers=b(t),n="request_headers";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_headers, previous deserialized field: "+n);else t.skip(l);break;case 2:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.request_body=v(t),n="request_body";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_body, previous deserialized field: "+n);else t.skip(l);break;case 3:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.amend=S(t),n="amend";else throw new Error("more than one field have been deserialized in union type: Payload; current field: amend, previous deserialized field: "+n);else t.skip(l);break;case 4:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.ack=R(t),n="ack";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ack, previous deserialized field: "+n);else t.skip(l);break;case 5:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.response=L(t),n="response";else throw new Error("more than one field have been deserialized in union type: Payload; current field: response, previous deserialized field: "+n);else t.skip(l);break;case 6:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.ping=o("RequestStreamCommonRequestStreamCommonSerializers").deserializePing(t),n="ping";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ping, previous deserialized field: "+n);else t.skip(l);break;case 7:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.pong=o("RequestStreamCommonRequestStreamCommonSerializers").deserializePong(t),n="pong";else throw new Error("more than one field have been deserialized in union type: Payload; current field: pong, previous deserialized field: "+n);else t.skip(l);break;default:t.skip(l)}t.readFieldEnd()}return t.readStructEnd(),a}l.RequestStreamHeaders$DefaultConstructor=s,l.RequestStreamBody$DefaultConstructor=u,l.AmendStream$DefaultConstructor=c,l.StreamResponseAck$DefaultConstructor=d,l.StreamResponse$DefaultConstructor=m,l.Payload$DefaultConstructor=p,l.serializeRequestStreamHeaders=_,l.serializeRequestStreamBody=f,l.serializeAmendStream=g,l.serializeStreamResponseAck=h,l.serializeStreamResponse=y,l.serializePayload=C,l.deserializeRequestStreamHeaders=b,l.deserializeRequestStreamBody=v,l.deserializeAmendStream=S,l.deserializeStreamResponseAck=R,l.deserializeStreamResponse=L,l.deserializePayload=E}),98);
__d("RequestStreamState",["RequestStreamCommonRequestStreamCommonTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){switch(t){case o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:return e.seenAccepted||e.flowStatus===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started?e:{flowStatus:o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted,seenAccepted:!0};default:return!e.seenAccepted||e.flowStatus===t?e:{flowStatus:t,seenAccepted:!0}}}l.getNextState=e}),98);
__d("StreamRetryState",[],(function(t,n,r,o,a,i){"use strict";var e=1e3,l=120*1e3,s=(function(){function t(){this.$1=0}var n=t.prototype;return n.resetErrorAndRetryCount=function(){this.$1=0},n.onRetry=function(){this.$1+=1},n.getRetryCount=function(){return this.$1},n.getBackoffDelayMs=function(){if(this.$1<=1)return 0;if(this.$1===2)return e*Math.random();var t=e*Math.pow(2,this.$1-3),n=t*Math.random(),r=t+n;return Math.min(r,l)},t})();i.default=s}),66);
__d("DGWRequestStreamRef",["CompactSerializerPolyfill","DGWRequestStreamUtils","DGWStream","DGWStreamHandler","InflightAmends","Promise","RequestStreamCloseReason","RequestStreamCommonRequestStreamCommonTypes","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamSingleChannelSingleChannelRequestStreamSerializers","RequestStreamSingleChannelSingleChannelRequestStreamTypes","RequestStreamState","RequestStreamTransport","RtiWebRequestStreamClient","StreamRetryState","asyncToGeneratorRuntime","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=4,u=0,c=1e3,d=2,m=5e3,p="dgw_stream_send_ack_failure";function _(e){if(!e){var t=r("err")(p);throw t.stack,t}}function f(e,t){if(e==null||e.length===0)return null;var n=JSON.parse(e);return n.auxId=t,new TextEncoder().encode(JSON.stringify(n))}function g(e){var t={},n=e.delta;return n.forEach(function(e){if(e.flow_status)switch(t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Flow_status,e.flow_status){case o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:t.flow_status="Accepted";break;case o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started:t.flow_status="Started";break;case o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped:t.flow_status="Stopped";break}else e.log?t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Log:e.rewrite?t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Rewrite:e.data?t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Data:e.termination?t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Termination:e.amend_ack&&(t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Amend_ack)}),t}var h=(function(){function t(e,t,n,a,i,l,u){var c=this,d,_,f;this.$6=null,this.$7={},this.$10=!1,this.$15=new(r("StreamRetryState")),this.$16=0,this.$17=0,this.$18=0,this.$21=0;var g=null;typeof t=="string"?g=new TextEncoder().encode(t):typeof t=="object"&&(g=t),this.$1={headers:e,body:g},this.$3=n,this.$4=u,this.$12=s,this.$9=!1,this.$14=!1,this.$20=l;var h=a==null?void 0:a.serviceId;i!=null&&(this.$22()||(i.dgwStreamGroupLoggingId=this.$20.getStreamGroupLoggingId(h)),i.dgwCountPriorStreamsInGroup=this.$20.guessStreamGroupPriorStreamCount(h),i.transport="WEB_RS_STARGATE"),this.$5=o("RequestStreamE2ESampling").validateInstrumentationData(e,i,a==null?void 0:a.requestLogContext,a==null?void 0:a.upsampleMultiplier),this.$22()?this.$7.disableFalcoLogging=!0:this.$6=o("RequestStreamE2ELogger").createStreamLogger(e,this.$5,o("RequestStreamTransport").RequestStreamTransport.WEB_RS_STARGATE),(a==null?void 0:a.deviceId)!=null&&(this.$7.deviceId=a.deviceId),this.$6&&(this.$7.loggingId=this.$6.getRequestId()),a&&a.overrideUrl!=null&&(this.$7.overrideUrl=a.overrideUrl),h!=null&&(this.$7.serviceId=h),(a==null?void 0:a.authType)!=null&&(this.$7.authType=a.authType),(a==null?void 0:a.authToken)!=null&&(this.$7.authToken=a.authToken),this.$8={flowStatus:o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped,seenAccepted:!1},this.$19=new(r("InflightAmends"))(m,function(e,t){var n;(n=c.$6)==null||n.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,r("RequestStreamE2EClientLoggerEvent").RECEIVED,babelHelpers.extends({},c.$23(),{latency:t.toString()}),e)},function(e,t){if(t.message!==p){var n;(n=c.$6)==null||n.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,r("RequestStreamE2EClientLoggerEvent").FAILURE,babelHelpers.extends({},c.$23(),{reason:t.message}),e)}}),(d=this.$6)==null||d.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:(_=t==null||(f=t.length)==null?void 0:f.toString())!=null?_:"0"},"0","0")}var a=t.prototype;return a.getInstrumentationData=function(){return this.$5},a.getE2EClientLogger=function(){return this.$6},a.amendWithAck=function(r){var t=this.$24(r,!0);return t==null?(e||(e=n("Promise"))).resolve(!1):this.$19.getPromise(t)||(e||(e=n("Promise"))).resolve(!1)},a.amendWithoutAck=function(t){this.$24(t,!1)},a.cancel=function(){var e;(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").CANCEL,r("RequestStreamE2EClientLoggerEvent").RECEIVED),this.$9=!0,this.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)},a.start=function(a){var t=this;a===void 0&&(a=!1);var i=String(this.$16++),l=Date.now();return this.$26(i).then(function(){var e;t.$14=!1,t.$21=0;var n=(Date.now()-l).toString();(e=t.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:n},i,String(t.$18))}).catch(function(l){if(l.stack,!(l.message===p&&t.$10))if(t.$14=!1,l!==o("DGWStream").StreamError.ESTABLISHMENT_ERROR){var s,u=l.message;if(l===o("DGWStream").StreamError.UNAUTHENTICATED?u="UNAUTHENTICATED":l===o("DGWStream").StreamError.UNAUTHORIZED&&(u="UNAUTHORIZED"),(s=t.$6)==null||s.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:u},i,String(t.$18)),t.$25(a?o("RequestStreamCloseReason").RequestStreamCloseReason.ReestablishError:o("RequestStreamCloseReason").RequestStreamCloseReason.StartStreamFailure,u,!0),l===o("DGWStream").StreamError.UNAUTHENTICATED||l===o("DGWStream").StreamError.UNAUTHORIZED)return;throw l}else{var m,_;(m=t.$6)==null||m.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:(_=l.message)!=null?_:l},i,String(t.$18)),t.$15.onRetry();var f=t.$4.unlimited_retries_on_stream_error?t.$15.getBackoffDelayMs():c*Math.pow(d,t.$21);return new(e||(e=n("Promise")))(function(e){return window.setTimeout(e,f)}).then(function(){return t.$21++,t.$18++,t.start()})}})},a.getFlowStatus=function(){return this.$8.flowStatus},a.shouldTerminateOrRetry=function(a,i,l,s){var t=this;if(!this.$14){var c=i;if(this.$12||(c="cannot retry for error: "+i+" because of hit max retry limitation"),a!==o("RequestStreamCloseReason").RequestStreamCloseReason.ClientError){var d;(d=this.$6)==null||d.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:c},null,String(this.$18))}var m=l&&(this.$4.unlimited_retries_on_stream_error||this.$12);if(this.$25(a,c,!m),m){var p=this.$4.unlimited_retries_on_stream_error?Math.max(s!=null?s:0,this.$15.getBackoffDelayMs()):s!=null?s:u;return this.$14=!0,new(e||(e=n("Promise")))(function(e){return window.setTimeout(e,p)}).then(function(){return t.$27()}).catch(function(e){})}}},a.$28=function(){return this.$11!=null},a.$24=function(t,n){var e,a=this,i=typeof t=="string"?new TextEncoder().encode(t):t,l=String(this.$17++);(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{},l);var s=f(this.$5,l),u={amend:{amendment:i,instrumentation_data:s}};n&&u.amend&&(u.amend.amendment_id=l);var c=o("CompactSerializerPolyfill").serialize(u,o("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload),d=Date.now();if(this.$29()&&this.$11!=null){var m,p,g;return n&&this.$19.add(l),this.$11.send(c).then(function(e){var t;_(e);var n=(Date.now()-d).toString();(t=a.$6)==null||t.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:n},l)}).catch(function(e){var t;(t=a.$6)==null||t.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:e.message},l),a.$19.reject(l,e)}),(m=this.$6)==null||m.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").SENT,{data_size:(p=t==null||(g=t.length)==null?void 0:g.toString())!=null?p:"0"},l),l}else{var h;(h=this.$6)==null||h.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},l)}},a.$26=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=this;if(this.$9)throw new Error("stream_already_canceled");var n,a=this.$2||this.$1;try{var i=this.$30();this.$13=i;var l=a.headers.graphiql_sandbox,u=babelHelpers.extends({},a.headers,this.$31());l!=null&&(u=babelHelpers.extends({},u,{www_sandbox:l,distillery_sandbox:l+":8086"}));var c=o("DGWRequestStreamUtils").convertHeaders(u,a.body!=null,this.$5);this.$11=yield this.$20.establishStream(c,i,this.$7)}catch(e){var d=typeof e=="string"?o("DGWStream").StreamError.cast(e):void 0;if(d===o("DGWStream").StreamError.ESTABLISHMENT_ERROR||d!=null&&!o("DGWStream").isRetryableError(d))throw d;if(d!=null&&o("DGWStream").isRetryableError(d)){this.$32(d);return}throw e}if(this.$9){this.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0);return}var m=new Uint8Array([]);if(a.body!=null){var p={request_body:{body:a.body}};m=o("CompactSerializerPolyfill").serialize(p,o("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload)}if(!this.$11)throw new Error("dgwstream_is_null");var f=this.$11.send(m).then(function(e){_(e),t.$9&&t.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)});return(n=this.$6)==null||n.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").SENT,{},e,String(this.$18)),this.$12=s,f});function t(t){return e.apply(this,arguments)}return t})(),a.$29=function(){return this.$8.flowStatus===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started||this.$8.flowStatus===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted},a.$25=function(t,n,r){var e;this.$11&&t!==o("RequestStreamCloseReason").RequestStreamCloseReason.StreamError&&t!==o("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination&&this.$11.close(),(e=this.$13)==null||e.stop(),this.$11=null,this.$10=!0,this.$33(o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped)&&this.$3.onFlowStatus(o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped),r&&!this.$9&&this.$3.onTermination("terminate stream because "+t+" with msg : "+n)},a.$33=function(t){var e=this.$8;return this.$8=o("RequestStreamState").getNextState(e,t),e!==this.$8},a.$27=function(){return this.$12--,this.$18++,this.$15.onRetry(),this.start(!0)},a.$34=function(t){var e=this,n=o("CompactSerializerPolyfill").deserialize(t,o("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").deserializePayload);if(n.response){var a,i,l=o("DGWRequestStreamUtils").getInstrumentationDataFieldsFromPayload(n),s=l==null?void 0:l.auxId,u=l==null?void 0:l.dfTraceId;if(!this.$28()){var c;(c=this.$6)==null||c.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"response_received_after_close"},s,String(this.$18),u);return}var d;(a=this.$6)==null||a.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").RECEIVED,g(n.response),s,String(this.$18),u,d);var m=n.response.delta;m.forEach(function(t){if(t.data)e.$15.resetErrorAndRetryCount(),e.$3.onData(new TextDecoder("utf-8").decode(t.data.bytes));else if(t.flow_status){var n=t.flow_status;n===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&e.$15.resetErrorAndRetryCount(),e.$33(n)&&e.$3.onFlowStatus(n)}else if(t.termination){var r,a=(r=t.termination.message)!=null?r:"unknown termination msg";e.$2=null,e.shouldTerminateOrRetry(o("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,a,t.termination.reason===o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.TryAgain,t.termination.retry_delay_ms!=null?parseInt(t.termination.retry_delay_ms,10):null)}else if(t.log)e.$3.onLog(t.log.message);else if(t.amend_ack){var i=t.amend_ack.amendment_id;if(i!=null){var l=t.amend_ack.accepted||!1;e.$19.resolve(i,l)}}else if(t.rewrite){var s=o("DGWRequestStreamUtils").transformContextWithRewriteDelta(e.$1,t.rewrite);t.rewrite.temporary===!0?e.$2=s:e.$1=s}}),(i=this.$6)==null||i.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").SENT,g(n.response),s,String(this.$18),u),n.response.ack_level===o("RequestStreamCommonRequestStreamCommonTypes").AckLevel.Device&&n.response.response_id!=null&&this.$35(n.response.response_id,s)}else{var p;(p=this.$6)==null||p.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"unexpected_payload_type"},null,String(this.$18))}},a.$35=function(t,n){var e={ack:{response_id:t,ack:o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.Success}},a=o("CompactSerializerPolyfill").serialize(e,o("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload);if(this.$11!=null){var i;this.$11.send(a),(i=this.$6)==null||i.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,r("RequestStreamE2EClientLoggerEvent").SENT,{},n,String(this.$18))}else{var l;(l=this.$6)==null||l.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},n,String(this.$18))}},a.$22=function(){return this.$1.headers.method==="Falco"},a.$30=function(){var e=this;return new(r("DGWStreamHandler"))(function(t){return e.$36(t)},function(t){return e.$37(t)},function(t){return e.$32(t)},function(t,n){return e.$38(t,n)},function(t){return e.$39(t)})},a.$39=function(t){var e;(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Has FinishedSendingData"},null,String(this.$18)),this.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.ServerDataEnd,"Client receive OnServerHasFinishedSendingData and Server will not send more data",!0)},a.$36=function(t){var e;(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Close Connection"},null,String(this.$18)),this.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,"Client receive OnClose and Server will not send more data",!0)},a.$37=function(t){try{this.$34(t)}catch(t){var e,n=r("getErrorSafe")(t);(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:n.message},null,String(this.$18)),this.shouldTerminateOrRetry(o("RequestStreamCloseReason").RequestStreamCloseReason.ClientError,n.message,!1)}},a.$32=function(t){var e="",n=o("DGWStream").isRetryableError(t);e="StreamError: Received "+t,this.shouldTerminateOrRetry(o("RequestStreamCloseReason").RequestStreamCloseReason.StreamError,e,n)},a.$38=function(t,n){this.shouldTerminateOrRetry(o("RequestStreamCloseReason").RequestStreamCloseReason.ServerDrain,n,!0)},a.$31=function(){return r("RtiWebRequestStreamClient").overrideHeaders},a.$23=function(){return{pending_amendments_size:this.$19.getSize().toString()}},t})();l.default=h}),98);
__d("DGWStreamFactory",["DGWClient","DGWStreamGroupHandler","Promise","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s="realtime",u=1e4,c=null,d=(function(){function t(e){this.$1=e,this.$2={}}t.get=function(n){return c==null&&(c=new t(n)),c};var o=t.prototype;return o.$3=function(t){this.$2[t]={dgwStreamGroup:null,multiStreamGroupLoggingId:null,multiStreamGroupPriorStreamCountGuess:0,authType:null}},o.getStreamGroupLoggingId=function(t){var e;return t===void 0&&(t=null),(e=this.$2[t!=null?t:s])==null?void 0:e.multiStreamGroupLoggingId},o.guessStreamGroupPriorStreamCount=function(t){var e;return t===void 0&&(t=null),((e=this.$2[t!=null?t:s])==null?void 0:e.multiStreamGroupPriorStreamCountGuess)||0},o.establishStream=function(o,a,i){var t=this,l=i.serviceId==null?s:i.serviceId,c=this.$2[l],d=c==null?void 0:c.dgwStreamGroup,m=c==null?void 0:c.authType,p=i.authType,_=d!=null&&m!==p;if(d==null||!d.canCreateGroupedStream()||_){var f={deviceId:i.deviceId,serviceId:l,disableFalcoLogging:i.disableFalcoLogging,streamGroupAppHeaders:{"stream-group":"group1"},authToken:i.authToken,authType:i.authType};i.overrideUrl!=null&&(f.overrideUrl=i.overrideUrl),f.keepAliveMs=u,this.$1.log_dgw_streamgroup&&(f.loggingId=r("uuidv4")());try{d=r("DGWClient")().createStreamGroup(new(r("DGWStreamGroupHandler"))(function(){t.$3(l)},function(){t.$3(l)},function(){t.$3(l)}),f),this.$2[l]={dgwStreamGroup:d,multiStreamGroupLoggingId:f.loggingId,multiStreamGroupPriorStreamCountGuess:0,authType:i.authType}}catch(t){return(e||(e=n("Promise"))).reject(t)}}return this.$2[l].multiStreamGroupPriorStreamCountGuess++,d.establishStream({loggingId:i.loggingId,disableFalcoLogging:i.disableFalcoLogging,groupedStreamHeaders:o},a)},t})();l.default=d}),98);
__d("DGWRequestStreamClient",["DGWRequestStreamRef","DGWStreamFactory","Promise","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t){this.$1=e,this.$2=t!=null?t:r("DGWStreamFactory").get(e.dgwStreamFactoryConfig)}var o=t.prototype;return o.createStream=function(o,a,i,l,s){var t=i;return(e||(e=n("Promise"))).resolve(new(r("DGWRequestStreamRef"))(o,a,l,s,t,this.$2,this.$1.dgwRequestStreamRefConfig))},t})();l.default=s}),98);/*FB_PKG_DELIM*/
__d("AggregateError",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(n,r){var o,a=r!=null?r:l(n);return o=e.call(this,a)||this,o.name="AggregateError",o.errors=n,o.message=a,Error.captureStackTrace&&Error.captureStackTrace(o,t),o}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));function l(e){return e.length===0?"No errors":e.length===1?e[0].message:e.map(function(e){return"- "+e.message}).join("\n")}i.default=e}),66);
__d("StructuredConfigBase",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.getBool=function(t){return this.$1.getValue(t)>0},t.getInt=function(t){return this.$1.getValue(t)},e})();i.default=e}),66);
__d("Configs",["StructuredConfigBase"],(function(t,n,r,o,a,i){"use strict";var e,l=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ExampleConfig1=t.getBool(0),t.$ExampleConfig2=t.getBool(2),t.$ExampleConfig3=t.getBool(1724),t.$ExampleConfig4=t.getBool(2044),t.$ExampleConfig5=t.getInt(1),t.$ExampleConfig6=t.getInt(3),t.$ExampleConfig7=t.getInt(2011),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ExampleConfig1=this.getBool(0),this.$ExampleConfig2=this.getBool(2),this.$ExampleConfig3=this.getBool(1724),this.$ExampleConfig4=this.getBool(2044),this.$ExampleConfig5=this.getInt(1),this.$ExampleConfig6=this.getInt(3),this.$ExampleConfig7=this.getInt(2011)},n.isEnabled=function(){return this.$ExampleConfig1},n.isSomeBoolean=function(){return this.$ExampleConfig2},n.isSomeOtherIntegerHasValue=function(){return this.$ExampleConfig3},n.isSomeOtherBoolean=function(){return this.$ExampleConfig4},n.getSomeInteger=function(){return this.$ExampleConfig5},n.getSomeOtherInteger=function(){return this.$ExampleConfig6},n.getSomeDouble=function(){return this.$ExampleConfig7},t})(e=n("StructuredConfigBase")),s=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$PreferredCaptureConfig1=t.getBool(173),t.$PreferredCaptureConfig2=t.getBool(3919),t.$PreferredCaptureConfig3=t.getBool(4478),t.$PreferredCaptureConfig4=t.getInt(174),t.$PreferredCaptureConfig5=t.getInt(175),t.$PreferredCaptureConfig6=t.getInt(176),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$PreferredCaptureConfig1=this.getBool(173),this.$PreferredCaptureConfig2=this.getBool(3919),this.$PreferredCaptureConfig3=this.getBool(4478),this.$PreferredCaptureConfig4=this.getInt(174),this.$PreferredCaptureConfig5=this.getInt(175),this.$PreferredCaptureConfig6=this.getInt(176)},n.isEnabled=function(){return this.$PreferredCaptureConfig1},n.isPreferStableFps=function(){return this.$PreferredCaptureConfig2},n.isEnabledForZenon=function(){return this.$PreferredCaptureConfig3},n.getWidthPx=function(){return this.$PreferredCaptureConfig4},n.getHeightPx=function(){return this.$PreferredCaptureConfig5},n.getFps=function(){return this.$PreferredCaptureConfig6},t})(e),u=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonSdpTransformConfig1=t.getBool(244),t.$ZenonSdpTransformConfig2=t.getBool(420),t.$ZenonSdpTransformConfig3=t.getBool(421),t.$ZenonSdpTransformConfig4=t.getBool(245),t.$ZenonSdpTransformConfig5=t.getBool(246),t.$ZenonSdpTransformConfig6=t.getBool(248),t.$ZenonSdpTransformConfig7=t.getBool(1448),t.$ZenonSdpTransformConfig8=t.getBool(1444),t.$ZenonSdpTransformConfig9=t.getBool(1445),t.$ZenonSdpTransformConfig10=t.getInt(1446),t.$ZenonSdpTransformConfig11=t.getInt(1447),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonSdpTransformConfig1=this.getBool(244),this.$ZenonSdpTransformConfig2=this.getBool(420),this.$ZenonSdpTransformConfig3=this.getBool(421),this.$ZenonSdpTransformConfig4=this.getBool(245),this.$ZenonSdpTransformConfig5=this.getBool(246),this.$ZenonSdpTransformConfig6=this.getBool(248),this.$ZenonSdpTransformConfig7=this.getBool(1448),this.$ZenonSdpTransformConfig8=this.getBool(1444),this.$ZenonSdpTransformConfig9=this.getBool(1445),this.$ZenonSdpTransformConfig10=this.getInt(1446),this.$ZenonSdpTransformConfig11=this.getInt(1447)},n.isPreserveH264=function(){return this.$ZenonSdpTransformConfig1},n.isPreferH264ForMwCall=function(){return this.$ZenonSdpTransformConfig2},n.isPreferSwH264=function(){return this.$ZenonSdpTransformConfig3},n.isAddAudioNack=function(){return this.$ZenonSdpTransformConfig4},n.isDisableOpusStereo=function(){return this.$ZenonSdpTransformConfig5},n.isPreferIsacForGroupAudio=function(){return this.$ZenonSdpTransformConfig6},n.isEnableOpusFmtpMunging=function(){return this.$ZenonSdpTransformConfig7},n.isSetOpusUsedtx=function(){return this.$ZenonSdpTransformConfig8},n.isSetOpusUseinbandfec=function(){return this.$ZenonSdpTransformConfig9},n.getSetOpusMaxplaybackrate=function(){return this.$ZenonSdpTransformConfig10},n.getSetOpusMaxaveragebitrate=function(){return this.$ZenonSdpTransformConfig11},t})(e),c=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonPeerConnectionConfig1=t.getBool(302),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonPeerConnectionConfig1=this.getBool(302)},n.isRtpDataChannels=function(){return this.$ZenonPeerConnectionConfig1},t})(e),d=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonStartCallImmediatelyConfig1=t.getBool(308),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonStartCallImmediatelyConfig1=this.getBool(308)},n.isEnabled=function(){return this.$ZenonStartCallImmediatelyConfig1},t})(e),m=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonGeneralizedIdentityConfig1=t.getInt(1891),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonGeneralizedIdentityConfig1=this.getInt(1891)},n.getDuplicatedParticipantsProcessingMode=function(){return this.$ZenonGeneralizedIdentityConfig1},t})(e),p=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonMultiCallSupportConfig1=t.getInt(309),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonMultiCallSupportConfig1=this.getInt(309)},n.getMaxConnectedCalls=function(){return this.$ZenonMultiCallSupportConfig1},t})(e),_=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonPlatformSupportConfig1=t.getBool(316),t.$ZenonPlatformSupportConfig2=t.getBool(318),t.$ZenonPlatformSupportConfig3=t.getBool(2251),t.$ZenonPlatformSupportConfig4=t.getBool(1900),t.$ZenonPlatformSupportConfig5=t.getInt(317),t.$ZenonPlatformSupportConfig6=t.getInt(319),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonPlatformSupportConfig1=this.getBool(316),this.$ZenonPlatformSupportConfig2=this.getBool(318),this.$ZenonPlatformSupportConfig3=this.getBool(2251),this.$ZenonPlatformSupportConfig4=this.getBool(1900),this.$ZenonPlatformSupportConfig5=this.getInt(317),this.$ZenonPlatformSupportConfig6=this.getInt(319)},n.isSupportsZenonPlatform=function(){return this.$ZenonPlatformSupportConfig1},n.isStartImmediatelyEnabled=function(){return this.$ZenonPlatformSupportConfig2},n.isUploadSummaryOnCallEnded=function(){return this.$ZenonPlatformSupportConfig3},n.isMultiwayAvEscalationEnabled=function(){return this.$ZenonPlatformSupportConfig4},n.getMaxConnectedCalls=function(){return this.$ZenonPlatformSupportConfig5},n.getParentWindowConnectionTimeoutMs=function(){return this.$ZenonPlatformSupportConfig6},t})(e),f=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$ZenonSimulcastConfig1=t.getBool(453),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$ZenonSimulcastConfig1=this.getBool(453)},n.isSimulcastEnabled=function(){return this.$ZenonSimulcastConfig1},t})(e),g=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$DynamicRuleConfig1=t.getBool(1342),t.$DynamicRuleConfig2=t.getBool(1597),t.$DynamicRuleConfig3=t.getInt(1359),t.$DynamicRuleConfig4=t.getInt(1510),t.$DynamicRuleConfig5=t.getInt(1612),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$DynamicRuleConfig1=this.getBool(1342),this.$DynamicRuleConfig2=this.getBool(1597),this.$DynamicRuleConfig3=this.getInt(1359),this.$DynamicRuleConfig4=this.getInt(1510),this.$DynamicRuleConfig5=this.getInt(1612)},n.isEnabled=function(){return this.$DynamicRuleConfig1},n.isDebugLoggingEnabled=function(){return this.$DynamicRuleConfig2},n.getProcessIntervalMs=function(){return this.$DynamicRuleConfig3},n.getNetworkProcessIntervalMs=function(){return this.$DynamicRuleConfig4},n.getDebugLoggingIntervalMs=function(){return this.$DynamicRuleConfig5},t})(e),h=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$SignalingPingConfig1=t.getInt(1470),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$SignalingPingConfig1=this.getInt(1470)},n.getPingIntervalMs=function(){return this.$SignalingPingConfig1},t})(e),y=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.$NetEqAiConfig1=t.getBool(4550),t.$NetEqAiConfig2=t.getBool(4551),t.$NetEqAiConfig3=t.getInt(4552),t.$NetEqAiConfig4=t.getInt(5477),babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.updateParams=function(){this.$NetEqAiConfig1=this.getBool(4550),this.$NetEqAiConfig2=this.getBool(4551),this.$NetEqAiConfig3=this.getInt(4552),this.$NetEqAiConfig4=this.getInt(5477)},n.isEnabled=function(){return this.$NetEqAiConfig1},n.isDisableTimeStretching=function(){return this.$NetEqAiConfig2},n.getPacketWaitTimeMs=function(){return this.$NetEqAiConfig3},n.getCngDelayMs=function(){return this.$NetEqAiConfig4},t})(e);a.exports={ExampleConfig:l,PreferredCaptureConfig:s,ZenonSdpTransformConfig:u,ZenonPeerConnectionConfig:c,ZenonStartCallImmediatelyConfig:d,ZenonGeneralizedIdentityConfig:m,ZenonMultiCallSupportConfig:p,ZenonPlatformSupportConfig:_,ZenonSimulcastConfig:f,DynamicRuleConfig:g,SignalingPingConfig:h,NetEqAiConfig:y}}),null);
__d("E2eeMetricsSerializers",["ThriftTypes"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{}}function u(){return{}}function c(){return{p2p_e2ee:s(),group_e2ee:u()}}function d(t,n){if(n.writeStructBegin("P2pE2eeMetrics"),t.engine_type!=null&&(n.writeFieldBegin({fname:"engine_type",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(BigInt(t.engine_type)),n.writeFieldEnd()),t.status!=null&&(n.writeFieldBegin({fname:"status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:2}),n.writeI64(BigInt(t.status)),n.writeFieldEnd()),t.version!=null&&(n.writeFieldBegin({fname:"version",ftype:(e||(e=r("ThriftTypes"))).I64,fid:3}),n.writeI64(BigInt(t.version)),n.writeFieldEnd()),t.gen_prekey_bundle_time_ms!=null&&(n.writeFieldBegin({fname:"gen_prekey_bundle_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:4}),n.writeI64(BigInt(t.gen_prekey_bundle_time_ms)),n.writeFieldEnd()),t.encrypted_msg_time_ms!=null&&(n.writeFieldBegin({fname:"encrypted_msg_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:5}),n.writeI64(BigInt(t.encrypted_msg_time_ms)),n.writeFieldEnd()),t.decrypted_msg_time_ms!=null&&(n.writeFieldBegin({fname:"decrypted_msg_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:6}),n.writeI64(BigInt(t.decrypted_msg_time_ms)),n.writeFieldEnd()),t.process_sdp_crypto_time_ms!=null&&(n.writeFieldBegin({fname:"process_sdp_crypto_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:7}),n.writeI64(BigInt(t.process_sdp_crypto_time_ms)),n.writeFieldEnd()),t.create_crypto_offer_time_ms!=null&&(n.writeFieldBegin({fname:"create_crypto_offer_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:8}),n.writeI64(BigInt(t.create_crypto_offer_time_ms)),n.writeFieldEnd()),t.create_crypto_answer_time_ms!=null&&(n.writeFieldBegin({fname:"create_crypto_answer_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:9}),n.writeI64(BigInt(t.create_crypto_answer_time_ms)),n.writeFieldEnd()),t.get_ik_time_ms!=null&&(n.writeFieldBegin({fname:"get_ik_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:10}),n.writeI64(BigInt(t.get_ik_time_ms)),n.writeFieldEnd()),t.peer_id!=null&&(n.writeFieldBegin({fname:"peer_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:11}),n.writeI64(BigInt(t.peer_id)),n.writeFieldEnd()),t.peer_connection_index!=null&&(n.writeFieldBegin({fname:"peer_connection_index",ftype:(e||(e=r("ThriftTypes"))).I64,fid:12}),n.writeI64(BigInt(t.peer_connection_index)),n.writeFieldEnd()),t.srtp_crypto_suite!=null&&(n.writeFieldBegin({fname:"srtp_crypto_suite",ftype:(e||(e=r("ThriftTypes"))).I64,fid:13}),n.writeI64(BigInt(t.srtp_crypto_suite)),n.writeFieldEnd()),t.engine_error!=null&&(n.writeFieldBegin({fname:"engine_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:14}),n.writeI64(BigInt(t.engine_error)),n.writeFieldEnd()),t.libsignal_error!=null&&(n.writeFieldBegin({fname:"libsignal_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:15}),n.writeI64(BigInt(t.libsignal_error)),n.writeFieldEnd()),t.identity_key_mode!=null&&(n.writeFieldBegin({fname:"identity_key_mode",ftype:(e||(e=r("ThriftTypes"))).I64,fid:16}),n.writeI64(BigInt(t.identity_key_mode)),n.writeFieldEnd()),t.identity_key_num_persistent!=null&&(n.writeFieldBegin({fname:"identity_key_num_persistent",ftype:(e||(e=r("ThriftTypes"))).I64,fid:17}),n.writeI64(BigInt(t.identity_key_num_persistent)),n.writeFieldEnd()),t.identity_key_num_validated!=null&&(n.writeFieldBegin({fname:"identity_key_num_validated",ftype:(e||(e=r("ThriftTypes"))).I64,fid:18}),n.writeI64(BigInt(t.identity_key_num_validated)),n.writeFieldEnd()),t.identity_key_num_saved!=null&&(n.writeFieldBegin({fname:"identity_key_num_saved",ftype:(e||(e=r("ThriftTypes"))).I64,fid:19}),n.writeI64(BigInt(t.identity_key_num_saved)),n.writeFieldEnd()),t.identity_key_num_existing!=null&&(n.writeFieldBegin({fname:"identity_key_num_existing",ftype:(e||(e=r("ThriftTypes"))).I64,fid:20}),n.writeI64(BigInt(t.identity_key_num_existing)),n.writeFieldEnd()),t.is_e2ee_mandated!=null&&(n.writeFieldBegin({fname:"is_e2ee_mandated",ftype:(e||(e=r("ThriftTypes"))).I64,fid:21}),n.writeI64(BigInt(t.is_e2ee_mandated)),n.writeFieldEnd()),t.local_trace_id!=null&&(n.writeFieldBegin({fname:"local_trace_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:22}),n.writeI64(BigInt(t.local_trace_id)),n.writeFieldEnd()),t.remote_trace_id!=null&&(n.writeFieldBegin({fname:"remote_trace_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:23}),n.writeI64(BigInt(t.remote_trace_id)),n.writeFieldEnd()),t.local_device_id!=null&&(n.writeFieldBegin({fname:"local_device_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:24}),n.writeI64(BigInt(t.local_device_id)),n.writeFieldEnd()),t.remote_device_id!=null&&(n.writeFieldBegin({fname:"remote_device_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:25}),n.writeI64(BigInt(t.remote_device_id)),n.writeFieldEnd()),t.events!=null){n.writeFieldBegin({fname:"events",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:26}),n.writeListBegin({etype:e.I64,size:t.events.length});for(var o of t.events)n.writeI64(BigInt(o));n.writeListEnd(),n.writeFieldEnd()}t.gen_dtls_auth_info_status!=null&&(n.writeFieldBegin({fname:"gen_dtls_auth_info_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:27}),n.writeI64(BigInt(t.gen_dtls_auth_info_status)),n.writeFieldEnd()),t.gen_dtls_auth_info_libsignal_status!=null&&(n.writeFieldBegin({fname:"gen_dtls_auth_info_libsignal_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:28}),n.writeI64(BigInt(t.gen_dtls_auth_info_libsignal_status)),n.writeFieldEnd()),t.gen_dtls_auth_info_time_ms!=null&&(n.writeFieldBegin({fname:"gen_dtls_auth_info_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:29}),n.writeI64(BigInt(t.gen_dtls_auth_info_time_ms)),n.writeFieldEnd()),t.verify_dtls_auth_info_status!=null&&(n.writeFieldBegin({fname:"verify_dtls_auth_info_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:30}),n.writeI64(BigInt(t.verify_dtls_auth_info_status)),n.writeFieldEnd()),t.verify_dtls_auth_info_libsignal_status!=null&&(n.writeFieldBegin({fname:"verify_dtls_auth_info_libsignal_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:31}),n.writeI64(BigInt(t.verify_dtls_auth_info_libsignal_status)),n.writeFieldEnd()),t.verify_dtls_auth_info_time_ms!=null&&(n.writeFieldBegin({fname:"verify_dtls_auth_info_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:32}),n.writeI64(BigInt(t.verify_dtls_auth_info_time_ms)),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function m(t,n){if(n.writeStructBegin("GroupE2eeMetrics"),t.received_key_message_counter!=null&&(n.writeFieldBegin({fname:"received_key_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(BigInt(t.received_key_message_counter)),n.writeFieldEnd()),t.sent_key_message_counter!=null&&(n.writeFieldBegin({fname:"sent_key_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:2}),n.writeI64(BigInt(t.sent_key_message_counter)),n.writeFieldEnd()),t.cached_key_message_counter!=null&&(n.writeFieldBegin({fname:"cached_key_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:3}),n.writeI64(BigInt(t.cached_key_message_counter)),n.writeFieldEnd()),t.used_cached_key_counter!=null&&(n.writeFieldBegin({fname:"used_cached_key_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:4}),n.writeI64(BigInt(t.used_cached_key_counter)),n.writeFieldEnd()),t.unused_smu_counter!=null&&(n.writeFieldBegin({fname:"unused_smu_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:5}),n.writeI64(BigInt(t.unused_smu_counter)),n.writeFieldEnd()),t.missing_key_message_counter!=null&&(n.writeFieldBegin({fname:"missing_key_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:6}),n.writeI64(BigInt(t.missing_key_message_counter)),n.writeFieldEnd()),t.negotiate_off_status!=null&&(n.writeFieldBegin({fname:"negotiate_off_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:7}),n.writeI64(BigInt(t.negotiate_off_status)),n.writeFieldEnd()),t.cipher_suite_status!=null&&(n.writeFieldBegin({fname:"cipher_suite_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:8}),n.writeI64(BigInt(t.cipher_suite_status)),n.writeFieldEnd()),t.decrypt_used_cached_session_counter!=null&&(n.writeFieldBegin({fname:"decrypt_used_cached_session_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:9}),n.writeI64(BigInt(t.decrypt_used_cached_session_counter)),n.writeFieldEnd()),t.encrypt_used_cached_session_counter!=null&&(n.writeFieldBegin({fname:"encrypt_used_cached_session_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:10}),n.writeI64(BigInt(t.encrypt_used_cached_session_counter)),n.writeFieldEnd()),t.sent_ack_message_counter!=null&&(n.writeFieldBegin({fname:"sent_ack_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:11}),n.writeI64(BigInt(t.sent_ack_message_counter)),n.writeFieldEnd()),t.reuse_ackd_uid_counter!=null&&(n.writeFieldBegin({fname:"reuse_ackd_uid_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:12}),n.writeI64(BigInt(t.reuse_ackd_uid_counter)),n.writeFieldEnd()),t.total_uids_created_counter!=null&&(n.writeFieldBegin({fname:"total_uids_created_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:13}),n.writeI64(BigInt(t.total_uids_created_counter)),n.writeFieldEnd()),t.generate_chain_key_failed_error!=null&&(n.writeFieldBegin({fname:"generate_chain_key_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:14}),n.writeI64(BigInt(t.generate_chain_key_failed_error)),n.writeFieldEnd()),t.set_chain_key_failed_error!=null&&(n.writeFieldBegin({fname:"set_chain_key_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:15}),n.writeI64(BigInt(t.set_chain_key_failed_error)),n.writeFieldEnd()),t.key_provider_not_found_error!=null&&(n.writeFieldBegin({fname:"key_provider_not_found_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:16}),n.writeI64(BigInt(t.key_provider_not_found_error)),n.writeFieldEnd()),t.key_message_parse_failed_error!=null&&(n.writeFieldBegin({fname:"key_message_parse_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:17}),n.writeI64(BigInt(t.key_message_parse_failed_error)),n.writeFieldEnd()),t.empty_pkb_result_error!=null&&(n.writeFieldBegin({fname:"empty_pkb_result_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:18}),n.writeI64(BigInt(t.empty_pkb_result_error)),n.writeFieldEnd()),t.empty_encrypt_result_error!=null&&(n.writeFieldBegin({fname:"empty_encrypt_result_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:19}),n.writeI64(BigInt(t.empty_encrypt_result_error)),n.writeFieldEnd()),t.empty_decrypt_result_error!=null&&(n.writeFieldBegin({fname:"empty_decrypt_result_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:20}),n.writeI64(BigInt(t.empty_decrypt_result_error)),n.writeFieldEnd()),t.empty_version_error!=null&&(n.writeFieldBegin({fname:"empty_version_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:21}),n.writeI64(BigInt(t.empty_version_error)),n.writeFieldEnd()),t.unsupported_version_error!=null&&(n.writeFieldBegin({fname:"unsupported_version_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:22}),n.writeI64(BigInt(t.unsupported_version_error)),n.writeFieldEnd()),t.midcall_version_change_error!=null&&(n.writeFieldBegin({fname:"midcall_version_change_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:23}),n.writeI64(BigInt(t.midcall_version_change_error)),n.writeFieldEnd()),t.inconsistent_remote_maps_error!=null&&(n.writeFieldBegin({fname:"inconsistent_remote_maps_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:24}),n.writeI64(BigInt(t.inconsistent_remote_maps_error)),n.writeFieldEnd()),t.key_message_pkb_mismatch_error!=null&&(n.writeFieldBegin({fname:"key_message_pkb_mismatch_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:25}),n.writeI64(BigInt(t.key_message_pkb_mismatch_error)),n.writeFieldEnd()),t.no_key_or_ack_in_e2ee_message_error!=null&&(n.writeFieldBegin({fname:"no_key_or_ack_in_e2ee_message_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:26}),n.writeI64(BigInt(t.no_key_or_ack_in_e2ee_message_error)),n.writeFieldEnd()),t.receiver_key_provider_not_found_error!=null&&(n.writeFieldBegin({fname:"receiver_key_provider_not_found_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:27}),n.writeI64(BigInt(t.receiver_key_provider_not_found_error)),n.writeFieldEnd()),t.pkb_parse_failed_error!=null&&(n.writeFieldBegin({fname:"pkb_parse_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:28}),n.writeI64(BigInt(t.pkb_parse_failed_error)),n.writeFieldEnd()),t.message_deserialized_failed_error!=null&&(n.writeFieldBegin({fname:"message_deserialized_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:29}),n.writeI64(BigInt(t.message_deserialized_failed_error)),n.writeFieldEnd()),t.decrypt_no_identity_key_and_cached_session_not_used_error!=null&&(n.writeFieldBegin({fname:"decrypt_no_identity_key_and_cached_session_not_used_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:30}),n.writeI64(BigInt(t.decrypt_no_identity_key_and_cached_session_not_used_error)),n.writeFieldEnd()),t.encrypt_no_identity_key_and_cached_session_not_used_error!=null&&(n.writeFieldBegin({fname:"encrypt_no_identity_key_and_cached_session_not_used_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:31}),n.writeI64(BigInt(t.encrypt_no_identity_key_and_cached_session_not_used_error)),n.writeFieldEnd()),t.decrypt_ack_wrong_message_error!=null&&(n.writeFieldBegin({fname:"decrypt_ack_wrong_message_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:32}),n.writeI64(BigInt(t.decrypt_ack_wrong_message_error)),n.writeFieldEnd()),t.invalid_uid_received_error!=null&&(n.writeFieldBegin({fname:"invalid_uid_received_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:33}),n.writeI64(BigInt(t.invalid_uid_received_error)),n.writeFieldEnd()),t.ack_for_absent_user!=null&&(n.writeFieldBegin({fname:"ack_for_absent_user",ftype:(e||(e=r("ThriftTypes"))).I64,fid:34}),n.writeI64(BigInt(t.ack_for_absent_user)),n.writeFieldEnd()),t.uid_not_awaiting_ack_error!=null&&(n.writeFieldBegin({fname:"uid_not_awaiting_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:35}),n.writeI64(BigInt(t.uid_not_awaiting_ack_error)),n.writeFieldEnd()),t.decrypt_ack_error!=null&&(n.writeFieldBegin({fname:"decrypt_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:36}),n.writeI64(BigInt(t.decrypt_ack_error)),n.writeFieldEnd()),t.empty_decrypt_result_ack_error!=null&&(n.writeFieldBegin({fname:"empty_decrypt_result_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:37}),n.writeI64(BigInt(t.empty_decrypt_result_ack_error)),n.writeFieldEnd()),t.decrypt_ack_cached_session_not_used_error!=null&&(n.writeFieldBegin({fname:"decrypt_ack_cached_session_not_used_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:38}),n.writeI64(BigInt(t.decrypt_ack_cached_session_not_used_error)),n.writeFieldEnd()),t.encrypt_ack_error!=null&&(n.writeFieldBegin({fname:"encrypt_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:39}),n.writeI64(BigInt(t.encrypt_ack_error)),n.writeFieldEnd()),t.empty_encrypt_result_ack_error!=null&&(n.writeFieldBegin({fname:"empty_encrypt_result_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:40}),n.writeI64(BigInt(t.empty_encrypt_result_ack_error)),n.writeFieldEnd()),t.invalid_message_type_error!=null&&(n.writeFieldBegin({fname:"invalid_message_type_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:41}),n.writeI64(BigInt(t.invalid_message_type_error)),n.writeFieldEnd()),t.server_state_deserialized_failed_error!=null&&(n.writeFieldBegin({fname:"server_state_deserialized_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:42}),n.writeI64(BigInt(t.server_state_deserialized_failed_error)),n.writeFieldEnd()),t.crypto_engine_failure_error!=null&&(n.writeFieldBegin({fname:"crypto_engine_failure_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:43}),n.writeI64(BigInt(t.crypto_engine_failure_error)),n.writeFieldEnd()),t.empty_e2ee_client_state_error!=null&&(n.writeFieldBegin({fname:"empty_e2ee_client_state_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:44}),n.writeI64(BigInt(t.empty_e2ee_client_state_error)),n.writeFieldEnd()),t.group_e2ee_negotiated!=null&&(n.writeFieldBegin({fname:"group_e2ee_negotiated",ftype:(e||(e=r("ThriftTypes"))).I64,fid:45}),n.writeI64(BigInt(t.group_e2ee_negotiated)),n.writeFieldEnd()),t.negotiation_mode_kn!=null&&(n.writeFieldBegin({fname:"negotiation_mode_kn",ftype:(e||(e=r("ThriftTypes"))).I64,fid:46}),n.writeI64(BigInt(t.negotiation_mode_kn)),n.writeFieldEnd()),t.group_e2ee_setup_status!=null&&(n.writeFieldBegin({fname:"group_e2ee_setup_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:47}),n.writeI64(BigInt(t.group_e2ee_setup_status)),n.writeFieldEnd()),t.enable_group_e2ee!=null&&(n.writeFieldBegin({fname:"enable_group_e2ee",ftype:(e||(e=r("ThriftTypes"))).I64,fid:48}),n.writeI64(BigInt(t.enable_group_e2ee)),n.writeFieldEnd()),t.identity_key_mode_group!=null&&(n.writeFieldBegin({fname:"identity_key_mode_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:49}),n.writeI64(BigInt(t.identity_key_mode_group)),n.writeFieldEnd()),t.identity_key_num_persistent_group!=null&&(n.writeFieldBegin({fname:"identity_key_num_persistent_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:50}),n.writeI64(BigInt(t.identity_key_num_persistent_group)),n.writeFieldEnd()),t.identity_key_num_validated_group!=null&&(n.writeFieldBegin({fname:"identity_key_num_validated_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:51}),n.writeI64(BigInt(t.identity_key_num_validated_group)),n.writeFieldEnd()),t.identity_key_num_saved_group!=null&&(n.writeFieldBegin({fname:"identity_key_num_saved_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:52}),n.writeI64(BigInt(t.identity_key_num_saved_group)),n.writeFieldEnd()),t.identity_key_num_existing_group!=null&&(n.writeFieldBegin({fname:"identity_key_num_existing_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:53}),n.writeI64(BigInt(t.identity_key_num_existing_group)),n.writeFieldEnd()),t.max_key_message_latency_ms!=null&&(n.writeFieldBegin({fname:"max_key_message_latency_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:54}),n.writeI64(BigInt(t.max_key_message_latency_ms)),n.writeFieldEnd()),t.max_key_message_latency_ms_joiner!=null&&(n.writeFieldBegin({fname:"max_key_message_latency_ms_joiner",ftype:(e||(e=r("ThriftTypes"))).I64,fid:55}),n.writeI64(BigInt(t.max_key_message_latency_ms_joiner)),n.writeFieldEnd()),t.max_smu_to_key_message_latency_ms!=null&&(n.writeFieldBegin({fname:"max_smu_to_key_message_latency_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:56}),n.writeI64(BigInt(t.max_smu_to_key_message_latency_ms)),n.writeFieldEnd()),t.process_smu_time_ms!=null&&(n.writeFieldBegin({fname:"process_smu_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:57}),n.writeI64(BigInt(t.process_smu_time_ms)),n.writeFieldEnd()),t.decryption_total_frames!=null&&(n.writeFieldBegin({fname:"decryption_total_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:58}),n.writeI64(BigInt(t.decryption_total_frames)),n.writeFieldEnd()),t.decryption_total_error_frames!=null&&(n.writeFieldBegin({fname:"decryption_total_error_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:59}),n.writeI64(BigInt(t.decryption_total_error_frames)),n.writeFieldEnd()),t.decryption_error_frames_alloc!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_alloc",ftype:(e||(e=r("ThriftTypes"))).I64,fid:60}),n.writeI64(BigInt(t.decryption_error_frames_alloc)),n.writeFieldEnd()),t.decryption_error_frames_invalid_params!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_invalid_params",ftype:(e||(e=r("ThriftTypes"))).I64,fid:61}),n.writeI64(BigInt(t.decryption_error_frames_invalid_params)),n.writeFieldEnd()),t.decryption_error_frames_cipher!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_cipher",ftype:(e||(e=r("ThriftTypes"))).I64,fid:62}),n.writeI64(BigInt(t.decryption_error_frames_cipher)),n.writeFieldEnd()),t.decryption_error_frames_parse!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_parse",ftype:(e||(e=r("ThriftTypes"))).I64,fid:63}),n.writeI64(BigInt(t.decryption_error_frames_parse)),n.writeFieldEnd()),t.decryption_error_frames_invalid_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:64}),n.writeI64(BigInt(t.decryption_error_frames_invalid_key)),n.writeFieldEnd()),t.decryption_error_frames_missing_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_missing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:65}),n.writeI64(BigInt(t.decryption_error_frames_missing_key)),n.writeFieldEnd()),t.decryption_error_frames_out_of_ratchet_space!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_out_of_ratchet_space",ftype:(e||(e=r("ThriftTypes"))).I64,fid:66}),n.writeI64(BigInt(t.decryption_error_frames_out_of_ratchet_space)),n.writeFieldEnd()),t.decryption_error_frames_cipher_auth!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_cipher_auth",ftype:(e||(e=r("ThriftTypes"))).I64,fid:67}),n.writeI64(BigInt(t.decryption_error_frames_cipher_auth)),n.writeFieldEnd()),t.decryption_error_frames_frame_too_old!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_frame_too_old",ftype:(e||(e=r("ThriftTypes"))).I64,fid:68}),n.writeI64(BigInt(t.decryption_error_frames_frame_too_old)),n.writeFieldEnd()),t.decryption_error_frames_seen_frame!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_seen_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:69}),n.writeI64(BigInt(t.decryption_error_frames_seen_frame)),n.writeFieldEnd()),t.decryption_error_frames_invalid_frame!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:70}),n.writeI64(BigInt(t.decryption_error_frames_invalid_frame)),n.writeFieldEnd()),t.decryption_error_frames_setting_invalid_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_setting_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:71}),n.writeI64(BigInt(t.decryption_error_frames_setting_invalid_key)),n.writeFieldEnd()),t.decryption_error_frames_setting_existing_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_setting_existing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:72}),n.writeI64(BigInt(t.decryption_error_frames_setting_existing_key)),n.writeFieldEnd()),t.decryption_error_frames_escape_data!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_escape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:73}),n.writeI64(BigInt(t.decryption_error_frames_escape_data)),n.writeFieldEnd()),t.decryption_error_frames_deescape_data!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_deescape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:74}),n.writeI64(BigInt(t.decryption_error_frames_deescape_data)),n.writeFieldEnd()),t.decryption_error_frames_parse_frame_or_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_parse_frame_or_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:75}),n.writeI64(BigInt(t.decryption_error_frames_parse_frame_or_key)),n.writeFieldEnd()),t.decryption_error_frames_unknown!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_unknown",ftype:(e||(e=r("ThriftTypes"))).I64,fid:76}),n.writeI64(BigInt(t.decryption_error_frames_unknown)),n.writeFieldEnd()),t.decryption_unencrypted_frames!=null&&(n.writeFieldBegin({fname:"decryption_unencrypted_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:77}),n.writeI64(BigInt(t.decryption_unencrypted_frames)),n.writeFieldEnd()),t.encryption_total_frames!=null&&(n.writeFieldBegin({fname:"encryption_total_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:78}),n.writeI64(BigInt(t.encryption_total_frames)),n.writeFieldEnd()),t.encryption_error_frames!=null&&(n.writeFieldBegin({fname:"encryption_error_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:79}),n.writeI64(BigInt(t.encryption_error_frames)),n.writeFieldEnd()),t.encryption_escape_bytes!=null&&(n.writeFieldBegin({fname:"encryption_escape_bytes",ftype:(e||(e=r("ThriftTypes"))).I64,fid:80}),n.writeI64(BigInt(t.encryption_escape_bytes)),n.writeFieldEnd()),t.encryption_total_error_frames!=null&&(n.writeFieldBegin({fname:"encryption_total_error_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:81}),n.writeI64(BigInt(t.encryption_total_error_frames)),n.writeFieldEnd()),t.encryption_error_frames_alloc!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_alloc",ftype:(e||(e=r("ThriftTypes"))).I64,fid:82}),n.writeI64(BigInt(t.encryption_error_frames_alloc)),n.writeFieldEnd()),t.encryption_error_frames_invalid_params!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_invalid_params",ftype:(e||(e=r("ThriftTypes"))).I64,fid:83}),n.writeI64(BigInt(t.encryption_error_frames_invalid_params)),n.writeFieldEnd()),t.encryption_error_frames_cipher!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_cipher",ftype:(e||(e=r("ThriftTypes"))).I64,fid:84}),n.writeI64(BigInt(t.encryption_error_frames_cipher)),n.writeFieldEnd()),t.encryption_error_frames_parse!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_parse",ftype:(e||(e=r("ThriftTypes"))).I64,fid:85}),n.writeI64(BigInt(t.encryption_error_frames_parse)),n.writeFieldEnd()),t.encryption_error_frames_invalid_key!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:86}),n.writeI64(BigInt(t.encryption_error_frames_invalid_key)),n.writeFieldEnd()),t.encryption_error_frames_cipher_auth!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_cipher_auth",ftype:(e||(e=r("ThriftTypes"))).I64,fid:87}),n.writeI64(BigInt(t.encryption_error_frames_cipher_auth)),n.writeFieldEnd()),t.encryption_error_frames_escape_data!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_escape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:88}),n.writeI64(BigInt(t.encryption_error_frames_escape_data)),n.writeFieldEnd()),t.encryption_error_frames_unsupported_codec!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_unsupported_codec",ftype:(e||(e=r("ThriftTypes"))).I64,fid:89}),n.writeI64(BigInt(t.encryption_error_frames_unsupported_codec)),n.writeFieldEnd()),t.encryption_error_frames_unknown!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_unknown",ftype:(e||(e=r("ThriftTypes"))).I64,fid:90}),n.writeI64(BigInt(t.encryption_error_frames_unknown)),n.writeFieldEnd()),t.decryption_total_frames_data_channel!=null&&(n.writeFieldBegin({fname:"decryption_total_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:91}),n.writeI64(BigInt(t.decryption_total_frames_data_channel)),n.writeFieldEnd()),t.decryption_total_error_frames_data_channel!=null&&(n.writeFieldBegin({fname:"decryption_total_error_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:92}),n.writeI64(BigInt(t.decryption_total_error_frames_data_channel)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_alloc!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_alloc",ftype:(e||(e=r("ThriftTypes"))).I64,fid:93}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_alloc)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_invalid_params!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_params",ftype:(e||(e=r("ThriftTypes"))).I64,fid:94}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_invalid_params)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_cipher!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_cipher",ftype:(e||(e=r("ThriftTypes"))).I64,fid:95}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_cipher)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_parse!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_parse",ftype:(e||(e=r("ThriftTypes"))).I64,fid:96}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_parse)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_invalid_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:97}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_invalid_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_missing_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_missing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:98}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_missing_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_out_of_ratchet_space!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_out_of_ratchet_space",ftype:(e||(e=r("ThriftTypes"))).I64,fid:99}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_out_of_ratchet_space)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_cipher_auth!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_cipher_auth",ftype:(e||(e=r("ThriftTypes"))).I64,fid:100}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_cipher_auth)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_frame_too_old!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_frame_too_old",ftype:(e||(e=r("ThriftTypes"))).I64,fid:101}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_frame_too_old)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_seen_frame!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_seen_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:102}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_seen_frame)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_invalid_frame!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:103}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_invalid_frame)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_setting_invalid_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_setting_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:104}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_setting_invalid_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_setting_existing_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_setting_existing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:105}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_setting_existing_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_escape_data!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_escape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:106}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_escape_data)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_deescape_data!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_deescape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:107}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_deescape_data)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_parse_frame_or_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_parse_frame_or_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:108}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_parse_frame_or_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_unknown!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_unknown",ftype:(e||(e=r("ThriftTypes"))).I64,fid:109}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_unknown)),n.writeFieldEnd()),t.decryption_unencrypted_frames_data_channel!=null&&(n.writeFieldBegin({fname:"decryption_unencrypted_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:110}),n.writeI64(BigInt(t.decryption_unencrypted_frames_data_channel)),n.writeFieldEnd()),t.encryption_total_frames_data_channel!=null&&(n.writeFieldBegin({fname:"encryption_total_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:111}),n.writeI64(BigInt(t.encryption_total_frames_data_channel)),n.writeFieldEnd()),t.encryption_error_frames_data_channel!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:112}),n.writeI64(BigInt(t.encryption_error_frames_data_channel)),n.writeFieldEnd()),t.encryption_total_error_frames_data_channel!=null&&(n.writeFieldBegin({fname:"encryption_total_error_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:113}),n.writeI64(BigInt(t.encryption_total_error_frames_data_channel)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_alloc!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_alloc",ftype:(e||(e=r("ThriftTypes"))).I64,fid:114}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_alloc)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_invalid_params!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_invalid_params",ftype:(e||(e=r("ThriftTypes"))).I64,fid:115}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_invalid_params)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_cipher!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_cipher",ftype:(e||(e=r("ThriftTypes"))).I64,fid:116}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_cipher)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_parse!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_parse",ftype:(e||(e=r("ThriftTypes"))).I64,fid:117}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_parse)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_invalid_key!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:118}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_invalid_key)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_cipher_auth!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_cipher_auth",ftype:(e||(e=r("ThriftTypes"))).I64,fid:119}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_cipher_auth)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_escape_data!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_escape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:120}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_escape_data)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_unsupported_codec!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_unsupported_codec",ftype:(e||(e=r("ThriftTypes"))).I64,fid:121}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_unsupported_codec)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_unknown!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_unknown",ftype:(e||(e=r("ThriftTypes"))).I64,fid:122}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_unknown)),n.writeFieldEnd()),t.num_removed_data_decryptors!=null&&(n.writeFieldBegin({fname:"num_removed_data_decryptors",ftype:(e||(e=r("ThriftTypes"))).I64,fid:123}),n.writeI64(BigInt(t.num_removed_data_decryptors)),n.writeFieldEnd()),t.num_frame_decryptor_with_unencrypted_data!=null&&(n.writeFieldBegin({fname:"num_frame_decryptor_with_unencrypted_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:124}),n.writeI64(BigInt(t.num_frame_decryptor_with_unencrypted_data)),n.writeFieldEnd()),t.num_removed_decryptors!=null&&(n.writeFieldBegin({fname:"num_removed_decryptors",ftype:(e||(e=r("ThriftTypes"))).I64,fid:125}),n.writeI64(BigInt(t.num_removed_decryptors)),n.writeFieldEnd()),t.data_channel_encryption_not_ready_in_mandated_calls_error!=null&&(n.writeFieldBegin({fname:"data_channel_encryption_not_ready_in_mandated_calls_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:126}),n.writeI64(BigInt(t.data_channel_encryption_not_ready_in_mandated_calls_error)),n.writeFieldEnd()),t.num_e2ee_message_total_encrypt!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_total_encrypt",ftype:(e||(e=r("ThriftTypes"))).I64,fid:127}),n.writeI64(BigInt(t.num_e2ee_message_total_encrypt)),n.writeFieldEnd()),t.num_e2ee_message_error_encrypt!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_encrypt",ftype:(e||(e=r("ThriftTypes"))).I64,fid:128}),n.writeI64(BigInt(t.num_e2ee_message_error_encrypt)),n.writeFieldEnd()),t.num_e2ee_message_total_decrypt!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_total_decrypt",ftype:(e||(e=r("ThriftTypes"))).I64,fid:129}),n.writeI64(BigInt(t.num_e2ee_message_total_decrypt)),n.writeFieldEnd()),t.num_e2ee_message_error_decrypt!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_decrypt",ftype:(e||(e=r("ThriftTypes"))).I64,fid:130}),n.writeI64(BigInt(t.num_e2ee_message_error_decrypt)),n.writeFieldEnd()),t.negotiate_off_time!=null&&(n.writeFieldBegin({fname:"negotiate_off_time",ftype:(e||(e=r("ThriftTypes"))).I64,fid:131}),n.writeI64(BigInt(t.negotiate_off_time)),n.writeFieldEnd()),t.negotiated_version!=null&&(n.writeFieldBegin({fname:"negotiated_version",ftype:(e||(e=r("ThriftTypes"))).I64,fid:132}),n.writeI64(BigInt(t.negotiated_version)),n.writeFieldEnd()),t.decryptor_removed_time!=null&&(n.writeFieldBegin({fname:"decryptor_removed_time",ftype:(e||(e=r("ThriftTypes"))).I64,fid:133}),n.writeI64(BigInt(t.decryptor_removed_time)),n.writeFieldEnd()),t.is_e2ee_mandated_group!=null&&(n.writeFieldBegin({fname:"is_e2ee_mandated_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:134}),n.writeI64(BigInt(t.is_e2ee_mandated_group)),n.writeFieldEnd()),t.events!=null){n.writeFieldBegin({fname:"events",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:135}),n.writeListBegin({etype:e.I64,size:t.events.length});for(var o of t.events)n.writeI64(BigInt(o));n.writeListEnd(),n.writeFieldEnd()}t.num_e2ee_message_received!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_received",ftype:(e||(e=r("ThriftTypes"))).I64,fid:136}),n.writeI64(BigInt(t.num_e2ee_message_received)),n.writeFieldEnd()),t.num_e2ee_message_error_decrypt_non_e2ee_received!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_non_e2ee_received",ftype:(e||(e=r("ThriftTypes"))).I64,fid:137}),n.writeI64(BigInt(t.num_e2ee_message_error_decrypt_non_e2ee_received)),n.writeFieldEnd()),t.num_e2ee_message_error_decrypt_missing_sender!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_missing_sender",ftype:(e||(e=r("ThriftTypes"))).I64,fid:138}),n.writeI64(BigInt(t.num_e2ee_message_error_decrypt_missing_sender)),n.writeFieldEnd()),t.num_e2ee_message_error_decrypt_exceeding_retry!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_exceeding_retry",ftype:(e||(e=r("ThriftTypes"))).I64,fid:139}),n.writeI64(BigInt(t.num_e2ee_message_error_decrypt_exceeding_retry)),n.writeFieldEnd()),t.max_media_channel_key_message_retry_count!=null&&(n.writeFieldBegin({fname:"max_media_channel_key_message_retry_count",ftype:(e||(e=r("ThriftTypes"))).I64,fid:140}),n.writeI64(BigInt(t.max_media_channel_key_message_retry_count)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_decryptions!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions",ftype:(e||(e=r("ThriftTypes"))).I64,fid:141}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_decryptions)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_decryptions_failures!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions_failures",ftype:(e||(e=r("ThriftTypes"))).I64,fid:142}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_decryptions_failures)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:143}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key)),n.writeFieldEnd()),t.g_e2ee_decryption_error_frames_empty_supported_codes!=null&&(n.writeFieldBegin({fname:"g_e2ee_decryption_error_frames_empty_supported_codes",ftype:(e||(e=r("ThriftTypes"))).I64,fid:144}),n.writeI64(BigInt(t.g_e2ee_decryption_error_frames_empty_supported_codes)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_empty!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_empty",ftype:(e||(e=r("ThriftTypes"))).I64,fid:146}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_empty)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_empty_nalu_blocks!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_empty_nalu_blocks",ftype:(e||(e=r("ThriftTypes"))).I64,fid:147}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_empty_nalu_blocks)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_invalid_h264!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h264",ftype:(e||(e=r("ThriftTypes"))).I64,fid:148}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_invalid_h264)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_invalid_h265!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h265",ftype:(e||(e=r("ThriftTypes"))).I64,fid:149}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_invalid_h265)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_invalid_h265_nalu_block!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h265_nalu_block",ftype:(e||(e=r("ThriftTypes"))).I64,fid:150}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_invalid_h265_nalu_block)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_encryptions!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_encryptions",ftype:(e||(e=r("ThriftTypes"))).I64,fid:151}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_encryptions)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_encryptions_failures!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_encryptions_failures",ftype:(e||(e=r("ThriftTypes"))).I64,fid:152}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_encryptions_failures)),n.writeFieldEnd()),t.encryption_error_frames_no_active_key!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_no_active_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:153}),n.writeI64(BigInt(t.encryption_error_frames_no_active_key)),n.writeFieldEnd()),t.key_negotiation_protocol!=null&&(n.writeFieldBegin({fname:"key_negotiation_protocol",ftype:(e||(e=r("ThriftTypes"))).I64,fid:154}),n.writeI64(BigInt(t.key_negotiation_protocol)),n.writeFieldEnd()),t.key_messages_received_via_signaling!=null&&(n.writeFieldBegin({fname:"key_messages_received_via_signaling",ftype:(e||(e=r("ThriftTypes"))).I64,fid:155}),n.writeI64(BigInt(t.key_messages_received_via_signaling)),n.writeFieldEnd()),t.key_messages_received_via_media!=null&&(n.writeFieldBegin({fname:"key_messages_received_via_media",ftype:(e||(e=r("ThriftTypes"))).I64,fid:156}),n.writeI64(BigInt(t.key_messages_received_via_media)),n.writeFieldEnd()),t.key_messages_received_via_signaling_joiner!=null&&(n.writeFieldBegin({fname:"key_messages_received_via_signaling_joiner",ftype:(e||(e=r("ThriftTypes"))).I64,fid:157}),n.writeI64(BigInt(t.key_messages_received_via_signaling_joiner)),n.writeFieldEnd()),t.key_messages_received_via_media_joiner!=null&&(n.writeFieldBegin({fname:"key_messages_received_via_media_joiner",ftype:(e||(e=r("ThriftTypes"))).I64,fid:158}),n.writeI64(BigInt(t.key_messages_received_via_media_joiner)),n.writeFieldEnd()),t.g_e2ee_participant_hash_verification_failed_error!=null&&(n.writeFieldBegin({fname:"g_e2ee_participant_hash_verification_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:159}),n.writeI64(BigInt(t.g_e2ee_participant_hash_verification_failed_error)),n.writeFieldEnd()),t.g_e2ee_invalid_key_distributor_id_error!=null&&(n.writeFieldBegin({fname:"g_e2ee_invalid_key_distributor_id_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:160}),n.writeI64(BigInt(t.g_e2ee_invalid_key_distributor_id_error)),n.writeFieldEnd()),t.g_e2ee_key_message_validation_failure_count!=null&&(n.writeFieldBegin({fname:"g_e2ee_key_message_validation_failure_count",ftype:(e||(e=r("ThriftTypes"))).I64,fid:161}),n.writeI64(BigInt(t.g_e2ee_key_message_validation_failure_count)),n.writeFieldEnd()),t.g_e2ee_cached_decrypted_key_count!=null&&(n.writeFieldBegin({fname:"g_e2ee_cached_decrypted_key_count",ftype:(e||(e=r("ThriftTypes"))).I64,fid:162}),n.writeI64(BigInt(t.g_e2ee_cached_decrypted_key_count)),n.writeFieldEnd()),t.g_e2ee_reapply_cached_decrypted_key_count!=null&&(n.writeFieldBegin({fname:"g_e2ee_reapply_cached_decrypted_key_count",ftype:(e||(e=r("ThriftTypes"))).I64,fid:163}),n.writeI64(BigInt(t.g_e2ee_reapply_cached_decrypted_key_count)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_invalid_obu_offset!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_invalid_obu_offset",ftype:(e||(e=r("ThriftTypes"))).I64,fid:164}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_invalid_obu_offset)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_invalid_obu_offset!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_invalid_obu_offset",ftype:(e||(e=r("ThriftTypes"))).I64,fid:165}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_invalid_obu_offset)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_extension!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_extension",ftype:(e||(e=r("ThriftTypes"))).I64,fid:166}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_extension)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_extension!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_insufficient_bytes_for_extension",ftype:(e||(e=r("ThriftTypes"))).I64,fid:167}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_extension)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_size!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_size",ftype:(e||(e=r("ThriftTypes"))).I64,fid:168}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_size)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_size!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_insufficient_bytes_for_size",ftype:(e||(e=r("ThriftTypes"))).I64,fid:169}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_size)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_leb128_parse_failure!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_leb128_parse_failure",ftype:(e||(e=r("ThriftTypes"))).I64,fid:170}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_leb128_parse_failure)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_leb128_parse_failure!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_leb128_parse_failure",ftype:(e||(e=r("ThriftTypes"))).I64,fid:171}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_leb128_parse_failure)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_empty_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_empty_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:172}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_empty_frame)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_empty_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_empty_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:173}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_empty_frame)),n.writeFieldEnd()),t.g_e2ee_dec_error_frames_data_channel_av1_invalid_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_dec_error_frames_data_channel_av1_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:174}),n.writeI64(BigInt(t.g_e2ee_dec_error_frames_data_channel_av1_invalid_frame)),n.writeFieldEnd()),t.g_e2ee_dec_error_frames_av1_invalid_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_dec_error_frames_av1_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:175}),n.writeI64(BigInt(t.g_e2ee_dec_error_frames_av1_invalid_frame)),n.writeFieldEnd()),t.g_e2ee_dec_error_frames_data_channel_av1_deescape_data!=null&&(n.writeFieldBegin({fname:"g_e2ee_dec_error_frames_data_channel_av1_deescape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:176}),n.writeI64(BigInt(t.g_e2ee_dec_error_frames_data_channel_av1_deescape_data)),n.writeFieldEnd()),t.g_e2ee_dec_error_frames_av1_deescape_data!=null&&(n.writeFieldBegin({fname:"g_e2ee_dec_error_frames_av1_deescape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:177}),n.writeI64(BigInt(t.g_e2ee_dec_error_frames_av1_deescape_data)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_invalid_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:178}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_invalid_frame)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_invalid_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:179}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_invalid_frame)),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function p(t,n){if(n.writeStructBegin("E2eeMetrics"),n.writeFieldBegin({fname:"p2p_e2ee",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:1}),t.p2p_e2ee!=null)d(t.p2p_e2ee,n);else{var o=s();d(o,n)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"group_e2ee",ftype:e.STRUCT,fid:2}),t.group_e2ee!=null)m(t.group_e2ee,n);else{var a=u();m(a,n)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function _(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.engine_type=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).I64?n.status=t.readI64().toString():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).I64?n.version=t.readI64().toString():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).I64?n.gen_prekey_bundle_time_ms=t.readI64().toString():t.skip(a);break;case 5:a===(e||(e=r("ThriftTypes"))).I64?n.encrypted_msg_time_ms=t.readI64().toString():t.skip(a);break;case 6:a===(e||(e=r("ThriftTypes"))).I64?n.decrypted_msg_time_ms=t.readI64().toString():t.skip(a);break;case 7:a===(e||(e=r("ThriftTypes"))).I64?n.process_sdp_crypto_time_ms=t.readI64().toString():t.skip(a);break;case 8:a===(e||(e=r("ThriftTypes"))).I64?n.create_crypto_offer_time_ms=t.readI64().toString():t.skip(a);break;case 9:a===(e||(e=r("ThriftTypes"))).I64?n.create_crypto_answer_time_ms=t.readI64().toString():t.skip(a);break;case 10:a===(e||(e=r("ThriftTypes"))).I64?n.get_ik_time_ms=t.readI64().toString():t.skip(a);break;case 11:a===(e||(e=r("ThriftTypes"))).I64?n.peer_id=t.readI64().toString():t.skip(a);break;case 12:a===(e||(e=r("ThriftTypes"))).I64?n.peer_connection_index=t.readI64().toString():t.skip(a);break;case 13:a===(e||(e=r("ThriftTypes"))).I64?n.srtp_crypto_suite=t.readI64().toString():t.skip(a);break;case 14:a===(e||(e=r("ThriftTypes"))).I64?n.engine_error=t.readI64().toString():t.skip(a);break;case 15:a===(e||(e=r("ThriftTypes"))).I64?n.libsignal_error=t.readI64().toString():t.skip(a);break;case 16:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_mode=t.readI64().toString():t.skip(a);break;case 17:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_persistent=t.readI64().toString():t.skip(a);break;case 18:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_validated=t.readI64().toString():t.skip(a);break;case 19:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_saved=t.readI64().toString():t.skip(a);break;case 20:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_existing=t.readI64().toString():t.skip(a);break;case 21:a===(e||(e=r("ThriftTypes"))).I64?n.is_e2ee_mandated=t.readI64().toString():t.skip(a);break;case 22:a===(e||(e=r("ThriftTypes"))).I64?n.local_trace_id=t.readI64().toString():t.skip(a);break;case 23:a===(e||(e=r("ThriftTypes"))).I64?n.remote_trace_id=t.readI64().toString():t.skip(a);break;case 24:a===(e||(e=r("ThriftTypes"))).I64?n.local_device_id=t.readI64().toString():t.skip(a);break;case 25:a===(e||(e=r("ThriftTypes"))).I64?n.remote_device_id=t.readI64().toString():t.skip(a);break;case 26:if(a===(e||(e=r("ThriftTypes"))).LIST){n.events=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readI64().toString();n.events.push(u)}}else t.skip(a);break;case 27:a===(e||(e=r("ThriftTypes"))).I64?n.gen_dtls_auth_info_status=t.readI64().toString():t.skip(a);break;case 28:a===(e||(e=r("ThriftTypes"))).I64?n.gen_dtls_auth_info_libsignal_status=t.readI64().toString():t.skip(a);break;case 29:a===(e||(e=r("ThriftTypes"))).I64?n.gen_dtls_auth_info_time_ms=t.readI64().toString():t.skip(a);break;case 30:a===(e||(e=r("ThriftTypes"))).I64?n.verify_dtls_auth_info_status=t.readI64().toString():t.skip(a);break;case 31:a===(e||(e=r("ThriftTypes"))).I64?n.verify_dtls_auth_info_libsignal_status=t.readI64().toString():t.skip(a);break;case 32:a===(e||(e=r("ThriftTypes"))).I64?n.verify_dtls_auth_info_time_ms=t.readI64().toString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function f(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.received_key_message_counter=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).I64?n.sent_key_message_counter=t.readI64().toString():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).I64?n.cached_key_message_counter=t.readI64().toString():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).I64?n.used_cached_key_counter=t.readI64().toString():t.skip(a);break;case 5:a===(e||(e=r("ThriftTypes"))).I64?n.unused_smu_counter=t.readI64().toString():t.skip(a);break;case 6:a===(e||(e=r("ThriftTypes"))).I64?n.missing_key_message_counter=t.readI64().toString():t.skip(a);break;case 7:a===(e||(e=r("ThriftTypes"))).I64?n.negotiate_off_status=t.readI64().toString():t.skip(a);break;case 8:a===(e||(e=r("ThriftTypes"))).I64?n.cipher_suite_status=t.readI64().toString():t.skip(a);break;case 9:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_used_cached_session_counter=t.readI64().toString():t.skip(a);break;case 10:a===(e||(e=r("ThriftTypes"))).I64?n.encrypt_used_cached_session_counter=t.readI64().toString():t.skip(a);break;case 11:a===(e||(e=r("ThriftTypes"))).I64?n.sent_ack_message_counter=t.readI64().toString():t.skip(a);break;case 12:a===(e||(e=r("ThriftTypes"))).I64?n.reuse_ackd_uid_counter=t.readI64().toString():t.skip(a);break;case 13:a===(e||(e=r("ThriftTypes"))).I64?n.total_uids_created_counter=t.readI64().toString():t.skip(a);break;case 14:a===(e||(e=r("ThriftTypes"))).I64?n.generate_chain_key_failed_error=t.readI64().toString():t.skip(a);break;case 15:a===(e||(e=r("ThriftTypes"))).I64?n.set_chain_key_failed_error=t.readI64().toString():t.skip(a);break;case 16:a===(e||(e=r("ThriftTypes"))).I64?n.key_provider_not_found_error=t.readI64().toString():t.skip(a);break;case 17:a===(e||(e=r("ThriftTypes"))).I64?n.key_message_parse_failed_error=t.readI64().toString():t.skip(a);break;case 18:a===(e||(e=r("ThriftTypes"))).I64?n.empty_pkb_result_error=t.readI64().toString():t.skip(a);break;case 19:a===(e||(e=r("ThriftTypes"))).I64?n.empty_encrypt_result_error=t.readI64().toString():t.skip(a);break;case 20:a===(e||(e=r("ThriftTypes"))).I64?n.empty_decrypt_result_error=t.readI64().toString():t.skip(a);break;case 21:a===(e||(e=r("ThriftTypes"))).I64?n.empty_version_error=t.readI64().toString():t.skip(a);break;case 22:a===(e||(e=r("ThriftTypes"))).I64?n.unsupported_version_error=t.readI64().toString():t.skip(a);break;case 23:a===(e||(e=r("ThriftTypes"))).I64?n.midcall_version_change_error=t.readI64().toString():t.skip(a);break;case 24:a===(e||(e=r("ThriftTypes"))).I64?n.inconsistent_remote_maps_error=t.readI64().toString():t.skip(a);break;case 25:a===(e||(e=r("ThriftTypes"))).I64?n.key_message_pkb_mismatch_error=t.readI64().toString():t.skip(a);break;case 26:a===(e||(e=r("ThriftTypes"))).I64?n.no_key_or_ack_in_e2ee_message_error=t.readI64().toString():t.skip(a);break;case 27:a===(e||(e=r("ThriftTypes"))).I64?n.receiver_key_provider_not_found_error=t.readI64().toString():t.skip(a);break;case 28:a===(e||(e=r("ThriftTypes"))).I64?n.pkb_parse_failed_error=t.readI64().toString():t.skip(a);break;case 29:a===(e||(e=r("ThriftTypes"))).I64?n.message_deserialized_failed_error=t.readI64().toString():t.skip(a);break;case 30:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_no_identity_key_and_cached_session_not_used_error=t.readI64().toString():t.skip(a);break;case 31:a===(e||(e=r("ThriftTypes"))).I64?n.encrypt_no_identity_key_and_cached_session_not_used_error=t.readI64().toString():t.skip(a);break;case 32:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_ack_wrong_message_error=t.readI64().toString():t.skip(a);break;case 33:a===(e||(e=r("ThriftTypes"))).I64?n.invalid_uid_received_error=t.readI64().toString():t.skip(a);break;case 34:a===(e||(e=r("ThriftTypes"))).I64?n.ack_for_absent_user=t.readI64().toString():t.skip(a);break;case 35:a===(e||(e=r("ThriftTypes"))).I64?n.uid_not_awaiting_ack_error=t.readI64().toString():t.skip(a);break;case 36:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_ack_error=t.readI64().toString():t.skip(a);break;case 37:a===(e||(e=r("ThriftTypes"))).I64?n.empty_decrypt_result_ack_error=t.readI64().toString():t.skip(a);break;case 38:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_ack_cached_session_not_used_error=t.readI64().toString():t.skip(a);break;case 39:a===(e||(e=r("ThriftTypes"))).I64?n.encrypt_ack_error=t.readI64().toString():t.skip(a);break;case 40:a===(e||(e=r("ThriftTypes"))).I64?n.empty_encrypt_result_ack_error=t.readI64().toString():t.skip(a);break;case 41:a===(e||(e=r("ThriftTypes"))).I64?n.invalid_message_type_error=t.readI64().toString():t.skip(a);break;case 42:a===(e||(e=r("ThriftTypes"))).I64?n.server_state_deserialized_failed_error=t.readI64().toString():t.skip(a);break;case 43:a===(e||(e=r("ThriftTypes"))).I64?n.crypto_engine_failure_error=t.readI64().toString():t.skip(a);break;case 44:a===(e||(e=r("ThriftTypes"))).I64?n.empty_e2ee_client_state_error=t.readI64().toString():t.skip(a);break;case 45:a===(e||(e=r("ThriftTypes"))).I64?n.group_e2ee_negotiated=t.readI64().toString():t.skip(a);break;case 46:a===(e||(e=r("ThriftTypes"))).I64?n.negotiation_mode_kn=t.readI64().toString():t.skip(a);break;case 47:a===(e||(e=r("ThriftTypes"))).I64?n.group_e2ee_setup_status=t.readI64().toString():t.skip(a);break;case 48:a===(e||(e=r("ThriftTypes"))).I64?n.enable_group_e2ee=t.readI64().toString():t.skip(a);break;case 49:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_mode_group=t.readI64().toString():t.skip(a);break;case 50:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_persistent_group=t.readI64().toString():t.skip(a);break;case 51:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_validated_group=t.readI64().toString():t.skip(a);break;case 52:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_saved_group=t.readI64().toString():t.skip(a);break;case 53:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_existing_group=t.readI64().toString():t.skip(a);break;case 54:a===(e||(e=r("ThriftTypes"))).I64?n.max_key_message_latency_ms=t.readI64().toString():t.skip(a);break;case 55:a===(e||(e=r("ThriftTypes"))).I64?n.max_key_message_latency_ms_joiner=t.readI64().toString():t.skip(a);break;case 56:a===(e||(e=r("ThriftTypes"))).I64?n.max_smu_to_key_message_latency_ms=t.readI64().toString():t.skip(a);break;case 57:a===(e||(e=r("ThriftTypes"))).I64?n.process_smu_time_ms=t.readI64().toString():t.skip(a);break;case 58:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_total_frames=t.readI64().toString():t.skip(a);break;case 59:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_total_error_frames=t.readI64().toString():t.skip(a);break;case 60:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_alloc=t.readI64().toString():t.skip(a);break;case 61:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_invalid_params=t.readI64().toString():t.skip(a);break;case 62:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_cipher=t.readI64().toString():t.skip(a);break;case 63:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_parse=t.readI64().toString():t.skip(a);break;case 64:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_invalid_key=t.readI64().toString():t.skip(a);break;case 65:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_missing_key=t.readI64().toString():t.skip(a);break;case 66:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_out_of_ratchet_space=t.readI64().toString():t.skip(a);break;case 67:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_cipher_auth=t.readI64().toString():t.skip(a);break;case 68:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_frame_too_old=t.readI64().toString():t.skip(a);break;case 69:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_seen_frame=t.readI64().toString():t.skip(a);break;case 70:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_invalid_frame=t.readI64().toString():t.skip(a);break;case 71:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_setting_invalid_key=t.readI64().toString():t.skip(a);break;case 72:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_setting_existing_key=t.readI64().toString():t.skip(a);break;case 73:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_escape_data=t.readI64().toString():t.skip(a);break;case 74:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_deescape_data=t.readI64().toString():t.skip(a);break;case 75:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_parse_frame_or_key=t.readI64().toString():t.skip(a);break;case 76:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_unknown=t.readI64().toString():t.skip(a);break;case 77:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_unencrypted_frames=t.readI64().toString():t.skip(a);break;case 78:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_total_frames=t.readI64().toString():t.skip(a);break;case 79:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames=t.readI64().toString():t.skip(a);break;case 80:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_escape_bytes=t.readI64().toString():t.skip(a);break;case 81:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_total_error_frames=t.readI64().toString():t.skip(a);break;case 82:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_alloc=t.readI64().toString():t.skip(a);break;case 83:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_invalid_params=t.readI64().toString():t.skip(a);break;case 84:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_cipher=t.readI64().toString():t.skip(a);break;case 85:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_parse=t.readI64().toString():t.skip(a);break;case 86:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_invalid_key=t.readI64().toString():t.skip(a);break;case 87:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_cipher_auth=t.readI64().toString():t.skip(a);break;case 88:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_escape_data=t.readI64().toString():t.skip(a);break;case 89:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_unsupported_codec=t.readI64().toString():t.skip(a);break;case 90:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_unknown=t.readI64().toString():t.skip(a);break;case 91:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_total_frames_data_channel=t.readI64().toString():t.skip(a);break;case 92:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_total_error_frames_data_channel=t.readI64().toString():t.skip(a);break;case 93:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_alloc=t.readI64().toString():t.skip(a);break;case 94:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_invalid_params=t.readI64().toString():t.skip(a);break;case 95:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_cipher=t.readI64().toString():t.skip(a);break;case 96:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_parse=t.readI64().toString():t.skip(a);break;case 97:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_invalid_key=t.readI64().toString():t.skip(a);break;case 98:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_missing_key=t.readI64().toString():t.skip(a);break;case 99:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_out_of_ratchet_space=t.readI64().toString():t.skip(a);break;case 100:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_cipher_auth=t.readI64().toString():t.skip(a);break;case 101:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_frame_too_old=t.readI64().toString():t.skip(a);break;case 102:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_seen_frame=t.readI64().toString():t.skip(a);break;case 103:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_invalid_frame=t.readI64().toString():t.skip(a);break;case 104:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_setting_invalid_key=t.readI64().toString():t.skip(a);break;case 105:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_setting_existing_key=t.readI64().toString():t.skip(a);break;case 106:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_escape_data=t.readI64().toString():t.skip(a);break;case 107:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_deescape_data=t.readI64().toString():t.skip(a);break;case 108:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_parse_frame_or_key=t.readI64().toString():t.skip(a);break;case 109:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_unknown=t.readI64().toString():t.skip(a);break;case 110:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_unencrypted_frames_data_channel=t.readI64().toString():t.skip(a);break;case 111:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_total_frames_data_channel=t.readI64().toString():t.skip(a);break;case 112:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel=t.readI64().toString():t.skip(a);break;case 113:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_total_error_frames_data_channel=t.readI64().toString():t.skip(a);break;case 114:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_alloc=t.readI64().toString():t.skip(a);break;case 115:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_invalid_params=t.readI64().toString():t.skip(a);break;case 116:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_cipher=t.readI64().toString():t.skip(a);break;case 117:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_parse=t.readI64().toString():t.skip(a);break;case 118:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_invalid_key=t.readI64().toString():t.skip(a);break;case 119:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_cipher_auth=t.readI64().toString():t.skip(a);break;case 120:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_escape_data=t.readI64().toString():t.skip(a);break;case 121:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_unsupported_codec=t.readI64().toString():t.skip(a);break;case 122:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_unknown=t.readI64().toString():t.skip(a);break;case 123:a===(e||(e=r("ThriftTypes"))).I64?n.num_removed_data_decryptors=t.readI64().toString():t.skip(a);break;case 124:a===(e||(e=r("ThriftTypes"))).I64?n.num_frame_decryptor_with_unencrypted_data=t.readI64().toString():t.skip(a);break;case 125:a===(e||(e=r("ThriftTypes"))).I64?n.num_removed_decryptors=t.readI64().toString():t.skip(a);break;case 126:a===(e||(e=r("ThriftTypes"))).I64?n.data_channel_encryption_not_ready_in_mandated_calls_error=t.readI64().toString():t.skip(a);break;case 127:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_total_encrypt=t.readI64().toString():t.skip(a);break;case 128:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_encrypt=t.readI64().toString():t.skip(a);break;case 129:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_total_decrypt=t.readI64().toString():t.skip(a);break;case 130:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_decrypt=t.readI64().toString():t.skip(a);break;case 131:a===(e||(e=r("ThriftTypes"))).I64?n.negotiate_off_time=t.readI64().toString():t.skip(a);break;case 132:a===(e||(e=r("ThriftTypes"))).I64?n.negotiated_version=t.readI64().toString():t.skip(a);break;case 133:a===(e||(e=r("ThriftTypes"))).I64?n.decryptor_removed_time=t.readI64().toString():t.skip(a);break;case 134:a===(e||(e=r("ThriftTypes"))).I64?n.is_e2ee_mandated_group=t.readI64().toString():t.skip(a);break;case 135:if(a===(e||(e=r("ThriftTypes"))).LIST){n.events=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readI64().toString();n.events.push(u)}}else t.skip(a);break;case 136:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_received=t.readI64().toString():t.skip(a);break;case 137:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_decrypt_non_e2ee_received=t.readI64().toString():t.skip(a);break;case 138:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_decrypt_missing_sender=t.readI64().toString():t.skip(a);break;case 139:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_decrypt_exceeding_retry=t.readI64().toString():t.skip(a);break;case 140:a===(e||(e=r("ThriftTypes"))).I64?n.max_media_channel_key_message_retry_count=t.readI64().toString():t.skip(a);break;case 141:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_decryptions=t.readI64().toString():t.skip(a);break;case 142:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_decryptions_failures=t.readI64().toString():t.skip(a);break;case 143:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key=t.readI64().toString():t.skip(a);break;case 144:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_decryption_error_frames_empty_supported_codes=t.readI64().toString():t.skip(a);break;case 146:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_empty=t.readI64().toString():t.skip(a);break;case 147:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_empty_nalu_blocks=t.readI64().toString():t.skip(a);break;case 148:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_invalid_h264=t.readI64().toString():t.skip(a);break;case 149:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_invalid_h265=t.readI64().toString():t.skip(a);break;case 150:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_invalid_h265_nalu_block=t.readI64().toString():t.skip(a);break;case 151:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_encryptions=t.readI64().toString():t.skip(a);break;case 152:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_encryptions_failures=t.readI64().toString():t.skip(a);break;case 153:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_no_active_key=t.readI64().toString():t.skip(a);break;case 154:a===(e||(e=r("ThriftTypes"))).I64?n.key_negotiation_protocol=t.readI64().toString():t.skip(a);break;case 155:a===(e||(e=r("ThriftTypes"))).I64?n.key_messages_received_via_signaling=t.readI64().toString():t.skip(a);break;case 156:a===(e||(e=r("ThriftTypes"))).I64?n.key_messages_received_via_media=t.readI64().toString():t.skip(a);break;case 157:a===(e||(e=r("ThriftTypes"))).I64?n.key_messages_received_via_signaling_joiner=t.readI64().toString():t.skip(a);break;case 158:a===(e||(e=r("ThriftTypes"))).I64?n.key_messages_received_via_media_joiner=t.readI64().toString():t.skip(a);break;case 159:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_participant_hash_verification_failed_error=t.readI64().toString():t.skip(a);break;case 160:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_invalid_key_distributor_id_error=t.readI64().toString():t.skip(a);break;case 161:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_key_message_validation_failure_count=t.readI64().toString():t.skip(a);break;case 162:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_cached_decrypted_key_count=t.readI64().toString():t.skip(a);break;case 163:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_reapply_cached_decrypted_key_count=t.readI64().toString():t.skip(a);break;case 164:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_invalid_obu_offset=t.readI64().toString():t.skip(a);break;case 165:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_invalid_obu_offset=t.readI64().toString():t.skip(a);break;case 166:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_extension=t.readI64().toString():t.skip(a);break;case 167:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_extension=t.readI64().toString():t.skip(a);break;case 168:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_size=t.readI64().toString():t.skip(a);break;case 169:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_size=t.readI64().toString():t.skip(a);break;case 170:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_leb128_parse_failure=t.readI64().toString():t.skip(a);break;case 171:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_leb128_parse_failure=t.readI64().toString():t.skip(a);break;case 172:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_empty_frame=t.readI64().toString():t.skip(a);break;case 173:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_empty_frame=t.readI64().toString():t.skip(a);break;case 174:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_dec_error_frames_data_channel_av1_invalid_frame=t.readI64().toString():t.skip(a);break;case 175:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_dec_error_frames_av1_invalid_frame=t.readI64().toString():t.skip(a);break;case 176:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_dec_error_frames_data_channel_av1_deescape_data=t.readI64().toString():t.skip(a);break;case 177:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_dec_error_frames_av1_deescape_data=t.readI64().toString():t.skip(a);break;case 178:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_invalid_frame=t.readI64().toString():t.skip(a);break;case 179:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_invalid_frame=t.readI64().toString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function g(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRUCT?n.p2p_e2ee=_(t):t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRUCT?n.group_e2ee=f(t):t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.p2p_e2ee===void 0&&(n.p2p_e2ee=s()),n.group_e2ee===void 0&&(n.group_e2ee=u()),n}l.P2pE2eeMetrics$DefaultConstructor=s,l.GroupE2eeMetrics$DefaultConstructor=u,l.E2eeMetrics$DefaultConstructor=c,l.serializeP2pE2eeMetrics=d,l.serializeGroupE2eeMetrics=m,l.serializeE2eeMetrics=p,l.deserializeP2pE2eeMetrics=_,l.deserializeGroupE2eeMetrics=f,l.deserializeE2eeMetrics=g}),98);
__d("decodeIgSignalingPayload",["TCompactProtocol","TReadBuffer","ThriftTypes"],(function(t,n,r,o,a,i,l){"use strict";var e,s=2;function u(t){var n=new(r("TReadBuffer"))(t),o=new(r("TCompactProtocol"))(n),a=null;for(o.readStructBegin();;){var i=o.readFieldBegin(),l=i.ftype,u=i.fid;if(l===(e||(e=r("ThriftTypes"))).STOP)break;switch(u){case s:l===(e||(e=r("ThriftTypes"))).STRING?a=o.readString():o.skip(l);break;default:o.skip(l)}o.readFieldEnd()}return o.readStructEnd(),a}l.default=u}),98);
__d("IgSignalingListener",["FBLogger","IGDOverLSMqttChannel","RequestStreamBodyUtils","ZenonMWThriftMessageDebugLogger","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageSerializer","ZenonMWThriftMessageTranslator","decodeIgSignalingPayload","getErrorSafe","nullthrows","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=o("IGDOverLSMqttChannel").waitAndGetInstance(),s=(function(){function t(){}var n=t.prototype;return n.setLoggingEventHandler=function(t){this.$1=t},n.subscribe=function(n,a){var t=this;r("promiseDone")(e.then(function(e){e.subscribeBinary("/pubsub",function(e){try{var i=r("nullthrows")(r("decodeIgSignalingPayload")(e)),l=JSON.parse(i),s=o("RequestStreamBodyUtils").base64ToUint8Array(l.binaryPayload),u=o("ZenonMWThriftMessageSerializer").deserializeMWThriftMessage(s,!0);o("ZenonMWThriftMessageReliabilityLogger").logReceivedMessage(u),r("ZenonMWThriftMessageDebugLogger").logMWThriftMessage("RECEIVED","MQTT Thrift",u),t.$1&&t.$1({mwThriftMessage:u,name:"mwThriftMessageRecv"});var c=o("ZenonMWThriftMessageTranslator").toSignalingMessage(u);if(c==null)return;n(c),a&&t.$2(u,c,a),o("ZenonMWThriftMessageReliabilityLogger").logProcessingMessage(u)}catch(e){r("FBLogger")("rpweb").catching(r("getErrorSafe")(e)).mustfix("Error receiving MQTT message from /pubsub topic")}})}))},n.unsubscribe=function(){r("promiseDone")(e.then(function(e){e.unsubscribeAll("/webrtc"),e.unsubscribeAll("/pubsub")}))},n.$2=function(t,n,o){try{o(t,n)}catch(e){r("FBLogger")("rtweb").catching(r("getErrorSafe")(e)).mustfix("Signaling messages should be json parsable. error")}},t})();l.default=s}),98);
__d("LazyLoadInstance",["asyncToGeneratorRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e={LOADING:1,NOT_READY:0,READY:2},s=(function(){function t(t,n){this.$1={instantiate:n,moduleReference:t,stage:e.NOT_READY}}var o=t.prototype;return o.get=function(n){switch(this.$1.stage){case e.NOT_READY:r("promiseDone")(this.$2(this.$1),n);break;case e.LOADING:r("promiseDone")(this.$1.instancePromise,n);break;case e.READY:n(this.$1.instance);break}},o.getNow=function(){return this.$1.stage===e.READY?this.$1.instance:null},o.preload=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.$1.stage===e.NOT_READY&&(yield this.$2(this.$1))});function r(){return t.apply(this,arguments)}return r})(),o.$2=function(n){var t=this,r=n.instantiate,o=n.moduleReference,a=o.load().then(function(n){var o=r(n);return t.$1={instance:o,stage:e.READY},o});return this.$1={instancePromise:a,stage:e.LOADING},a},t})();l.default=s}),98);
__d("LsRtcEndCallSurveyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743882"),s=o("FalcoLoggerInternal").create("ls_rtc_end_call_survey",e),u=s;l.default=u}),98);
__d("LsRtcStarRatingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743884"),s=o("FalcoLoggerInternal").create("ls_rtc_star_rating",e),u=s;l.default=u}),98);
__d("OverlayConfigDefaults",[],(function(t,n,r,o,a,i){"use strict";var e=Object.freeze([1,0,0,20,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,640,360,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,0,0,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,0,1,-1,-1,-1,-1,-1,-1,1,1,0,2e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,16e3,2e4,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6e4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,120,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]),l=e;i.default=l}),66);
__d("OverlayConfigDefaultsLayer",["OverlayConfigDefaults","OverlayConfigLayerSource"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.getLayerSource=function(){return r("OverlayConfigLayerSource").DEFAULT},t.getValue=function(t){return r("OverlayConfigDefaults")[t]},t.logExposure=function(t){},e})();l.default=e}),98);
__d("OverlayConfigLayerManager",["FBLogger","OverlayConfigConstants","OverlayConfigDefaultsLayer"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=[new(r("OverlayConfigDefaultsLayer"))]}var t=e.prototype;return t.getValue=function(t){for(var e=this.$1.length-1;e>=0;e--){var n=this.$1[e].getValue(t);if(n>r("OverlayConfigConstants").OverlayConfigNotPresentFlagValue)return n}throw r("FBLogger")("rtc_www").mustfixThrow("OverlayConfigLayerManager: No value found for id %s",String(t))},t.addLayer=function(t){return this.$1.push(t),this.$1.length-1},t.replaceLayer=function(t,n){if(t===0)throw r("FBLogger")("rtc_www").mustfixThrow("OverlayConfigLayerManager: Tried to replace default layer!");if(this.$1[t]==null)throw r("FBLogger")("rtc_www").mustfixThrow("OverlayConfigLayerManager: Layer does not exist at index %s",String(t));this.$1[t]=n},t.clone=function(){var t=new e;return t.$1=this.$1.slice(),t},e})();l.default=e}),98);
__d("OverlayConfigManager",["Configs","OverlayConfigLayerManager"],(function(t,n,r,o,a,i){"use strict";var e,l=(e=n("Configs")).ExampleConfig,s=e.PreferredCaptureConfig,u=e.ZenonSdpTransformConfig,c=e.ZenonPeerConnectionConfig,d=e.ZenonStartCallImmediatelyConfig,m=e.ZenonGeneralizedIdentityConfig,p=e.ZenonMultiCallSupportConfig,_=e.ZenonPlatformSupportConfig,f=e.ZenonSimulcastConfig,g=e.DynamicRuleConfig,h=e.SignalingPingConfig,y=e.NetEqAiConfig,C=(function(){function e(){this.layerManager=new(n("OverlayConfigLayerManager"))}var t=e.prototype;return t.getExampleConfig=function(){return new l(this.layerManager)},t.getPreferredCaptureConfig=function(){return new s(this.layerManager)},t.getZenonSdpTransformConfig=function(){return new u(this.layerManager)},t.getZenonPeerConnectionConfig=function(){return new c(this.layerManager)},t.getZenonStartCallImmediatelyConfig=function(){return new d(this.layerManager)},t.getZenonGeneralizedIdentityConfig=function(){return new m(this.layerManager)},t.getZenonMultiCallSupportConfig=function(){return new p(this.layerManager)},t.getZenonPlatformSupportConfig=function(){return new _(this.layerManager)},t.getZenonSimulcastConfig=function(){return new f(this.layerManager)},t.getDynamicRuleConfig=function(){return new g(this.layerManager)},t.getSignalingPingConfig=function(){return new h(this.layerManager)},t.getNetEqAiConfig=function(){return new y(this.layerManager)},e})();a.exports=C}),null);
__d("OverlayConfigManagerWithServerLayer",["OverlayConfigManager"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this)||this,n.$OverlayConfigManagerWithServerLayer$p_1=-1,t!=null&&(n.layerManager=t.layerManager.clone()),n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.setServerLayer=function(t){if(this.$OverlayConfigManagerWithServerLayer$p_1>-1){this.layerManager.replaceLayer(this.$OverlayConfigManagerWithServerLayer$p_1,t);return}this.$OverlayConfigManagerWithServerLayer$p_1=this.layerManager.addLayer(t)},t})(r("OverlayConfigManager"));l.default=e}),98);
__d("RTWebDropInUtils",["FBLogger","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e="drop_in_metadata",s=function(n){var t;return t={},t[e]=JSON.stringify({is_drop_in:n?"1":"0"}),t},u=function(t){var e=c(t),n=e.isDropIn;return n},c=function(n){var t=n==null?void 0:n[e];if(t!=null)try{var o=JSON.parse(t);return{isDropIn:o.is_drop_in==="1"}}catch(e){var a=r("getErrorSafe")(e);return r("FBLogger")("rtc_www").catching(a).warn("Failed to parse drop_in_metadata app message"),{isDropIn:!1}}return{isDropIn:!1}};l.getDropInAppMessages=s,l.isDropInFromAppMessages=u}),98);
__d("ZenonCallWindowOpener_Popup",["UserAgent","ZenonUserActionLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=1280,s={LargeForGroup:{height:772,width:1100},LargeForP2P:{height:720,width:1280},Small:{height:540,width:960}},u=["menubar=no","location=no","scrollbars=no","status=no","personalbar=no"],c=(function(){function t(){}var n=t.prototype;return n.openWindow=function(t){var e=this.$1(t.joinContext),n=this.$2(e),a=n.left,i=n.top;o("ZenonUserActionLogger").logCheckpoint({checkpoint:"Opening_Popup: left="+a+",top="+i+",width="+e.width+",height="+e.height});var l=r("UserAgent").isBrowser("Safari")?window.location.hostname:"";return window.open(l,"",[].concat(u,["height="+e.height,"width="+e.width,"left="+a,"top="+i]).join(","))},n.$1=function(n){return screen&&screen.width>e?n.type==="link"||n.thread.type===2?{height:s.LargeForGroup.height,width:s.LargeForGroup.width}:{height:s.LargeForP2P.height,width:s.LargeForP2P.width}:{height:s.Small.height,width:s.Small.width}},n.$2=function(t){var e,n,r=t.height,o=t.width;return{left:Math.floor(window.innerWidth/2-o/2+((e=window.screenLeft)!=null?e:window.screenX)),top:Math.floor(window.innerHeight/2-r/2+((n=window.screenTop)!=null?n:window.screenY))}},t})();l.default=c}),98);
__d("ZenonCallWindowOpener_iFrame",["ZenonUserActionLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.openWindow=function(t){o("ZenonUserActionLogger").logCheckpoint({checkpoint:"Opening_iFrame"});var e=document.createElement("iframe");e.setAttribute("data-testid","zenon-call-window"),e.frameBorder="0",e.style.width="100%",e.style.height="100vh",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.zIndex="9999",document.body.appendChild(e);var n=e.contentWindow;return n},e})();l.default=e}),98);
__d("RTWebCallWindowOpener",["RTWebDropInUtils","ZenonCallWindowOpener_Popup","ZenonCallWindowOpener_iFrame","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=r("gkx")("15312")?new(r("ZenonCallWindowOpener_iFrame")):new(r("ZenonCallWindowOpener_Popup"))}var t=e.prototype;return t.openWindow=function(t){if(t.context.intent==="accept invite"&&t.context.controllerParams.appMessages!=null){var e=o("RTWebDropInUtils").isDropInFromAppMessages(t.context.controllerParams.appMessages);if(e)return babelHelpers.extends({},window,{close:function(){return null}})}return this.$1.openWindow(t)},e})();l.default=e}),98);
__d("RtcDoorCallingTags",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({OPEN:0,VANISHING:1,SECRET:2,CANVAS:32,LEAD_GEN:128,COPRESENCE:256,CONDUIT:512}),l=e;i.default=l}),66);
__d("TokenBucketRateLimit",["DateConsts"],(function(t,n,r,o,a,i,l){"use strict";var e=1e3,s=(function(){function t(t,n){this.$1=t*e,this.$2=t*e,this.$3=Date.now(),this.$4=n*e}var n=t.prototype;return n.take=function(n){n===void 0&&(n=1);var t=n*e;return this.$5(),this.$2<t?!1:(this.$2-=t,!0)},n.$5=function(){if(!(this.$2>=this.$1)){var e=Date.now(),t=(e-this.$3)/o("DateConsts").MS_PER_SEC,n=Math.round(t*this.$4);n!==0&&(this.$2=Math.min(this.$1,this.$2+n),this.$3=e)}},t})();l.default=s}),98);
__d("WebAssemblyMemorySingleton",[],(function(t,n,r,o,a,i){"use strict";var e=65536,l=5701632,s=45*e,u=l+s,c=null,d=0,m=0;function p(){return c==null&&(c=new WebAssembly.Memory({initial:u/e,maximum:2147483648/e}),d=u),c}function _(){if(c!=null){var e=c.buffer.byteLength;e!==d&&(m++,d=e)}return{memory_reallocation_count:m,memory_size_kb:d/1024}}var f={INITIAL_MEMORY_ALLOCATED_IN_BYTES:u,get:p,getMetrics:_};i.WebAssemblyMemorySingleton=f}),66);
__d("ZenonCallFalcoEventUtils",["performanceNow"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t){return String(Math.trunc(t))},u=function(){return s((e||(e=r("performanceNow")))())},c=function(t){return s(t!=null?t:0)},d=function(t){return t==null?null:s(t!=null?t:0)},m=function(t){return t!=null?t:""};l.truncateNumber=s,l.performanceNowParsed=u,l.nonNullIntNumber=c,l.intNumberOrNull=d,l.nonNullString=m}),98);
__d("ZenonCallInfoManager",["ZenonDeviceId"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.callTrigger,n=e.conferenceName,r=e.isCaller,a=e.isVideo,i=e.localCallID,l=e.peerID,s=e.protocol,u=e.serverInfoData,c=e.signalingID,d=o("ZenonDeviceId").getZenonLocalStorageDeviceIdWithFallback(),m={callTrigger:t!=null?t:"",conferenceName:n!=null?n:"",deviceID:d,isCaller:r,isVideo:a,localCallID:i,peerID:l,protocol:s,signalingID:c};this.$1=babelHelpers.extends({},m,{serverInfoData:u})}var t=e.prototype;return t.setDeviceID=function(t){this.$1.deviceID=t},t.setLocalCallID=function(t){this.$1.localCallID=t},t.setSharedCallId=function(t){this.$1.serverInfoData=t},t.setSignalingID=function(t){this.$1.signalingID=t},t.getCallInfo=function(){return this.$1},e})();l.default=e}),98);
__d("ZenonCallInviteModelTypes",[],(function(t,n,r,o,a,i){"use strict";var e={missed:"missed",ringing:"ringing",unsupported_browser:"unsupported_browser"};i.CallInviteModelType=e}),66);
__d("ZenonCallInviteModel",["BaseEventEmitter","FBLogger","ZenonCallInviteModelTypes","ZenonIncomingRingSDKTypes"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this)||this,n.$ZenonCallInviteModel$p_2=function(e){if(r("FBLogger")("rtc_www").info("Received cancel for: ",e.ringID),n.__currentRequest&&n.__currentRequest.model&&n.__currentRequest.model.ringID===e.ringID)switch(e.reason){case o("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup:{var t,a=((t=n.__currentRequest)==null||(t=t.model)==null?void 0:t.type)!==o("ZenonCallInviteModelTypes").CallInviteModelType.unsupported_browser;n.__currentRequest.model=babelHelpers.extends({},n.__currentRequest.model,{type:"missed"}),a&&n.emit("callInvite",n.__currentRequest.model);break}case o("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss:n.dismiss();break}},n.$ZenonCallInviteModel$p_1=function(e){var t;r("FBLogger")("rtc_www").info("Receiving ring: ",e.ringID),((t=n.__currentRequest)==null||(t=t.model)==null?void 0:t.type)!=="ringing"&&(n.__currentRequest={model:{actorID:e.actorID,context:e.context,controllerParams:e.controllerParams,inviterID:e.inviterID,isE2eeMandated:e.isE2eeMandated,participants:e.otherParticipants,receiverUserId:e.receiverUserId,requestingVideo:e.requestingVideo,ringID:e.ringID,ringRequest:e.ringRequest,type:e.isClientPermissableRing?"ringing":"unsupported_browser"},ringPayload:e},n.emit("callInvite",n.__currentRequest.model),e.isClientPermissableRing||e.onDecline("VersionUnsupported"))},n.__eventSource=t,n.__currentRequest=null,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getCurrentInvite=function(){var e,t;return(e=(t=this.__currentRequest)==null?void 0:t.model)!=null?e:null},n.startListening=function(t){var e=t.callsBlocked;this.__currentRequest&&this.dismiss(),this.stopListening(),e||(this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel$p_1),this.__eventSource.addListener("ringCancel",this.$ZenonCallInviteModel$p_2))},n.stopListening=function(){this.__eventSource.removeAllListeners("incomingRing"),this.__eventSource.removeAllListeners("ringCancel"),this.__currentRequest=null},n.dismiss=function(){var e;r("FBLogger")("rtc_www").info("Dismissing ring: ",(e=this.__currentRequest)==null||(e=e.model)==null?void 0:e.ringID),this.__currentRequest=null,this.emit("callInvite",null)},n.accept=function(t,n){var e=this.__currentRequest;if(e){var o,a;r("FBLogger")("rtc_www").info("Accepting ring: ",(o=e.model)==null?void 0:o.ringID),((a=e.model)==null?void 0:a.type)==="ringing"&&e.ringPayload.onAccept(t,n),this.dismiss()}},n.decline=function(t,n){t===void 0&&(t="IgnoreCall");var e=this.__currentRequest;if(e){var o;r("FBLogger")("rtc_www").info("Declining ring: ",(o=e.model)==null?void 0:o.ringID),e.ringPayload.onDecline(t,n),this.dismiss();return}},t})(r("BaseEventEmitter"));l.default=e}),98);
__d("ZenonLogPromiseRejection",["FBLogger","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return t===void 0&&(t=!1),e.catch(function(e){if(r("FBLogger")("rtc_www").catching(e).debug(e.message),t&&r("gkx")("1083"))throw e})}l.default=e}),98);
__d("ZenonCallLogger",["Promise","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLogPromiseRejection","isEmployeeTestUserZenonLogging","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Set(["mwMessageSent","mwThriftMessageSent","mwMessageRecv","mwThriftMessageRecv","setMediaStats","updateE2EEStats","updateIceInfo","setRemoteSdpOffer"]),u=new Set(["atLeastOneParticipantAlerted","atLeastOneParticipantAnswered"]),c=(function(){function t(e){var t=this,n=e.config,r=e.initLoggerInfo,o=e.isE2eeMandated,a=e.processorConfigs,i=e.startFromNavigation;this.$4=!0,this.$6=[],this.$7=new Set,this.$1=r,this.$2=n,this.$4=i,this.$3=o,this.$5={clientSessionID:r.signalingID,localCallID:r.localCallID,peerID:r.peerID,sharedCallID:r.serverInfoData},a.forEach(function(e){t.addLogProcessor(e)})}var o=t.prototype;return o.addLogProcessor=function(t){var e=this;this.$6.push(new t.LogProcessor({config:this.$2,data:this.$1,isE2eeMandated:this.$3,startFromNavigation:this.$4,updateLogIdentifiers:function(n){return e.updateLogIdentifiers(n)}}))},o.updateLogIdentifiers=function(t){Object.assign(this.$5,t),this.log({logIdentifiers:t,name:"updateLogIdentifiers"})},o.log=function(t){u.has(t.name)&&this.$7.has(t.name)||(this.$7.add(t.name),this.$8(t),r("promiseDone")(this.logToProcessors(t)))},o.logToProcessors=function(o){return r("ZenonLogPromiseRejection")((e||(e=n("Promise"))).all(this.$6.map(function(e){return e.processEvent(o)})).then(function(){}))},o.$8=function(t){r("isEmployeeTestUserZenonLogging")()&&(s.has(t.name)||r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"[ZP] ZenonCallLogger event: "+t.name}))},o.getLogIdentifiers=function(){return this.$5},t})();l.default=c}),98);
__d("ZenonCallWindowController",["FBLogger","Promise","ZenonCallWindowErrors","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t){var n=t.callWindowInitializerResource,r=t.callWindowOpener,o=t.uriBuilderResource;this.$2=null,this.$3=!1,this.$5=null,this.$1=e,this.$7=o,this.$4=n,this.$6=r}var a=t.prototype;return a.initCall=function(a){var t=this;if(this.$3)throw new(o("ZenonCallWindowErrors")).OpeningAnotherCallError;try{if(this.$2&&!this.$2.closed&&a.joinContext.type==="thread"){var i=a.joinContext.thread,l=i.type===15?i.secureOneToOneThreadPeerId:i.type===16?i.e2eeThreadID:i.id;if(this.$2.inCallWith===l)return this.$2.focus(),[this.$2,(e||(e=n("Promise"))).resolve({alohaEscalatedMW:!1})]}}catch(e){r("FBLogger")("rtc_www").catching(r("getErrorSafe")(e)).warn("Failed to access inCallWith on call window")}var s=this.$6.openWindow(a);try{this.$2&&(this.$2.closed||this.$2.close(),this.$2=null)}catch(e){r("FBLogger")("rtc_www").catching(r("getErrorSafe")(e)).warn("Failed to access close on call window")}return this.$2=s,this.$3=!0,[s,(e||(e=n("Promise"))).all([this.$7.load(),this.$4.load()]).then(function(e){var n=e[0],r=e[1];return t.$5===null&&(t.$5=new r(t.$1,new n(t.$1))),t.$5.initCall(t.$2,a)}).finally(function(){t.$3=!1})]},t})();l.default=s}),98);
__d("ZenonClientPerfQPLConstants",[],(function(t,n,r,o,a,i){"use strict";var e="zenon_popup_opened",l="zenon_call_join_request",s="zenon_sfu_e2ee_negotiation_complete",u="csm_outgoing_start",c="csm_incoming_connection_started",d="csm_invite_sent",m="csm_invite_ack_recv",p="csm_answer_recv",_="csm_answer_sdp_recv",f="csm_pranswer_sdp_recv",g="csm_offer_sdp_recv",h="csm_answer_sent",y="csm_negotiation_complete",C="csm_network_ready",b="csm_connection_ready",v="csm_dismiss_sent",S="csm_dismiss_recv",R="media_first_audio_packet",L="media_first_audio_packet_sent",E="media_first_video_packet",k="media_first_video_packet_sent",I="media_peer_connection_factory_created",T="signaling_mw_join_req_sent",D="signaling_mw_join_response_recv";i.POINT_ZENON_POPUP_OPENED=e,i.POINT_ZENON_CALL_JOIN_REQUEST=l,i.POINT_ZENON_SFU_E2EE_NEGOTIATION_COMPLETE=s,i.POINT_CONNECTION_OUTGOING_START=u,i.POINT_CONNECTION_INCOMING_CONNECTION_STARTED=c,i.POINT_CONNECTION_INVITE_SENT=d,i.POINT_CONNECTION_INVITE_ACK_RECV=m,i.POINT_CONNECTION_ANSWER_RECV=p,i.POINT_CONNECTION_ANSWER_SDP_RECV=_,i.POINT_CONNECTION_PRANSWER_SDP_RECV=f,i.POINT_CONNECTION_OFFER_SDP_RECV=g,i.POINT_CONNECTION_ANSWER_SENT=h,i.POINT_CONNECTION_NEGOTIATION_COMPLETE=y,i.POINT_CONNECTION_NETWORK_READY=C,i.POINT_CONNECTION_READY=b,i.POINT_CONNECTION_DISMISS_SENT=v,i.POINT_CONNECTION_DISMISS_RECV=S,i.POINT_MEDIA_FIRST_AUDIO_PACKET=R,i.POINT_MEDIA_FIRST_AUDIO_PACKET_SENT=L,i.POINT_MEDIA_FIRST_VIDEO_PACKET=E,i.POINT_MEDIA_FIRST_VIDEO_PACKET_SENT=k,i.POINT_MEDIA_PEER_CONNECTION_FACTORY_CREATED=I,i.POINT_SIGNALING_MW_JOIN_REQ_SENT=T,i.POINT_SIGNALING_MW_JOIN_RESPONSE_RECV=D}),66);
__d("ZenonCollisionContext",["RtcDoorCallingTags"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=null;return e.groupThreadID!=null?n={e2eeThreadID:e.groupThreadID,id:e.groupThreadID,type:t?16:2}:e.peerID!=null&&(n={id:e.peerID,secureOneToOneThreadPeerId:t?e.peerID:void 0,type:t?15:1}),n}function s(e){var t=e.call_trigger,n=e.callable_post_id,o=e.calling_tags,a=e.conference_name,i=e.group_thread_id,l=e.ig_thread_id,s=e.immersive_mode_door_id,u=e.is_meta_ai_call,c=e.link_url,d=e.live_broadcast_id,m=e.meeting_id,p=e.peer_id,_=e.rtc_door_id,f=e.server_info_data;return{callablePostID:n,callingTags:r("RtcDoorCallingTags").cast(o),callTrigger:t,conferenceName:a,groupThreadID:i,igThreadID:l,immersiveModeDoorID:s,isMetaAiCall:u,linkUrl:c,liveBroadcastID:d,meetingID:m,peerID:p,rtcDoorID:_,serverInfoData:f}}function u(e){return e===void 0&&(e={}),!Object.values(e).some(function(e){return e!=null})}l.getThreadIDAndTypeFromCollisionContext=e,l.fromRTCJoiningContext=s,l.isCollisionContextEmpty=u}),98);
__d("ZenonSharedWorkerPortManager",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=null,s=null;function u(t){s!=null&&s(t),l=(e||(e=n("Promise"))).resolve(t)}function c(){return l==null&&(l=new(e||(e=n("Promise")))(function(e){s=e})),l}i.setSharedWorkerPort=u,i.getSharedWorkerPort=c}),66);
__d("ZenonSignalingSharedWorkerBundle",["ZenonSignalingSharedWorkerV2Resource"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("ZenonSignalingSharedWorkerV2Resource")}),98);
__d("promiseWithTimeout",["Promise","asyncToGeneratorRuntime","clearTimeout","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(t,o){var a=this;this.$2=new(e||(e=n("Promise")))(function(e,n){var i=!1;a.$1=r("setTimeout")(function(){i||(i=!0,(o.rejectOnTimeout?n:e)())},o.timeout),a.$3(t).then(function(t){i||(i=!0,e(t))}).catch(function(e){i||(i=!0,n(e))})})}var o=t.prototype;return o.$3=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield e;return this.$1&&(r("clearTimeout")(this.$1),this.$1=null),t});function t(t){return e.apply(this,arguments)}return t})(),o.getPromise=function(){return this.$2},t})();function u(e,t){return new s(e,t).getPromise()}l.default=u}),98);
__d("ZenonSignalingSharedWorkerPortSingleton",["Deferred","JSResourceForInteraction","WAResolvable","ZenonDGWLogger","ZenonSharedWorkerConstants","ZenonSignalingSharedWorkerBundle","err","promiseDone","promiseWithTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("SharedWorkerBundleResource").__setRef("ZenonSignalingSharedWorkerPortSingleton"),s=p,u=new(o("WAResolvable")).Resolvable,c=null;function d(e,t){return c===null&&(c=m(e,t)),c}function m(t,n){var a=function(t,n,a){o("ZenonDGWLogger").logDGWCheckpoint("[SW] SW_TERMINATED: workerID="+String(n)+" reason="+String(t)+" msgType="+String(a)),r("promiseDone")(r("promiseWithTimeout")(u.promise,{rejectOnTimeout:!1,timeout:5e3}).then(function(){return s(t,n,a)}))},i=new(r("Deferred")),l=e.load().then(function(e){return e.createPushSafeSharedWebWorkerV2Async(r("ZenonSignalingSharedWorkerBundle"),a,{reason:"zenon_signaling_"+t+"_"+n})});return l.then(function(e){var n=window.setTimeout(function(){i.reject(r("err")("Worker connection ack timeout")),o("ZenonDGWLogger").logDGWCheckpoint("[SW] SW_CONNECT_TIMEOUT: "+t+" reason=ack_timeout_10s")},1e4),a=function(t){var e,r,a;if(typeof t.data=="object"&&((e=t.data)==null?void 0:e.type)===o("ZenonSharedWorkerConstants").CONNECTION_ACK&&typeof((r=t.data)==null?void 0:r.response)=="object"&&typeof((a=t.data)==null||(a=a.response)==null?void 0:a.from)=="string"){var l,s,u=typeof((l=t.data)==null||(l=l.response)==null?void 0:l.workerID)=="string"?(s=t.data)==null||(s=s.response)==null?void 0:s.workerID:void 0;u!=null&&(n!=null&&window.clearTimeout(n),i.resolve(u))}};return e.port.addEventListener("message",a),e.port.postMessage({type:o("ZenonSharedWorkerConstants").REGISTER,windowType:t}),i.getPromise().then(function(t){return{port:e.port,workerID:t}})})}function p(){c=null}function _(e){s=e,u.resolve()}l.createOrGetSharedWorkerPort=d,l.resetSharedWorkerPortSingleton=p,l.setOnCloseForWorkerInstance=_}),98);
__d("ZenonDGWSharedWorkerUtils",["CurrentUser","DGWEnvUtil","DGWWebConfig","FBLogger","JSResourceForInteraction","ZenonDGWLogger","ZenonDeviceId","ZenonSharedWorkerPortManager","ZenonSignalingSharedWorkerPortSingleton","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("ZenonSharedWorkerProxyMessageSender").__setRef("ZenonDGWSharedWorkerUtils");function s(t,a,i){r("promiseDone")(o("ZenonSignalingSharedWorkerPortSingleton").createOrGetSharedWorkerPort(t,"signaling").then(function(t){var o=t.port,l=n("ZenonSharedWorkerPortManager"),s=l.setSharedWorkerPort;s(o),u(o),r("promiseDone")(e.load(),function(e){return a.addMessageSender(new e(o))}),i==null||i(o)}).catch(function(e){o("ZenonDGWLogger").logDGWCheckpoint("[SW] SW_SETUP_FAILED: context="+t+" error="+String(e)),r("FBLogger")("rpweb").catching(r("getErrorSafe")(e)).mustfix("Failed to setup shared worker connection")}))}function u(e){try{var t=n("DGWWebConfig"),a=n("DGWEnvUtil"),i=n("CurrentUser"),l={appId:t.appId,appVersion:t.appVersion,authToken:a.getDGWAuthToken(),authType:a.getDGWAuthType(),deviceId:o("ZenonDeviceId").getZenonLocalStorageDeviceIdWithFallback(),dgwVersion:a.getDGWVersion(),endpoint:a.getDGWEndpoint(),fbId:i.getID(),isUserLoggedIn:i.isLoggedInNow()};e.postMessage({config:l,type:"INIT_DGW_CONFIG"})}catch(e){o("ZenonDGWLogger").logDGWCheckpoint("[SW] SW_DGW_CONFIG_SEND_FAILED: "+String(e)),r("FBLogger")("rpweb").catching(r("getErrorSafe")(e)).mustfix("Error processing sending DGWClientConfig to Shared Worker: ",String(e))}}l.setupDGWSharedWorker=s,l.sendDGWConfigToSharedWorker=u}),98);
__d("ZenonDeviceInfoHelper",["asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){"use strict";var e=-1,l=!1,s={getBatteryStats:(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield s.internalGetWindow().navigator.getBattery;if(typeof t!="function")return{level:e,placeholder:!0,wasCharged:!1};var n=yield t.call(navigator);return n.charging?l=!0:n.onchargingchange=function(e){e.target.charging&&(l=!0),e.target.onchargingchange=null},{level:n.level*100,placeholder:!1,wasCharged:l}});function r(){return t.apply(this,arguments)}return r})(),internalGetWindow:function(){return window}},u=s;i.default=u}),66);
__d("ZenonE2eeMandatedStateManager",["$InternalEnum","E2eeStateTypes","MultiwaySharedTypes","ZenonActorHooks","qex"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum").Mirrored(["NONE","ONLY_INFRA_MANDATED_EXP_CONTROL","ONLY_INFRA_MANDATED_EXP_TEST","INFRA_AND_PRODUCT_MANDATED"]),s=null,u=(function(){function t(){this.$1=e.NONE}var n=t.prototype;return n.processE2eeMandatedStateFromProductAndRing=function(t,n){this.$1=this.$2(t,n)},n.areBothInfraAndProductE2eeMandated=function(){return this.$1===e.INFRA_AND_PRODUCT_MANDATED},n.isInfraE2eeMandated=function(){return this.areBothInfraAndProductE2eeMandated()||this.$3()},n.$3=function(){return this.$1===e.ONLY_INFRA_MANDATED_EXP_TEST},n.processE2eeMandatedStateFromE2eeServerUpdate=function(n){this.areBothInfraAndProductE2eeMandated()||n===o("E2eeStateTypes").InfraMandatedExpStatus.TEST&&this.$1===e.ONLY_INFRA_MANDATED_EXP_TEST||n===o("E2eeStateTypes").InfraMandatedExpStatus.CONTROL&&this.$1===e.ONLY_INFRA_MANDATED_EXP_CONTROL||(this.$1=e.NONE)},n.isEligibleForE2eeInfraMandatedExperiment=function(){var e,t;return(e=(t=r("qex")._("138"))!=null?t:r("qex")._("192"))!=null?e:!1},n.isP2pMediaPathPreferredForInfraMandatedExperiment=function(){var e,t;return this.$3()&&((e=(t=r("qex")._("531"))!=null?t:r("qex")._("532"))!=null?e:!1)},n.getE2eeInfraMandatedExpStatus=function(){switch(this.$1){case e.INFRA_AND_PRODUCT_MANDATED:case e.NONE:return o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.NOT_SET;case e.ONLY_INFRA_MANDATED_EXP_CONTROL:return o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL;case e.ONLY_INFRA_MANDATED_EXP_TEST:return o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST}},n.$2=function(n,r){if(n)return e.INFRA_AND_PRODUCT_MANDATED;if(o("ZenonActorHooks").ZenonActor.getAppID()===436761779744620 .toString()||!this.isEligibleForE2eeInfraMandatedExperiment())return e.NONE;var t=this.$4();if(r==null)return t;var a=this.$5(r);return a===e.NONE?e.NONE:a===e.ONLY_INFRA_MANDATED_EXP_CONTROL?t===e.ONLY_INFRA_MANDATED_EXP_TEST?e.NONE:e.ONLY_INFRA_MANDATED_EXP_CONTROL:t===e.ONLY_INFRA_MANDATED_EXP_CONTROL?e.NONE:e.ONLY_INFRA_MANDATED_EXP_TEST},n.$4=function(){var t=this.$6();return t===o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST?e.ONLY_INFRA_MANDATED_EXP_TEST:t===o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL?e.ONLY_INFRA_MANDATED_EXP_CONTROL:e.NONE},n.$6=function(){var e;return(e=r("qex")._("196"))!=null?e:r("qex")._("227")},n.$5=function(n){return n===o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST?e.ONLY_INFRA_MANDATED_EXP_TEST:n===o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL?e.ONLY_INFRA_MANDATED_EXP_CONTROL:e.NONE},t})();function c(){return s==null&&(s=new u),s}var d=c();l.default=d}),98);
__d("ZenonGenericLocalStorageStore",["CacheStorage","WebStorage","ZenonODSLogger","ZenonUserActionLogger","areEqual","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=2e3,c=3,d=(function(){function t(e,t,n){this.$1=e,this.$2=new(r("CacheStorage"))(t,n)}var n=t.prototype;return n.getLocalStorageObjects=function(){return this.$2.get(this.$1)||{}},n.removeLocalStorageObjects=function(t){this.mutateLocalStorageObjects(function(e){return t.forEach(function(t){var n=t.peerID,r=t.signalingID;e[n]&&e[n][r]&&(delete e[n][r],Object.entries(e[n]).length===0&&delete e[n])}),e})},n.mutateLocalStorageObjects=function(n,o,a,i){var t=this;o===void 0&&(o=c),a===void 0&&(a=!1),i===void 0&&(i=null);var l=this.getLocalStorageObjects(),s=this.getLocalStorageObjects(),d=n(l),m=this.getLocalStorageObjects();(e||(e=r("areEqual")))(s,m)?(this.$2.set(this.$1,d),this.logStorageError(this.$2.getLastSetException(),i)):o>0&&(a?r("setTimeout")(function(){t.mutateLocalStorageObjects(n,o-1,!0)},u):this.mutateLocalStorageObjects(n,o-1,!0))},n.logStorageError=function(t,n){t!=null&&(o("ZenonUserActionLogger").logError({call_id:n==null?void 0:n.signalingID,error_domain:"ZenonGenericLocalStorageStore_storeLocalStorageObjects",error_type:t.name,peer_id:n==null?void 0:n.peerID}),(s||(s=r("WebStorage"))).isLocalStorageQuotaExceeded()&&r("ZenonODSLogger").logCounter("local_storage_quota_exceeded"))},t})();l.default=d}),98);
__d("ZenonLSCallStartEventManager",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonPeerID"],(function(t,n,r,o,a,i,l){"use strict";var e=["deviceID"],s=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,e.$ZenonLSCallStartEventManager$p_1={},e.$ZenonLSCallStartEventManager$p_2=!1,e.$ZenonLSCallStartEventManager$p_3=!1,babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.updateEventTimestamp=function(t){this.$ZenonLSCallStartEventManager$p_1[t]==null&&(this.$ZenonLSCallStartEventManager$p_1[t]=o("ZenonCallFalcoEventUtils").performanceNowParsed())},r.receivedFromInvite=function(){this.$ZenonLSCallStartEventManager$p_2=!0},r.receivedFromServer=function(){this.$ZenonLSCallStartEventManager$p_3=!0},r.getStartEventData=function(){var e=this.getCallInfo(),t=e.signalingID,n=babelHelpers.extends({},this.getTimestamps(),this.$ZenonLSCallStartEventManager$p_4());return t!==""&&(n.local_signaling_id=t),n},r.$ZenonLSCallStartEventManager$p_4=function(){var e=this.getCallInfo(),t=e.deviceID,n=e.localCallID,r=e.peerID,a=e.serverInfoData,i=e.signalingID;return babelHelpers.extends({connection_logging_id:i,local_call_id:n,peer_id:o("ZenonPeerID").convertPeerIDForLogging(r),protocol:"multiway"},a!=null&&{shared_call_id:a},{steady_time_ms:o("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:t})},r.getTimestamps=function(){return this.$ZenonLSCallStartEventManager$p_1},r.save=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.storeCallStartEventManager(n,r,this)},r.delete=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.removeLocalStorageObjects([{peerID:n,signalingID:r}])},r.toJsonString=function(){var e=this.getCallInfo(),t=e.signalingID,n={callInfo:e,connectionLoggingId:t,receivedFromInvite:this.$ZenonLSCallStartEventManager$p_2,receivedFromServer:this.$ZenonLSCallStartEventManager$p_3,timestamps:this.getTimestamps()};return JSON.stringify(n)},n.fromJsonString=function(r){var t;try{t=JSON.parse(r)}catch(e){return null}var o=t.callInfo,a=o.deviceID,i=babelHelpers.objectWithoutPropertiesLoose(o,e),l=new n(i);return l.$ZenonLSCallStartEventManager$p_2=t.receivedFromInvite,l.$ZenonLSCallStartEventManager$p_3=t.receivedFromServer,l.$ZenonLSCallStartEventManager$p_1=t.timestamps,l},n})(r("ZenonCallInfoManager"));l.default=s}),98);
__d("ZenonLSCallStartEventStore",["ZenonGenericLocalStorageStore","ZenonLSCallStartEventManager"],(function(t,n,r,o,a,i,l){"use strict";var e="localstorage",s="RTC_LS_CALL_START_",u="ls_call_start",c=3,d=(function(t){function n(){return t.call(this,u,e,s)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.retrieveCallStartEventManager=function(t,n){var e=this.getLocalStorageObjects(),o=e[t]?e[t][n]:null;return o?r("ZenonLSCallStartEventManager").fromJsonString(o.__d):null},o.storeCallStartEventManager=function(t,n,r){this.mutateLocalStorageObjects(function(e){return e[t]||(e[t]={}),e[t][n]={__d:r.toJsonString(),__t:Date.now(),__z:!0},e},c,!1,{peerID:t,signalingID:n})},n})(r("ZenonGenericLocalStorageStore")),m=new d;l.ZenonLSCallStartEventStoreInstance=m}),98);
__d("ZenonLSCallSummary",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonDeviceInfoHelper","ZenonDismissReason","ZenonLoggingEventTypes","ZenonPeerID","asyncToGeneratorRuntime","performanceNow","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=["deviceID"],s,u=(function(t){function a(e){var n,a;return a=t.call(this,e)||this,a.$ZenonLSCallSummary$p_1={call_answered_time:"-1",call_connected_time:"-1",call_created_time:"-1",call_ended_time:"-1",last_updated_time:"-1"},a.$ZenonLSCallSummary$p_2=!1,a.$ZenonLSCallSummary$p_3=null,a.$ZenonLSCallSummary$p_6=null,a.$ZenonLSCallSummary$p_8=null,a.$ZenonLSCallSummary$p_9=null,a.$ZenonLSCallSummary$p_10=null,a.$ZenonLSCallSummary$p_11=null,a.$ZenonLSCallSummary$p_15=null,a.$ZenonLSCallSummary$p_19=!1,a.$ZenonLSCallSummary$p_12=e.callTrigger,a.$ZenonLSCallSummary$p_7=e.isVideo,a.$ZenonLSCallSummary$p_4=0,a.$ZenonLSCallSummary$p_14=(n=e.joinMode)!=null?n:o("ZenonLoggingEventTypes").ZenonJoinMode.Primary,a.$ZenonLSCallSummary$p_5=(s||(s=r("performanceNow")))(),a.setTimestamp("call_created_time"),a.updateLastUpdatedTime(),r("promiseDone")(a.updateBatteryStart()),a}babelHelpers.inheritsLoose(a,t);var i=a.prototype;return i.setTimestamp=function(t){this.$ZenonLSCallSummary$p_1[t]==="-1"&&(this.$ZenonLSCallSummary$p_1[t]=String(this.$ZenonLSCallSummary$p_20()))},i.getTimestamps=function(){return this.$ZenonLSCallSummary$p_1},i.getExtraInfo=function(){var e={};return this.$ZenonLSCallSummary$p_9!=null&&!isNaN(this.$ZenonLSCallSummary$p_9)&&(e.battery_end_level=String(this.$ZenonLSCallSummary$p_9)),this.$ZenonLSCallSummary$p_8!=null&&!isNaN(this.$ZenonLSCallSummary$p_8)&&(e.battery_start_level=String(this.$ZenonLSCallSummary$p_8)),this.$ZenonLSCallSummary$p_10!=null&&(e.was_device_charged=this.$ZenonLSCallSummary$p_10),this.$ZenonLSCallSummary$p_11!=null&&(e.max_concurrent_connected_participant=this.$ZenonLSCallSummary$p_11),e},i.getVideoStats=function(){var e={};if(this.$ZenonLSCallSummary$p_6!=null){var t;if(isNaN(this.$ZenonLSCallSummary$p_6.ld)||(e.local_video_duration=String(this.$ZenonLSCallSummary$p_6.ld)),!isNaN((t=this.$ZenonLSCallSummary$p_6)==null?void 0:t.rd)){var n,r;e.remote_video_duration=String((n=(r=this.$ZenonLSCallSummary$p_6)==null?void 0:r.rd)!=null?n:0)}}return e},i.getEndCallStats=function(){var e={};if(this.$ZenonLSCallSummary$p_16!=null&&(e.end_call_reason=o("ZenonDismissReason").dismissToEndCallReason(this.$ZenonLSCallSummary$p_16)),this.$ZenonLSCallSummary$p_17!=null&&(e.end_call_subreason=this.$ZenonLSCallSummary$p_17),this.$ZenonLSCallSummary$p_19!=null&&(e.remote_ended=this.$ZenonLSCallSummary$p_19),this.$ZenonLSCallSummary$p_3!=null){var t;e.is_connected_end=(t=this.$ZenonLSCallSummary$p_21())!=null?t:!1}return e},i.getLoggingArgs=function(){var e,t=this.getCallInfo(),n=t.deviceID,r=t.peerID,a=t.serverInfoData,i=t.signalingID;return{call_id:i,conf_name:(e=this.$ZenonLSCallSummary$p_13)!=null?e:"",peer_id:o("ZenonPeerID").convertPeerIDForLogging(r),serv_info:a!=null?a:"",web_device_id:n}},i.getSummaryLoggingInfo=function(){var e,t=this.getCallInfo(),n=t.deviceID,r=t.isCaller,a=t.localCallID,i=t.peerID,l=t.serverInfoData,s=t.signalingID;return babelHelpers.extends({},this.getTimestamps(),this.getExtraInfo(),this.getVideoStats(),this.getEndCallStats(),l!=null&&{shared_call_id:l},{call_trigger:(e=this.$ZenonLSCallSummary$p_12)!=null?e:"",client_session_id:s==null?null:String(s),invite_requested_video:this.$ZenonLSCallSummary$p_7,is_caller:r,join_mode:String(this.$ZenonLSCallSummary$p_14),local_call_id:a,peer_id:o("ZenonPeerID").convertPeerIDForLogging(i),rtc_actor_id:this.$ZenonLSCallSummary$p_15,steady_time:o("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time:String(Date.now()),web_device_id:n})},i.onCallEscalated=function(){this.updateLastUpdatedTime()},i.onCallAccepted=function(t){this.$ZenonLSCallSummary$p_12=t,this.setTimestamp("call_answered_time"),this.updateLastUpdatedTime()},i.onCallConnected=function(){this.setTimestamp("call_connected_time"),this.updateLastUpdatedTime()},i.setMediaStats=function(t){this.$ZenonLSCallSummary$p_6=t.video,this.updateLastUpdatedTime()},i.setMaxConnectedParticipants=function(t){this.$ZenonLSCallSummary$p_11=o("ZenonCallFalcoEventUtils").nonNullIntNumber(t),this.updateLastUpdatedTime()},i.setRtcActorID=function(t){this.$ZenonLSCallSummary$p_15=t},i.unsetEndCallFields=function(){this.$ZenonLSCallSummary$p_18===!0&&(this.$ZenonLSCallSummary$p_16=null,this.$ZenonLSCallSummary$p_17=null,this.$ZenonLSCallSummary$p_19=null,this.$ZenonLSCallSummary$p_3=null,this.$ZenonLSCallSummary$p_1.call_ended_time="-1",this.$ZenonLSCallSummary$p_5=0,this.$ZenonLSCallSummary$p_18=null)},i.onCallEnded=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){this.$ZenonLSCallSummary$p_16=e,this.$ZenonLSCallSummary$p_17=r,this.$ZenonLSCallSummary$p_18=n,this.$ZenonLSCallSummary$p_19=t,this.$ZenonLSCallSummary$p_3==null&&(this.$ZenonLSCallSummary$p_3=this.$ZenonLSCallSummary$p_22()),yield this.updateBatteryEnd(),this.setTimestamp("call_ended_time"),this.updateLastUpdatedTime()});function t(t,n,r,o){return e.apply(this,arguments)}return t})(),i.onPCStateChange=function(t){this.$ZenonLSCallSummary$p_2=t,this.updateLastUpdatedTime()},i.updateBatteryStart=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield r("ZenonDeviceInfoHelper").getBatteryStats(),t=e.level,n=e.placeholder;n!==!0&&(this.$ZenonLSCallSummary$p_8=parseInt(t,10))});function t(){return e.apply(this,arguments)}return t})(),i.updateBatteryEnd=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield r("ZenonDeviceInfoHelper").getBatteryStats(),t=e.level,n=e.placeholder,o=e.wasCharged;n!==!0&&(this.$ZenonLSCallSummary$p_9=parseInt(t,10),this.setDeviceCharged(o))});function t(){return e.apply(this,arguments)}return t})(),i.setDeviceCharged=function(t){this.$ZenonLSCallSummary$p_10!==!0&&(this.$ZenonLSCallSummary$p_10=t)},i.setConferenceName=function(t){this.$ZenonLSCallSummary$p_13=t,this.updateLastUpdatedTime()},i.getDeviceCharged=function(){return this.$ZenonLSCallSummary$p_10},a.fromJsonString=function(n){var t,r;try{r=JSON.parse(n)}catch(e){return null}var o=r.callInfo,i=o.deviceID,l=babelHelpers.objectWithoutPropertiesLoose(o,e),s=new a(l);return s.setDeviceID(i),s.$ZenonLSCallSummary$p_1=r.timestamps,s.$ZenonLSCallSummary$p_2=r.pcIsConnected,s.$ZenonLSCallSummary$p_3=r.endIsConnected,s.$ZenonLSCallSummary$p_16=r.endCallReason,s.$ZenonLSCallSummary$p_17=r.endCallSubreason,s.$ZenonLSCallSummary$p_19=r.isRemoteEnded,s.$ZenonLSCallSummary$p_7=r.isVideo,s.$ZenonLSCallSummary$p_15=(t=r.rtcActorID)!=null?t:null,s.$ZenonLSCallSummary$p_6={ld:parseInt(r.videoStats.local_video_duration,10),rd:parseInt(r.videoStats.remote_video_duration,10)},s.$ZenonLSCallSummary$p_8=parseInt(r.extraInfo.battery_start_level,10),s.$ZenonLSCallSummary$p_9=parseInt(r.extraInfo.battery_end_level,10),r.extraInfo.was_device_charged!=null&&(s.$ZenonLSCallSummary$p_10=r.extraInfo.was_device_charged),r.extraInfo.max_concurrent_connected_participant!=null&&(s.$ZenonLSCallSummary$p_11=r.extraInfo.max_concurrent_connected_participant),r.unsetOnRetrieve!=null&&(s.$ZenonLSCallSummary$p_18=r.unsetOnRetrieve),r.accumulatedCallTime!=null&&(s.$ZenonLSCallSummary$p_4=r.accumulatedCallTime),r.conferenceName!=null&&(s.$ZenonLSCallSummary$p_13=r.conferenceName),s},i.toJsonString=function(){var e={accumulatedCallTime:this.$ZenonLSCallSummary$p_20(),callInfo:this.getCallInfo(),conferenceName:this.$ZenonLSCallSummary$p_13,endCallReason:this.$ZenonLSCallSummary$p_16,endCallSubreason:this.$ZenonLSCallSummary$p_17,endIsConnected:this.$ZenonLSCallSummary$p_21(),extraInfo:this.getExtraInfo(),isRemoteEnded:this.$ZenonLSCallSummary$p_19,isVideo:this.$ZenonLSCallSummary$p_7,joinMode:this.$ZenonLSCallSummary$p_14,pcIsConnected:this.$ZenonLSCallSummary$p_22(),rtcActorID:this.$ZenonLSCallSummary$p_15,timestamps:this.getTimestamps(),unsetOnRetrieve:this.$ZenonLSCallSummary$p_18,videoStats:this.getVideoStats()};return JSON.stringify(e)},i.$ZenonLSCallSummary$p_20=function(){var e=(s||(s=r("performanceNow")))()-this.$ZenonLSCallSummary$p_5;return Math.floor(this.$ZenonLSCallSummary$p_4+e)},i.$ZenonLSCallSummary$p_21=function(){return this.$ZenonLSCallSummary$p_3==null?null:this.$ZenonLSCallSummary$p_3&&Number(this.$ZenonLSCallSummary$p_11)>1},i.$ZenonLSCallSummary$p_22=function(){return this.$ZenonLSCallSummary$p_2&&Number(this.$ZenonLSCallSummary$p_11)>1},i.updateLastUpdatedTime=function(){this.$ZenonLSCallSummary$p_1.last_updated_time=String(this.$ZenonLSCallSummary$p_20())},i.save=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.storeCallSummary(n,r,this)},i.remove=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.removeLocalStorageObjects([{peerID:n,signalingID:r}])},a})(r("ZenonCallInfoManager"));l.default=u}),98);
__d("ZenonLSCallSummaryStore",["ZenonGenericLocalStorageStore","ZenonLSCallSummary"],(function(t,n,r,o,a,i,l){"use strict";var e="localstorage",s="RTC_LS_CALL_SUMMARY_",u="ls_summary",c=3,d=(function(t){function n(){return t.call(this,u,e,s)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.retrieveCallSummary=function(t,n){var e=this.getLocalStorageObjects(),o=e[t]?e[t][n]:null;return o?r("ZenonLSCallSummary").fromJsonString(o.__d):null},o.storeCallSummary=function(t,n,r){this.mutateLocalStorageObjects(function(e){return e[t]||(e[t]={}),e[t][n]={__d:r.toJsonString(),__t:Date.now(),__z:!0},e},c,!1,{peerID:t,signalingID:n})},n})(r("ZenonGenericLocalStorageStore")),m=new d;l.ZenonLSCallSummaryStoreInstance=m}),98);
__d("ZenonLSE2EEStatsManager",["E2eeMetricsSerializers","WebAssemblyMemorySingleton","ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonPeerID"],(function(t,n,r,o,a,i,l){"use strict";var e=["deviceID"],s=(function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,e.$ZenonLSE2EEStatsManager$p_1={group_e2ee_metrics:o("E2eeMetricsSerializers").GroupE2eeMetrics$DefaultConstructor(),p2p_e2ee_metrics:o("E2eeMetricsSerializers").P2pE2eeMetrics$DefaultConstructor(),track_specific_e2ee_stats:new Map,wasm_metrics:o("WebAssemblyMemorySingleton").WebAssemblyMemorySingleton.getMetrics()},babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.updateE2eeStats=function(t){this.$ZenonLSE2EEStatsManager$p_1=t},r.getGroupE2eeMetricsInFalcoShape=function(){var e=this.getCallInfo(),t=e.deviceID,n=e.localCallID,r=e.serverInfoData;return babelHelpers.extends({g_e2ee_web_wasm_final_memory_usage_kb:String(this.$ZenonLSE2EEStatsManager$p_1.wasm_metrics.memory_size_kb),g_e2ee_web_wasm_memory_reallocation_count:String(this.$ZenonLSE2EEStatsManager$p_1.wasm_metrics.memory_reallocation_count),local_call_id:n},r!=null&&{shared_call_id:r},{steady_time_ms:o("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:t},this.$ZenonLSE2EEStatsManager$p_1.group_e2ee_metrics)},r.getP2pE2eeMetricsInFalcoShape=function(){var e=this.getCallInfo(),t=e.deviceID,n=e.localCallID,r=e.peerID,a=e.serverInfoData;return babelHelpers.extends({local_call_id:n},a!=null&&{shared_call_id:a},{peer_id:o("ZenonPeerID").convertPeerIDForLogging(r),steady_time_ms:o("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:t},this.$ZenonLSE2EEStatsManager$p_1.p2p_e2ee_metrics)},r.save=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.storeE2eeStats(n,r,this)},r.delete=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.removeLocalStorageObjects([{peerID:n,signalingID:r}])},r.toJsonString=function(){var e={callInfo:this.getCallInfo(),groupE2eeMetrics:this.$ZenonLSE2EEStatsManager$p_1.group_e2ee_metrics,p2pE2eeMetrics:this.$ZenonLSE2EEStatsManager$p_1.p2p_e2ee_metrics,trackSpecificE2eeStatsWithTrackId:Array.from(this.$ZenonLSE2EEStatsManager$p_1.track_specific_e2ee_stats),wasmMetrics:this.$ZenonLSE2EEStatsManager$p_1.wasm_metrics};return JSON.stringify(e)},n.fromJsonString=function(r){var t;try{t=JSON.parse(r)}catch(e){return null}var o=t.callInfo,a=o.deviceID,i=babelHelpers.objectWithoutPropertiesLoose(o,e),l=new n(i);return l.$ZenonLSE2EEStatsManager$p_1={group_e2ee_metrics:t.groupE2eeMetrics,p2p_e2ee_metrics:t.p2pE2eeMetrics,track_specific_e2ee_stats:new Map(t.trackSpecificE2eeStatsWithTrackId),wasm_metrics:t.wasmMetrics},l},n})(r("ZenonCallInfoManager"));l.default=s}),98);
__d("ZenonLSE2EEStore",["ZenonGenericLocalStorageStore","ZenonLSE2EEStatsManager"],(function(t,n,r,o,a,i,l){"use strict";var e="localstorage",s="RTC_LS_E2EE_STATS_",u="ls_e2ee_stats",c=3,d=(function(t){function n(){return t.call(this,u,e,s)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.retrieveE2eeStats=function(t,n){var e=this.getLocalStorageObjects(),o=e[t]?e[t][n]:null;return o?r("ZenonLSE2EEStatsManager").fromJsonString(o.__d):null},o.storeE2eeStats=function(t,n,r){this.mutateLocalStorageObjects(function(e){return e[t]||(e[t]={}),e[t][n]={__d:r.toJsonString(),__t:Date.now(),__z:!0},e},c,!1,{peerID:t,signalingID:n})},n})(r("ZenonGenericLocalStorageStore")),m=new d;l.ZenonLSE2EEStoreInstance=m}),98);
__d("ZenonLSPeerConnectionSummary",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonIceStatsParser","ZenonLoggingEventTypes","ZenonMWMessageTypes","ZenonPeerID","performanceNow"],(function(t,n,r,o,a,i,l){"use strict";var e=["deviceID"],s,u=(function(t){function n(e){var n;return n=t.call(this,e)||this,n.$ZenonLSPeerConnectionSummary$p_1={CoreAudioMetrics:{isstall:"0",voice_detect_pct:[]},CoreVideoMetrics:{screen:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}},video:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}}},DebugAudioMetrics:{NetworkReceive:{}},audio:{echo_confidence:{}},dataChannelMetrics:{},ecv:{},extraInfo:{},receiver:{},receiver_pct:{audio:{}},receiver_stalls:{screen_recv_stalls:{recv_decode_stall:{is_stall:"0"},recv_no_bytes_stall:{is_stall:"0"},recv_render_stall:{is_stall:"0"}},video_recv_stalls:{recv_decode_stall:{is_stall:"0"},recv_no_bytes_stall:{is_stall:"0"},recv_render_stall:{is_stall:"0"}}},sender:{},sender_pct:{screen:{},video:{}},video:{}},n.$ZenonLSPeerConnectionSummary$p_2={},n.$ZenonLSPeerConnectionSummary$p_3={},n.$ZenonLSPeerConnectionSummary$p_5=-1,n.$ZenonLSPeerConnectionSummary$p_8=null,n.$ZenonLSPeerConnectionSummary$p_9=new Map,n.$ZenonLSPeerConnectionSummary$p_10="unknown",n.$ZenonLSPeerConnectionSummary$p_6=(s||(s=r("performanceNow")))(),n.$ZenonLSPeerConnectionSummary$p_4=0,n.$ZenonLSPeerConnectionSummary$p_7=null,n}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.$ZenonLSPeerConnectionSummary$p_11=function(){var e,t=this,n="",r=0,a=0,i=0,l=0;return Object.keys((e=this.$ZenonLSPeerConnectionSummary$p_1.dataChannelMetrics)!=null?e:{}).forEach(function(e){var o=t.$ZenonLSPeerConnectionSummary$p_1.dataChannelMetrics[e];o!=null&&(n+=o.label+":"+o.bytes_sent+":"+o.bytes_received+":"+o.messages_sent+":"+o.messages_received+",",r+=Number(o.bytes_sent),a+=Number(o.bytes_received),i+=Number(o.messages_sent),l+=Number(o.messages_received))}),{data_channel_total_bytes_recv:o("ZenonCallFalcoEventUtils").nonNullIntNumber(a),data_channel_total_bytes_sent:o("ZenonCallFalcoEventUtils").nonNullIntNumber(r),data_channel_total_msg_recv:o("ZenonCallFalcoEventUtils").nonNullIntNumber(l),data_channel_total_msg_sent:o("ZenonCallFalcoEventUtils").nonNullIntNumber(i),data_channel_type:"SCTP",sctp_per_channel_stats_raw:n}},a.$ZenonLSPeerConnectionSummary$p_12=function(){var e=this.$ZenonLSPeerConnectionSummary$p_1.sender,t=e.codec,n=t===void 0?{}:t,r={gen0_ice_sent_host:o("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_2.host),gen0_ice_sent_relay:o("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_2.relay),gen0_ice_sent_srflx:o("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_2.srflx)},a=n.www;return a!=null&&(r.audio_send_codec=String(a)),this.$ZenonLSPeerConnectionSummary$p_13(r,"audio_send_bytes_sent",e.bytes),this.$ZenonLSPeerConnectionSummary$p_13(r,"audio_send_level_count",e.taulc),this.$ZenonLSPeerConnectionSummary$p_13(r,"audio_send_level_sum",e.tx_sum_lvl),this.$ZenonLSPeerConnectionSummary$p_13(r,"audio_send_packets_sent",e.psent),this.$ZenonLSPeerConnectionSummary$p_13(r,"avg_video_uplink_bandwidth_estimate",e.ube_avg),this.$ZenonLSPeerConnectionSummary$p_13(r,"transport_conn_rtt_avg",e.avgrtt),r},a.$ZenonLSPeerConnectionSummary$p_13=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_14=function(){var e,t,n,r=(e=this.$ZenonLSPeerConnectionSummary$p_1.video.sender)==null?void 0:e.ss,o=(t=r==null?void 0:r.frames)!=null?t:0,a=(n=r==null?void 0:r.eqps)!=null?n:0,i=o>0&&a>0?a/o:null,l={};return this.$ZenonLSPeerConnectionSummary$p_15(l,"avg_video_actual_encode_bitrate_ss",r==null?void 0:r.avbr),this.$ZenonLSPeerConnectionSummary$p_15(l,"avg_video_uplink_bandwidth_estimate_ss",r==null?void 0:r.avbw),this.$ZenonLSPeerConnectionSummary$p_15(l,"video_send_duration_ss",r==null?void 0:r.dur),this.$ZenonLSPeerConnectionSummary$p_15(l,"video_send_frames_send_to_encoder_ss",r==null?void 0:r.eiframes),this.$ZenonLSPeerConnectionSummary$p_15(l,"video_send_total_input_pixel_ss",r==null?void 0:r.video_sum_capture_pixel),this.$ZenonLSPeerConnectionSummary$p_15(l,"video_send_total_output_pixel_ss",r==null?void 0:r.video_sum_encoded_pixel),this.$ZenonLSPeerConnectionSummary$p_15(l,"video_send_frames_encoded_ss",r==null?void 0:r.frames),this.$ZenonLSPeerConnectionSummary$p_15(l,"video_send_qp_sum_ss",i),l},a.$ZenonLSPeerConnectionSummary$p_15=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_16=function(){var e=this.$ZenonLSPeerConnectionSummary$p_1.video.bwe,t={};return this.$ZenonLSPeerConnectionSummary$p_17(t,"avg_video_actual_encode_bitrate",e==null?void 0:e.avg_enc_bitrate),this.$ZenonLSPeerConnectionSummary$p_17(t,"avg_video_actual_encode_bitrate_ss",e==null?void 0:e.avg_enc_bitrate_ss),this.$ZenonLSPeerConnectionSummary$p_17(t,"avg_video_retransmit_bitrate",e==null?void 0:e.avg_retrans_bitrate),this.$ZenonLSPeerConnectionSummary$p_17(t,"avg_video_transmit_bitrate",e==null?void 0:e.avg_trans_bitrate),this.$ZenonLSPeerConnectionSummary$p_17(t,"avg_video_uplink_bandwidth_estimate",e==null?void 0:e.avg_send_bw),t},a.$ZenonLSPeerConnectionSummary$p_17=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_18=function(){var e,t=(e=this.$ZenonLSPeerConnectionSummary$p_1.sender_pct.video)==null?void 0:e.vqs,n={};return(t==null?void 0:t.avg)!=null&&(n.video_send_quality_score=o("ZenonCallFalcoEventUtils").truncateNumber(t==null?void 0:t.avg)),n},a.$ZenonLSPeerConnectionSummary$p_19=function(){var e=this.$ZenonLSPeerConnectionSummary$p_1.video.sender,t={video_send_codec:e==null?void 0:e.ename};return this.$ZenonLSPeerConnectionSummary$p_20(t,"video_recv_firs_sent",e==null?void 0:e.fir),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_recv_nacks_sent",e==null?void 0:e.nack),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_recv_plis_sent",e==null?void 0:e.pli),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frame_height",e==null?void 0:e.ah),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frame_height_input",e==null?void 0:e.ch),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frame_width",e==null?void 0:e.aw),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frame_width_input",e==null?void 0:e.cw),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frames_captured",e==null?void 0:e.fcap),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frames_encoded",e==null?void 0:e.frames),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frames_sent",e==null?void 0:e.fcsn),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_frames_send_to_encoder",e==null?void 0:e.eiframes),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_capture_duration_ms",this.$ZenonLSPeerConnectionSummary$p_1.video.ld),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_duration_blur",e==null?void 0:e.video_blur_dur),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_key_frames_encoded",e==null?void 0:e.kframes),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_packets_sent",e==null?void 0:e.psent),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_qp_sum",e==null?void 0:e.eqps),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_total_input_pixel",e==null?void 0:e.video_sum_capture_pixel),this.$ZenonLSPeerConnectionSummary$p_20(t,"video_send_total_output_pixel",e==null?void 0:e.video_sum_encoded_pixel),t},a.$ZenonLSPeerConnectionSummary$p_20=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_21=function(){var e,t=this.$ZenonLSPeerConnectionSummary$p_1.video.receiver,n={video_recv_codec:t==null?void 0:t.dname};this.$ZenonLSPeerConnectionSummary$p_22(n,"audio_recv_jitter_buffer_frames_assembled",t==null?void 0:t.jtasb),this.$ZenonLSPeerConnectionSummary$p_22(n,"audio_recv_jitter_buffer_frames_out",t==null?void 0:t.jtfrm),this.$ZenonLSPeerConnectionSummary$p_22(n,"audio_recv_jitter_buffer_keyframes_out",t==null?void 0:t.jtkey),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_agg_bytes_decoded",t==null?void 0:t.dec_bytes),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_agg_packets_lost",t==null?void 0:t.plost),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_agg_packets_recv",t==null?void 0:t.precv),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_av_sync_abs",t==null?void 0:t.avabs),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_frame_height",t==null?void 0:t.rh),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_frame_width",t==null?void 0:t.rw),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_frames_decoded",t==null?void 0:t.frd),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_freeze_count",t==null?void 0:t.frcnt),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_freeze_duration",t==null?void 0:t.frdur),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_freeze_duration_above_500_ms",t==null?void 0:t.frdur500),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_freeze_duration_above_500_ms_v2",t==null?void 0:t.frdur500),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_pause_count",t==null?void 0:t.pact),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_pause_duration_ms",t==null?void 0:t.padur),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_qp_sum",t==null?void 0:t.qps),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_total_pixels_decoded",t==null?void 0:t.agg_video_sum_decoded_pixel),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_union_decode_time_ms",t==null?void 0:t.dec_time),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_send_firs_recv",t==null?void 0:t.fir),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_send_nacks_recv",t==null?void 0:t.nack),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_send_plis_recv",t==null?void 0:t.pli),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_weighted_vqs",t==null||(e=t.vqs)==null?void 0:e.avg);var r=t==null?void 0:t.dec_time_all_streams,o=t==null?void 0:t.dec_frame;return this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_agg_decode_time_ms",r),this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_agg_frames_decoded",o),r!=null&&r>0&&o!=null&&o>0&&this.$ZenonLSPeerConnectionSummary$p_22(n,"video_recv_framerate_decoded",o*1e3/r),n},a.$ZenonLSPeerConnectionSummary$p_23=function(){var e,t=(e=this.$ZenonLSPeerConnectionSummary$p_1.video.receiver)==null?void 0:e.ss_recv,n={};return this.$ZenonLSPeerConnectionSummary$p_24(n,"video_recv_duration_ss",t==null?void 0:t.ss_recv_dur),n},a.$ZenonLSPeerConnectionSummary$p_24=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_25=function(){var e,t,n,r=(e=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null||(e=e.video_recv_stalls)==null?void 0:e.recv_no_bytes_stall,o=(t=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null||(t=t.video_recv_stalls)==null?void 0:t.recv_decode_stall,a=(n=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null||(n=n.video_recv_stalls)==null?void 0:n.recv_render_stall,i={};if(r){var l=r.is_stall,s=r.sdur,u=r.nstall;l!=null&&(i.video_recv_byte_received_is_stalled=String(l)),s!=null&&(i.video_recv_byte_received_total_stall_duration_ms=String(s)),u!=null&&(i.video_recv_byte_received_total_stalls=String(u))}if(o){var c=o.is_stall,d=o.sdur,m=o.nstall;c!=null&&(i.video_recv_decoder_is_stalled=String(c)),d!=null&&(i.video_recv_decoder_total_stall_duration_ms=String(d)),m!=null&&(i.video_recv_decoder_total_stalls=String(m))}if(a){var p=a.is_stall,_=a.sdur,f=a.nstall;p!=null&&(i.video_render_is_stalled=String(p)),_!=null&&(i.video_render_total_stall_duration_ms=String(_)),f!=null&&(i.video_render_total_stalls=String(f))}return i},a.$ZenonLSPeerConnectionSummary$p_26=function(){var e,t=(e=this.$ZenonLSPeerConnectionSummary$p_1.receiver_stalls)==null||(e=e.screen_recv_stalls)==null?void 0:e.recv_decode_stall,n={};if(t){var r=t.is_stall,o=t.sdur,a=t.nstall;r!=null&&(n.screen_share_recv_decoder_is_stalled=String(r)),o!=null&&(n.screen_share_recv_decoder_total_stall_duration_ms=String(o)),a!=null&&(n.screen_share_recv_decoder_total_stalls=String(a))}return n},a.$ZenonLSPeerConnectionSummary$p_22=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_27=function(){var e,t,n,r=this.$ZenonLSPeerConnectionSummary$p_1.DebugAudioMetrics.NetworkReceive.jb_nm,o=r==null||(e=r.neteq)==null?void 0:e.meanWait,a=r==null||(t=r.speech_expand_rate)==null?void 0:t.avg,i=r==null||(n=r.speech_expand_rate)==null?void 0:n.M,l={};return o!=null&&(l.audio_recv_neteq_mean_wait_ms=String(o)),a!=null&&(l.audio_recv_neteq_speech_expand_rate_avg=String(a)),i!=null&&(l.audio_recv_neteq_speech_expand_rate_max=String(i)),l},a.$ZenonLSPeerConnectionSummary$p_28=function(){var e=this.$ZenonLSPeerConnectionSummary$p_1.CoreAudioMetrics,t=e.audio_device,n=e.isstall,r=e.sdur,o=e.astall,a={};return t!=null&&(a.audio_device=String(t)),n!=null&&(a.audio_device_is_stalled=String(n)),r!=null&&(a.audio_device_stall_duration=String(r)),o!=null&&(a.audio_device_total_stall=String(o)),a},a.$ZenonLSPeerConnectionSummary$p_29=function(){var e,t,n,r,a,i,l={};if(((e=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:e.ecv_neteq_wait_time_ms)!=null){var s;l.ecv_neteq_wait_time_ms=o("ZenonCallFalcoEventUtils").truncateNumber(Number((s=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:s.ecv_neteq_wait_time_ms))}if(((t=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:t.ecv_rtt_ms)!=null){var u;l.ecv_rtt_ms=o("ZenonCallFalcoEventUtils").truncateNumber(Number((u=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:u.ecv_rtt_ms))}if(((n=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:n.ecv_plccng_v2)!=null){var c;l.ecv_plccng_v2=o("ZenonCallFalcoEventUtils").truncateNumber(Number((c=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:c.ecv_plccng_v2))}if(((r=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:r.ecv_video_freeze_duration_above_500_ms_v2)!=null){var d;l.ecv_video_freeze_duration_above_500_ms_v2=o("ZenonCallFalcoEventUtils").truncateNumber(Number((d=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:d.ecv_video_freeze_duration_above_500_ms_v2))}if(((a=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:a.ecv_av_sync_above_1000_ms)!=null){var m;l.ecv_av_sync_above_1000_ms=o("ZenonCallFalcoEventUtils").truncateNumber(Number((m=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:m.ecv_av_sync_above_1000_ms))}if(((i=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:i.ecv_decoded_bitrate_duration_sum)!=null){var p;l.ecv_decoded_bitrate_duration_sum=o("ZenonCallFalcoEventUtils").truncateNumber(Number((p=this.$ZenonLSPeerConnectionSummary$p_1.ecv)==null?void 0:p.ecv_decoded_bitrate_duration_sum))}return l},a.$ZenonLSPeerConnectionSummary$p_30=function(){var e=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.video.capture_stall,t=e.is_stall,n=e.last_sdur,r=e.sdur,o=e.nstall,a=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.video.encode_stall,i=a.is_stall,l=a.last_sdur,s=a.sdur,u=a.nstall,c=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.video.sent_stall,d=c.is_stall,m=c.last_sdur,p=c.sdur,_=c.nstall,f={};return t!=null&&(f.video_device_capture_is_stalled=String(t)),n!=null&&(f.video_device_capture_last_stall_duration_ms=String(n)),r!=null&&(f.video_device_capture_total_stall_duration_ms=String(r)),o!=null&&(f.video_device_capture_total_stalls=String(o)),i!=null&&(f.video_encode_is_stalled=String(i)),l!=null&&(f.video_encode_last_stall_duration_ms=String(l)),s!=null&&(f.video_encode_total_stall_duration_ms=String(s)),u!=null&&(f.video_encode_total_stalls=String(u)),d!=null&&(f.video_send_is_stalled=String(d)),m!=null&&(f.video_send_last_stall_duration_ms=String(m)),p!=null&&(f.video_send_total_stall_duration_ms=String(p)),_!=null&&(f.video_send_total_stalls=String(_)),f},a.$ZenonLSPeerConnectionSummary$p_31=function(){var e,t,n,r,a,i,l,s,u=this.$ZenonLSPeerConnectionSummary$p_1,c=u.receiver,d=u.receiver_pct,m=null;c.codec!=null&&(m=String(Object.values(c.codec).pop()));var p={gen0_ice_received_host:o("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_3.host),gen0_ice_received_relay:o("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_3.relay),gen0_ice_received_srflx:o("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary$p_3.srflx)};return m!=null&&(p.audio_recv_codec=String(m)),this.$ZenonLSPeerConnectionSummary$p_32(p,"audio_ctp_latency_avg_us",(e=d.audio.jbd)==null?void 0:e.avg,(t=d.audio.rtt)==null?void 0:t.avg),this.$ZenonLSPeerConnectionSummary$p_32(p,"audio_ctp_latency_p5_us",(n=d.audio.jbd)==null?void 0:n.p5,(r=d.audio.rtt)==null?void 0:r.p5),this.$ZenonLSPeerConnectionSummary$p_32(p,"audio_ctp_latency_p50_us",(a=d.audio.jbd)==null?void 0:a.p50,(i=d.audio.rtt)==null?void 0:i.p50),this.$ZenonLSPeerConnectionSummary$p_32(p,"audio_ctp_latency_p95_us",(l=d.audio.jbd)==null?void 0:l.p95,(s=d.audio.rtt)==null?void 0:s.p95),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_bytes_recv",c.bytes),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_concealed_samples",c.sp_c),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_fec_packets_discarded",c.fecpd),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_fec_packets_received",c.fecpr),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_jitter",c.jitter),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_jitter_buffer_flushes",c.dec_pack_flush),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_level_count",c.taulc),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_jitter_buffer_emitted_count",c.jbec),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_jitter_buffer_delay",c.jbd),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_level_sum",c.rx_sum_lvl),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_total_samples_duration",c.sp_dur),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_total_samples_received",c.sp_r),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_neteq_accelerate",c.dec_ar),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_neteq_normal",c.dec_normal),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_neteq_operations",c.neteq_calls),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_neteq_plc",c.dec_plc),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_neteq_plccng",c.dec_plc_cng),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_neteq_preemptive_expand",c.dec_per),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_packets_lost",c.plost),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_packets_recv",c.precv),this.$ZenonLSPeerConnectionSummary$p_33(p,"audio_recv_silent_concealed_samples",c.sp_sc),p},a.$ZenonLSPeerConnectionSummary$p_34=function(){var e,t={},n=(e=this.$ZenonLSPeerConnectionSummary$p_1.video.sender)==null?void 0:e.ss;if((n==null?void 0:n.dur)!=null&&(n==null?void 0:n.dur)>0){var r=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.screen.capture_stall,o=r.is_stall,a=r.sdur,i=r.nstall,l=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.screen.encode_stall,s=l.is_stall,u=l.sdur,c=l.nstall,d=this.$ZenonLSPeerConnectionSummary$p_1.CoreVideoMetrics.screen.sent_stall,m=d.is_stall,p=d.sdur,_=d.nstall;o!=null&&(t.screen_share_capture_is_stalled=String(o)),a!=null&&(t.screen_share_capture_total_stall_duration_ms=String(a)),i!=null&&(t.screen_share_capture_total_stalls=String(i)),s!=null&&(t.screen_share_encode_is_stalled=String(s)),u!=null&&(t.screen_share_encode_total_stall_duration_ms=String(u)),c!=null&&(t.screen_share_encode_total_stalls=String(c)),m!=null&&(t.screen_share_send_is_stalled=String(m)),p!=null&&(t.screen_share_send_total_stall_duration_ms=String(p)),_!=null&&(t.screen_share_send_total_stalls=String(_))}return t},a.$ZenonLSPeerConnectionSummary$p_33=function(t,n,r){r!=null&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(r))},a.$ZenonLSPeerConnectionSummary$p_35=function(){var e,t,n,r,o=this.$ZenonLSPeerConnectionSummary$p_1.extraInfo,a=o.localIceCandidate,i=o.remoteIceCandidate;return{relay_protocol:a==null?void 0:a.relayProtocol,transport_conn_type:"l:"+((e=a==null?void 0:a.candidateType)!=null?e:"")+"-"+((t=a==null?void 0:a.protocol)!=null?t:"")+";r:"+((n=i==null?void 0:i.candidateType)!=null?n:"")+"-"+((r=i==null?void 0:i.protocol)!=null?r:"")}},a.$ZenonLSPeerConnectionSummary$p_36=function(){var e=this.$ZenonLSPeerConnectionSummary$p_9,t={},n=0,r=!1,a=0,i=0;if(e.forEach(function(e,t){r!==e&&(e?n>0&&(i++,a+=t-n,n=0):n=t,r=e)}),n>0){var l=this.$ZenonLSPeerConnectionSummary$p_5;l>-1&&l>n&&(i++,a+=l-n)}return t.transport_num_gaps=o("ZenonCallFalcoEventUtils").nonNullIntNumber(i),t.transport_total_gap_duration_ms=o("ZenonCallFalcoEventUtils").nonNullIntNumber(a),this.$ZenonLSPeerConnectionSummary$p_8!=null&&(t.transport_connected=this.$ZenonLSPeerConnectionSummary$p_8?"1":"0"),t},a.$ZenonLSPeerConnectionSummary$p_37=function(){var e,t={};return t.audio_send_echo_confidence=(e=this.$ZenonLSPeerConnectionSummary$p_1.audio)==null||(e=e.echo_confidence)==null?void 0:e.audio_send_echo_confidence,t},a.onCallEnded=function(){this.$ZenonLSPeerConnectionSummary$p_5=this.$ZenonLSPeerConnectionSummary$p_38(),this.$ZenonLSPeerConnectionSummary$p_8==null&&(this.$ZenonLSPeerConnectionSummary$p_8=this.$ZenonLSPeerConnectionSummary$p_7)},a.$ZenonLSPeerConnectionSummary$p_32=function(t,n,r,a){var e=0;r!=null&&(e+=r),a!=null&&(e+=a/2),e>0&&(t[n]=o("ZenonCallFalcoEventUtils").truncateNumber(e))},a.getPeerConnectionSummary=function(){var e=this.getCallInfo(),t=e.deviceID,n=e.localCallID,r=e.peerID,a=e.serverInfoData,i=e.signalingID;return babelHelpers.extends({},this.$ZenonLSPeerConnectionSummary$p_11(),this.$ZenonLSPeerConnectionSummary$p_28(),this.$ZenonLSPeerConnectionSummary$p_12(),this.$ZenonLSPeerConnectionSummary$p_31(),this.$ZenonLSPeerConnectionSummary$p_14(),this.$ZenonLSPeerConnectionSummary$p_16(),this.$ZenonLSPeerConnectionSummary$p_18(),this.$ZenonLSPeerConnectionSummary$p_19(),this.$ZenonLSPeerConnectionSummary$p_21(),this.$ZenonLSPeerConnectionSummary$p_23(),this.$ZenonLSPeerConnectionSummary$p_27(),this.$ZenonLSPeerConnectionSummary$p_36(),this.$ZenonLSPeerConnectionSummary$p_29(),this.$ZenonLSPeerConnectionSummary$p_30(),this.$ZenonLSPeerConnectionSummary$p_34(),this.$ZenonLSPeerConnectionSummary$p_25(),this.$ZenonLSPeerConnectionSummary$p_26(),this.$ZenonLSPeerConnectionSummary$p_35(),this.$ZenonLSPeerConnectionSummary$p_37(),a!=null&&{shared_call_id:a},{connection_logging_id:i,local_call_id:n,media_path:this.$ZenonLSPeerConnectionSummary$p_10,peer_id:o("ZenonPeerID").convertPeerIDForLogging(r),protocol:"multiway",steady_time_ms:o("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:t})},a.$ZenonLSPeerConnectionSummary$p_38=function(){var e=(s||(s=r("performanceNow")))()-this.$ZenonLSPeerConnectionSummary$p_6;return Math.floor(this.$ZenonLSPeerConnectionSummary$p_4+e)},a.updateIceInfo=function(t,n){var e=n===o("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send?this.$ZenonLSPeerConnectionSummary$p_2:this.$ZenonLSPeerConnectionSummary$p_3,r=o("ZenonIceStatsParser").extractIceInfo(t);r.forEach(function(t){var n=t.gen,r=t.type;n===0&&(e[r]==null?e[r]=1:e[r]++)})},a.onPCStateChange=function(t){this.$ZenonLSPeerConnectionSummary$p_7!==t&&(this.$ZenonLSPeerConnectionSummary$p_7=t,this.$ZenonLSPeerConnectionSummary$p_9.set(this.$ZenonLSPeerConnectionSummary$p_38(),t))},a.$ZenonLSPeerConnectionSummary$p_39=function(t){switch(t){case o("ZenonMWMessageTypes").ZenonMWMediaPath.SFU:return"sfu";case o("ZenonMWMessageTypes").ZenonMWMediaPath.P2P:return"p2p";case o("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN:default:return"unknown"}},a.setMediaPath=function(t){this.$ZenonLSPeerConnectionSummary$p_10=this.$ZenonLSPeerConnectionSummary$p_39(t)},a.setMediaStats=function(t){this.$ZenonLSPeerConnectionSummary$p_1=t},a.save=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.storePeerConnectionSummary(n,r,this)},a.delete=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.removeLocalStorageObjects([{peerID:n,signalingID:r}])},a.toJsonString=function(){var e=this.getCallInfo(),t=e.signalingID,n={accumulatedCallTime:this.$ZenonLSPeerConnectionSummary$p_38(),callInfo:this.getCallInfo(),connectionLoggingId:t,endIsConnected:this.$ZenonLSPeerConnectionSummary$p_8,gen0IceReceivedCount:this.$ZenonLSPeerConnectionSummary$p_3,gen0IceSentCount:this.$ZenonLSPeerConnectionSummary$p_2,mediaPath:this.$ZenonLSPeerConnectionSummary$p_10,mediaStats:this.$ZenonLSPeerConnectionSummary$p_1,pcIsConnected:this.$ZenonLSPeerConnectionSummary$p_7};return JSON.stringify(n)},n.fromJsonString=function(r){var t,o;try{o=JSON.parse(r)}catch(e){return null}var a=o.callInfo,i=a.deviceID,l=babelHelpers.objectWithoutPropertiesLoose(a,e),s=new n(l);return s.$ZenonLSPeerConnectionSummary$p_10=o.mediaPath,s.$ZenonLSPeerConnectionSummary$p_1=o.mediaStats,s.$ZenonLSPeerConnectionSummary$p_3=o.gen0IceReceivedCount,s.$ZenonLSPeerConnectionSummary$p_2=o.gen0IceSentCount,s.$ZenonLSPeerConnectionSummary$p_7=(t=o.pcIsConnected)!=null?t:null,s.$ZenonLSPeerConnectionSummary$p_8=o.endIsConnected,o.accumulatedCallTime!=null&&(s.$ZenonLSPeerConnectionSummary$p_4=o.accumulatedCallTime),s},n})(r("ZenonCallInfoManager"));l.default=u}),98);
__d("ZenonLSPeerConnectionSummaryStore",["ZenonGenericLocalStorageStore","ZenonLSPeerConnectionSummary"],(function(t,n,r,o,a,i,l){"use strict";var e="localstorage",s="RTC_LS_PCS_",u="ls_pcs",c=3,d=(function(t){function n(){return t.call(this,u,e,s)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.retrievePeerConnectionSummary=function(t,n){var e=this.getLocalStorageObjects(),o=e[t]?e[t][n]:null;return o?r("ZenonLSPeerConnectionSummary").fromJsonString(o.__d):null},o.storePeerConnectionSummary=function(t,n,r){this.mutateLocalStorageObjects(function(e){return e[t]||(e[t]={}),e[t][n]={__d:r.toJsonString(),__t:Date.now(),__z:!0},e},c,!1,{peerID:t,signalingID:n})},n})(r("ZenonGenericLocalStorageStore")),m=new d;l.ZenonLSPeerConnectionSummaryStoreInstance=m}),98);
__d("ZenonLSStarRatingsManager",["LsRtcEndCallSurveyFalcoEvent","LsRtcStarRatingFalcoEvent","ZenonCallInfoManager","ZenonPeerID"],(function(t,n,r,o,a,i,l){"use strict";var e=["deviceID"],s=(function(t){function n(){return t.apply(this,arguments)||this}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.setRating=function(t,n){var e=this.getCallInfo(),a=e.deviceID,i=e.localCallID,l=e.peerID,s=e.serverInfoData,u={local_call_id:i,peer_id:o("ZenonPeerID").convertPeerIDForLogging(l),shared_call_id:s,web_device_id:a};r("LsRtcStarRatingFalcoEvent").logImmediately(function(){return babelHelpers.extends({rating_style:n?"1":null,star_rating:t.toString()},u)})},a.setSurvey=function(t,n,a){var e,i;n===void 0&&(n=null),a===void 0&&(a=null);var l=this.getCallInfo(),s=l.deviceID,u=l.localCallID,c=l.peerID,d=l.serverInfoData,m={local_call_id:u,peer_id:o("ZenonPeerID").convertPeerIDForLogging(c),shared_call_id:d,web_device_id:s},p=Array.isArray(n)?n:n!=null?[n]:[],_=babelHelpers.extends({rtc_end_call_survey_issue:(e=(i=a)==null?void 0:i.toLocaleLowerCase())!=null?e:"",rtc_end_call_survey_selected_options:p},m,t==null?{}:{rtc_end_call_survey_freeform:t});r("LsRtcEndCallSurveyFalcoEvent").log(function(){return _})},a.save=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.storeStarRatings(n,r,this)},a.delete=function(t){var e=this.getCallInfo(),n=e.peerID,r=e.signalingID;t.removeLocalStorageObjects([{peerID:n,signalingID:r}])},a.toJsonString=function(){var e={callInfo:this.getCallInfo()};return JSON.stringify(e)},n.fromJsonString=function(r){var t;try{t=JSON.parse(r)}catch(e){return null}var o=t.callInfo,a=o.deviceID,i=babelHelpers.objectWithoutPropertiesLoose(o,e);return new n(i)},n})(r("ZenonCallInfoManager"));l.default=s}),98);
__d("ZenonLSStarRatingsStore",["ZenonGenericLocalStorageStore","ZenonLSStarRatingsManager"],(function(t,n,r,o,a,i,l){"use strict";var e="localstorage",s="RTC_LS_STAR_RATINGS_",u="ls_star_ratings",c=3,d=(function(t){function n(){return t.call(this,u,e,s)||this}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.retrieveStarRatings=function(t,n){var e=this.getLocalStorageObjects(),o=e[t]?e[t][n]:null;return o?r("ZenonLSStarRatingsManager").fromJsonString(o.__d):null},o.storeStarRatings=function(t,n,r){this.mutateLocalStorageObjects(function(e){return e[t]||(e[t]={}),e[t][n]={__d:r.toJsonString(),__t:Date.now(),__z:!0},e},c,!1,{peerID:t,signalingID:n})},n})(r("ZenonGenericLocalStorageStore")),m=new d;l.ZenonLSStarRatingsStoreInstance=m}),98);
__d("promiseAny",["invariant","AggregateError","Promise"],(function(t,n,r,o,a,i,l,s){var e;function u(t){return new(e||(e=n("Promise")))(function(r,o){return(e||(e=n("Promise"))).resolve(t).then(o,r)})}function c(t){return t.length!==0||s(0,14837),(e||(e=n("Promise"))).all(t.map(u)).then(function(e){throw new(r("AggregateError"))(e)},function(e){return e})}l.default=c}),98);
__d("ZenonMessageSenderChain",["promiseAny"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.addMessageSender=function(t){this.$1.push(t)},t.sendMessage=function(t){var e=this.$1.map(function(e){return e.sendMessage(t)});return r("promiseAny")(e)},t.setMessageReceiver=function(t){this.$1.forEach(function(e){return e.setMessageReceiver(t)})},t.setLoggingEventHandler=function(t){this.$1.forEach(function(e){return e.setLoggingEventHandler(t)})},e})();l.default=e}),98);
__d("ZenonSignalingConstants",[],(function(t,n,r,o,a,i){"use strict";var e="/t_rtc_multi",l="config_engine",s="D3F4U1T_F8_TR4CK";i.T_RTC_MULTI_MQTT_TOPIC=e,i.CONFIG_ENGINE_STATE_SYNC_TOPIC=l,i.DEFAULT_TRACK=s}),66);
__d("waitForZenonMqttConnected",["Promise","ZenonUserActionLogger","err","getZenonMqttChannel"],(function(t,n,r,o,a,i,l){"use strict";var e,s=15e3;function u(){return new(e||(e=n("Promise")))(function(e,t){var n=r("getZenonMqttChannel")();if(n.getConnectionState()==="Connected")e();else{r("ZenonUserActionLogger").logCheckpoint({checkpoint:"MQTT not connected, deferring sending MWS message"}),r("ZenonUserActionLogger").startTimer("MQTT not connected");var o={onMQTTStateChanged:function(i){i==="Connected"&&(r("ZenonUserActionLogger").stopTimer({checkpointName:"MQTT connected after deferring sending MWS message",timerName:"MQTT not connected"}),n.unsubscribeChannelEvents(o),window.clearTimeout(a),e())}},a=window.setTimeout(function(){n.unsubscribeChannelEvents(o),r("ZenonUserActionLogger").stopTimer({checkpointName:"MQTT never connected. Current status: "+n.getConnectionState(),timerName:"MQTT not connected"}),t(r("err")("timeout"))},s);n.subscribeChannelEvents(o)}})}l.default=u}),98);
__d("ZenonMqttMWThriftMessageSender",["Promise","RpZenonBinaryThriftSignalingSitevarConfig.experimental","ZenonActorHooks","ZenonMWThriftMessageDebugLogger","ZenonMWThriftMessageLogger","ZenonMWThriftMessageMap","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageSerializer","ZenonMWThriftMessageTranslator","ZenonSignalingConstants","ZenonUserActionLogger","ZenonValidateMWThriftMessage","asyncToGeneratorRuntime","err","filterNulls","getErrorSafe","getZenonMqttChannel","waitForZenonMqttConnected"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(){var e=r("RpZenonBinaryThriftSignalingSitevarConfig.experimental").supported_message_types_mqtt.map(function(e){return o("ZenonMWThriftMessageMap").messageTypeFromString(e)});this.$3=new Set(r("filterNulls")(e))}var a=t.prototype;return a.$4=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=this,n=!0;if(yield r("waitForZenonMqttConnected")().catch(function(e){r("ZenonUserActionLogger").logCheckpoint({checkpoint:"Not sending MWS Thrift message through MQTT because MQTT could not connect. Error: "+e}),n=!1}),!!n){o("ZenonMWThriftMessageReliabilityLogger").logSendingMessage(e),r("ZenonMWThriftMessageDebugLogger").logMWThriftMessage("SENDING","MQTT Thrift",e),this.$2&&o("ZenonMWThriftMessageLogger").logSentMessage(e,this.$2);var a=r("getZenonMqttChannel")();try{yield a.publishBinary(o("ZenonSignalingConstants").T_RTC_MULTI_MQTT_TOPIC,o("ZenonMWThriftMessageSerializer").serializeMWThriftMessage(e)).then(function(){o("ZenonMWThriftMessageReliabilityLogger").logSentMessage(e),t.$2&&t.$2({mwThriftMessage:e,name:"mwThriftMessageSent"})},function(n){t.$5(e,n.toString())})}catch(t){this.$5(e,r("getErrorSafe")(t).toString())}}});function t(t){return e.apply(this,arguments)}return t})(),a.$5=function(t,n){var e=n!=null?n:"MQTT Thrift Message Send Error";o("ZenonMWThriftMessageReliabilityLogger").logSendMessageFailed(t,"[MQTT Thrift] "+e),r("ZenonMWThriftMessageDebugLogger").logSendMultiwayThriftMessageFailure(e,o("ZenonMWThriftMessageMap").messageTypeToString(t.messageHeader.type))},a.sendMessage=function(a){var t=o("ZenonMWThriftMessageTranslator").toMWThriftMessage(a);return!t||!r("ZenonValidateMWThriftMessage")(t)?(e||(e=n("Promise"))).reject(r("err")("Invalid MW Thrift message")):t.messageHeader.type!=null&&!this.$3.has(t.messageHeader.type)?(e||(e=n("Promise"))).resolve():a.getHeader().userInfo.userID!==o("ZenonActorHooks").ZenonActor.getAccountID()&&!o("ZenonActorHooks").ZenonActor.isInstagramUser()&&!o("ZenonActorHooks").ZenonActor.isOculusUser()&&!o("ZenonActorHooks").ZenonActor.isKadabraUser()&&!o("ZenonActorHooks").ZenonActor.isLiveChatOnlyPerson()?(e||(e=n("Promise"))).reject(r("err")("MQTT doesn't work with Page users yet")):this.$4(t)},a.setMessageReceiver=function(t){this.$1=t},a.setLoggingEventHandler=function(t){this.$2=t},t})();l.default=s}),98);
__d("ZenonParentClientPerfQPLLogProcessor",["Promise","QuickPerformanceLogger","ZenonClientPerfQPLConstants","ZenonDismissReason","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){function t(e){var t=e.data,n=e.isE2eeMandated;this.$1=t.localCallID,this.$2=t.serverInfoData,this.$3=t.signalingID,this.$4=n}var a=t.prototype;return a.processEvent=function(a){var t=r("qpl")._(41156610,"2039");switch(a.name){case"inviteReceived":this.$2=a.serverInfoData,(s||(s=r("QuickPerformanceLogger"))).markerStartFromNavStart(t,+this.$3),(s||(s=r("QuickPerformanceLogger"))).markerAnnotate(t,{bool:{isE2eeMandated:this.$4},string:{local_call_id:this.$1,server_info_data:this.$2}},{instanceKey:+this.$3});break;case"callEnded":(s||(s=r("QuickPerformanceLogger"))).markerAnnotate(t,{string:{endCallReason:o("ZenonDismissReason").ZenonDismissReason.getName(a.endCallReason),endCallSubreason:a.endCallSubreason}},{instanceKey:+this.$3}),(s||(s=r("QuickPerformanceLogger"))).markerEnd(t,4,+this.$3);break;case"popupOpened":(s||(s=r("QuickPerformanceLogger"))).markerPoint(t,o("ZenonClientPerfQPLConstants").POINT_ZENON_POPUP_OPENED,{instanceKey:+this.$3});break}return(e||(e=n("Promise"))).resolve()},t})(),c={LogProcessor:u};l.ZenonParentClientPerfQPLLogProcessor=u,l.ZenonParentClientPerfQPLLogProcessorConfig=c}),98);
__d("ZenonParentLSCallSummaryLogProcessor",["ODS","ZenonDismissReason","ZenonInfraActionsLogger","ZenonLSCallStartEventManager","ZenonLSCallStartEventStore","ZenonLSCallSummary","ZenonLSCallSummaryStore","ZenonLSE2EEStatsManager","ZenonLSE2EEStore","ZenonLSPeerConnectionSummary","ZenonLSPeerConnectionSummaryStore","ZenonLSStarRatingsManager","ZenonLSStarRatingsStore","ZenonPeerID","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){var t=e.data;t.peerID=o("ZenonPeerID").ZenonMWPeerID,this.$6=t.protocol,this.$1=new(r("ZenonLSCallSummary"))(t),this.$2=new(r("ZenonLSPeerConnectionSummary"))(t),this.$3=new(r("ZenonLSCallStartEventManager"))(t),this.$4=new(r("ZenonLSE2EEStatsManager"))(t),this.$5=new(r("ZenonLSStarRatingsManager"))(t),r("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"NSL - created call summaries in parent window"})}var a=t.prototype;return a.processEvent=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){switch(e.name){case"callAccepted":this.$1.onCallAccepted(e.trigger),this.$1.save(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance),this.$2.save(o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance),this.$3.save(o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance),this.$4.save(o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance),this.$5.save(o("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);break;case"callEnded":yield this.$7(e);break;case"inviteReceived":this.$8(e);break;case"popupOpened":yield this.$9(e),this.$1.save(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance),this.$2.save(o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance),this.$3.save(o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance),this.$4.save(o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance),this.$5.save(o("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);break}});function t(t){return e.apply(this,arguments)}return t})(),a.$8=function(t){var e=t.serverInfoData;e!=null&&(this.$1.setSharedCallId(e),this.$2.setSharedCallId(e),this.$3.setSharedCallId(e),this.$4.setSharedCallId(e))},a.$9=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield this.$1.onCallEnded(o("ZenonDismissReason").ZenonDismissReason.ClientError,!1,!0,e.isPopupBlocked?"PopupBlocked":"PopupPending"),this.$1.save(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance)});function t(t){return e.apply(this,arguments)}return t})(),a.$7=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){if(!t.isRemoteEnded){var n=t.endCallReason,r=t.endCallSubreason,a=t.isRemoteEnded;n===o("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled&&a||(n===o("ZenonDismissReason").ZenonDismissReason.ClientError&&(e||(e=o("ODS"))).bumpEntityKey(4083,"zenon_client_crashes","zenon_client_error_end_call_reason"),yield this.$1.onCallEnded(n,a,!1,r),this.$1.save(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance),this.$2.save(o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance),this.$3.save(o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance),this.$4.save(o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance),this.$5.save(o("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance))}});function r(e){return t.apply(this,arguments)}return r})(),t})(),u={LogProcessor:s};l.ZenonParentLSCallSummaryLogProcessor=s,l.ZenonParentLSCallSummaryLogProcessorConfig=u}),98);
__d("ZenonParentQPLLogProcessor",["Promise","QPLUserFlow","ZenonDismissReason","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){var t=e.data,n=e.isE2eeMandated;this.$1=t.localCallID,this.$2=t.serverInfoData,this.$3=t.signalingID,this.$4=n}var a=t.prototype;return a.processEvent=function(a){switch(a.name){case"inviteReceived":r("QPLUserFlow").start(r("qpl")._(64225282,"3408"),{annotations:{bool:{isE2eeMandated:this.$4}},instanceKey:+this.$3}),r("QPLUserFlow").start(r("qpl")._(398997251,"1544"),{annotations:{bool:{isE2eeMandated:this.$4},string:{localCallID:this.$1,serverInfoData:this.$2}},instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"invite_received",{instanceKey:+this.$3});break;case"callEnded":if(r("QPLUserFlow").endCancel(r("qpl")._(398997251,"1544"),{annotations:{string:{endCallReason:o("ZenonDismissReason").ZenonDismissReason.getName(a.endCallReason),endCallSubreason:a.endCallSubreason}},instanceKey:+this.$3}),a.isRemoteEnded)return(e||(e=n("Promise"))).resolve();r("QPLUserFlow").endCancel(r("qpl")._(64225282,"3408"),{instanceKey:+this.$3});break;case"callAccepted":r("QPLUserFlow").addPoint(r("qpl")._(64225282,"3408"),"call_accepted",{instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"call_accepted",{instanceKey:+this.$3});break;case"dismissRecv":r("QPLUserFlow").addPoint(r("qpl")._(64225282,"3408"),"dismiss_recv",{instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"dismiss_recv",{instanceKey:+this.$3});break;case"inviteResponded":r("QPLUserFlow").addPoint(r("qpl")._(64225282,"3408"),"invite_responded",{instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"invite_responded",{instanceKey:+this.$3});break;case"popupOpened":r("QPLUserFlow").endSuccess(r("qpl")._(64225282,"3408"),{instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"popup_opened",{instanceKey:+this.$3});break}return(e||(e=n("Promise"))).resolve()},t})(),u={LogProcessor:s};l.ZenonParentQPLLogProcessor=s,l.ZenonParentQPLLogProcessorConfig=u}),98);
__d("ZenonParentSignalingClient",["FBLogger","Promise","ZenonDebugLogger","ZenonSignalingTypes","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t,n,o){var a=this;this.remoteSignalingID=null,this.$4="init",this.$6=null,this.$7=null,this.$8=function(){},this.$9=function(e,t,n){switch(r("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",a.$4,"received "+e.eventName,a.$1.getSignalingID()),e.eventName){case"inviteRequest":a.$11(e,t,n);break;case"remoteSdpRequest":a.$12(e,t);break;case"terminateRequest":a.$13(e,t,n);break}},this.$1=e,this.$3=n,this.$5=o,this.$2=t,t.setReceiver(this.$9),r("ZenonDebugLogger").getInstance().startQPL(r("qpl")._(64234815,"1094"),+e.getSignalingID())}var a=t.prototype;return a.setSignalingEventHandlers=function(t){if(this.$6!=null){r("FBLogger")("rtc_www").mustfix("setSignalingEventHandlers should only be called once, to avoid accidentally losing handlers.");return}this.$6=t},a.setLoggingEventHandler=function(t){this.$8=t},a.setSecureDataMessageManager=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("setSecureDataMessageManager called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.getSignalingModel=function(){return this.$1},a.processReceiveEvent=function(t,n,o){throw r("FBLogger")("rtc_www").mustfixThrow("processReceiveEvent called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendDismiss=function(t){this.$4="terminated";var e={eventName:"terminateRequest",fromJoinResponse:!1,reason:t,shouldInformPeer:!0};return this.$10(e)},a.receiveMessage=function(t){this.$2.receiveMessage(t)},a.isTerminated=function(){return this.$4==="terminated"},a.isAnswered=function(){return this.$4==="answered"},a.sendAnswerIntent=function(){if(this.$4==="inviteAcknowledged"){this.$4="answered";var e={eventName:"answerIntentRequest"};return this.$10(e)}else throw r("FBLogger")("rtc_www").mustfixThrow("sendAnswerIntent called in unexpected state %s",this.$4)},a.respondToInvite=function(t){if(this.$4==="inviteReceived"){if(this.$7==null)throw r("FBLogger")("rtc_www").mustfixThrow("respondToInvite called without inviteMessageId being populated first");this.$4="inviteAcknowledged";var e={ackMessageId:this.$7,eventName:"inviteResponse",status:t};return this.$10(e)}else throw r("FBLogger")("rtc_www").mustfixThrow("respondToInvite called in unexpected state %s",this.$4)},a.initiateClientRenegotiation=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("initiateClientRenegotiation called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendClientEvent=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendClientEvent called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendInvite=function(t,n,o){throw r("FBLogger")("rtc_www").mustfixThrow("sendInvite called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendSdp=function(t,n){throw r("FBLogger")("rtc_www").mustfixThrow("sendSdp called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendIceCandidate=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendIceCandidate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendMediaUpdate=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendMediaUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendAddParticipantsMessage=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendAddParticipantsMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendRemoveParticipantsRequest=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendRemoveParticipantsRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendUsersApprovalRequest=function(t,n){throw r("FBLogger")("rtc_www").mustfixThrow("sendUsersApprovalRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendStateSyncUnsubscribe=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendStateSyncUnsubscribe called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendStateSyncUpdate=function(t,n){throw r("FBLogger")("rtc_www").mustfixThrow("sendStateSyncUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendSubscriptionRequest=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendSubscriptionRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendClientInfo=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendClientInfo called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendGenericDataMessage=function(t,n,o){throw r("FBLogger")("rtc_www").mustfixThrow("sendGenericDataMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.silentlyTerminate=function(){return this.$4="terminated",(e||(e=n("Promise"))).resolve()},a.$10=function(o){var t=this;return r("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",this.$4,"sending "+o.eventName,this.$1.getSignalingID()),new(e||(e=n("Promise")))(function(e,n){return t.$3.sendEvent(o,e,n)})},a.$11=function(t,n,r){this.$4==="init"&&(this.$4="inviteReceived",this.$7=n,this.$5(t,r,this))},a.$13=function(t,n,o){if(this.$4!=="terminated"){this.$4="terminated";var e={ackMessageId:n,eventName:"dismissResponse"};if(this.$3.sendEvent(e),this.$6&&this.$6.onDismissReceived){var a;r("promiseDone")(this.$6.onDismissReceived(this.$1.getSignalingID(),t.reason,(a=t.subreason)!=null?a:null,t.detailedReasonFromMW))}}},a.$12=function(t,n){var e={ackMessageId:n,acknowledgedVersion:t.sdp.version,eventName:"remoteSdpResponse",negotiateType:t.negotiateType,statusCode:o("ZenonSignalingTypes").ZenonSignalingStatusCode.OK,type:t.sdp.type};this.$3.sendEvent(e)},t})();l.default=s}),98);
__d("ZenonPlatformRateLimitSitevarConfig.experimental",["cr:3103"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:3103")}),98);
__d("ZenonSDKRateLimiter",["TokenBucketRateLimit","ZenonPlatformRateLimitSitevarConfig.experimental"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new Map}var t=e.prototype;return t.take=function(t,n){n===void 0&&(n=1);var e=this.$2(t);return e.take(n)},t.$2=function(t){var e,n=this.$1.get(t);if(n)return n;var o=(e=r("ZenonPlatformRateLimitSitevarConfig.experimental").buckets.get(t))!=null?e:r("ZenonPlatformRateLimitSitevarConfig.experimental").default;return n=new(r("TokenBucketRateLimit"))(o.bucket_size,o.refill_rate),this.$1.set(t,n),n},e})();l.default=e}),98);
__d("ZenonSignalingTransportTypes",[],(function(t,n,r,o,a,i){"use strict";var e=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",PARENT_INITIATED_CALL:"rtc_child_window_start_call",PARENT_LOG_IDENTIFIERS:"rtc_parent_log_identifiers",PARENT_PCF_TIMINGS:"rtc_parent_pcf_timings",PARENT_QPL_MARKER:"rtc_parent_qpl_marker",PARENT_TO_CHILD_MESSAGE:"rtc_child_window_message"});i.ChildTransportMessageType=e}),66);
__d("isFacebookishURI",["isFacebookURI","isMessengerDotComURI"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return r("isFacebookURI")(e)||r("isMessengerDotComURI")(e)}l.default=e}),98);
__d("ZenonSignalingParentTransport",["FBLogger","MultiwaySharedTypes","QuickPerformanceLogger","RTWebIncomingRingConfiguration","Random","URI","ZenonBrowsers","ZenonE2eeMandatedStateManager","ZenonIGMediaUtil","ZenonProductConnectFunnel","ZenonSignalingTransportTypes","isFacebookishURI","performanceNow","shouldUseSFUMediaPath"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=45e3,d=(function(){function t(e){var t=this;this.verificationNonce=null,this.portToChild=null,this.$1=null,this.$2=null,this.localCallID=null,this.$3=new Map,this.$4=new Map,this.$5=window,e!=null&&(this.$5=e),o("RTWebIncomingRingConfiguration").isSupportedClient()&&this.$5.addEventListener&&this.$5.addEventListener("message",function(e){t.handleWindowMessageFromChild(e)},!1)}var n=t.prototype;return n.handleWindowMessageFromChild=function(t){var e=this;if(this.windowMessageValid(t)&&t.data.type===o("ZenonSignalingTransportTypes").ChildTransportMessageType.CHILD_WINDOW_READY&&this.hasPort(t)){var n,r=(n=t.data.roomID)!=null?n:null,a=t.data.serverInfoData;this.portToChild=t.ports[0];var i=t.data.childNonce;this.$2=i,this.$5.clearTimeout(this.$1),this.$1=this.$5.setTimeout(function(){e.portToChild=null},c),this.verificationNonce=this.generateNonce(),this.startCallInChildWindow(r,a),this.sendQPLToChildWindow(),this.sendPCFToChildWindow(),this.sendLogIdentifiersToChildWindow(this.localCallID)}},n.generateNonce=function(){return String(o("Random").random())},n.hasPort=function(t){return!!(t.ports!=null&&Array.isArray(t.ports)&&t.ports[0]!=null)},n.getRingRequestBySID=function(t){var e,n=m((e=this.$4.get(t))!=null?e:null);return{mwThriftRingRequest:n}},n.startCallInChildWindow=function(t,n){var e=null;if(n!==void 0){if(n!=null){var r=this.getRingRequestBySID(n);e=r.mwThriftRingRequest}}else if(t!=null){var a;e=m((a=this.$3.get(t))!=null?a:null)}var i={mwThriftRingRequest:e,nonce:this.$2,type:o("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_INITIATED_CALL};this.sendMessageToChild(i)},n.sendQPLToChildWindow=function(){var t=new Map;if((e||(e=r("QuickPerformanceLogger"))).activeMarkers.forEach(function(e,n){(n===398997251||n===41156610)&&t.set(n,e)}),t.size>0){var n={markers:t,nonce:this.$2,type:o("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_QPL_MARKER,version:2};this.sendMessageToChild(n),t.forEach(function(t){for(var n of t){var o=n[0],a=n[1];(e||(e=r("QuickPerformanceLogger"))).markerDrop(a.event,o)}})}},n.sendPCFToChildWindow=function(){var e=Math.trunc((s||(s=r("performanceNow")))()),t=r("ZenonProductConnectFunnel").getPreJoinTimings(),n=t.acceptedTs,a=t.ringingTs,i=t.triggeredTs,l={acceptedTs:n!=null?n-e:null,nonce:this.$2,ringingTs:a!=null?a-e:null,triggeredTs:i!=null?i-e:null,type:o("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_PCF_TIMINGS};this.sendMessageToChild(l),r("ZenonProductConnectFunnel").clearPreJoinTimings()},n.sendLogIdentifiersToChildWindow=function(t){var e={localCallID:t,nonce:this.$2,type:o("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_LOG_IDENTIFIERS};this.sendMessageToChild(e)},n.windowMessageValid=function(t){return!!(t.origin===this.$5.location.origin||r("isFacebookishURI")(new(u||(u=r("URI")))(t.origin))&&r("isFacebookishURI")(new(u||(u=r("URI")))(this.$5.location.origin)))&&this.postMessageValid(t)},n.postMessageValid=function(t){var e;return this.verificationNonce!==null&&(t==null||(e=t.data)==null?void 0:e.nonce)===this.verificationNonce},n.sendMessageToChild=function(t){this.portToChild!=null?this.portToChild.postMessage(t):r("FBLogger")("rtc_www").mustfix("The child window port should be available")},n.enqueueRawMWThriftMessage=function(t,n){var e=t.messageBody,r=t.messageHeader,o=e.ringRequest;if(o){var a=r.conferenceName,i=r.serverInfoData;a!=null&&this.$3.set(a,{parsedMessage:n,rawMessage:t}),i!=null&&this.$4.set(i,{parsedMessage:n,rawMessage:t})}},n.testGetChildNonce=function(){return this.$2},t})();function m(e){var t,n,a,i;if(e==null)return null;var l=e.parsedMessage,s=e.rawMessage;if(l==null)return null;var u=_(l);if((u==null?void 0:u.eventName)!=="inviteRequest")return null;var c=(t=(n=s.messageBody.ringRequest)==null?void 0:n.isLegacyCall)!=null?t:!1,d=((a=s.messageBody.ringRequest)==null||(a=a.e2eeEnforcement)==null?void 0:a.mode)===o("MultiwaySharedTypes").E2eeMode.E2EE_MANDATED;return r("ZenonE2eeMandatedStateManager").processE2eeMandatedStateFromProductAndRing(d,(i=s.messageBody.ringRequest)==null||(i=i.e2eeEnforcement)==null?void 0:i.infraMandatedExpStatus),f(c)?s:g(s)}function p(e){return o("ZenonBrowsers").isFirefox()||r("shouldUseSFUMediaPath")(e)||r("ZenonIGMediaUtil").shouldUseSFUOnly()}function _(e){var t=e.getEvents().find(function(e){return e.eventName==="inviteRequest"});return t}function f(e){return e||!p(!1)}function g(e){var t;return(t=e.messageBody.ringRequest)==null||delete t.offer,e}l.default=d}),98);
__d("ZenonParentCallsManager",["BaseEventEmitter","FBLogger","JSResource","JSResourceForInteraction","LazyLoadInstance","MultiwayCommonTypes","OverlayConfigManagerWithServerLayer","Promise","RTWebIncomingRingConfiguration","ZenonActorHooks","ZenonBrowsers","ZenonCallLogger","ZenonCallsModelTypes","ZenonCollisionContext","ZenonDGWSharedWorkerUtils","ZenonDGWUtils","ZenonDeviceId","ZenonDismissReason","ZenonMessageSenderChain","ZenonMqttMWThriftMessageSender","ZenonParentClientPerfQPLLogProcessor","ZenonParentLSCallSummaryLogProcessor","ZenonParentQPLLogProcessor","ZenonParentSignalingClient","ZenonSDKRateLimiter","ZenonSharedWorkerConstants","ZenonSignalingParentTransport","promiseDone","qex","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s=r("JSResourceForInteraction"))("setE2eeIsMandatedForZenonLoggers").__setRef("ZenonParentCallsManager"),c=s("ZenonGraphQLMWThriftMessageSender").__setRef("ZenonParentCallsManager"),d=s("ZenonDGWMWThriftMessageSender").__setRef("ZenonParentCallsManager"),m=s("ZenonDGWStreamController").__setRef("ZenonParentCallsManager"),p=(function(t){function a(a){var i;i=t.call(this)||this,i.$ZenonParentCallsManager$p_4=new Map,i.$ZenonParentCallsManager$p_5=new Set,i.$ZenonParentCallsManager$p_6=null,i.$ZenonParentCallsManager$p_8=[],i.$ZenonParentCallsManager$p_10=null,i.$ZenonParentCallsManager$p_11=null,i.onInviteReceived=function(e,t,n){var a,l,s,u,c,d,m,p=n.getSignalingModel().getSignalingID();n.setSignalingEventHandlers({onDismissReceived:i.onDismissReceived});var _=e.appMessages,f=e.inviterID,g=e.isE2eeMandated,h=e.otherParticipants,y=e.requestingVideo,C=e.roomInfo,b=e.serverInfoData;g===!0&&i.$ZenonParentCallsManager$p_13(p);var v=y&&o("ZenonBrowsers").supportsVideoCalls(),S="multiway_incoming",R=r("uuidv4")(),L=i.$ZenonParentCallsManager$p_14({callTrigger:S,isCaller:!1,isVideo:v,localCallID:R,peerID:f,protocol:t,signalingID:p},g!=null?g:!1);L==null||L.log({name:"inviteReceived",serverInfoData:b});var E=o("RTWebIncomingRingConfiguration").isSupportedClient(),k=E?"OK":"NOT_SUPPORTED";r("promiseDone")(n.respondToInvite(k)),L==null||L.log({name:"inviteResponded"});var I={thread:{id:"0",type:2},type:"thread"};if(C.context!=null&&(((a=C.context)==null?void 0:a.groupThreadID)!=null||((l=C.context)==null?void 0:l.peerID)!=null)){var T,D=(T=e.appMessages)==null?void 0:T.collision_context_payload,x=null;if(D!=null)try{x=JSON.parse(D).calling_tags}catch(e){}var $=g===!0&&x===2;if(C.context!=null){var P;I={thread:(P=o("ZenonCollisionContext").getThreadIDAndTypeFromCollisionContext(C.context,$))!=null?P:{id:"0",type:2},type:"thread"}}}else((s=C.room)==null?void 0:s.linkHash)!=null&&((u=C.room)==null?void 0:u.roomName)!=null&&(I={room:C.room,type:"room"});var N=(c=e.actorID)!=null?c:o("ZenonActorHooks").ZenonActor.getID(),M={mwThriftRingRequest:null};b!=null&&(M=i.$ZenonParentCallsManager$p_2.getRingRequestBySID(b));var w={actorID:e.actorID,context:I,controllerParams:{appMessages:_,callContext:C.name,configuration:t,serverInfoData:(d=(m=C.context)==null?void 0:m.serverInfoData)!=null?d:null,signalingID:p},inviterID:f,isClientPermissableRing:E,isE2eeMandated:g!=null?g:!1,onAccept:function(o,a){var e=a.isPopupBlocked;L==null||L.log({name:"callAccepted",trigger:S}),r("promiseDone")(n.sendAnswerIntent()),i.$ZenonParentCallsManager$p_15(o,{callTrigger:S,isE2eeMandated:g!=null?g:!1,isPopupBlocked:e,isVideo:v,peerID:f,protocol:t,signalingID:p},R)},onDecline:function(t,n){n===void 0&&(n=null),i.onDecline(p,L,t,n)},otherParticipants:h.includes(N)?h:[N].concat(h),receiverUserId:e.userID,requestingVideo:v,ringID:p,ringRequest:M};i.emit("incomingRing",w)},i.onDismissReceived=function(t,r){var a=o("ZenonDismissReason").dismissReasonToCancelReason(r),l={reason:a,ringID:t};i.emit("ringCancel",l);var s=i.$ZenonParentCallsManager$p_4.get(t);return s!=null&&(s.log({name:"dismissRecv"}),s.log({endCallReason:r,isRemoteEnded:!0,name:"callEnded"})),(e||(e=n("Promise"))).resolve()},i.$ZenonParentCallsManager$p_7=new(r("OverlayConfigManagerWithServerLayer")),i.$ZenonParentCallsManager$p_3=a,i.$ZenonParentCallsManager$p_2=new(r("ZenonSignalingParentTransport"))(window);var l=new(r("ZenonMessageSenderChain"))([]);return i.$ZenonParentCallsManager$p_9=o("ZenonDeviceId").getZenonDeviceId(),o("ZenonDGWUtils").shouldUseDGW()&&r("qex")._("4380")?o("ZenonDGWSharedWorkerUtils").setupDGWSharedWorker("PARENT",l,function(e){i.$ZenonParentCallsManager$p_11=e}):o("ZenonDGWUtils").shouldUseDGW()&&!r("qex")._("4380")?(r("promiseDone")(m.load(),function(e){i.$ZenonParentCallsManager$p_10=e.getControllerInstance(),e.getControllerInstance().setWindowContext("PARENT"),e.getControllerInstance().setStreamOptions({deviceId:i.$ZenonParentCallsManager$p_9,loggingId:r("uuidv4")(),serviceId:"rpsignaling"})}),r("promiseDone")(d.load(),function(e){return l.addMessageSender(new e)})):(l.addMessageSender(new(r("ZenonMqttMWThriftMessageSender"))),r("promiseDone")(c.load(),function(e){if(a.relayEnvironment){var t=new e(a.relayEnvironment);l.addMessageSender(t)}})),i.$ZenonParentCallsManager$p_1=new(r("LazyLoadInstance"))(r("JSResource")("ZenonSignalingClientManager").__setRef("ZenonParentCallsManager"),function(e){return new e(r("ZenonParentSignalingClient"),i.onInviteReceived,l)}),i.$ZenonParentCallsManager$p_6=new(r("ZenonSDKRateLimiter")),i}babelHelpers.inheritsLoose(a,t);var i=a.prototype;return i.startOutgoingCallIntent=function(t,n){if(this.$ZenonParentCallsManager$p_12("startOutgoingCallIntent")){var e=n.callTrigger,o=n.isE2eeMandated,a=n.isVideo,i=n.peerID,l=n.protocol,s=n.signalingID;o&&this.$ZenonParentCallsManager$p_13(s);var u=r("uuidv4")();this.$ZenonParentCallsManager$p_14({callTrigger:e,isCaller:!0,isVideo:a,localCallID:u,peerID:i,protocol:l,signalingID:s},o),this.$ZenonParentCallsManager$p_15(t,n,u)}},i.$ZenonParentCallsManager$p_14=function(t,n){var e,o=t.callTrigger,a=t.isCaller,i=t.isVideo,l=t.localCallID,s=t.peerID,u=t.protocol,c=t.signalingID,d=(e=this.$ZenonParentCallsManager$p_4.get(c))!=null?e:null;if(o==="meetup_join")return d;if(d!=null)return r("FBLogger")("rtc_www").mustfix("Call logger key collision in parentCallsManager for signalingID: %s, ",c),d;var m=new(r("ZenonCallLogger"))({config:this.$ZenonParentCallsManager$p_7,initLoggerInfo:{callTrigger:o,isCaller:a,isVideo:i,localCallID:l,peerID:s,protocol:u,signalingID:c},isE2eeMandated:n,processorConfigs:this.getLogProcessors(),startFromNavigation:!0});return this.$ZenonParentCallsManager$p_4.set(c,m),this.$ZenonParentCallsManager$p_8.forEach(function(e){e.setLoggingEventHandler(function(e){return m.log(e)})}),m},i.getLogProcessors=function(){var e=[o("ZenonParentLSCallSummaryLogProcessor").ZenonParentLSCallSummaryLogProcessorConfig,o("ZenonParentQPLLogProcessor").ZenonParentQPLLogProcessorConfig,o("ZenonParentClientPerfQPLLogProcessor").ZenonParentClientPerfQPLLogProcessorConfig];return e},i.$ZenonParentCallsManager$p_15=function(t,n,a){var e=n.isPopupBlocked,i=n.signalingID;this.$ZenonParentCallsManager$p_2.localCallID=a,this.$ZenonParentCallsManager$p_2.verificationNonce=t,this.$ZenonParentCallsManager$p_5.add(i);var l=this.$ZenonParentCallsManager$p_4.get(i);l!=null&&l.log({isPopupBlocked:e,name:"popupOpened"}),o("ZenonDGWUtils").shouldUseDGW()?(o("ZenonDeviceId").setZenonLocalStorageDeviceId(this.$ZenonParentCallsManager$p_9),r("qex")._("3661")&&this.$ZenonParentCallsManager$p_10&&(r("promiseDone")(this.$ZenonParentCallsManager$p_10.restartStreamWithNewOptions({deviceId:this.$ZenonParentCallsManager$p_9,loggingId:r("uuidv4")(),serviceId:"rpsignaling"})),this.$ZenonParentCallsManager$p_9=r("uuidv4")())):o("ZenonDeviceId").setZenonLocalStorageDeviceId(o("ZenonDeviceId").getZenonLocalStorageDeviceIdWithFallback())},i.initListeners=function(t){var e=this;this.$ZenonParentCallsManager$p_8=t;for(var n of t)n.subscribe(function(t){return e.onMessageReceived(t)},function(t,n){return e.$ZenonParentCallsManager$p_2.enqueueRawMWThriftMessage(t,n)}),n.setOnCallHandledInOtherTab!=null&&n.setOnCallHandledInOtherTab(function(t,n,a){e.$ZenonParentCallsManager$p_1.get(function(i){var l=i.getSignalingClientsWithRemoteSignalingID(t);l.forEach(function(t){var i=t.getSignalingModel().getSignalingID();String(i)!==n&&(t instanceof r("ZenonParentSignalingClient")&&t.isAnswered()||(a===o("ZenonSharedWorkerConstants").messageTypeToString(o("MultiwayCommonTypes").MessageType.JOIN)?r("promiseDone")(t.silentlyTerminate()):r("promiseDone")(t.sendDismiss(o("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled)),r("promiseDone")(e.onDismissReceived(i,o("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled))))})})})},i.onMessageReceived=function(t){var e=t.getHeader().signalingID;e!=null&&this.$ZenonParentCallsManager$p_5.has(e)||this.$ZenonParentCallsManager$p_1.get(function(e){e.receiveMessage(t)})},i.onDecline=function(t,n,a,i){i===void 0&&(i=null),this.$ZenonParentCallsManager$p_1.get(function(e){var l=e.getSignalingClient(t);if(l){var s=o("ZenonDismissReason").endCallToDismissReason(a);a!=="VersionUnsupported"&&i!==o("ZenonCallsModelTypes").ZenonEndCallSubreason.CallsBlocked&&r("promiseDone")(l.sendDismiss(s)),n==null||n.log({endCallReason:s,endCallSubreason:i==null?null:i,isRemoteEnded:!1,name:"callEnded"})}else r("FBLogger")("rtc_www").mustfix("signaling client should be defined")})},i.removeListeners=function(t){for(var e of t)e.unsubscribe()},i.$ZenonParentCallsManager$p_12=function(t){return this.$ZenonParentCallsManager$p_6&&!this.$ZenonParentCallsManager$p_6.take(t)?(r("FBLogger")("rtc_www").warn("[ZP] Dropping %s invocation. This SDK method is being called too rapidly.",t),!1):!0},i.$ZenonParentCallsManager$p_13=function(t){r("promiseDone")(u.load(),function(e){return e(t)})},a})(r("BaseEventEmitter"));l.default=p}),98);
__d("ZenonPlatformRateLimitSitevarConfigJSModuleWrapper",["ZenonPlatformRateLimitSitevarConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("ZenonPlatformRateLimitSitevarConfig")}),98);
__d("delegateZenonCallInviteModel",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){e.getCurrentInvite=t.getCurrentInvite.bind(t),e.startListening=t.startListening.bind(t),e.stopListening=t.stopListening.bind(t),e.dismiss=t.dismiss.bind(t),e.accept=t.accept.bind(t),e.decline=t.decline.bind(t),t.addListener("callInvite",function(t){e.emit("callInvite",t)})}i.default=e}),66);/*FB_PKG_DELIM*/
__d("Base64",[],(function(t,n,r,o,a,i){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function l(t){var n=t.charCodeAt(0)<<16|t.charCodeAt(1)<<8|t.charCodeAt(2);return String.fromCharCode(e.charCodeAt(n>>>18),e.charCodeAt(n>>>12&63),e.charCodeAt(n>>>6&63),e.charCodeAt(n&63))}var s=">___?456789:;<=_______\0\x07\b	\n\v\f\r______\x1B !\"#$%&'()*+,-./0123";function u(e){var t=s.charCodeAt(e.charCodeAt(0)-43)<<18|s.charCodeAt(e.charCodeAt(1)-43)<<12|s.charCodeAt(e.charCodeAt(2)-43)<<6|s.charCodeAt(e.charCodeAt(3)-43);return String.fromCharCode(t>>>16,t>>>8&255,t&255)}var c={encode:function(t){var e=unescape(encodeURI(t)),n=(e.length+2)%3;return e=(e+"\0\0".slice(n)).replace(/[\s\S]{3}/g,l),e.slice(0,e.length+n-2)+"==".slice(n)},decode:function(t){var e=t.replace(/[^A-Za-z0-9+\/]/g,""),n=e.length+3&3;e=(e+"AAA".slice(n)).replace(/..../g,u),e=e.slice(0,e.length+n-3);try{return decodeURIComponent(escape(e))}catch(e){throw new Error("Not valid UTF-8")}},encodeObject:function(t){return c.encode(JSON.stringify(t))},decodeObject:function(t){return JSON.parse(c.decode(t))},encodeNums:function(n){return String.fromCharCode.apply(String,n.map(function(t){return e.charCodeAt((t|-(t>63?1:0))&-(t>0?1:0)&63)}))}},d=c;i.default=d}),66);
__d("IDGWLoggingContext",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({STREAM_GROUP_COMPONENT:"WebStreamGroup",GROUPED_STREAM_COMPONENT:"GroupedWebStream",WEBSOCKET_TRANSPORT_COMPONENT:"WebSocketTransport",ACK_MANAGER_COMPONENT:"WebStreamAckManager",CODEC_COMPONENT:"WebCodec",RAW_CLIENT:"RAWDGWClient",PINGER:"DGWPinger"}),l=n("$InternalEnum")({STREAM_LIFECYCLE:"stream_lifecycle",STREAM_GROUP_TRANSPORT:"stream_group_transport"}),s=n("$InternalEnum")({SUCCESS:"success",FAIL:"fail"});i.DGWLoggingComponent=e,i.QPLEvent=l,i.QPLResult=s}),66);
__d("DGWAckManager",["IDGWLoggingContext","Promise","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function e(e,t,n){var r=this;this.$3=n,this.sendId=e,this.$2=t,this.handleAckReceived=function(){r.stopTracking(!0)},this.$1=window.setTimeout(function(){r.stopTracking(!1)},t)}var t=e.prototype;return t.stopTracking=function(t){window.clearTimeout(this.$1),this.$3(t)},e})(),u=(function(){function t(e){this.$1=new Map,this.$2=e}var a=t.prototype;return a.waitForAck=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a){this.$2.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_expected");var i=this.$1;try{var l=yield new(e||(e=n("Promise")))(function(e,n){i.set(t,new s(t,a,e))});return l===!0?this.$2.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Received ACK","sendId:"+t,!0):(this.$2.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_timeout"),this.$2.logWarn(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ACK timeout","Request "+t+" timed out after "+a+"ms")),i.delete(t),l}catch(e){var u=r("getErrorSafe")(e);throw this.$2.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_error"),i.delete(t),u}});function a(e,n){return t.apply(this,arguments)}return a})(),a.handleAckReceived=function(t){this.$2.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received");var e=this.$1.get(t);if(e===void 0){this.$2.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ack_received.not_tracked"),this.$2.logWarn(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"untracked ACK","Received ACK for ackId "+t+" which was not being tracked");return}e.handleAckReceived()},a.clearPendingAcks=function(){var e=this;this.$2.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending acks","ACKs cleared size: "+this.$1.size),this.$1.forEach(function(t,n,r){e.$2.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending ACK with ackId "+t.sendId,null,!0),t.stopTracking(!1),r.delete(n)})},t})();l.DGWAckManager=u}),98);
__d("DGWAuth",["$InternalEnum","err"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum")({TEST:"0:0",FACEBOOK:"1:0",INTERNALFB:"2:0",OCULUS:"3:0",ENTERPRISEFB:"7:0",RECRUITINGFB:"8:0",INSTAGRAM:"6:0",HORIZON_WEB:"12:0",SPARK_WEB:"13:0",ABRA:"15:0",GUEST:"19:0"});function s(t){if(t==="TEST")return e.TEST;if(t==="FACEBOOK")return e.FACEBOOK;if(t==="INTERNALFB")return e.INTERNALFB;if(t==="OCULUS")return e.OCULUS;if(t==="ENTERPRISEFB")return e.ENTERPRISEFB;if(t==="RECRUITINGFB")return e.RECRUITINGFB;if(t==="INSTAGRAM")return e.INSTAGRAM;if(t==="HORIZON_WEB")return e.HORIZON_WEB;if(t==="SPARK_WEB")return e.SPARK_WEB;if(t==="ABRA")return e.ABRA;if(t==="GUEST")return e.GUEST;throw r("err")("failed to convert string to DGWAuth Type")}function u(t){if(t===e.TEST)return"TEST";if(t===e.FACEBOOK)return"FACEBOOK";if(t===e.INTERNALFB)return"INTERNALFB";if(t===e.OCULUS)return"OCULUS";if(t===e.ENTERPRISEFB)return"ENTERPRISEFB";if(t===e.RECRUITINGFB)return"RECRUITINGFB";if(t===e.INSTAGRAM)return"INSTAGRAM";if(t===e.HORIZON_WEB)return"HORIZON_WEB";if(t===e.SPARK_WEB)return"SPARK_WEB";if(t===e.ABRA)return"ABRA";if(t===e.GUEST)return"GUEST";throw r("err")("failed to convert DGWAuth to string")}l.DGWAuth=e,l.fromStringToDGWAuth=s,l.fromDGWAuthToString=u}),98);
__d("DGWGlobalLogger",["gkx","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){var e=this;this.tabID=r("uuidv4")(),this.isTabClosed=!1,this.otherTabs=new Map,this.thisTab={realtime:0,lightspeed:0},this.broadcastChannel=this.$1("DGWGlobalLogger"),this.broadcastChannel.onmessage=function(t){var n=JSON.parse(String(t.data)),r=!e.otherTabs.has(n.key);n.event==="DELETE"?e.otherTabs.delete(n.key):n.event==="UPDATE"&&n.value!=null&&(e.otherTabs.set(n.key,n.value),r&&e.$2())}}var t=e.prototype;return t.$1=function(t){return window.BroadcastChannel!=null?new BroadcastChannel(t):{onmessage:function(t){},postMessage:function(t){}}},t.streamRequested=function(t){switch(t){case"realtime":this.thisTab.realtime++;break;case"lightspeed":this.thisTab.lightspeed++;break}this.$2()},t.streamClosed=function(t){switch(t){case"realtime":this.thisTab.realtime=Math.max(0,this.thisTab.realtime-1);break;case"lightspeed":this.thisTab.lightspeed=Math.max(0,this.thisTab.lightspeed-1);break}this.$2()},t.tabClosed=function(){if(!this.isTabClosed){this.isTabClosed=!0;var e={key:this.tabID,event:"DELETE"};this.broadcastChannel.postMessage(JSON.stringify(e))}},t.getGlobalState=function(){var e={realtime:this.thisTab.realtime,lightspeed:this.thisTab.lightspeed};return this.otherTabs.forEach(function(t){e.realtime+=t.realtime,e.lightspeed+=t.lightspeed}),e},t.$2=function(){var e={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.postMessage(JSON.stringify(e))},e})(),s=r("gkx")("4337")?new e:{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{realtime:-1,lightspeed:-1}}},u=function(){return s};l.getInstance=u}),98);
__d("DgwClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1755537"),s=o("FalcoLoggerInternal").create("dgw_client",e),u=s;l.default=u}),98);
__d("DGWLoggingContext",["DGWGlobalLogger","DgwClientFalcoEvent","IDGWLoggingContext","NetworkStatus","ODS","QuickPerformanceLogger","Random","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u="dgw_client",c=r("qpl")._(701242292,"2919"),d=r("qpl")._(701238781,"3037"),m={VERBOSE:-1,INFO:0,WARNING:1,ERROR:2,FATAL:3};function p(e){switch(e){case o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT:case o("IDGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT:return!0;default:return!1}}var _=(function(){function t(e,t,n,r,o,a,i){a===void 0&&(a=!1),i===void 0&&(i=!1),this.$5=""+e,this.$1=t,this.$4=n,this.$3=r,this.sgTransportId=o,this.$2=a,this.$6=i}var n=t.prototype;return n.getGlobalLogger=function(){return o("DGWGlobalLogger").getInstance()},t.bumpODSKey=function(t,n,r){if(r===void 0&&(r=1),!!o("Random").coinflip(r)){var e=t+"."+n;(s||(s=o("ODS"))).bumpEntityKey(3589,"dgw_web_client",e,r)}},n.bumpODSKey=function(t,n,r){if(r===void 0&&(r=1),!!o("Random").coinflip(r)){var e=this.$4+"."+t+"."+n;(s||(s=o("ODS"))).bumpEntityKey(3589,"dgw_web_client",e,r)}},n.logEvent=function(t,n,r,o,a){o===void 0&&(o=!1),this.$2||this.$7(t,n,null,m.INFO,r,o,a)},n.$7=function(t,n,o,a,i,l,s){var e=this;l===void 0&&(l=!1),!(l&&!this.$6)&&(p(t)&&this.$1!=null||!p(t)&&this.sgTransportId!=null)&&r("DgwClientFalcoEvent").log(function(){return{event:n,logging_id:s!=null?s:e.$1,dgw_version:e.$5,message:o,severity:a,uuid:e.$3,dgw_component:t,extra_info:i,destination_tier:e.$4,sg_transport_id:e.sgTransportId,source:2}})},n.logError=function(t,n,o,a,i,l,s){if(i===void 0&&(i=!1),s===void 0&&(s=!1),!this.$2){var e=a;if(s){var u="onLine:"+String(r("NetworkStatus").isOnline());e=a!=null&&a!==""?a+", "+u:u}this.$7(t,n,o,m.ERROR,e,i,l)}},n.logWarn=function(t,n,r,o,a){a===void 0&&(a=!1),this.$2||this.$7(t,n,r,m.WARNING,o,a)},n.$8=function(t){switch(t){case o("IDGWLoggingContext").QPLEvent.STREAM_LIFECYCLE:return c;case o("IDGWLoggingContext").QPLEvent.STREAM_GROUP_TRANSPORT:return d}},n.qplMarkerStart=function(n,o){(e||(e=r("QuickPerformanceLogger"))).markerStart(this.$8(n),o)},n.qplMarkerEnd=function(n,a,i){var t=a===o("IDGWLoggingContext").QPLResult.SUCCESS?2:3;(e||(e=r("QuickPerformanceLogger"))).markerEnd(this.$8(n),t,i)},n.qplMarkerPoint=function(n,o,a){(e||(e=r("QuickPerformanceLogger"))).markerPoint(this.$8(n),o,{instanceKey:a})},n.qplMarkerAnnotate=function(n,o,a){(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(this.$8(n),o,{instanceKey:a})},t})();l.DGWLoggingComponent=o("IDGWLoggingContext").DGWLoggingComponent,l.QPLEvent=o("IDGWLoggingContext").QPLEvent,l.QPLResult=o("IDGWLoggingContext").QPLResult,l.DGW_MODULE=u,l.DGWLoggingContext=_}),98);
__d("DGWStream",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["ABNORMAL_CLOSURE","GOING_AWAY","SERVER_INTERNAL_ERROR","PREMATURE_CLOSE","UNKNOWN_ERROR","KEEPALIVE_TIMEOUT","TRANSPORT_CLOSED_BEFORE_STREAM_INIT","TRANSPORT_ESTABLISHMENT_ERROR","TRANSPORT_ESTABLISHMENT_TIMEOUT","ESTABLISHMENT_TIMEOUT","UNAUTHENTICATED","UNAUTHORIZED","REJECTED","BAD_REQUEST","DGW_SERVER_ERROR","ESTABLISHMENT_ERROR","ACK_TIMEOUT"]);function l(t){switch(t){case e.UNAUTHENTICATED:case e.UNAUTHORIZED:case e.REJECTED:case e.BAD_REQUEST:case e.UNKNOWN_ERROR:case e.SERVER_INTERNAL_ERROR:return!1;default:return!0}}i.StreamError=e,i.isRetryableError=l}),66);
__d("DGWCppBridge",[],(function(t,n,r,o,a,i){var e=(function(){var e=typeof document!="undefined"&&document.currentScript?document.currentScript.src:void 0;return(function(t){t=t||{};var t=typeof t!="undefined"?t:{},n=(function(){function e(){}function t(e,t){return function(){e.apply(t,arguments)}}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(e,this)}function r(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,n._immediateFn(function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?o:a)(t.promise,e._value);return}var r;try{r=n(e._value)}catch(e){a(t.promise,e);return}o(t.promise,r)})}function o(e,r){try{if(r===e)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var o=r.then;if(r instanceof n){e._state=3,e._value=r,i(e);return}else if(typeof o=="function"){s(t(o,r),e);return}}e._state=1,e._value=r,i(e)}catch(t){a(e,t)}}function a(e,t){e._state=2,e._value=t,i(e)}function i(e){e._state===2&&e._deferreds.length===0&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var t=0,o=e._deferreds.length;t<o;t++)r(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=n}function s(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){if(n)return;n=!0,a(t,e)}}return n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(t,n){var o=new this.constructor(e);return r(this,new l(t,n,o)),o},n.all=function(e){return new n(function(t,n){if(!Array.isArray(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(r.length===0)return t([]);var o=r.length;function a(e,i){try{if(i&&(typeof i=="object"||typeof i=="function")){var l=i.then;if(typeof l=="function"){l.call(i,function(t){a(e,t)},n);return}}r[e]=i,--o===0&&t(r)}catch(e){n(e)}}for(var i=0;i<r.length;i++)a(i,r[i])})},n.resolve=function(e){return e&&typeof e=="object"&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,n){n(e)})},n.race=function(e){return new n(function(t,r){if(!Array.isArray(e))return r(new TypeError("Promise.race accepts an array"));for(var o=0,a=e.length;o<a;o++)n.resolve(e[o]).then(t,r)})},n._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){setTimeout(e,0)},n._unhandledRejectionFn=function(t){},n})(),r,o;t.ready=new n(function(e,t){r=e,o=t});var a={},i;for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);var l=[],s="./this.program",u=function(t,n){throw n},c=!0,d=!1,m="";function p(e){return t.locateFile?t.locateFile(e,m):m+e}var _,f,g,h;typeof document!="undefined"&&document.currentScript&&(m=document.currentScript.src),e&&(m=e),m.indexOf("blob:")!==0?m=m.substr(0,m.lastIndexOf("/")+1):m="",_=function(t){try{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText}catch(e){var n=ge(t);if(n)return pe(n);throw e}},f=function(t,n,r){var e=new XMLHttpRequest;e.open("GET",t,!0),e.responseType="arraybuffer",e.onload=function(){if(e.status==200||e.status==0&&e.response){n(e.response);return}var o=ge(t);if(o){n(o.buffer);return}r()},e.onerror=r,e.send(null)},h=function(t){document.title=t};var y=t.print||console.log.bind(console),C=t.printErr||console.warn.bind(console);for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);a=null,t.arguments&&(l=t.arguments),t.thisProgram&&(s=t.thisProgram),t.quit&&(u=t.quit);var b;t.wasmBinary&&(b=t.wasmBinary);var v=t.noExitRuntime||!0,S={Memory:function(t){this.buffer=new ArrayBuffer(t.initial*65536)},Module:function(t){},Instance:function(t,n){this.exports=(function(t){function e(e){return e.set=function(e,t){this[e]=t},e.get=function(e){return this[e]},e}for(var n,r=new Uint8Array(123),o=25;o>=0;--o)r[48+o]=52+o,r[65+o]=o,r[97+o]=26+o;r[43]=62,r[47]=63;function a(e,t,n){for(var o,a,i=0,l=t,s=n.length,u=t+(s*3>>2)-(n[s-2]=="=")-(n[s-1]=="=");i<s;i+=4)o=r[n.charCodeAt(i+1)],a=r[n.charCodeAt(i+2)],e[l++]=r[n.charCodeAt(i)]<<2|o>>4,l<u&&(e[l++]=o<<4|a>>2),l<u&&(e[l++]=a<<6|r[n.charCodeAt(i+3)])}function i(e){a(n,1024,"U3Q5dHlwZV9pbmZvAAAAAOAEAAAABAAATjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAAAACAUAABgEAAAQBAAATjEwX19jeHhhYml2MTE3X19jbGFzc190eXBlX2luZm9FAAAACAUAAEgEAAA8BAAATjEwX19jeHhhYml2MTE3X19wYmFzZV90eXBlX2luZm9FAAAACAUAAHgEAAA8BAAATjEwX19jeHhhYml2MTE5X19wb2ludGVyX3R5cGVfaW5mb0UACAUAAKgEAACcBAAAAAAAAGwEAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAAAAABQBQAAAQAAAAkAAAADAAAABAAAAAUAAAAKAAAACwAAAAwAAABOMTBfX2N4eGFiaXYxMjBfX3NpX2NsYXNzX3R5cGVfaW5mb0UAAAAACAUAACgFAABsBA=="),a(n,1372,"gAkQ")}function l(t){var r=t.a,o=r.buffer;r.grow=Le;var a=new Int8Array(o),l=new Int16Array(o),s=new Int32Array(o),u=new Uint8Array(o),c=new Uint16Array(o),d=new Uint32Array(o),m=new Float32Array(o),p=new Float64Array(o),_=Math.imul,f=Math.fround,g=Math.abs,h=Math.clz32,y=Math.min,C=Math.max,b=Math.floor,v=Math.ceil,S=Math.trunc,R=Math.sqrt,L=t.abort,E=NaN,k=1/0,I=t.b,T=1051008,D=0;function x(e,t,n,r,o,i){e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,i=i|0;var m=0,p=0,f=0;m=T-80|0,T=m,s[m+72>>2]=e,s[m+68>>2]=t,s[m+64>>2]=n,s[m+60>>2]=r,s[m+56>>2]=o,s[m+52>>2]=i;e:{if(!s[m+52>>2]||!s[m+56>>2]|(!s[m+72>>2]|!s[m+68>>2]|(!s[m+64>>2]|!s[m+60>>2]))){s[m+76>>2]=5;break e}s[s[m+64>>2]>>2]=0,s[s[m+60>>2]>>2]=0,t=s[m+68>>2],n=s[m+56>>2],r=s[m+52>>2],e=T+-64|0,T=e,s[e+56>>2]=s[m+72>>2],s[e+52>>2]=t,s[e+48>>2]=n,s[e+44>>2]=r,s[e+40>>2]=0,s[e+36>>2]=s[e+56>>2];t:{n:{r:{for(;;){if(!s[e+52>>2])break n;if(s[e+32>>2]=s[e+36>>2],a[e+31|0]=u[s[e+36>>2]],s[e+52>>2]=s[e+52>>2]-1,s[e+36>>2]=s[e+36>>2]+1,u[e+31|0]==10||u[e+31|0]==2|u[e+31|0]==4|u[e+31|0]==9){s[e+40>>2]=s[e+40>>2]+1;continue}if(s[e+24>>2]=1,J(u[e+31|0])&1){if(p=e,f=ee(u[e+31|0])&1,a[p+23|0]=f,s[e+16>>2]=a[e+23|0]&1?1:2,d[e+52>>2]<d[e+16>>2]){s[s[e+48>>2]>>2]=s[e+32>>2],s[s[e+44>>2]>>2]=s[e+52>>2]+s[e+24>>2];break t}if(s[e+52>>2]=s[e+52>>2]-s[e+16>>2],s[e+24>>2]=s[e+16>>2]+s[e+24>>2],s[e+36>>2]=s[e+16>>2]+s[e+36>>2],!(u[e+31|0]!=14&&u[e+31|0]!=8)){s[e+40>>2]=s[e+40>>2]+1;continue}}if(d[e+52>>2]<3)break r;if(s[e+12>>2]=0,t=s[e+36>>2],n=u[t|0]|u[t+1|0]<<8,a[e+12|0]=n,a[e+13|0]=n>>>8,a[e+14|0]=u[t+2|0],s[e+52>>2]=s[e+52>>2]-3,s[e+24>>2]=s[e+24>>2]+3,s[e+36>>2]=s[e+36>>2]+3,d[e+12>>2]<=d[e+52>>2]){s[e+40>>2]=s[e+40>>2]+1,s[e+36>>2]=s[e+12>>2]+s[e+36>>2],s[e+52>>2]=s[e+52>>2]-s[e+12>>2];continue}break}s[s[e+48>>2]>>2]=s[e+32>>2],s[s[e+44>>2]>>2]=s[e+52>>2]+s[e+24>>2];break t}s[s[e+48>>2]>>2]=s[e+32>>2],s[s[e+44>>2]>>2]=s[e+52>>2]+s[e+24>>2];break t}s[s[e+44>>2]>>2]=s[e+52>>2]}if(s[e+60>>2]=s[e+40>>2],T=e- -64|0,s[m+48>>2]=s[e+60>>2],!s[m+48>>2]){s[m+76>>2]=0;break e}if(p=m,f=$(_(s[m+48>>2],20)),s[p+44>>2]=f,!s[m+44>>2]){s[m+76>>2]=3;break e}for(s[m+40>>2]=s[m+44>>2],s[m+36>>2]=s[m+72>>2],s[m+32>>2]=s[m+68>>2]-s[s[m+52>>2]>>2],s[m+28>>2]=0;;){if(d[m+28>>2]<d[m+48>>2]){if(d[m+32>>2]<1){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=1;break e}a[m+27|0]=u[s[m+36>>2]],s[m+36>>2]=s[m+36>>2]+1,s[m+32>>2]=s[m+32>>2]-1;t:{if(!u[m+27|0]|u[m+27|0]==1|(u[m+27|0]==2|u[m+27|0]==3)|(u[m+27|0]==4|u[m+27|0]==9|u[m+27|0]==10)||J(u[m+27|0])&1)break t;V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=6;break e}e=s[m+40>>2],s[e>>2]=u[m+27|0]&15|s[e>>2]&-16;t:{if(u[m+27|0]==10||u[m+27|0]==2|u[m+27|0]==4|u[m+27|0]==9){e=s[m+40>>2],s[e>>2]=s[e>>2]&-268435441,s[m+40>>2]=s[m+40>>2]+20;break t}if(J(u[m+27|0])&1){e=T-48|0,T=e,s[e+40>>2]=s[m+40>>2],s[e+36>>2]=m+36,s[e+32>>2]=m+32;n:{if(!(J(s[s[e+40>>2]>>2]&15)&1)){s[e+44>>2]=1;break n}if(p=e,f=ee(s[s[e+40>>2]>>2]&15)&1,a[p+31|0]=f,s[e+24>>2]=a[e+31|0]&1?1:2,d[s[e+32>>2]>>2]<d[e+24>>2]){s[e+44>>2]=1;break n}if(ae(s[e+40>>2]+4|0,s[s[e+36>>2]>>2],s[e+24>>2]),t=s[e+36>>2],s[t>>2]=s[e+24>>2]+s[t>>2],t=s[e+32>>2],s[t>>2]=s[t>>2]-s[e+24>>2],(s[s[e+40>>2]>>2]&15)==8){t=s[e+40>>2],s[t>>2]=s[t>>2]&-268435441,s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==14){t=s[e+40>>2],s[t>>2]=s[t>>2]&-268435441,s[e+44>>2]=0;break n}if(d[s[e+32>>2]>>2]<3){s[e+44>>2]=11;break n}if(s[e+20>>2]=0,t=s[s[e+36>>2]>>2],n=u[t|0]|u[t+1|0]<<8,a[e+20|0]=n,a[e+21|0]=n>>>8,a[e+22|0]=u[t+2|0],t=s[e+36>>2],s[t>>2]=s[t>>2]+3,t=s[e+32>>2],s[t>>2]=s[t>>2]-3,t=s[e+40>>2],s[t>>2]=s[t>>2]&-268435441|(s[e+20>>2]&16777215)<<4,d[s[e+32>>2]>>2]<d[e+20>>2]){s[e+44>>2]=11;break n}if((s[s[e+40>>2]>>2]&15)==15){if(s[s[e+40>>2]+12>>2]=s[e+20>>2],t=$(s[e+20>>2]),s[s[e+40>>2]+8>>2]=t,!s[s[e+40>>2]+8>>2]){s[e+44>>2]=3;break n}ae(s[s[e+40>>2]+8>>2],s[s[e+36>>2]>>2],s[e+20>>2]),t=s[e+36>>2],s[t>>2]=s[e+20>>2]+s[t>>2],t=s[e+32>>2],s[t>>2]=s[t>>2]-s[e+20>>2],s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==5){if(s[s[e+40>>2]+12>>2]=s[e+20>>2],t=$(s[e+20>>2]),s[s[e+40>>2]+8>>2]=t,!s[s[e+40>>2]+8>>2]){s[e+44>>2]=3;break n}ae(s[s[e+40>>2]+8>>2],s[s[e+36>>2]>>2],s[e+20>>2]),t=s[e+36>>2],s[t>>2]=s[e+20>>2]+s[t>>2],t=s[e+32>>2],s[t>>2]=s[t>>2]-s[e+20>>2],s[e+44>>2]=0;break n}r:{if(!((s[s[e+40>>2]>>2]&15)!=6&&(s[s[e+40>>2]>>2]&15)!=7)){if(p=e,f=G(s[e+36>>2],s[e+32>>2],e+19|0,e+18|0),s[p+12>>2]=f,s[e+12>>2]){s[e+44>>2]=s[e+12>>2];break n}break r}if(!((s[s[e+40>>2]>>2]&15)!=13&&(s[s[e+40>>2]>>2]&15)!=12)){n=s[e+32>>2],t=T-32|0,s[t+24>>2]=s[e+36>>2],s[t+20>>2]=n,s[t+16>>2]=e+19,s[t+12>>2]=e+16,l[t+10>>1]=0;o:{if(d[s[t+20>>2]>>2]<2){s[t+28>>2]=1;break o}n=s[s[t+24>>2]>>2],n=u[n|0]|u[n+1|0]<<8,a[t+10|0]=n,a[t+11|0]=n>>>8,n=s[t+24>>2],s[n>>2]=s[n>>2]+2,n=s[t+20>>2],s[n>>2]=s[n>>2]-2,a[s[t+16>>2]]=(c[t+10>>1]&32768)==32768,l[s[t+12>>2]>>1]=c[t+10>>1]&32767,s[t+28>>2]=0}if(s[e+12>>2]=s[t+28>>2],s[e+12>>2]){s[e+44>>2]=s[e+12>>2];break n}}}if((s[s[e+40>>2]>>2]&15)==12){t=s[e+40>>2],l[t+8>>1]=l[t+8>>1]&1|c[e+16>>1]<<1,s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==7){t=s[e+40>>2],a[t+8|0]=a[t+8|0]&1|u[e+18|0]<<1,s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==13){n=s[e+32>>2],r=s[e+20>>2],o=s[e+40>>2]+12|0,i=s[e+40>>2],t=T-32|0,T=t,s[t+24>>2]=s[e+36>>2],s[t+20>>2]=n,s[t+16>>2]=r,s[t+12>>2]=o,s[t+8>>2]=i+16;r:{if(d[t+16>>2]<2){s[t+28>>2]=9;break r}if(s[s[t+8>>2]>>2]=s[t+16>>2]-2,d[s[t+20>>2]>>2]<d[s[t+8>>2]>>2]){s[t+28>>2]=1;break r}if(n=$(s[s[t+8>>2]>>2]),s[s[t+12>>2]>>2]=n,!s[s[t+12>>2]>>2]){s[t+28>>2]=3;break r}ae(s[s[t+12>>2]>>2],s[s[t+24>>2]>>2],s[s[t+8>>2]>>2]),n=s[t+24>>2],s[n>>2]=s[s[t+8>>2]>>2]+s[n>>2],n=s[t+20>>2],s[n>>2]=s[n>>2]-s[s[t+8>>2]>>2],s[t+28>>2]=0}if(T=t+32|0,s[e+8>>2]=s[t+28>>2],s[e+8>>2]){s[e+44>>2]=s[e+8>>2];break n}t=s[e+40>>2],l[t+8>>1]=a[e+19|0]&1|c[t+8>>1]&65534,t=s[e+40>>2],l[t+8>>1]=l[t+8>>1]&1|c[e+16>>1]<<1,s[e+44>>2]=0;break n}if((s[s[e+40>>2]>>2]&15)==6){if(p=e,f=q(s[e+36>>2],s[e+32>>2],s[e+20>>2],s[e+40>>2]+12|0,s[e+40>>2]+16|0),s[p+4>>2]=f,s[e+4>>2]){s[e+44>>2]=s[e+4>>2];break n}t=s[e+40>>2],a[t+8|0]=a[e+19|0]&1|u[t+8|0]&254,t=s[e+40>>2],a[t+8|0]=a[t+8|0]&1|u[e+18|0]<<1,s[e+44>>2]=0;break n}s[e+44>>2]=1}if(T=e+48|0,s[m+20>>2]=s[e+44>>2],!s[m+20>>2]){s[m+40>>2]=s[m+40>>2]+20;break t}V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=s[m+20>>2];break e}if(s[m+16>>2]=0,d[m+32>>2]<3){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=1;break e}if(e=s[m+36>>2],t=u[e|0]|u[e+1|0]<<8,a[m+16|0]=t,a[m+17|0]=t>>>8,a[m+18|0]=u[e+2|0],s[m+36>>2]=s[m+36>>2]+3,s[m+32>>2]=s[m+32>>2]-3,!(s[m+16>>2]==1|u[m+27|0]!=1)){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=7;break e}if(e=s[m+40>>2],s[e>>2]=s[e>>2]&-268435441|(s[m+16>>2]&16777215)<<4,u[m+27|0]==3){if(s[m+16>>2]!=1){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=10;break e}if(a[m+15|0]=0,d[m+32>>2]<1){O(s[m+44>>2]),s[m+76>>2]=1;break e}a[m+15|0]=u[s[m+36>>2]],s[m+36>>2]=s[m+36>>2]+1,s[m+32>>2]=s[m+32>>2]-1;n:{if(u[m+15|0]<=4){a[s[m+40>>2]+4|0]=u[m+15|0];break n}a[s[m+40>>2]+4|0]=4}s[m+40>>2]=s[m+40>>2]+20;break t}if(p=m,f=G(m+36|0,m+32|0,m+14|0,m+13|0),s[p+8>>2]=f,s[m+8>>2]){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=s[m+8>>2];break e}if(u[m+27|0]==1){e=s[m+40>>2],a[e+4|0]=a[e+4|0]&1|u[m+13|0]<<1,s[m+40>>2]=s[m+40>>2]+20;break t}if(!u[m+27|0]){if(p=m,f=q(m+36|0,m+32|0,s[m+16>>2],s[m+40>>2]+8|0,s[m+40>>2]+12|0),s[p+4>>2]=f,s[m+4>>2]){V(s[m+44>>2],s[m+28>>2]),s[m+76>>2]=s[m+4>>2];break e}e=s[m+40>>2],a[e+4|0]=a[m+14|0]&1|u[e+4|0]&254,e=s[m+40>>2],a[e+4|0]=a[e+4|0]&1|u[m+13|0]<<1,s[m+40>>2]=s[m+40>>2]+20}}s[m+28>>2]=s[m+28>>2]+1;continue}break}if(s[m+32>>2]){V(s[m+44>>2],s[m+48>>2]),s[m+76>>2]=1;break e}s[s[m+64>>2]>>2]=s[m+44>>2],s[s[m+60>>2]>>2]=s[m+48>>2],s[m+76>>2]=0}return T=m+80|0,s[m+76>>2]}function $(e){var t=0,n=0,r=0,o=0,a=0,i=0,l=0,u=0,c=0,d=0,m=0;c=8;e:{t:{if(e>>>0>4294967239)break t;for(;;){c=c>>>0>8?c:8,n=s[603],a=n,o=s[602],l=o,e=e>>>0>8?e+3&-4:8;n:{if(e>>>0<=127){i=(e>>>3|0)-1|0;break n}if(r=h(e),i=((e>>>29-r^4)-(r<<2)|0)+110|0,e>>>0<=4095)break n;r=((e>>>30-r^2)-(r<<1)|0)+71|0,i=r>>>0<63?r:63}if(t=i,r=t&31,(t&63)>>>0>=32?(t=0,n=n>>>r|0):(t=n>>>r|0,n=((1<<r)-1&n)<<32-r|l>>>r),r=t,n|t){for(;;){a=n,t=r;n:{if(t|n){o=t-1|0,u=o+1|0,l=o,o=n-1|0,l=(o|0)!=-1?u:l,o=h(n^o)+32|0,n=h(t^l),n=(n|0)==32?o:n,t=63-n|0,D=0-(n>>>0>63)|0;break n}D=0,t=64}o=t,t=o,n=t&31,(t&63)>>>0>=32?(t=0,l=r>>>n|0):(t=r>>>n|0,l=((1<<n)-1&r)<<32-n|a>>>n),r=t,i=o+i|0,a=i<<4,t=s[a+1384>>2],o=a+1376|0;n:{if((t|0)!=(o|0)){if(n=F(t,c,e),n)break t;n=s[t+4>>2],s[n+8>>2]=s[t+8>>2],s[s[t+8>>2]+4>>2]=n,s[t+8>>2]=o,n=a+1380|0,s[t+4>>2]=s[n>>2],s[n>>2]=t,s[s[t+4>>2]+8>>2]=t,i=i+1|0,n=(r&1)<<31|l>>>1,r=r>>>1|0;break n}d=s[603],t=i,u=t&63,n=u,a=n&31,n>>>0>=32?(n=0,o=-1>>>a|0):(n=-1>>>a|0,o=(1<<a)-1<<32-a|-1>>>a),o=o&-2,a=u&31,u>>>0>=32?(n=o<<a,u=0):(n=(1<<a)-1&o>>>32-a|n<<a,u=o<<a),a=n,o=0-t&63,n=o,t=n&31,n>>>0>=32?(n=-1<<t,t=0):(n=(1<<t)-1&-1>>>32-t|-1<<t,t=-1<<t),m=t&-2,t=o&31,o>>>0>=32?(o=0,t=n>>>t|0):(o=n>>>t|0,t=((1<<t)-1&n)<<32-t|m>>>t),n=t|u,D=a|o,s[602]=s[602]&n,s[603]=D&d,n=l^1}if(!(n|r))break}o=s[602],a=s[603]}n:{if(a|o){r=h(a),r=63-((r|0)==32?h(o)+32|0:r)<<4,t=r+1376|0,r=s[r+1384>>2];r:{if(!a&o>>>0<1073741824||(i=98,(t|0)==(r|0)))break r;for(;;){if(n=F(r,c,e),n)break t;if(r=s[r+8>>2],!i)break r;if(i=i-1|0,(t|0)==(r|0))break}}if(M(e+48|0))break n;if(!r|(t|0)==(r|0))break e;for(;;){if(n=F(r,c,e),n)break t;if(r=s[r+8>>2],(t|0)==(r|0))break}break e}if(!M(e+48|0))break e}if(n=0,e>>>0>4294967239)break t;for(r=c,t=0;;){if(i=t,r){r=r-1&r,t=t+1|0;continue}break}if(!(i>>>0<=1))break}}return n}return 0}function P(e,t,n,r,o,i,m){e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,i=i|0,m=m|0;var p=0,_=0,f=0;p=T-32|0,T=p,l[p+26>>1]=e,s[p+20>>2]=t,s[p+16>>2]=n,a[p+15|0]=r,l[p+12>>1]=o,s[p+8>>2]=i,s[p+4>>2]=m;e:{if(!(!(a[p+15|0]&1)|c[p+12>>1]<=32767)){s[p+28>>2]=4;break e}t=s[p+20>>2],n=s[p+16>>2],r=s[p+8>>2],o=s[p+4>>2],i=a[p+15|0]&1,e=T+-64|0,T=e,s[e+56>>2]=p+26,s[e+52>>2]=t,s[e+48>>2]=n,s[e+44>>2]=r,s[e+40>>2]=o,a[e+39|0]=2,a[e+38|0]=13,s[e+32>>2]=p+12,a[e+31|0]=i,a[e+30|0]=2;t:{n:{if(!(!s[e+52>>2]|(!s[e+44>>2]|!s[e+40>>2]))&&d[e+48>>2]<=16777215)break n;s[e+60>>2]=5;break t}if(s[e+24>>2]=s[e+48>>2]+(u[e+39|0]+(u[e+30|0]+4|0)|0),_=e,f=$(s[e+24>>2]),s[_+20>>2]=f,!s[e+20>>2]){s[e+60>>2]=3;break t}if(s[e+16>>2]=s[e+20>>2],a[s[e+16>>2]]=u[e+38|0],s[e+16>>2]=s[e+16>>2]+1,ae(s[e+16>>2],s[e+56>>2],u[e+30|0]),s[e+16>>2]=u[e+30|0]+s[e+16>>2],s[e+12>>2]=u[e+39|0]+s[e+48>>2],d[e+12>>2]<d[e+48>>2]){O(s[e+20>>2]),s[e+60>>2]=9;break t}if(t=s[e+16>>2],n=u[e+12|0]|u[e+13|0]<<8,a[t|0]=n,a[t+1|0]=n>>>8,a[t+2|0]=u[e+14|0],s[e+16>>2]=s[e+16>>2]+3,a[e+31|0]&1)n:{if(u[e+38|0]==6){t=s[e+32>>2],a[t|0]=u[t|0]|128;break n}r:{if(u[e+38|0]==13){t=s[e+32>>2],l[t>>1]=c[t>>1]|32768;break r}O(s[e+20>>2]),s[e+60>>2]=1;break t}}ae(s[e+16>>2],s[e+32>>2],u[e+39|0]),s[e+16>>2]=u[e+39|0]+s[e+16>>2],ae(s[e+16>>2],s[e+52>>2],s[e+48>>2]),s[s[e+44>>2]>>2]=s[e+20>>2],s[s[e+40>>2]>>2]=s[e+24>>2],s[e+60>>2]=0}T=e- -64|0,s[p+28>>2]=s[e+60>>2]}return T=p+32|0,s[p+28>>2]}function N(e,t,n,r,o){e=e|0,t=t|0,n=n|0,r=r|0,o=o|0;var i=0,c=0,m=0;i=T-32|0,T=i,l[i+30>>1]=e,s[i+24>>2]=t,s[i+20>>2]=n,s[i+16>>2]=r,s[i+12>>2]=o,t=s[i+24>>2],n=s[i+20>>2],r=s[i+16>>2],o=s[i+12>>2],e=T-48|0,T=e,s[e+40>>2]=i+30,s[e+36>>2]=t,s[e+32>>2]=n,s[e+28>>2]=r,s[e+24>>2]=o,a[e+23|0]=2,a[e+22|0]=15;e:{if(!(s[e+24>>2]&&s[e+28>>2])){s[e+44>>2]=5;break e}if(s[s[e+28>>2]>>2]=0,s[s[e+24>>2]>>2]=0,!(d[e+32>>2]<=16777215&&s[e+36>>2])){s[e+44>>2]=5;break e}if(s[e+16>>2]=s[e+32>>2]+(u[e+23|0]+4|0),c=e,m=$(s[e+16>>2]),s[c+12>>2]=m,!s[e+12>>2]){s[e+44>>2]=3;break e}s[e+8>>2]=s[e+12>>2],a[s[e+8>>2]]=u[e+22|0],s[e+8>>2]=s[e+8>>2]+1,ae(s[e+8>>2],s[e+40>>2],u[e+23|0]),s[e+8>>2]=u[e+23|0]+s[e+8>>2],t=s[e+8>>2],n=u[e+32|0]|u[e+33|0]<<8,a[t|0]=n,a[t+1|0]=n>>>8,a[t+2|0]=u[e+34|0],s[e+8>>2]=s[e+8>>2]+3,ae(s[e+8>>2],s[e+36>>2],s[e+32>>2]),s[e+8>>2]=s[e+32>>2]+s[e+8>>2],s[s[e+28>>2]>>2]=s[e+12>>2],s[s[e+24>>2]>>2]=s[e+16>>2],s[e+44>>2]=0}return T=e+48|0,T=i+32|0,s[e+44>>2]}function M(e){var t=0,n=0,r=0,o=0,i=0,l=0;r=s[343],n=e+3&-4,t=r+n|0;e:{t:{if(t>>>0<=r>>>0&&n||t>>>0>Re()<<16>>>0&&!(I(t|0)|0))break t;s[343]=t;break e}s[604]=48,r=-1}if((r|0)!=-1){n=e+r|0,t=n-16|0,s[t+12>>2]=16,s[t>>2]=16,e=s[600],e?l=s[e+8>>2]:l=0;e:{t:{if((l|0)==(r|0)){if(o=r-(s[r-4>>2]&-2)|0,i=s[o-4>>2],s[e+8>>2]=n,e=o-(i&-2)|0,n=-16,!(a[(e+s[e>>2]|0)-4|0]&1))break t;n=s[e+4>>2],s[n+8>>2]=s[e+8>>2],s[s[e+8>>2]+4>>2]=n,t=t-e|0,s[e>>2]=t;break e}s[r+12>>2]=16,s[r>>2]=16,s[r+8>>2]=n,s[r+4>>2]=e,s[600]=r,n=16}e=r+n|0,t=t-e|0,s[e>>2]=t}s[((t&-4)+e|0)-4>>2]=t|1,l=e,o=s[e>>2]-8|0;e:{if(o>>>0<=127){t=(o>>>3|0)-1|0;break e}if(i=h(o),t=((o>>>29-i^4)-(i<<2)|0)+110|0,o>>>0<=4095)break e;t=((o>>>30-i^2)-(i<<1)|0)+71|0,t=t>>>0<63?t:63}n=t<<4,s[l+4>>2]=n+1376,n=n+1384|0,s[e+8>>2]=s[n>>2],s[n>>2]=e,s[s[e+8>>2]+4>>2]=e,n=s[603],e=t&31,(t&63)>>>0>=32?(t=1<<e,e=0):(t=(1<<e)-1&1>>>32-e,e=1<<e),s[602]=e|s[602],s[603]=t|n}return(r|0)!=-1}function w(e,t,n,r){e=e|0,t=t|0,n=n|0,r=r|0;var o=0,i=0,d=0;o=T-16|0,T=o,l[o+10>>1]=e,l[o+8>>1]=t,s[o+4>>2]=n,s[o>>2]=r;e:{if(c[o+8>>1]>32767){s[o+12>>2]=4;break e}t=s[o+4>>2],n=s[o>>2],e=T-48|0,T=e,s[e+40>>2]=o+10,s[e+36>>2]=t,s[e+32>>2]=n,a[e+31|0]=2,a[e+30|0]=12,s[e+24>>2]=o+8,a[e+23|0]=2;t:{if(!(s[e+32>>2]&&s[e+36>>2])){s[e+44>>2]=5;break t}if(s[e+16>>2]=u[e+31|0]+(u[e+23|0]+4|0),i=e,d=$(s[e+16>>2]),s[i+12>>2]=d,!s[e+12>>2]){s[e+44>>2]=3;break t}s[e+8>>2]=s[e+12>>2],a[s[e+8>>2]]=u[e+30|0],s[e+8>>2]=s[e+8>>2]+1,ae(s[e+8>>2],s[e+40>>2],u[e+23|0]),s[e+8>>2]=u[e+23|0]+s[e+8>>2],s[e+4>>2]=u[e+31|0],t=s[e+8>>2],n=u[e+4|0]|u[e+5|0]<<8,a[t|0]=n,a[t+1|0]=n>>>8,a[t+2|0]=u[e+6|0],s[e+8>>2]=s[e+8>>2]+3,ae(s[e+8>>2],s[e+24>>2],u[e+31|0]),s[s[e+32>>2]>>2]=s[e+16>>2],s[s[e+36>>2]>>2]=s[e+12>>2],s[e+44>>2]=0}T=e+48|0,s[o+12>>2]=s[e+44>>2]}return T=o+16|0,s[o+12>>2]}function A(e,t,n){e=e|0,t=t|0,n=n|0;var r=0,o=0,a=0,i=0,l=0;a=T+-64|0,T=a,o=1;e:{if(j(e,t,0)||(o=0,!t))break e;r=T+-64|0,T=r,o=s[t>>2],i=s[o-4>>2],l=s[o-8>>2],s[r+20>>2]=0,s[r+16>>2]=1084,s[r+12>>2]=t,s[r+8>>2]=1132,o=0,ie(r+24|0,39),t=t+l|0;t:{if(j(i,1132,0)){s[r+56>>2]=1,Se[s[s[i>>2]+20>>2]](i,r+8|0,t,t,1,0),o=s[r+32>>2]==1?t:0;break t}Se[s[s[i>>2]+24>>2]](i,r+8|0,t,1,0);n:switch(s[r+44>>2]){case 0:o=s[r+48>>2]==1&&s[r+36>>2]==1&&s[r+40>>2]==1?s[r+28>>2]:0;break t;case 1:break n;default:break t}if(s[r+48>>2]|s[r+36>>2]!=1|s[r+40>>2]!=1&&s[r+32>>2]!=1)break t;o=s[r+24>>2]}if(T=r- -64|0,t=o,o=0,!t)break e;ie(a+8|4,52),s[a+56>>2]=1,s[a+20>>2]=-1,s[a+16>>2]=e,s[a+8>>2]=t,Se[s[s[t>>2]+28>>2]](t,a+8|0,s[n>>2],1),e=s[a+32>>2],(e|0)==1&&(s[n>>2]=s[a+24>>2]),o=(e|0)==1}return e=o,T=a- -64|0,e|0}function F(e,t,n){var r=0,o=0,a=0,i=0;if(r=e+4|0,o=(r+t|0)-1&0-t,t=s[e>>2],o+n>>>0<=(t+e|0)-4>>>0){a=s[e+4>>2],s[a+8>>2]=s[e+8>>2],s[s[e+8>>2]+4>>2]=a,(r|0)!=(o|0)&&(o=o-r|0,a=e-(s[e-4>>2]&-2)|0,r=o+s[a>>2]|0,s[a>>2]=r,s[(a+(r&-4)|0)-4>>2]=r,e=e+o|0,t=t-o|0,s[e>>2]=t);e:{if(n+24>>>0<=t>>>0){r=(e+n|0)+8|0,t=(t-n|0)-8|0,s[r>>2]=t,s[(r+(t&-4)|0)-4>>2]=t|1,i=r,a=s[r>>2]-8|0;t:{if(a>>>0<=127){o=(a>>>3|0)-1|0;break t}if(t=h(a),o=((a>>>29-t^4)-(t<<2)|0)+110|0,a>>>0<=4095)break t;t=((a>>>30-t^2)-(t<<1)|0)+71|0,o=t>>>0<63?t:63}t=o,o=t<<4,s[i+4>>2]=o+1376,o=o+1384|0,s[r+8>>2]=s[o>>2],s[o>>2]=r,s[s[r+8>>2]+4>>2]=r,o=s[603],r=t&31,(t&63)>>>0>=32?(t=1<<r,i=0):(t=(1<<r)-1&1>>>32-r,i=1<<r),s[602]=i|s[602],s[603]=t|o,t=n+8|0,s[e>>2]=t,s[((t&-4)+e|0)-4>>2]=t;break e}s[(e+t|0)-4>>2]=t}e=e+4|0}else e=0;return e}function O(e){var t=0,n=0,r=0,o=0,a=0;if(e){n=e-4|0,o=s[n>>2],r=o,t=n,a=s[e-8>>2],e=a&-2,(e|0)!=(a|0)&&(t=n-e|0,r=s[t+4>>2],s[r+8>>2]=s[t+8>>2],s[s[t+8>>2]+4>>2]=r,r=e+o|0),e=n+o|0,n=s[e>>2],(n|0)!=s[(e+n|0)-4>>2]&&(o=s[e+4>>2],s[o+8>>2]=s[e+8>>2],s[s[e+8>>2]+4>>2]=o,r=r+n|0),s[t>>2]=r,s[((r&-4)+t|0)-4>>2]=r|1,a=t,r=s[t>>2]-8|0;e:{if(r>>>0<=127){e=(r>>>3|0)-1|0;break e}if(o=h(r),e=((r>>>29-o^4)-(o<<2)|0)+110|0,r>>>0<=4095)break e;e=((r>>>30-o^2)-(o<<1)|0)+71|0,e=e>>>0<63?e:63}n=e<<4,s[a+4>>2]=n+1376,n=n+1384|0,s[t+8>>2]=s[n>>2],s[n>>2]=t,s[s[t+8>>2]+4>>2]=t,n=s[603],t=e&31,(e&63)>>>0>=32?(e=1<<t,t=0):(e=(1<<t)-1&1>>>32-t,t=1<<t),s[602]=t|s[602],s[603]=e|n}}function B(e,t,n){e=e|0,t=t|0,n=n|0;var r=0,o=0,i=0;r=T-48|0,T=r,s[r+40>>2]=e,s[r+36>>2]=t,s[r+32>>2]=n;e:{if(!(s[r+32>>2]&&s[r+36>>2])){s[r+44>>2]=5;break e}if(d[r+40>>2]>4){s[r+44>>2]=8;break e}if(s[r+28>>2]=5,o=r,i=$(s[r+28>>2]),s[o+24>>2]=i,!s[r+24>>2]){s[r+44>>2]=3;break e}s[r+20>>2]=s[r+24>>2],a[r+19|0]=3,a[s[r+20>>2]]=u[r+19|0],s[r+20>>2]=s[r+20>>2]+1,s[r+12>>2]=1,e=s[r+20>>2],t=u[r+12|0]|u[r+13|0]<<8,a[e|0]=t,a[e+1|0]=t>>>8,a[e+2|0]=u[r+14|0],s[r+20>>2]=s[r+20>>2]+3,a[r+11|0]=s[r+40>>2],a[s[r+20>>2]]=u[r+11|0],s[s[r+36>>2]>>2]=s[r+24>>2],s[s[r+32>>2]>>2]=s[r+28>>2],s[r+44>>2]=0}return T=r+48|0,s[r+44>>2]}function W(e,t,n,r,o){if(e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,j(e,s[t+8>>2],o)){se(t,n,r);return}e:{if(j(e,s[t>>2],o)){if(!(s[t+20>>2]!=(n|0)&&s[t+16>>2]!=(n|0))){if((r|0)!=1)break e;s[t+32>>2]=1;return}s[t+32>>2]=r;t:{if(s[t+44>>2]==4)break t;if(l[t+52>>1]=0,e=s[e+8>>2],Se[s[s[e>>2]+20>>2]](e,t,n,n,1,o),u[t+53|0]){if(s[t+44>>2]=3,!u[t+52|0])break t;break e}s[t+44>>2]=4}if(s[t+20>>2]=n,s[t+40>>2]=s[t+40>>2]+1,s[t+36>>2]!=1|s[t+24>>2]!=2)break e;a[t+54|0]=1;return}e=s[e+8>>2],Se[s[s[e>>2]+24>>2]](e,t,n,r,o)}}function q(e,t,n,r,o){var a=0;a=T-32|0,T=a,s[a+24>>2]=e,s[a+20>>2]=t,s[a+16>>2]=n,s[a+12>>2]=r,s[a+8>>2]=o;e:{if(d[a+16>>2]<1){s[a+28>>2]=9;break e}if(s[s[a+8>>2]>>2]=s[a+16>>2]-1,d[s[a+20>>2]>>2]<d[s[a+8>>2]>>2]){s[a+28>>2]=1;break e}if(e=$(s[s[a+8>>2]>>2]),s[s[a+12>>2]>>2]=e,!s[s[a+12>>2]>>2]){s[a+28>>2]=3;break e}ae(s[s[a+12>>2]>>2],s[s[a+24>>2]>>2],s[s[a+8>>2]>>2]),e=s[a+24>>2],s[e>>2]=s[s[a+8>>2]>>2]+s[e>>2],e=s[a+20>>2],s[e>>2]=s[e>>2]-s[s[a+8>>2]>>2],s[a+28>>2]=0}return T=a+32|0,s[a+28>>2]}function U(e,t,n){e=e|0,t=t|0,n=n|0;var r=0,o=0,i=0;r=T-32|0,T=r,l[r+26>>1]=e,s[r+20>>2]=t,s[r+16>>2]=n,s[s[r+16>>2]>>2]=3,o=r,i=$(s[s[r+16>>2]>>2]),s[o+12>>2]=i;e:{if(!s[r+12>>2]){s[r+28>>2]=3;break e}s[s[r+20>>2]>>2]=s[r+12>>2],a[r+11|0]=14,a[s[r+12>>2]]=u[r+11|0],s[r+12>>2]=s[r+12>>2]+1,e=s[r+12>>2],t=u[r+26|0]|u[r+27|0]<<8,a[e|0]=t,a[e+1|0]=t>>>8,s[r+28>>2]=0}return T=r+32|0,s[r+28>>2]}function V(e,t){var n=0;for(n=T-16|0,T=n,s[n+12>>2]=e,s[n+8>>2]=t,s[n+4>>2]=0;;){if(d[n+4>>2]<d[n+8>>2]){s[n>>2]=s[n+12>>2]+_(s[n+4>>2],20);e:{if(!(s[s[n>>2]>>2]&15)){O(s[s[n>>2]+8>>2]);break e}t:{if((s[s[n>>2]>>2]&15)==5){O(s[s[n>>2]+8>>2]);break t}(s[s[n>>2]>>2]&15)==6&&O(s[s[n>>2]+12>>2])}}s[n+4>>2]=s[n+4>>2]+1;continue}break}O(s[n+12>>2]),T=n+16|0}function H(e,t,n,r){a[e+53|0]=1;e:{if(s[e+4>>2]!=(n|0))break e;if(a[e+52|0]=1,n=s[e+16>>2],!n){if(s[e+36>>2]=1,s[e+24>>2]=r,s[e+16>>2]=t,(r|0)!=1|s[e+48>>2]!=1)break e;a[e+54|0]=1;return}if((t|0)==(n|0)){if(n=s[e+24>>2],(n|0)==2&&(s[e+24>>2]=r,n=r),s[e+48>>2]!=1|(n|0)!=1)break e;a[e+54|0]=1;return}a[e+54|0]=1,s[e+36>>2]=s[e+36>>2]+1}}function G(e,t,n,r){var o=0;o=T-32|0,s[o+24>>2]=e,s[o+20>>2]=t,s[o+16>>2]=n,s[o+12>>2]=r,a[o+11|0]=0;e:{if(d[s[o+20>>2]>>2]<1){s[o+28>>2]=1;break e}a[o+11|0]=u[s[s[o+24>>2]>>2]],e=s[o+24>>2],s[e>>2]=s[e>>2]+1,e=s[o+20>>2],s[e>>2]=s[e>>2]-1,a[s[o+16>>2]]=(u[o+11|0]&128)==128,a[s[o+12>>2]]=u[o+11|0]&127,s[o+28>>2]=0}return s[o+28>>2]}function z(e,t,n,r,o){if(e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,j(e,s[t+8>>2],o)){se(t,n,r);return}e:{if(!j(e,s[t>>2],o))break e;if(!(s[t+20>>2]!=(n|0)&&s[t+16>>2]!=(n|0))){if((r|0)!=1)break e;s[t+32>>2]=1;return}s[t+20>>2]=n,s[t+32>>2]=r,s[t+40>>2]=s[t+40>>2]+1,s[t+36>>2]!=1|s[t+24>>2]!=2||(a[t+54|0]=1),s[t+44>>2]=4}}function j(e,t,n){var r=0;if(!n)return s[e+4>>2]==s[t+4>>2];if((e|0)==(t|0))return 1;n=s[e+4>>2],e=u[n|0],t=s[t+4>>2],r=u[t|0];e:{if(!e|(r|0)!=(e|0))break e;for(;;){if(r=u[t+1|0],e=u[n+1|0],!e)break e;if(t=t+1|0,n=n+1|0,(e|0)!=(r|0))break}}return(e|0)==(r|0)}function K(e,t){e=e|0,t=t|0;var n=0,r=0,o=0;n=T-32|0,T=n,s[n+24>>2]=e,s[n+20>>2]=t,r=n,o=$(1),s[r+16>>2]=o;e:{if(!s[n+16>>2]){s[n+28>>2]=3;break e}a[n+15|0]=9,a[s[n+16>>2]]=u[n+15|0],s[s[n+24>>2]>>2]=s[n+16>>2],s[s[n+20>>2]>>2]=1,s[n+28>>2]=0}return T=n+32|0,s[n+28>>2]}function Q(e,t){e=e|0,t=t|0;var n=0,r=0,o=0;n=T-32|0,T=n,s[n+24>>2]=e,s[n+20>>2]=t,r=n,o=$(1),s[r+16>>2]=o;e:{if(!s[n+16>>2]){s[n+28>>2]=3;break e}a[n+15|0]=10,a[s[n+16>>2]]=u[n+15|0],s[s[n+24>>2]>>2]=s[n+16>>2],s[s[n+20>>2]>>2]=1,s[n+28>>2]=0}return T=n+32|0,s[n+28>>2]}function X(e,t){e=e|0,t=t|0;var n=0,r=0,o=0;n=T-32|0,T=n,s[n+24>>2]=e,s[n+20>>2]=t,r=n,o=$(1),s[r+16>>2]=o;e:{if(!s[n+16>>2]){s[n+28>>2]=3;break e}a[n+15|0]=2,a[s[n+16>>2]]=u[n+15|0],s[s[n+24>>2]>>2]=s[n+16>>2],s[s[n+20>>2]>>2]=1,s[n+28>>2]=0}return T=n+32|0,s[n+28>>2]}function Y(e,t){e=e|0,t=t|0;var n=0,r=0,o=0;n=T-32|0,T=n,s[n+24>>2]=e,s[n+20>>2]=t,r=n,o=$(1),s[r+16>>2]=o;e:{if(!s[n+16>>2]){s[n+28>>2]=3;break e}a[n+15|0]=4,a[s[n+16>>2]]=u[n+15|0],s[s[n+24>>2]>>2]=s[n+16>>2],s[s[n+20>>2]>>2]=1,s[n+28>>2]=0}return T=n+32|0,s[n+28>>2]}function J(e){var t=0;t=T-16|0,T=t,s[t+12>>2]=e,e=1;e:{if(ee(s[t+12>>2])&1||(e=1,s[t+12>>2]==15)||(e=1,s[t+12>>2]==13)||(e=1,s[t+12>>2]==12))break e;e=s[t+12>>2]==14}return T=t+16|0,e}function Z(e,t,n){var r=0;if(r=s[e+16>>2],!r){s[e+36>>2]=1,s[e+24>>2]=n,s[e+16>>2]=t;return}e:{if((t|0)==(r|0)){if(s[e+24>>2]!=2)break e;s[e+24>>2]=n;return}a[e+54|0]=1,s[e+24>>2]=2,s[e+36>>2]=s[e+36>>2]+1}}function ee(e){var t=0;t=T-16|0,s[t+12>>2]=e,e=1;e:{if(s[t+12>>2]==5||(e=1,s[t+12>>2]==6)||(e=1,s[t+12>>2]==7))break e;e=s[t+12>>2]==8}return e}function te(e,t,n,r,o,a){if(e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,a=a|0,j(e,s[t+8>>2],a)){H(t,n,r,o);return}e=s[e+8>>2],Se[s[s[e>>2]+20>>2]](e,t,n,r,o,a)}function ne(){for(var e=0,t=0,n=0;t=e<<4,n=t+1376|0,s[t+1380>>2]=n,s[t+1384>>2]=n,e=e+1|0,(e|0)!=64;);M(48)}function re(e,t,n,r){if(e=e|0,t=t|0,n=n|0,r=r|0,j(e,s[t+8>>2],0)){Z(t,n,r);return}e=s[e+8>>2],Se[s[s[e>>2]+28>>2]](e,t,n,r)}function oe(e,t,n,r,o,a){e=e|0,t=t|0,n=n|0,r=r|0,o=o|0,a=a|0,j(e,s[t+8>>2],a)&&H(t,n,r,o)}function ae(e,t,n){if(n)for(;a[e|0]=u[t|0],e=e+1|0,t=t+1|0,n=n-1|0,!!n;);}function ie(e,t){if(t)for(;a[e|0]=0,e=e+1|0,t=t-1|0,!!t;);}function le(e,t,n,r){e=e|0,t=t|0,n=n|0,r=r|0,j(e,s[t+8>>2],0)&&Z(t,n,r)}function se(e,t,n){s[e+28>>2]==1|s[e+4>>2]!=(t|0)||(s[e+28>>2]=n)}function ue(e,t){return e=e|0,t=t|0,_(t,20)+e|0}function ce(e){return e=e|0,c[e+8>>1]>>>1|0}function de(e){return e=e|0,l[e+8>>1]&1}function me(e){return e=e|0,s[e+12>>2]}function pe(e){return e=e|0,s[e>>2]&15}function _e(e){return e=e|0,s[e+16>>2]}function fe(e){return e=e|0,c[e+4>>1]}function ge(e){return e=e|0,s[e+8>>2]}function he(e){return e=e|0,u[e+4|0]}function ye(e){return e=e|0,e|0}function Ce(e){return $(e)}function be(e){e=e|0,O(e)}function ve(e){e=e|0}n=u,i(t);var Se=e([null,ye,be,ve,ve,A,oe,z,le,be,te,W,re]);function Re(){return o.byteLength/65536|0}function Le(e){e=e|0;var t=Re()|0,i=t+e|0;if(t<i&&i<65536){var f=new ArrayBuffer(_(i,65536)),g=new Int8Array(f);g.set(a),a=new Int8Array(f),l=new Int16Array(f),s=new Int32Array(f),u=new Uint8Array(f),c=new Uint16Array(f),d=new Uint32Array(f),m=new Float32Array(f),p=new Float64Array(f),o=f,r.buffer=o,n=u}return t}return{c:ne,d:Ce,e:be,f:X,g:Y,h:B,i:N,j:U,k:P,l:w,m:K,n:Q,o:x,p:pe,q:he,r:ue,s:fe,t:ge,u:me,v:me,w:_e,x:ce,y:de,z:ce,A:Se}}return l(t)})(he)},instantiate:function(t,n){return{then:function(n){var e=new S.Module(t);n({instance:new S.Instance(e)})}}},RuntimeError:Error};b=[],typeof S!="object"&&ne("no native wasm support detected");var R,L=!1,E;function k(e,t){e||ne("Assertion failed: "+t)}function I(e,t){return e%t>0&&(e+=t-e%t),e}var T,D,x,$,P,N,M,w,A;function F(e){T=e,t.HEAP8=D=new Int8Array(e),t.HEAP16=$=new Int16Array(e),t.HEAP32=N=new Int32Array(e),t.HEAPU8=x=new Uint8Array(e),t.HEAPU16=P=new Uint16Array(e),t.HEAPU32=M=new Uint32Array(e),t.HEAPF32=w=new Float32Array(e),t.HEAPF64=A=new Float64Array(e)}var O=t.INITIAL_MEMORY||2097152;t.wasmMemory?R=t.wasmMemory:R=new S.Memory({initial:O/65536,maximum:32768}),R&&(T=R.buffer),O=T.byteLength,F(T);var B,W=[],q=[],U=[],V=!1;function H(){if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)j(t.preRun.shift());ue(W)}function G(){V=!0,ue(q)}function z(){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;)Q(t.postRun.shift());ue(U)}function j(e){W.unshift(e)}function K(e){q.unshift(e)}function Q(e){U.unshift(e)}if((!Math.imul||Math.imul(4294967295,5)!==-5)&&(Math.imul=function(t,n){var e=t>>>16,r=t&65535,o=n>>>16,a=n&65535;return r*a+(e*a+r*o<<16)|0}),!Math.fround){var X=new Float32Array(1);Math.fround=function(e){return X[0]=e,X[0]}}Math.clz32||(Math.clz32=function(e){var t=32,n=e>>16;return n&&(t-=16,e=n),n=e>>8,n&&(t-=8,e=n),n=e>>4,n&&(t-=4,e=n),n=e>>2,n&&(t-=2,e=n),n=e>>1,n?t-2:t-e}),Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)});var Y=0,J=null,Z=null;function ee(e){Y++,t.monitorRunDependencies&&t.monitorRunDependencies(Y)}function te(e){if(Y--,t.monitorRunDependencies&&t.monitorRunDependencies(Y),Y==0&&(J!==null&&(clearInterval(J),J=null),Z)){var n=Z;Z=null,n()}}t.preloadedImages={},t.preloadedAudios={};function ne(e){t.onAbort&&t.onAbort(e),e+="",C(e),L=!0,E=1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var n=new S.RuntimeError(e);throw o(n),n}var re="data:application/octet-stream;base64,";function oe(e){return e.startsWith(re)}var ae="dgwcppbridge.wasm";oe(ae)||(ae=p(ae));function ie(e){try{if(e==ae&&b)return new Uint8Array(b);var t=ge(e);if(t)return t;if(g)return g(e);throw"both async and sync fetching of the wasm failed"}catch(e){ne(e)}}function le(){return!b&&(c||d)&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ae+"'";return e.arrayBuffer()}).catch(function(){return ie(ae)}):n.resolve().then(function(){return ie(ae)})}function se(){var e={a:he};function n(e,n){var r=e.exports;t.asm=r,B=t.asm.A,K(t.asm.c),te("wasm-instantiate")}ee("wasm-instantiate");function r(e){n(e.instance)}function a(t){return le().then(function(t){var n=S.instantiate(t,e);return n}).then(t,function(e){C("failed to asynchronously prepare wasm: "+e),ne(e)})}function i(){return!b&&typeof S.instantiateStreaming=="function"&&!oe(ae)&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(t){var n=S.instantiateStreaming(t,e);return n.then(r,function(e){return C("wasm streaming compile failed: "+e),C("falling back to ArrayBuffer instantiation"),a(r)})}):a(r)}if(t.instantiateWasm)try{var l=t.instantiateWasm(e,n);return l}catch(e){return C("Module.instantiateWasm callback failed with error: "+e),!1}return i().catch(o),{}}function ue(e){for(;e.length>0;){var n=e.shift();if(typeof n=="function"){n(t);continue}var r=n.func;typeof r=="number"?n.arg===void 0?B.get(r)():B.get(r)(n.arg):r(n.arg===void 0?null:n.arg)}}function ce(e){try{return R.grow(e-T.byteLength+65535>>>16),F(R.buffer),1}catch(e){}}function de(e){var t=x.length;e=e>>>0;var n=2147483648;if(e>n)return!1;for(var r=1;r<=4;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var a=Math.min(n,I(Math.max(e,o),65536)),i=ce(a);if(i)return!0}return!1}var me=!1;function pe(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r>255&&(r&=255),t.push(String.fromCharCode(r))}return t.join("")}var _e=typeof atob=="function"?atob:function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",r,o,a,i,l,s,u,c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do i=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),s=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=i<<2|l>>4,o=(l&15)<<4|s>>2,a=(s&3)<<6|u,n=n+String.fromCharCode(r),s!==64&&(n=n+String.fromCharCode(o)),u!==64&&(n=n+String.fromCharCode(a));while(c<e.length);return n};function fe(e){try{for(var t=_e(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}catch(e){throw new Error("Converting base64 string to bytes failed.")}}function ge(e){if(oe(e))return fe(e.slice(re.length))}var he={b:de,a:R},ye=se(),Ce=t.___wasm_call_ctors=function(){return(Ce=t.___wasm_call_ctors=t.asm.c).apply(null,arguments)},be=t.__malloc=function(){return(be=t.__malloc=t.asm.d).apply(null,arguments)},ve=t.__free=function(){return(ve=t.__free=t.asm.e).apply(null,arguments)},Se=t.__DgwCodecEncodeEmpty=function(){return(Se=t.__DgwCodecEncodeEmpty=t.asm.f).apply(null,arguments)},Re=t.__DgwCodecEncodeDeauth=function(){return(Re=t.__DgwCodecEncodeDeauth=t.asm.g).apply(null,arguments)},Le=t.__DgwCodecEncodeDrain=function(){return(Le=t.__DgwCodecEncodeDrain=t.asm.h).apply(null,arguments)},Ee=t.__DgwCodecEncodeStreamGroup_EstabStream=function(){return(Ee=t.__DgwCodecEncodeStreamGroup_EstabStream=t.asm.i).apply(null,arguments)},ke=t.__DgwCodecEncodeStreamGroup_EndOfData=function(){return(ke=t.__DgwCodecEncodeStreamGroup_EndOfData=t.asm.j).apply(null,arguments)},Ie=t.__DgwCodecEncodeStreamGroup_Data=function(){return(Ie=t.__DgwCodecEncodeStreamGroup_Data=t.asm.k).apply(null,arguments)},Te=t.__DgwCodecEncodeStreamGroup_Ack=function(){return(Te=t.__DgwCodecEncodeStreamGroup_Ack=t.asm.l).apply(null,arguments)},De=t.__DgwCodecEncodePing=function(){return(De=t.__DgwCodecEncodePing=t.asm.m).apply(null,arguments)},xe=t.__DgwCodecEncodePong=function(){return(xe=t.__DgwCodecEncodePong=t.asm.n).apply(null,arguments)},$e=t.__DgwCodecDecode=function(){return($e=t.__DgwCodecDecode=t.asm.o).apply(null,arguments)},Pe=t.__getFrameType=function(){return(Pe=t.__getFrameType=t.asm.p).apply(null,arguments)},Ne=t.__getDrainReasonFromDrainFrame=function(){return(Ne=t.__getDrainReasonFromDrainFrame=t.asm.q).apply(null,arguments)},Me=t.__getDGWFramePtr=function(){return(Me=t.__getDGWFramePtr=t.asm.r).apply(null,arguments)},we=t.__getStreamIdFromStreamGroupFrame=function(){return(we=t.__getStreamIdFromStreamGroupFrame=t.asm.s).apply(null,arguments)},Ae=t.__getEncodedParamsFromEstablishStreamFrame=function(){return(Ae=t.__getEncodedParamsFromEstablishStreamFrame=t.asm.t).apply(null,arguments)},Fe=t.__getEncodedParamsSizeFromEstablishStreamFrame=function(){return(Fe=t.__getEncodedParamsSizeFromEstablishStreamFrame=t.asm.u).apply(null,arguments)},Oe=t.__getDataFromGroupedStreamDataFrame=function(){return(Oe=t.__getDataFromGroupedStreamDataFrame=t.asm.v).apply(null,arguments)},Be=t.__getDataSizeFromGroupedStreamDataFrame=function(){return(Be=t.__getDataSizeFromGroupedStreamDataFrame=t.asm.w).apply(null,arguments)},We=t.__getAckIdFromGroupedStreamDataFrame=function(){return(We=t.__getAckIdFromGroupedStreamDataFrame=t.asm.x).apply(null,arguments)},qe=t.__getRequiresAckFromGroupedStreamDataFrame=function(){return(qe=t.__getRequiresAckFromGroupedStreamDataFrame=t.asm.y).apply(null,arguments)},Ue=t.__getAckIdFromGroupedStreamAckFrame=function(){return(Ue=t.__getAckIdFromGroupedStreamAckFrame=t.asm.z).apply(null,arguments)},Ve;Z=function e(){Ve||He(),Ve||(Z=e)};function He(e){if(e=e||l,Y>0||(H(),Y>0))return;function n(){Ve||(Ve=!0,t.calledRun=!0,!L&&(G(),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),z()))}t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),n()},1)):n()}if(t.run=He,t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return He(),t.ready})})();typeof i=="object"&&typeof a=="object"?a.exports=e:typeof define=="function"&&define.amd?define([],function(){return e}):typeof i=="object"&&(i.Module=e)}),null);
__d("DGWUtils",["Base64","DGWConstants","DGWCppBridge","IDGWLoggingContext","Promise","Random","URI","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=4;function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=o("Random").random()*16|0,n=e==="x"?t:t&3|8;return n.toString(16)})}function d(e){var t=new TextDecoder,n=t.decode(e),o=r("Base64").encode(n),a=o.replace(/\+/gi,"-").replace(/\//gi,"_").replace(/=/gi,"");return a}var m=null,p=null;function _(){return p==null&&(p=(s||(s=n("Promise"))).resolve().then(function(){return r("DGWCppBridge")()}).then(function(e){m=e})),p}var f=(function(){function t(){}return t.initialize=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return _()});function t(){return e.apply(this,arguments)}return t})(),t.constructConnectUrl=function(n){var t,a,i=n.appId,l=n.appVersion,s=n.authToken,u=n.authType,c=n.deviceId,m=n.dgwVersion,p=n.endpoint,_=n.establishStreamFrame,f=n.fbId,g=n.headers,h=n.loggingId,y=n.regionHint,C=n.serviceId,b=n.tier,v=n.trafficTracing,S=(t={},t[(a=o("DGWConstants")).HEADER_CONSTANTS.HEADER_APPID]=i,t[a.HEADER_CONSTANTS.HEADER_APPVERSION]=l,t[a.HEADER_CONSTANTS.HEADER_AUTHTYPE]=u,t[a.HEADER_CONSTANTS.HEADER_DGW_VERSION]=""+m,t[a.HEADER_CONSTANTS.HEADER_UUID]=f,t[a.HEADER_CONSTANTS.HEADER_TARGET_TIER]=b,t);_!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64]=d(_)),h!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_LOGGING_ID]=h),y!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_REGIONHINT]=y),c!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_DEVICE_ID]=c),v!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.TRAFFIC_TRACING]="debug:"+v),s!==void 0&&(S[o("DGWConstants").HEADER_CONSTANTS.HEADER_AUTHTOKEN]=s),Object.keys(g).forEach(function(e){var t=o("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+e;Object.prototype.hasOwnProperty.call(S,t)||(S[t]=g[e])});var R=new(e||(e=r("URI")))(p);return R.setQueryData(S),R.setPath(R.getPath()+"/"+C),R.toString().length>2e3&&(delete S[o("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64],R.setQueryData(S)),R.toStringRawQuery()},t})(),g=(function(){function e(e,t,n){this.$1=null,this.$2=e,this.$3=t,this.$4=n}e.initialize=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return _()});function t(){return e.apply(this,arguments)}return t})();var t=e.prototype;return t.malloc=function(t){try{var e=m.__malloc(t);if(e===0){var n;return(n=this.$2)==null||n.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","malloc returned 0"),-1}return e}catch(e){var a;return(a=this.$2)==null||a.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"wasm malloc failure","exception during malloc",r("getErrorSafe")(e).message),-1}},t.free=function(t){m.__free(t)},t.append=function(t){if(this.$1==null){this.$1=t;return}var e=this.$1.length,n=new Uint8Array(e+t.length);n.set(this.$1,0),n.set(t,e),this.$1=n},t.processData=function(){var e=this;if(this.$1!=null){var t=this.$1.length,n=this.malloc(t);if(n!==-1){var r=m.HEAPU8.subarray(n,n+t);if(this.$1)for(var a=0;a<r.length;++a)r[a]=this.$1[a];var i=this.malloc(u*4);if(i!==-1){var l=i,s=l+u,c=s+u,d=c+u,p=m.__DgwCodecDecode(n,t,l,s,c,d);if(this.free(n),p!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var _;this.free(i),(_=this.$2)==null||_.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Codec Decode Failure","Failed to decode Frame(s). Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(p));return}var f=m.HEAPU32.subarray(d/u,d/u+1)[0];if(this.$1==null){this.free(i);return}var g=this.$1.length-f;if(this.$1&&this.$1.length>g){var h;this.$1=new Uint8Array(((h=this.$1)==null?void 0:h.subarray(g))||[])}else this.$1=null;for(var y=m.HEAPU32.subarray(s/u,s/u+1)[0],C=m.HEAPU32.subarray(l/u,l/u+1)[0],b=[],v=function(){var t=m.__getDGWFramePtr(C,S),n=m.__getFrameType(t);switch(n){case o("DGWConstants").DgwFrameType.DgwFrameType_Drain:{var r,a=m.__getDrainReasonFromDrainFrame(t),i=o("DGWConstants").drainReasonToDrainReasonString(a);(r=e.$2)==null||r.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received Drain Frame from server","DrainReason: "+i),b.push(function(){var t;return(t=e.$3)==null?void 0:t.receivedDrainSignal(i)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EstabStream:{var l=m.__getStreamIdFromStreamGroupFrame(t),s=m.__getEncodedParamsFromEstablishStreamFrame(t),u=new Uint8Array(m.HEAPU8.subarray(s,s+m.__getEncodedParamsSizeFromEstablishStreamFrame(t)));e.free(s),b.push(function(){var t;return(t=e.$3)==null?void 0:t.onGroupedStreamEstablishStreamReceived(l,u)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Data:{var c=m.__getStreamIdFromStreamGroupFrame(t),d=m.__getDataFromGroupedStreamDataFrame(t),p=new Uint8Array(m.HEAPU8.subarray(d,d+m.__getDataSizeFromGroupedStreamDataFrame(t)));e.free(d);var _=m.__getRequiresAckFromGroupedStreamDataFrame(t)?m.__getAckIdFromGroupedStreamDataFrame(t):null;b.push(function(){var t;return(t=e.$3)==null?void 0:t.onGroupedStreamDataReceived(c,p,_)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_Ack:{var f=m.__getStreamIdFromStreamGroupFrame(t),g=m.__getAckIdFromGroupedStreamAckFrame(t);b.push(function(){var t;return(t=e.$3)==null?void 0:t.onGroupedStreamAckReceived(f,g)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_StreamGroup_EndOfData:{var h=m.__getStreamIdFromStreamGroupFrame(t);b.push(function(){var t;return(t=e.$3)==null?void 0:t.onGroupedStreamEndOfDataReceived(h)});break}case o("DGWConstants").DgwFrameType.DgwFrameType_Ping:{b.push(function(){var t;return(t=e.$3)==null?void 0:t.onPingReceived()});break}case o("DGWConstants").DgwFrameType.DgwFrameType_Pong:{b.push(function(){var t;return(t=e.$3)==null?void 0:t.onPongReceived()});break}default:break}e.free(t)},S=0;S<y;++S)v();this.free(i);for(var R=0;R<b.length;R++)b[R]()}}}},t.encodeData=function(t,n,r,a){var e=this.malloc(t.length);if(e===-1)return null;for(var i=m.HEAPU8.subarray(e,e+t.length),l=0;l<i.length;++l)i[l]=t[l];var s=this.malloc(u*2),c=s,d=s+u,p=m.__DgwCodecEncodeStreamGroup_Data(a,e,i.length,n,r,c,d);if(this.free(e),p!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var _;return(_=this.$2)==null||_.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Data Frame encode failure","Failed to decode DGW Data Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(p)),null}var f=m.HEAPU32.subarray(c/u,c/u+1)[0],g=m.HEAPU32.subarray(d/u,d/u+1)[0],h=new Uint8Array(m.HEAPU8.subarray(f,f+g));return this.free(f),this.free(s),h},t.encodeAck=function(t,n){var e=this.malloc(u*2);if(e===-1)return null;var r=e,a=e+u,i=m.__DgwCodecEncodeStreamGroup_Ack(n,t,r,a);if(i!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var l;return(l=this.$2)==null||l.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"ACK Frame encode failure","Failed to encode ACK Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(i)),null}var s=m.HEAPU32.subarray(r/u,r/u+1)[0],c=m.HEAPU32.subarray(a/u,a/u+1)[0],d=new Uint8Array(m.HEAPU8.subarray(s,s+c));return this.free(s),this.free(e),d},t.encodeDrain=function(t){var e=this.malloc(u*2);if(e===-1)return null;var n=e,r=e+u,a=m.__DgwCodecEncodeDrain(t,n,r);if(a!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var i;return(i=this.$2)==null||i.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Drain Frame encode failure","Failed to encode Drain Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(a)),null}var l=m.HEAPU32.subarray(n/u,n/u+1)[0],s=m.HEAPU32.subarray(r/u,r/u+1)[0],c=new Uint8Array(m.HEAPU8.subarray(l,l+s));return this.free(l),this.free(e),c},t.encodeEstablishStream=function(t,n){var e=this.malloc(n.length);if(e===-1)return null;for(var r=m.HEAPU8.subarray(e,e+n.length),a=0;a<n.length;++a)r[a]=n[a];var i=this.malloc(u*2),l=i,s=i+u,c=m.__DgwCodecEncodeStreamGroup_EstabStream(t,e,n.length,l,s);if(this.free(e),c!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var d;return(d=this.$2)==null||d.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EstablishStream Frame encode failure","Failed to encode EstablishStream Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(c)+" for StreamId "+t),null}var p=m.HEAPU32.subarray(l/u,l/u+1)[0],_=m.HEAPU32.subarray(s/u,s/u+1)[0],f=new Uint8Array(m.HEAPU8.subarray(p,p+_));return this.free(p),this.free(i),f},t.encodeEndOfData=function(t){var e=this.malloc(u*2);if(e===-1)return null;var n=e,r=e+u,a=m.__DgwCodecEncodeStreamGroup_EndOfData(t,n,r);if(a!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var i;return(i=this.$2)==null||i.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"EndOfData Frame encode failure","Failed to encode EndOfData Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(a)),null}var l=m.HEAPU32.subarray(n/u,n/u+1)[0],s=m.HEAPU32.subarray(r/u,r/u+1)[0],c=new Uint8Array(m.HEAPU8.subarray(l,l+s));return this.free(l),this.free(e),c},t.encodePing=function(){var e=this.malloc(u*2);if(e===-1)return null;var t=e,n=e+u,r=m.__DgwCodecEncodePing(t,n);if(r!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var a;return(a=this.$2)==null||a.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Ping Frame encode failure","Failed to encode Ping Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(r)),null}var i=m.HEAPU32.subarray(t/u,t/u+1)[0],l=m.HEAPU32.subarray(n/u,n/u+1)[0],s=new Uint8Array(m.HEAPU8.subarray(i,i+l));return this.free(i),this.free(e),s},t.encodePong=function(){if(this.$5!=null)return this.$5;var e=this.malloc(u*2);if(e===-1)return null;var t=e,n=e+u,r=m.__DgwCodecEncodePong(t,n);if(r!==o("DGWConstants").DgwCodecReturnCode.DgwCodecReturnCode_Success){var a;return(a=this.$2)==null||a.logError(o("IDGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Pong Frame encode failure","Failed to encode Pong Frame. Received error code "+o("DGWConstants").DgwCodecReturnCodeToString(r)),null}var i=m.HEAPU32.subarray(t/u,t/u+1)[0],l=m.HEAPU32.subarray(n/u,n/u+1)[0],s=new Uint8Array(m.HEAPU8.subarray(i,i+l));return this.free(i),this.free(e),this.$5=s,s},e})();l.uuidv4=c,l.Uint8ArrayToBase64UrlStr=d,l.DGWUtils=f,l.DGWCodec=g}),98);
__d("DGWExponentialBackoff",["Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){"use strict";var e,l={maxRetries:5,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)},s=(function(e){function t(t,n){var r;return r=e.call(this,t)||this,r.errors=n,r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){t===void 0&&(t=l);try{return yield d(e,t)}catch(e){throw e.errors[e.errors.length-1]}}),c.apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){for(var n=0,r=[],o=t.baseRetryInterval,a=t.backoffFactor;n<=t.maxRetries;){try{var i=yield e();return i}catch(e){r.push(e)}yield p(o*Math.pow(a,n)),++n}throw new s("Max call count exceeded",r)}),m.apply(this,arguments)}function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){yield new(e||(e=n("Promise")))(function(e){return window.setTimeout(e,t)})}),_.apply(this,arguments)}i.callWithExponentialBackoff=u}),66);
__d("DGWPinger",["IDGWLoggingContext"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,r){this.$1=e,this.$4=t,this.$5=n,this.$6=r,this.$3=!1}var t=e.prototype;return t.$7=function(){var e=this;this.$3?(this.$6.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.PINGER,"timeout_fired.reset"),this.$3=!1,this.$4(),this.$6.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.PINGER,"timeout.newtimeout"),this.$2=window.setTimeout(function(){e.$7()},this.$1)):(this.$6.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.PINGER,"timeout_fired.disconnect"),this.$5())},t.reset=function(){var e=this;this.$3=!0,this.$2&&(this.$6.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.PINGER,"reset"),window.clearTimeout(this.$2),this.$2=null),this.$1>0&&(this.$6.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.PINGER,"reset.newtimeout"),this.$2=window.setTimeout(function(){e.$7()},this.$1))},t.cancel=function(){this.$2&&(this.$6.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.PINGER,"canceled"),window.clearTimeout(this.$2),this.$2=null)},e})();l.DGWPinger=e}),98);
__d("DGWStreamGroupCallbacks",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({TRANSPORT_SERVER_INTERNAL_ERROR:0,TRANSPORT_ABNORMAL_CLOSURE:1,TRANSPORT_GOING_AWAY:2,TRANSPORT_UNKNOWN_ERROR:3,TRANSPORT_KEEPALIVE_TIMEOUT:4,TRANSPORT_UNAUTHORIZED:5,TRANSPORT_REJECTED:6,TRANSPORT_BAD_REQUEST:7,TRANSPORT_DGW_SERVER_ERROR:8,TRANSPORT_NORMAL_CLOSURE:9});function l(t){switch(t){case e.TRANSPORT_SERVER_INTERNAL_ERROR:return"TRANSPORT_SERVER_INTERNAL_ERROR";case e.TRANSPORT_ABNORMAL_CLOSURE:return"TRANSPORT_ABNORMAL_CLOSURE";case e.TRANSPORT_GOING_AWAY:return"TRANSPORT_GOING_AWAY";case e.TRANSPORT_UNKNOWN_ERROR:return"TRANSPORT_UNKNOWN_ERROR";case e.TRANSPORT_KEEPALIVE_TIMEOUT:return"TRANSPORT_KEEPALIVE_TIMEOUT";case e.TRANSPORT_UNAUTHORIZED:return"TRANSPORT_UNAUTHORIZED";case e.TRANSPORT_REJECTED:return"TRANSPORT_REJECTED";case e.TRANSPORT_BAD_REQUEST:return"TRANSPORT_BAD_REQUEST";case e.TRANSPORT_DGW_SERVER_ERROR:return"TRANSPORT_DGW_SERVER_ERROR";case e.TRANSPORT_NORMAL_CLOSURE:return"TRANSPORT_NORMAL_CLOSURE"}}function s(t){switch(t){case e.TRANSPORT_UNAUTHORIZED:return!1;default:return!0}}var u=(function(){function e(){}var t=e.prototype;return t.onStreamGroupError=function(){},t.onStreamGroupMustDrain=function(){},t.onStreamGroupTransportClose=function(){},e})();i.DGWStreamGroupError=e,i.dgwStreamGroupErrorToString=l,i.isRetryableError=s,i.NoOpDGWStreamGroupCallbacks=u}),66);
__d("DGWTransportEvents",["IDGWLoggingContext"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$3=e}var t=e.prototype;return t.transportEstablished=function(t){this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"open",t),this.$2=Date.now(),this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_success")},t.transportPingSent=function(t){this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Ping Frame Sent",t,!0)},t.transportPongReceived=function(t){this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Pong Frame Received",t,!0)},t.transportEstablishmentPending=function(){this.$1=Date.now(),this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transportPending",null,!0),this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_pending")},t.transportClosed=function(t,n,r){this.$4=Date.now(),t?(this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_graceful"),this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed gracefully",null,!0)):(this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"transport_close_with_error"),this.$3.logError(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Transport closed abnormally",n,r))},t.transportEstablishmentFailure=function(t){this.$3.logError(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"WebSocket transport establishment failure","WebSocket close code: "+t.code+" reason: "+t.reason+" wasClean: "+String(t.wasClean)),this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_group_establishment_failure")},t.streamEstablishmentTimeout=function(t,n,r){this.$3.logError(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment timeout",t,"streamId:"+n,!1,r,!0),this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_timeout")},t.streamEstablishmentPending=function(t,n){this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment pending","streamId:"+t,!0,n),this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_pending")},t.streamEstablishmentSuccess=function(t,n){this.$3.logEvent(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Grouped Stream establishment success","streamId:"+t,!0,n),this.$3.bumpODSKey(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"stream_establishment_success")},t.transportError=function(t,n,r){this.$3.logError(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,t,n,r)},t.receivedFrameForInactiveStream=function(t,n,r){this.$3.logWarn(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Frame received for inactive stream","frameType: "+t+", streamID: "+n,r)},t.ranOutOfStreamIds=function(t){this.$3.logWarn(o("IDGWLoggingContext").DGWLoggingComponent.WEBSOCKET_TRANSPORT_COMPONENT,"Hit max StreamId limit","Hit max StreamId limit",t)},e})();l.DGWTransportEvents=e}),98);
__d("DGWWebSocketTransport",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=new WebSocket(e);return t.binaryType="arraybuffer",t.onopen=function(){},t.onclose=function(){},t.onerror=function(){},t}i.getWebSocketConnection=e}),66);
__d("DGWStreamEvents",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t,n){this.$4=new Map,this.$5=new Map,this.$6=e,this.$1=t,n!=null&&(this.$8="streamId:"+n+"::")}var t=e.prototype;return t.dataSent=function(t,n,r){var e,o=n?"sendWithAckRequested":"sendWithoutAckRequested";this.$6.logEvent(this.$1,o,((e=this.$8)!=null?e:"")+"sendId:"+r+", payloadSize:"+t,!0),this.$4.set(r,{ackRequested:n,payloadSize:t,sendTimestamp:Date.now()})},t.ackReceived=function(t){var e;this.$6.logEvent(this.$1,"AckReceived",((e=this.$8)!=null?e:"")+"sendId:"+t,!0),this.$6.bumpODSKey(this.$1,"ack_received");var n=this.$4.get(t);n!=null&&(n.ackReceivedTimestamp=Date.now())},t.ackSent=function(t){var e;this.$6.bumpODSKey(this.$1,"ack_sent"),this.$6.logEvent(this.$1,"ACK sent",((e=this.$8)!=null?e:"")+"ackId:"+t,!0)},t.drainSent=function(t){var e;this.$6.logEvent(this.$1,"Drain sent",((e=this.$8)!=null?e:"")+"drainReason: "+t)},t.dataReceived=function(t,n,r){var e;this.$6.bumpODSKey(this.$1,"data_received"),this.$6.logEvent(this.$1,"Data received",((e=this.$8)!=null?e:"")+"sendId:"+(r!=null?r:"null")+", ackRequested:"+n.toString()+", payloadSize:"+t,!0),r!=null&&this.$5.set(r,{ackRequested:n,payloadSize:t,receiveTimestamp:Date.now()})},t.endOfDataReceived=function(){this.$6.bumpODSKey(this.$1,"end_of_data_received"),this.$6.logEvent(this.$1,"EndOfDataReceived",this.$8,!0)},t.endOfDataSent=function(){this.$6.bumpODSKey(this.$1,"end_of_data_sent"),this.$6.logEvent(this.$1,"EndOfDataSent",this.$8,!0)},t.streamClosed=function(t,n){this.$7=Date.now();var e=this.$9();if(t){var r;this.$6.bumpODSKey(this.$1,"stream_closed_gracefully"),this.$6.logEvent(this.$1,"Stream closed gracefully",""+((r=this.$8)!=null?r:"")+e)}else{var o;this.$6.bumpODSKey(this.$1,"stream_closed_with_error"),this.$6.logError(this.$1,"Stream closed abnormally",n,""+((o=this.$8)!=null?o:"")+e)}},t.connectionEstablishmentFailure=function(t){this.$6.logEvent(this.$1,"WebSocket connection establishment failure","WebSocket close code: "+t)},t.streamEstablishmentFailure=function(t,n){var e;this.$6.logError(this.$1,"Failed to establish DGW Stream","Last seen error: "+t.toString(),""+((e=this.$8)!=null?e:"")+n),this.$6.bumpODSKey(this.$1,"stream_establishment_failure")},t.error=function(t,n){var e={msg:n,state:this.$9()};this.$6.logError(this.$1,t,JSON.stringify(e),this.$8)},t.$9=function(){var e={currentNetworkCondition:window.navigator&&window.navigator.onLine===!0,establishRequestTimestamp:this.$2,establishedTimestamp:this.$3,streamClosedTimestamp:this.$7,sendHistory:JSON.stringify(Array.from(this.$4.entries())),receiveHistory:JSON.stringify(Array.from(this.$5.entries()))};return JSON.stringify(e)},e})();i.DGWStreamEvents=e}),66);
__d("GroupedStream",["DGWAckManager","DGWConstants","DGWStream","DGWStreamEvents","IDGWLoggingContext","Promise","Random","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t,n,r,a,i,l){this.$1=e,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=t,this.$7=n,this.$8=r,this.$2=i,this.$9=a,this.$10=new(o("DGWAckManager")).DGWAckManager(this.$9),this.$12=new(o("DGWStreamEvents")).DGWStreamEvents(this.$9,o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,this.$1),this.$11=0,this.$13=l,this.$14=Date.now()+(Math.round(o("Random").random()*1e4)+1e4),this.$9.qplMarkerStart(o("IDGWLoggingContext").QPLEvent.STREAM_LIFECYCLE,this.$14)}var r=t.prototype;return r.send=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=this.$11++%o("DGWConstants").MAX_ACK_ID,r=this.$15(e,!0,n);if(!this.$16(r,!0,n))return!1;var a=yield this.$10.waitForAck(n,t!=null?t:o("DGWConstants").DEFAULT_ACK_TIMEOUT_MS);return a});function t(t,n){return e.apply(this,arguments)}return t})(),r.sendFrame=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a){var i=this.$11++%o("DGWConstants").MAX_ACK_ID,l=this.$15(r,!0,i);if(l==null)return!1;var s=new Uint8Array(t.length+l.length);if(s.set(t),s.set(l,t.length),!this.$16(s,!0,i))return!1;var u=yield this.$10.waitForAck(i,a!=null?a:o("DGWConstants").DEFAULT_ACK_TIMEOUT_MS);return this.__markerPoint(u?"ack_recevied":"ack_timeout"),u||(this.__endMarker(o("IDGWLoggingContext").QPLResult.FAIL),(e||(e=n("Promise"))).reject(o("DGWStream").StreamError.ACK_TIMEOUT))});function r(e,n,r){return t.apply(this,arguments)}return r})(),r.sendAndForget=function(t){var e=this.$15(t,!1,0);return this.$16(e,!1,0)},r.sendFrameAndForget=function(t,n){var e=this.$15(n,!1,0);if(e==null)return!1;var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),this.$16(r,!1,0)},r.close=function(){var e=this.$2.encodeEndOfData(this.$1);if(e==null){this.$9.logError(o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode EndOfData","streamId: "+this.$1);return}var t=this.$8.send(e);if(!t){this.$9.logError(o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send EndOfData","streamId: "+this.$1+". StreamGroupTransport not open during send");return}this.$12.endOfDataSent(),this.$5=!0,this.$4&&this.$17()},r.loggingContext=function(){return this.$9},r.__sendDrain=function(t){var e=o("DGWConstants").drainReasonToDrainReasonString(t);if(this.$5)return!1;var n=this.$2.encodeDrain(t);if(n==null)return!1;this.$12.drainSent(e);var r=this.$8.send(n);return r},r.__transportCloseHook=function(t){this.$13(),this.$10.clearPendingAcks(),t?(this.$12.error("Received StreamError","StreamErrorType: "+t),this.$6.onError(t)):this.$5&&this.$4?this.$17():(this.$12.streamClosed(!1,"Stream closed: ClosedLocally: "+this.$5.toString()+", EndOfDataReceived: "+this.$4.toString()),this.$6.onError(o("DGWStream").StreamError.PREMATURE_CLOSE))},r.$17=function(){this.$13(),this.$12.streamClosed(!0,"Graceful close"),this.$6.onClose(this)},r.__dataReceivedHook=function(t,n){this.$12.dataReceived(t.length,n!=null,n),n!=null&&this.$18(n),this.$6.onDataReceived(t)},r.__ackReceivedHook=function(t){this.$12.ackReceived(t),this.$10.handleAckReceived(t)},r.__drainReceivedHook=function(t){this.$3===!1&&(this.$6.onStreamMustDrain(this,t),this.$3=!0)},r.__endOfDataHook=function(){this.$12.endOfDataReceived(),this.$4=!0,this.$5?this.$17():this.$6.onServerHasFinishedSendingData(this)},r.__markerPoint=function(t){this.$9.qplMarkerPoint(o("IDGWLoggingContext").QPLEvent.STREAM_LIFECYCLE,t,this.$14)},r.__markerAnnotate=function(t){this.$9.qplMarkerAnnotate(o("IDGWLoggingContext").QPLEvent.STREAM_LIFECYCLE,t,this.$14)},r.__endMarker=function(t){this.$9.qplMarkerEnd(o("IDGWLoggingContext").QPLEvent.STREAM_LIFECYCLE,t,this.$14)},r.$15=function(t,n,r){return this.$2.encodeData(t,n,r,this.$1)},r.$16=function(t,n,r){if(this.__markerPoint("send_data_start"),this.$5)return this.$9.logError(o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","Stream closed locally"),!1;if(t==null)return!1;var e=this.$8.send(t);return e?(this.__markerPoint("send_data_end"),this.$12.dataSent(t.length,n,r),!0):(this.$9.logError(o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send data","ClosedLocally: "+this.$5.toString()),!1)},r.$18=function(t){var e=this.$2.encodeAck(t,this.$1);if(e==null)return this.$9.logError(o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to encode ACK","ackId: "+t),!1;var n=this.$8.send(e);return n?(this.$12.ackSent(t),!0):(this.$9.logError(o("IDGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"Failed to send ACK","ackId: "+t),!1)},t})();l.GroupedStream=s}),98);
__d("NoOpDGWLoggingContext",["IDGWLoggingContext"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.streamRequested=function(t){},t.streamClosed=function(t){},t.tabClosed=function(){},t.getGlobalState=function(){return{realtime:0,lightspeed:0}},e})(),s=new e,u=(function(){function e(){this.sgTransportId=null}var t=e.prototype;return t.getGlobalLogger=function(){return s},t.bumpODSKey=function(t,n,r){},t.logEvent=function(t,n,r,o,a){},t.logError=function(t,n,r,o,a,i,l){},t.logWarn=function(t,n,r,o,a){},t.qplMarkerStart=function(t,n){},t.qplMarkerEnd=function(t,n,r){},t.qplMarkerPoint=function(t,n,r){},t.qplMarkerAnnotate=function(t,n,r){},e})();l.DGWLoggingComponent=o("IDGWLoggingContext").DGWLoggingComponent,l.QPLEvent=o("IDGWLoggingContext").QPLEvent,l.QPLResult=o("IDGWLoggingContext").QPLResult,l.NoOpDGWLoggingContext=u}),98);
__d("StreamIdGenerator",["err"],(function(t,n,r,o,a,i,l){"use strict";var e=65535,s=(function(){function t(){this.$1=new Set,this.$2=0}var n=t.prototype;return n.getNextStreamId=function(){var t;if(!this.streamIdAvailable())throw r("err")("Max number of stream IDs reached");if(this.$2<=e)return this.$2++;var n=(t=this.$1.values().next().value)!=null?t:0;return this.$1.delete(n),n},n.putBackStreamId=function(t){this.$1.add(t)},n.streamIdAvailable=function(){return this.$1.size>0||this.$2<=e},t})();l.MAX_STREAM_ID=e,l.StreamIdGeneratorImpl=s}),98);
__d("StreamGroupWebSocketTransport",["DGWConstants","DGWExponentialBackoff","DGWPinger","DGWStream","DGWStreamGroupCallbacks","DGWTransportEvents","DGWUtils","DGWWebSocketTransport","GroupedStream","IDGWLoggingContext","NoOpDGWLoggingContext","Promise","Random","Run","StreamIdGenerator","asyncToGeneratorRuntime","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=!1,u=function(t,n,r,a,i){var e=this;this.groupedStream=t,this.$1=window.setTimeout(function(){r(o("DGWStream").StreamError.ESTABLISHMENT_TIMEOUT)},a),this.handleEstablishFrameReceived=function(){window.clearTimeout(e.$1),n(e.groupedStream)},this.abortStream=function(e){i(),r(e)}},c=(function(){function t(e,n,a,i,l,s,u,c,d){var m=this,p;this.$18=-1,this.$15=l,this.$17=this.__getStreamIdGenerator(),this.$5=new Map,this.$6=new Map,this.$7=i.keepAliveMs,this.$8=!1,this.$9=!1,this.$3=!0,this.$4=!1,this.$20=!1,this.$21=!1,this.$13=a,this.$11=new TextEncoder,this.$12=new TextDecoder,this.$14=i;var _={onDataReceived:function(){},handleAckReceived:function(){},receivedDrainSignal:function(t){m.$9||(m.$9=!0,m.$15(),m.$13.transportClosed(!0,""),m.$14.streamGroupCallbacks.onStreamGroupMustDrain(t),m.$5.forEach(function(e){e.__drainReceivedHook(t)}),m.onClose(o("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE))},onGroupedStreamDataReceived:function(t,n,r){if(m.$5.has(t)){var e=m.$5.get(t);e==null||e.__dataReceivedHook(n,r)}else m.$13.receivedFrameForInactiveStream("Data",t,"sendAckID: "+(r!=null?r:"null"))},onGroupedStreamAckReceived:function(t,n){if(m.$5.has(t)){var e=m.$5.get(t);e==null||e.__ackReceivedHook(n)}else m.$13.receivedFrameForInactiveStream("ACK",t,"ackId: "+(n!=null?n:"null"))},onGroupedStreamEndOfDataReceived:function(t){if(m.$5.has(t)){var e=m.$5.get(t);e==null||e.__endOfDataHook()}else m.$13.receivedFrameForInactiveStream("EndOfData",t)},onGroupedStreamEstablishStreamReceived:function(t,n){if(m.$6.has(t)){var e=m.$6.get(t);m.$6.delete(t);var r=JSON.parse(m.$12.decode(n));(r.code===void 0||r.code!==200)&&(e==null||e.abortStream(o("DGWStream").StreamError.ABNORMAL_CLOSURE)),e==null||e.handleEstablishFrameReceived()}else m.$13.receivedFrameForInactiveStream("EstablishStream",t,"EstablishStream received for non-inflight stream")},onPingReceived:function(){var e=m.$2.encodePing();e!=null&&m.send(e)},onPongReceived:function(){m.$3=!1,m.$21||(m.$21=!0,m.__markerPoint("auth_success")),m.$13.transportPongReceived("readyState:"+m.$1.readyState+", bufferedAmount:"+m.$1.bufferedAmount)}};this.$2=new(o("DGWUtils")).DGWCodec(s,_,i.dgwVersion),this.$19=Date.now()+(Math.round(o("Random").random()*1e4)+1e4),this.$22=s.getGlobalLogger(),this.$23=(p=i.connectTimeoutMs)!=null?p:2e4,this.$24=s,this.$25=d;var f=o("Run").onUnload(function(){m.$22.tabClosed()});if(i.enableFirstStreamOnWsHandshake){var g,h,y,C;if(u===void 0)throw r("err")("Missing grouped stream options");if(c===void 0)throw r("err")("Missing grouped stream callbacks");var b=this.$17.getNextStreamId(),v=this.createEstablishStreamFrame(b,u),S=o("DGWUtils").DGWUtils.constructConnectUrl({appId:i.appId,appVersion:i.appVersion,authType:i.authType,deviceId:(g=i.deviceId)!=null?g:void 0,dgwVersion:i.dgwVersion,fbId:i.fbId,tier:i.tier,loggingId:(h=i.loggingId)!=null?h:void 0,headers:t.__prefixAppHeaders(i.headers),endpoint:i.connectEndpoint,serviceId:i.serviceId,regionHint:(y=i.regionHint)!=null?y:void 0,establishStreamFrame:v,authToken:(C=i.authToken)!=null?C:void 0});if(this.$1=n(S),!S.includes(o("DGWConstants").HEADER_CONSTANTS.HEADER_ESTABLISH_STREAM_FRAME_BASE64))return;var R=this.$25!=null?this.$25(u.loggingId,u.disableFalcoLogging):new(o("NoOpDGWLoggingContext")).NoOpDGWLoggingContext,L=this.__createGroupedStream(b,c,u,R);this.$16=this.waitForEstablishStream(b,L,u,function(e){m.$5.set(b,e)},function(){m.$17.putBackStreamId(b)})}else this.$1=n(e);this.$22.streamRequested(i.serviceId),this.$24.qplMarkerStart(o("IDGWLoggingContext").QPLEvent.STREAM_GROUP_TRANSPORT,this.$19),this.__markerAnnotate({string:{serviceId:this.$14.serviceId,streamGroupId:this.$14.loggingId}})}var a=t.prototype;return a.send=function(t){try{return this.$1.send(t),!0}catch(e){return this.$13.transportError("Failed to send over transport","readyState: "+this.$1.readyState,r("getErrorSafe")(e).message),!1}},a.close=function(){var e;this.$22.streamClosed(this.$14.serviceId),this.__markerPoint("teardown"),this.$8=!0,(e=this.$10)==null||e.cancel(),this.$1.onopen=function(e){},this.$1.onmessage=function(e){},this.$1.onerror=function(e){},this.$1.onclose=function(e){},this.$15(),this.$1.close()},a.onClose=function(t){var e;this.$22.streamClosed(this.$14.serviceId),this.__markerPoint("abort"),this.__markerAnnotate({int:{abort_code:t}}),this.$8=!0,(e=this.$10)==null||e.cancel(),this.$1.close(t)},a.abort=function(t,n,r,o,a){this.$8||(this.$22.streamClosed(this.$14.serviceId),this.$8=!0,this.$13.transportClosed(!1,o,a),this.$5.forEach(function(e){e.__transportCloseHook(n)}),this.$6.forEach(function(e){e.abortStream(n)}),this.$14.streamGroupCallbacks.onStreamGroupError(t),this.$5.clear(),this.$6.clear(),this.$15(),this.onClose(r))},t.getTransportWithInitialStream=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n,r,a,i,l,s){yield o("DGWUtils").DGWCodec.initialize();var u=new(o("DGWTransportEvents")).DGWTransportEvents(a);u.transportEstablishmentPending();var c=function(){return t.$26("",r,u,i,a,e,n,s)};try{var d=yield o("DGWExponentialBackoff").callWithExponentialBackoff(c,l),m=s!=null?s(e.loggingId,e.disableFalcoLogging):new(o("NoOpDGWLoggingContext")).NoOpDGWLoggingContext,p=d.$16!=null?d.$16:d.establishGroupedStream(n,e,m);return{transport:d,streamPromise:p}}catch(e){throw e}});function r(t,n,r,o,a,i,l){return e.apply(this,arguments)}return r})(),t.getTransport_DEPRECATED=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n,r,a,i,l){yield o("DGWUtils").DGWCodec.initialize();var s=new(o("DGWTransportEvents")).DGWTransportEvents(r);s.transportEstablishmentPending();var u=function(){return t.$26(e,n,s,a,r,void 0,void 0,l)};try{return yield o("DGWExponentialBackoff").callWithExponentialBackoff(u,i)}catch(e){throw e}});function r(t,n,r,o,a,i){return e.apply(this,arguments)}return r})(),a.establishGroupedStream=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,s,u){var c=this;s===void 0&&(s=!0);var d=this.getStreamId(),m=this.createEstablishStreamFrame(d,a),p=this.__createGroupedStream(d,t,a,i);p.__markerAnnotate({string:{serviceId:this.$14.serviceId,streamGroupId:this.$14.loggingId,streamId:a.streamTraceId}}),u!=null&&p.__markerAnnotate(u);var _=this.waitForEstablishStream(d,p,a,function(e){c.$5.set(d,e)},function(){c.$17.putBackStreamId(d)});if(l!=null){var f;p.__markerPoint("send_payload_start"),p.__markerAnnotate({int:{establishStreamPayloadSize:l.byteLength}});var g=(f=a.ackTimeoutMs)!=null?f:3e4,h=s?yield p.sendFrame(m,l,g):p.sendFrameAndForget(m,l);return h?(p.__markerPoint("send_payload_end"),p.__endMarker(o("IDGWLoggingContext").QPLResult.SUCCESS),(e||(e=n("Promise"))).resolve(p)):(p.__endMarker(o("IDGWLoggingContext").QPLResult.FAIL),(e||(e=n("Promise"))).reject("Failed to send data when establishing stream"))}if(p.__markerPoint("send_establish_stream_start"),!this.send(m))throw p.__endMarker(o("IDGWLoggingContext").QPLResult.FAIL),r("err")("Websocket connection closed before stream established");p.__markerPoint("send_establish_stream_end");var y=yield _;return p.__endMarker(o("IDGWLoggingContext").QPLResult.SUCCESS),y});function a(e,n,r,o,a,i){return t.apply(this,arguments)}return a})(),t.__prefixAppHeaders=function(t){return Object.keys(t).reduce(function(e,n){return e[""+o("DGWConstants").HEADER_CONSTANTS.APPHEADER_PREFIX+n]=t[n],e},{})},a.waitForEstablishStream=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,o,a,i){var l=this;this.$13.streamEstablishmentPending(t,o.loggingId);try{var s=yield new(e||(e=n("Promise")))(function(e,n){l.$6.set(t,new u(r,e,n,3e4,function(){l.streamEndCallback(t)}))});return a(r),this.$13.streamEstablishmentSuccess(t,o.loggingId),s}catch(e){throw i(),this.$13.streamEstablishmentTimeout("Stream establishment timeout. readyState: "+this.$1.readyState,t,o.loggingId),e}});function r(e,n,r,o,a){return t.apply(this,arguments)}return r})(),t.$26=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n,r,a,i,l,s,u){var c=new t(e,o("DGWWebSocketTransport").getWebSocketConnection,r,n,a,i,l,s,u);c.$1.onmessage=t.$27(c),c.$1.onopen=function(){c.__markerPoint("onopen"),r.transportEstablished(e),c.$10!=null&&c.$10.cancel(),c.$7!=null&&(c.$10=new(o("DGWPinger")).DGWPinger(c.$7,function(){c.$28()},function(){c.abort(o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_KEEPALIVE_TIMEOUT,o("DGWStream").StreamError.KEEPALIVE_TIMEOUT,o("DGWConstants").WebsocketCloseCodes.KEEPALIVE_TIMEOUT,"Aborting transport because of keepalive timeout","readyState:"+c.$1.readyState+", bufferedAmount:"+c.$1.bufferedAmount)},i))},c.$1.onerror=function(){c.__markerPoint("onerror"),c.$13.transportError("onerror","readyState: "+c.$1.readyState)},c.$1.onclose=t.$29(c);var d=yield t.getTransportPromise(c);return d});function r(t,n,r,o,a,i,l,s){return e.apply(this,arguments)}return r})(),t.getTransportPromise=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r,a=new(e||(e=n("Promise")))(function(e,n){r=window.setTimeout(function(){t.$15(),t.$13.transportClosed(!1,"TIMEOUT"),t.__markerPoint("connect_timeout"),t.close(),n(o("DGWStream").StreamError.TRANSPORT_ESTABLISHMENT_TIMEOUT)},t.$23)}),i=new e(function(e,n){var r=t.$1.onerror,a=t.$1.onmessage,i=t.$1.onclose;t.$1.onerror=function(){r(),t.close(),n(o("DGWStream").StreamError.ESTABLISHMENT_ERROR)},t.$1.onclose=function(e){i(e),e.code===o("DGWConstants").WebsocketCloseCodes.UNAUTHORIZED?n(o("DGWStream").StreamError.UNAUTHORIZED):n(e.code+":"+e.reason)},t.$1.onmessage=function(n){a(n),t.$3||(t.__markerPoint("connect_success"),e(t))}});try{return yield(e||(e=n("Promise"))).race([i,a])}finally{r!=null&&window.clearTimeout(r)}});function r(e){return t.apply(this,arguments)}return r})(),t.$27=function(t){return function(e){var n;if(t.$2==null){var r;(r=t.$13)==null||r.transportError("Codec Not Ready","Received message before codec was initialized or after close");return}if(t.$20||(t.$20=!0,t.__markerPoint("onmessage")),(n=t.$10)==null||n.reset(),!(e.data instanceof ArrayBuffer)){var o;(o=t.$13)==null||o.transportError("Incorrect Data Protocol","Received "+typeof e.data+" instead of ArrayBuffer");return}t.$2.append(new Uint8Array(e.data)),t.$2.processData()}},t.$29=function(t){return function(e){var n,r=t.$22.getGlobalState();if(t.__markerPoint("onclose"),t.__markerAnnotate({string:{reason:e.reason},int:{code:e.code,realtimeWebSockets:r.realtime,lightspeedWebSockets:r.lightspeed}}),t.__endMarker(e.code===o("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE?o("IDGWLoggingContext").QPLResult.SUCCESS:o("IDGWLoggingContext").QPLResult.FAIL),(n=t.$10)==null||n.cancel(),!(t.$8===!0||t.$4)){if(t.$22.streamClosed(t.$14.serviceId),t.$8=!0,t.$3===!0){t.$13.transportEstablishmentFailure(e),t.$5.clear(),t.$15();return}if(t.$15(),t.$3=!0,e.code!==o("DGWConstants").WebsocketCloseCodes.GRACEFUL_CLOSE){t.$13.transportClosed(!1,"Websocket connection failure with code: "+e.code+" reason: "+e.reason+" wasClean: "+String(e.wasClean));var a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR,i=o("DGWStream").StreamError.UNKNOWN_ERROR;switch(e.code){case o("DGWConstants").WebsocketCloseCodes.NORMAL_CLOSURE:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_NORMAL_CLOSURE,i=o("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case o("DGWConstants").WebsocketCloseCodes.ABNORMAL_CLOSURE:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_ABNORMAL_CLOSURE,i=o("DGWStream").StreamError.ABNORMAL_CLOSURE;break;case o("DGWConstants").WebsocketCloseCodes.SERVER_INTERNAL_ERROR:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR,i=o("DGWStream").StreamError.SERVER_INTERNAL_ERROR;break;case o("DGWConstants").WebsocketCloseCodes.GOING_AWAY:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_GOING_AWAY,i=o("DGWStream").StreamError.GOING_AWAY;break;case o("DGWConstants").WebsocketCloseCodes.UNAUTHORIZED:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNAUTHORIZED,i=o("DGWStream").StreamError.UNAUTHORIZED;break;case o("DGWConstants").WebsocketCloseCodes.REJECTED:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_REJECTED,i=o("DGWStream").StreamError.REJECTED;break;case o("DGWConstants").WebsocketCloseCodes.BAD_REQUEST:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_BAD_REQUEST,i=o("DGWStream").StreamError.BAD_REQUEST;break;case o("DGWConstants").WebsocketCloseCodes.DGW_SERVER_ERROR:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_SERVER_INTERNAL_ERROR,i=o("DGWStream").StreamError.DGW_SERVER_ERROR,a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_DGW_SERVER_ERROR;break;default:a=o("DGWStreamGroupCallbacks").DGWStreamGroupError.TRANSPORT_UNKNOWN_ERROR,i=o("DGWStream").StreamError.UNKNOWN_ERROR;break}t.$14.streamGroupCallbacks.onStreamGroupError(a),t.$5.forEach(function(e){e.__transportCloseHook(i)}),t.$6.forEach(function(e){e.abortStream(i)})}else t.$13.transportClosed(!0,""),t.$14.streamGroupCallbacks.onStreamGroupTransportClose(),t.$5.forEach(function(e){e.__transportCloseHook()}),t.$6.forEach(function(e){e.abortStream(o("DGWStream").StreamError.TRANSPORT_CLOSED_BEFORE_STREAM_INIT)});t.$5.clear(),t.$6.clear()}}},a.$28=function(){var e=this.$2.encodePing();if(e==null)throw r("err")("Failed to encode Ping Frame");var t=this.send(e);this.$18=this.$1.bufferedAmount,this.$13.transportPingSent("readyState:"+this.$1.readyState+", bufferedAmount:"+this.$18+", payloadSize:"+(e==null?void 0:e.byteLength)+", sent:"+String(t))},a.isClosedLocally=function(){return this.$3||this.$8||this.$4},a.streamEndCallback=function(t){this.$5.delete(t),this.$6.delete(t),this.$17.putBackStreamId(t)},a.canCreateGroupedStream=function(){return this.$17.streamIdAvailable()},a.createEstablishStreamFrame=function(n,a){var e=t.__prefixAppHeaders(a.groupedStreamHeaders);a.streamTraceId!=null&&(e[o("DGWConstants").HEADER_CONSTANTS.HEADER_STREAM_TRACE_ID]=a.streamTraceId);var i=this.$2.encodeEstablishStream(n,new Uint8Array(this.$11.encode(JSON.stringify(e))));if(i==null)throw this.$17.putBackStreamId(n),r("err")("Failed to encode EstablishStreamFrame");return i},a.getStreamId=function(){try{return this.$17.getNextStreamId()}catch(e){throw this.$13.ranOutOfStreamIds("inFlightGroupedStreamSize: "+this.$6.size+" groupedStreamSize: "+this.$5.size),e}},a.__createGroupedStream=function(t,n,r,a){var e=this;return new(o("GroupedStream")).GroupedStream(t,n,r,this,a,this.$2,function(){e.streamEndCallback(t)})},a.__getStreamIdGenerator=function(){return new(o("StreamIdGenerator")).StreamIdGeneratorImpl},a.__markerPoint=function(t){this.$24.qplMarkerPoint(o("IDGWLoggingContext").QPLEvent.STREAM_GROUP_TRANSPORT,t,this.$19)},a.__markerAnnotate=function(t){this.$24.qplMarkerAnnotate(o("IDGWLoggingContext").QPLEvent.STREAM_GROUP_TRANSPORT,t,this.$19)},a.__endMarker=function(t){this.$24.qplMarkerEnd(o("IDGWLoggingContext").QPLEvent.STREAM_GROUP_TRANSPORT,t,this.$19)},t})();l.StreamGroupWebSocketTransport=c}),98);
__d("StreamGroup",["DGWConstants","DGWLoggingContext","DGWUtils","StreamGroupWebSocketTransport","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e={maxRetries:0,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)},s=(function(){function t(e,t,n,r,a,i,l,s,u,c){var d,m,p,_,f,g,h,y,C;this.$2=u,this.$1=u.getNewStreamGroupId();var b=(d=l.overrideUrl)!=null?d:a;this.$6=null,this.$3={appId:e,appVersion:t,authType:(m=l.authType)!=null?m:n,deviceId:l.deviceId,dgwVersion:r,headers:l.streamGroupAppHeaders,tier:(p=l.serviceTier)!=null?p:o("DGWConstants").DEFAULT_SERVICE_TIER,connectEndpoint:b,fbId:i,loggingId:l.loggingId,serviceId:l.serviceId,streamGroupCallbacks:s,keepAliveMs:l.keepAliveMs,regionHint:l.regionHint,enableFirstStreamOnWsHandshake:!1,authToken:l.authToken,connectTimeoutMs:l.connectTimeoutMs},this.$4=l,this.$5=c,this.streamGroupLoggingContext=this.$5(null,!1,(_=l.verboseLoggingEnabled)!=null?_:!1),this.$7=o("DGWUtils").DGWUtils.constructConnectUrl({appId:this.$3.appId,appVersion:this.$3.appVersion,authType:this.$3.authType,deviceId:(f=this.$3.deviceId)!=null?f:void 0,dgwVersion:this.$3.dgwVersion,fbId:this.$3.fbId,headers:babelHelpers.extends({},this.$3.headers),loggingId:(g=this.$3.loggingId)!=null?g:void 0,tier:this.$3.tier,serviceId:this.$3.serviceId,endpoint:this.$3.connectEndpoint,regionHint:(h=this.$3.regionHint)!=null?h:void 0,trafficTracing:(y=this.$4.trafficTracing)!=null?y:void 0,authToken:(C=this.$4.authToken)!=null?C:void 0})}var r=t.prototype;return r.initTransport=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=this,t={maxRetries:0,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)};this.$6=this.$6||o("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$7,this.$3,this.streamGroupLoggingContext,function(){e.$2.removeStreamGroupAndTransport(e.$1)},t,this.$5);var n;try{n=yield this.$6,this.$6=null}catch(e){throw this.$6=null,e}return this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,n),n});function t(){return e.apply(this,arguments)}return t})(),r.establishStream=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,a,i){var l=this;if(this.$2.containsStreamGroup(this.$1)===!1)if(this.streamGroupLoggingContext.logEvent(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"createTransportWhenEstablishStream"),this.$3.enableFirstStreamOnWsHandshake){var u=yield o("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransportWithInitialStream(t,n,this.$3,this.streamGroupLoggingContext,function(){l.$2.removeStreamGroupAndTransport(l.$1)},e,this.$5);return this.$2.setStreamGroupAndTransport(this.$1,u.transport),u.streamPromise}else{this.$6=this.$6||o("StreamGroupWebSocketTransport").StreamGroupWebSocketTransport.getTransport_DEPRECATED(this.$7,this.$3,this.streamGroupLoggingContext,function(){l.$2.removeStreamGroupAndTransport(l.$1)},e,this.$5);var s;try{s=yield this.$6,this.$6=null}catch(e){throw this.$6=null,e}this.$2.containsStreamGroup(this.$1)||this.$2.setStreamGroupAndTransport(this.$1,s)}return this.establishStreamWithTransport(t,n,r,a,i)});function r(e,n,r,o,a){return t.apply(this,arguments)}return r})(),r.establishStreamWithTransport=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r,a){var i,l=e.loggingId;this.streamGroupLoggingContext.logEvent(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Establishing Grouped Stream","initialData:"+String(n!=null),!0,l);var s=this.$5(l,e.disableFalcoLogging,(i=e.verboseLoggingEnabled)!=null?i:!1),u=yield this.$2.getStreamGroupTransport(this.$1).establishGroupedStream(t,e,s,n,r,a);return u});function t(t,n,r,o,a){return e.apply(this,arguments)}return t})(),r.canCreateGroupedStream=function(){var e=!0;if(this.$2.containsStreamGroup(this.$1)!==!1){var t=this.$2.getStreamGroupTransport(this.$1);e=t.canCreateGroupedStream()}return o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,e?"can_create":"cannot_create"),e},r.close=function(){if(this.$2.containsStreamGroup(this.$1)){var e=this.$2.getStreamGroupTransport(this.$1);e.close()}},t})();l.StreamGroup=s}),98);
__d("StreamGroupRegistry",["Random","err"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new Map,this.$2=new Set}var t=e.prototype;return t.setStreamGroupAndTransport=function(t,n){this.$1.set(t,n)},t.containsStreamGroup=function(t){return this.$1.has(t)},t.removeStreamGroupAndTransport=function(t){this.$1.delete(t)},t.getStreamGroupTransport=function(t){var e=this.$1.get(t);if(e==null)throw r("err")("No stream group transport");return e},t.getNewStreamGroupId=function(){for(var e=o("Random").uint32();this.$2.has(e);)e=o("Random").uint32();return this.$2.add(e),e},e})();l.StreamGroupRegistry=e}),98);
__d("RawDGWClient",["CurrentUser","DGWAuth","DGWLoggingContext","DGWStream","StreamGroup","StreamGroupRegistry","isFastRefreshEnabledForCurrentDomain"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.appId,n=e.appVersion,r=e.authToken,a=e.authType,i=e.dgwVersion,l=e.endpoint,s=e.fbId,u=e.isUserLoggedIn;this.$1=t,this.$2=n,this.$3=a,this.$5=i,this.$6=l,this.$7=s,this.$8=new(o("StreamGroupRegistry")).StreamGroupRegistry,this.$4=r,this.$9=u}var t=e.prototype;return t.$10=function(t){var e=this.$5,n=this.$7;return function(r,a,i){return new(o("DGWLoggingContext")).DGWLoggingContext(e,r,t,n,null,a!=null?a:!1,i!=null?i:!1)}},t.createStreamGroup=function(t,n){var e,r;this.handleUserChecks((e=n.authType)!=null?e:this.$3);var a=(r=n.authToken)!=null?r:this.$4;a!=null&&this.$3===o("DGWAuth").DGWAuth.GUEST&&(n.authToken=a);var i=this.$10(n.serviceId);return new(o("StreamGroup")).StreamGroup(this.$1,this.$2,this.$3,this.$5,this.$6,this.$7,n,t,this.$8,i)},t.handleUserChecks=function(t){var e=this.$9!=null?this.$9:r("CurrentUser").isLoggedInNow();if(!e&&o("DGWAuth").fromDGWAuthToString(t)!=="GUEST"&&!r("isFastRefreshEnabledForCurrentDomain")())throw o("DGWLoggingContext").DGWLoggingContext.bumpODSKey(o("DGWLoggingContext").DGWLoggingComponent.RAW_CLIENT,"unauthenticated"),o("DGWStream").StreamError.UNAUTHENTICATED},e})();l.RawDGWClient=e}),98);
__d("DGWClient",["DGWAuth","DGWEnvUtil","DGWWebConfig","RawDGWClient","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new(o("RawDGWClient")).RawDGWClient({appId:r("DGWWebConfig").appId,appVersion:r("DGWWebConfig").appVersion,authType:o("DGWAuth").fromStringToDGWAuth((e=r("DGWEnvUtil")).getDGWAuthType()),dgwVersion:e.getDGWVersion(),endpoint:e.getDGWEndpoint(),fbId:r("DGWWebConfig").fbId,authToken:e.getDGWAuthToken()});function u(){if(r("DGWEnvUtil").isDGWEnvCompatible())return s;throw r("err")("unsupported_environment_retry_with_mqtt")}l.default=u}),98);
__d("DGWStreamGroupHandler",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t,n){this.$1=e,this.$2=t,this.$3=n}var t=e.prototype;return t.onStreamGroupError=function(t){this.$1(t)},t.onStreamGroupMustDrain=function(t){this.$2(t)},t.onStreamGroupTransportClose=function(){this.$3()},e})();i.default=e}),66);
__d("TWriteBuffer",[],(function(t,n,r,o,a,i){var e=(function(){function e(t){t===void 0&&(t=e.DEFAULT_BYTE_BUFFER_SIZE),this.$1=new DataView(new ArrayBuffer(t)),this.$2=0}var t=e.prototype;return t.write=function(t){this.$2+t.length>this.$1.byteLength&&this.$3(this.$2+t.length);for(var e=0;e<t.length;e++)this.$1.setUint8(this.$2+e,t[e]);return this.$2+=t.length,t.length},t.writeByte=function(t){return this.$2+1>this.$1.byteLength&&this.$3(this.$2+1),this.$1.setUint8(this.$2,t),this.$2++,1},t.writeFloatBE=function(t){return this.$2+Float32Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float32Array.BYTES_PER_ELEMENT),this.$1.setFloat32(this.$2,t),this.$2+=Float32Array.BYTES_PER_ELEMENT,Float32Array.BYTES_PER_ELEMENT},t.writeDoubleBE=function(t){return this.$2+Float64Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float64Array.BYTES_PER_ELEMENT),this.$1.setFloat64(this.$2,t),this.$2+=Float64Array.BYTES_PER_ELEMENT,Float64Array.BYTES_PER_ELEMENT},t.toByteArray=function(){var e=new Uint8Array(this.$1.buffer,0,this.$2);return e},t.currentSize=function(){return this.$2},t.getUnderlyingDataView=function(){return this.$1},t.$3=function(t){var e=t*2;if(!Number.isSafeInteger(e))throw new Error("unable to resize");for(var n=new DataView(new ArrayBuffer(e)),r=0;r<this.$2;r++)n.setUint8(r,this.$1.getUint8(r));this.$1=n},t.readByte=function(){throw new Error("operation not supported")},t.readBytes=function(t){throw new Error("operation not supported")},t.readFloatBE=function(){throw new Error("operation not supported")},t.readDoubleBE=function(){throw new Error("operation not supported")},e})();e.DEFAULT_BYTE_BUFFER_SIZE=16,i.default=e}),66);
__d("StringToUtf8",["TWriteBuffer"],(function(t,n,r,o,a,i,l){var e=function(t){for(var e=new(r("TWriteBuffer"))(t.length),n,o=0;o<t.length;o++)if(n=t.charCodeAt(o),n<128)e.writeByte(n);else if(n<2048)e.writeByte(n>>6|192),e.writeByte(n&63|128);else if((n&64512)==55296){if(o+1>=t.length)throw new Error("UTF-16 string is truncated: ["+n.toString(16)+"]");if((t.charCodeAt(o+1)&64512)!==56320)throw new Error("Invalid UTF-16 string: ["+n.toString(16)+", "+t.charCodeAt(o+1).toString(16)+"]");n=65536+((n&1023)<<10)+(t.charCodeAt(++o)&1023),e.writeByte(n>>18|240),e.writeByte(n>>12&63|128),e.writeByte(n>>6&63|128),e.writeByte(n&63|128)}else e.writeByte(n>>12|224),e.writeByte(n>>6&63|128),e.writeByte(n&63|128);return e.toByteArray()};l.StringToUtf8=e}),98);
__d("TNoOpWriteBuffer",[],(function(t,n,r,o,a,i){var e=(function(){function e(){this.$1=0}var t=e.prototype;return t.write=function(t){return this.$1+=t.length,t.length},t.writeByte=function(t){return this.$1++,1},t.writeFloatBE=function(t){return this.$1+=Float32Array.BYTES_PER_ELEMENT,Float32Array.BYTES_PER_ELEMENT},t.writeDoubleBE=function(t){return this.$1+=Float64Array.BYTES_PER_ELEMENT,Float64Array.BYTES_PER_ELEMENT},t.toByteArray=function(){throw new Error("operation not supported")},t.currentSize=function(){return this.$1},t.readByte=function(){throw new Error("operation not supported")},t.readBytes=function(t){throw new Error("operation not supported")},t.readFloatBE=function(){throw new Error("operation not supported")},t.readDoubleBE=function(){throw new Error("operation not supported")},e})();i.default=e}),66);
__d("TReadBuffer",[],(function(t,n,r,o,a,i){var e=(function(){function e(e){this.$1=e,this.$2=0}var t=e.prototype;return t.readByte=function(){if(this.$2<this.$1.length)return this.$1[this.$2++];throw new Error("no available byte to read")},t.readBytes=function(t){if(t<0)throw new Error("cannot readBytes of negative length: "+t);if(t+this.$2>this.$1.length)throw new Error("not enough bytes to read");var e=new Uint8Array(this.$1.buffer,this.$3(),t);return this.$2+=t,e},t.readFloatBE=function(){if(Float32Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var e=new DataView(this.$1.buffer).getFloat32(this.$3());return this.$2+=Float32Array.BYTES_PER_ELEMENT,e},t.readDoubleBE=function(){if(Float64Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var e=new DataView(this.$1.buffer).getFloat64(this.$3());return this.$2+=Float64Array.BYTES_PER_ELEMENT,e},t.$3=function(){return this.$2+this.$1.byteOffset},t.getCurrentCursor=function(){return this.$2},t.writeByte=function(t){throw new Error("operation not supported")},t.write=function(t){throw new Error("operation not supported")},t.toByteArray=function(){throw new Error("operation not supported")},t.writeFloatBE=function(t){throw new Error("operation not supported")},t.writeDoubleBE=function(t){throw new Error("operation not supported")},e})();i.default=e}),66);
__d("ThriftTypes",[],(function(t,n,r,o,a,i){var e=Object.freeze({STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,STRUCT:12,MAP:13,SET:14,LIST:15,FLOAT:19}),l=e;i.default=l}),66);
__d("Utf8ToString",[],(function(t,n,r,o,a,i){var e=function(t,n){throw new Error(t+": ["+n.map(function(e){return e.toString(16)}).toString()+"]")},l=function(n){e("Invalid UTF-8 sequence",n)},s=function(n,r){e("Not enough bytes for "+n+"-byte sequence",r)},u=function(t){for(var e=0,n=[];e<t.length;){var r=t[e++];if(r<128)n.push(String.fromCharCode(r));else if(r>=128&&r<194)l([r]);else if(r>=194&&r<224){e>=t.length&&s(2,[r]);var o=t[e++];(o&192)!==128&&l([r,o]),n.push(String.fromCharCode((r&31)<<6|o&63))}else if(r>=240&&r<245){e+2>=t.length&&s(4,[r]);var a=t[e++],i=t[e++],u=t[e++];(r==240&&(!(a>=144&&a<192)||(i&192)!==128||(u&192)!==128)||r>=241&&r<244&&((a&192)!==128||(i&192)!==128||(u&192)!==128)||r==244&&(!(a>=128&&a<144)||(i&192)!==128||(u&192)!==128))&&l([r,a,i,u]);var c=((r&7)<<18|(a&63)<<12|(i&63)<<6|u&63)-65536;n.push(String.fromCharCode(55296+(c>>10))),n.push(String.fromCharCode(56320+(c&1023)))}else if(r>=245)l([r]);else{e+1>=t.length&&s(3,[r]);var d=t[e++],m=t[e++];r==224?d>=160&&d<192||l([r,d,m]):r>=225&&r<237?d>=128&&d<192||l([r,d,m]):r==237?d>=128&&d<160||l([r,d,m]):r>=238&&r<240&&(d>=128&&d<192||l([r,d,m])),m>=128&&m<192||l([r,d,m]),n.push(String.fromCharCode((r&15)<<12|(d&63)<<6|m&63))}}return n.join("")};i.Utf8ToString=u}),66);/*FB_PKG_DELIM*/
__d("IGDBroadcastChannelQPTooltip.react",[],(function(t,n,r,o,a,i){"use strict";function e(){return null}i.default=e}),66);
__d("IGDGetSlideMailbox",["CurrentUser","FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(){return"SlideMailbox:"+r("CurrentUser").getEIMU()}function s(t){var n=t.get(e());if(n==null)throw r("FBLogger")("igd_web_on_msgr").mustfixThrow("IGDGetSlideMailboxEnforced: Mailbox record not found");return n}l.GetSlideMailboxDataID=e,l.IGDGetSlideMailboxEnforced=s}),98);
__d("IGDGetInboxConnection",["CometRelay","FBLogger","IGDGetSlideMailbox"],(function(t,n,r,o,a,i,l){"use strict";var e="IGDThreadListOffMsys_SlideMailbox__threads_by_folder";function s(t){return o("CometRelay").ConnectionHandler.getConnectionID(o("IGDGetSlideMailbox").GetSlideMailboxDataID(),e,{folder:t})}function u(t,n){var a=o("CometRelay").ConnectionHandler.getConnection(t,e,{folder:n});return a==null&&r("FBLogger")("igd_web").warn("IGDGetInboxConnection: Inbox connection record is null"),a}l.IGD_INBOX_CONNECTION_KEY=e,l.IGDGetInboxConnectionID=s,l.IGDGetInboxConnectionNullable=u}),98);
__d("IGDGetInboxLatestSlideMessage",["IGDInboxSlideMessagesConnection"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r=o("IGDInboxSlideMessagesConnection").getConnectionID(t),a=e.get(r),i=a==null||(n=a.getLinkedRecords("edges"))==null||(n=n.at(0))==null?void 0:n.getLinkedRecord("node");return i}l.IGDGetInboxLatestSlideMessage=e}),98);
__d("IGDGetProInboxConnection",["CometRelay","FBLogger","IGDGetSlideMailbox"],(function(t,n,r,o,a,i,l){"use strict";var e="IGDThreadListProfessionalOffMsys_SlideMailbox__threads_by_system_folder_and_ig_inbox_folder";function s(t,n){return o("CometRelay").ConnectionHandler.getConnectionID(o("IGDGetSlideMailbox").GetSlideMailboxDataID(),e,{ig_inbox_folder:n,system_folder:t})}function u(t,n,a){var i=o("CometRelay").ConnectionHandler.getConnection(t,e,{ig_inbox_folder:a,system_folder:n});return i==null&&r("FBLogger")("igd_web").warn("IGDGetProInboxConnection: Inbox connection record is null"),i}l.IGD_PRO_INBOX_CONNECTION_KEY=e,l.IGDGetProInboxConnectionID=s,l.IGDGetProInboxConnectionNullable=u}),98);
__d("IGDInsertThreadToInboxConnection",["CometRelay","FBLogger","IGDGetInboxConnection","IGDGetSlideMailbox","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var a=o("IGDGetSlideMailbox").IGDGetSlideMailboxEnforced(e),i=o("IGDGetInboxConnection").IGDGetInboxConnectionNullable(a,n);if(i==null)return r("FBLogger")("igd_web").warn("IGDSlideInsertThread: Inbox connection record is null"),o("WAResultOrError").makeResult("skip");o("CometRelay").ConnectionHandler.deleteNode(i,t.getDataID());var l=o("CometRelay").ConnectionHandler.createEdge(e,i,t,"SlideMailboxThreadsByFolderEdge");return o("CometRelay").ConnectionHandler.insertEdgeAfter(i,l),o("WAResultOrError").makeResult("success")}l.default=e}),98);
__d("IGDSlideAsyncFetchAndInsertIGDViewerThreadQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25923599190661075"}),null);
__d("IGDSlideAsyncFetchAndInsertIGDViewerThreadQuery.graphql",["IGDSlideAsyncFetchAndInsertIGDViewerThreadQuery_instagramRelayOperation","IGDPinnedThreadsRenderEnabledGK.relayprovider","IGDMaxUnreadMessagesCount.relayprovider","IGDThreadListActionsEnabledGK.relayprovider"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"min_uq_seq_id"},t={defaultValue:null,kind:"LocalArgument",name:"thread_fbid"},r=[{kind:"Variable",name:"min_uq_seq_id",variableName:"min_uq_seq_id"},{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],o={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"system_folder",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"last_activity_timestamp_ms",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},s={name:"presence_info",args:null,fragment:{kind:"InlineFragment",selections:[l],type:"XDTUserDict",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},u={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__relay_model_instance",storageKey:null}],type:"IGDPresenceInfo",abstractKey:null},c={name:"last_active_time_seconds",args:null,fragment:u,kind:"RelayResolver",storageKey:null,isOutputType:!0},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},p={name:"status",args:null,fragment:u,kind:"RelayResolver",storageKey:null,isOutputType:!0},_={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},g=[{kind:"Variable",name:"first",variableName:"__relay_internal__pv__IGDMaxUnreadMessagesCountrelayprovider"}];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"IGDSlideAsyncFetchAndInsertIGDViewerThreadQuery",selections:[{alias:null,args:r,concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread_nullable",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"IGDThreadListItemOffMsys_IGDirectViewerThread"},o,a,i],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IGDPinnedThreadsRenderEnabledGKrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IGDMaxUnreadMessagesCountrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IGDThreadListActionsEnabledGKrelayprovider"}],kind:"Operation",name:"IGDSlideAsyncFetchAndInsertIGDViewerThreadQuery",selections:[{alias:null,args:r,concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread_nullable",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_subtype",storageKey:null},{name:"client__is_unread",args:null,fragment:{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"marked_as_unread",storageKey:null},i,{alias:null,args:null,concreteType:"XFBSlideReadReceipt",kind:"LinkedField",name:"slide_read_receipts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"participant_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"watermark_timestamp_ms",storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},{condition:"__relay_internal__pv__IGDPinnedThreadsRenderEnabledGKrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_pin",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{kind:"ClientEdgeToClientObject",backingField:s,linkedField:{alias:null,args:null,concreteType:"IGDPresenceInfo",kind:"LinkedField",name:"presence_info",plural:!1,selections:[c],storageKey:null}},d,{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null},m,{kind:"ClientEdgeToClientObject",backingField:s,linkedField:{alias:null,args:null,concreteType:"IGDPresenceInfo",kind:"LinkedField",name:"presence_info",plural:!1,selections:[p,c],storageKey:null}},l,{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},_,{kind:"ClientEdgeToClientObject",backingField:s,linkedField:{alias:null,args:null,concreteType:"IGDPresenceInfo",kind:"LinkedField",name:"presence_info",plural:!1,selections:[p],storageKey:null}}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},{alias:null,args:null,concreteType:"XFBIGDirectPostProcessorNickname",kind:"LinkedField",name:"nicknames",plural:!0,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"igid",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},{alias:null,args:g,concreteType:"XFBIGDirectViewerThreadSlideMessagesConnection",kind:"LinkedField",name:"slide_messages",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThreadSlideMessagesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"igd_snippet",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client__timestamp_ms",storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:g,filters:null,handle:"connection",key:"IGDInbox__slide_messages",kind:"LinkedHandle",name:"slide_messages"},{alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},{name:"thread_title_fallback",args:null,fragment:{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBIGDirectPostProcessorNickname",kind:"LinkedField",name:"nicknames",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"eimu_id",storageKey:null},f],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},m,d],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null},kind:"RelayResolver",storageKey:null,isOutputType:!0},{alias:"usersWithoutViewer",args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_internal_user",storageKey:null},d],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"viewer",plural:!1,selections:[d,l,_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_image_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messaging_folder_tag",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_muted",storageKey:null},{condition:"__relay_internal__pv__IGDThreadListActionsEnabledGKrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}]},d,{alias:null,args:null,concreteType:"TakedownDataShapeRenderer",kind:"LinkedField",name:"takedown_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"takedown_state",storageKey:null}],storageKey:null},a,o],storageKey:null},d],storageKey:null}]},params:{id:n("IGDSlideAsyncFetchAndInsertIGDViewerThreadQuery_instagramRelayOperation"),metadata:{},name:"IGDSlideAsyncFetchAndInsertIGDViewerThreadQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__IGDPinnedThreadsRenderEnabledGKrelayprovider:n("IGDPinnedThreadsRenderEnabledGK.relayprovider"),__relay_internal__pv__IGDMaxUnreadMessagesCountrelayprovider:n("IGDMaxUnreadMessagesCount.relayprovider"),__relay_internal__pv__IGDThreadListActionsEnabledGKrelayprovider:n("IGDThreadListActionsEnabledGK.relayprovider")}}}})();a.exports=e}),null);
__d("IGDThreadAsyncActionPromiseQueue",["WAPromiseQueue"],(function(t,n,r,o,a,i,l){"use strict";var e=new(o("WAPromiseQueue")).PromiseQueueMap,s=e;l.default=s}),98);
__d("WAPromiseCache",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){this.promise=t,this.lastUsedTime=this.createdTime=+Date.now()},l=(function(){function t(e,t){var n=t.maxCached,r=n===void 0?10:n,o=t.maxAge,a=o===void 0?1/0:o,i=t.shouldCache;this.$1={},this.$2=r,this.$3=a,this.$4=e,this.$5=i}var n=t.prototype;return n.delete=function(t){delete this.$1[t]},n.getOrRun=function(n){var t=this,r=this.$1;if(this.$3!==1/0)for(var o=Date.now()-this.$3,a=Object.keys(r),i=0;i<a.length;i++){var l=a[i];r[l].createdTime<o&&delete r[l]}var s=r[n];if(s)return s.lastUsedTime=+Date.now(),s.promise;var u=Object.keys(r);if(u.length>=this.$2){for(var c,d,m=0;m<u.length;m++){var p=u[m],_=r[p];(d==null||_.lastUsedTime<d)&&(d=_.lastUsedTime,c=p)}c!=null&&delete r[c]}for(var f=arguments.length,g=new Array(f>1?f-1:0),h=1;h<f;h++)g[h-1]=arguments[h];var y=this.$4.apply(void 0,[n].concat(g));return r[n]=new e(y),y.then(function(e){var r=t.$5;t.$1[n]===y&&!r(e)&&delete t.$1[n]}).catch(function(){t.$1[n]===y&&delete t.$1[n]}),y},n.isCached=function(t){var e=this.$1,n=e[t];if(n){var r=!0;if(this.$3!==1/0){var o=Date.now()-this.$3;r=n.createdTime>=o}return r&&!!n}return!1},t})();i.default=l}),66);
__d("IGDSlideAsyncFetchAndInsertIGDViewerThread",["CometRelay","FBLogger","IGDInsertThreadToInboxConnection","IGDSlideAsyncFetchAndInsertIGDViewerThreadQuery.graphql","IGDThreadAsyncActionPromiseQueue","IGDUqppSequenceIDTrackerSingleton","WAExponentialBackoff","WAPromiseCache","WAResultOrError","asyncToGeneratorRuntime","getErrorSafe","justknobx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("IGDSlideAsyncFetchAndInsertIGDViewerThreadQuery.graphql");function u(e,t,n){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a,i;n==null||n.markerPoint("fetch_and_insert_viewer_thread_start");var l={min_uq_seq_id:(a=r("IGDUqppSequenceIDTrackerSingleton").getSequenceID())==null?void 0:a.toString(),thread_fbid:t};n==null||n.markerPoint("fetch_thread_query_start");var u=yield o("CometRelay").fetchQuery(e,s,l).toPromise().then(function(e){return o("WAResultOrError").makeResult(e)}).catch(function(e){return o("WAResultOrError").makeError(r("getErrorSafe")(e))});if(n==null||n.markerPoint("fetch_thread_query_end"),u.success===!1)throw n==null||n.markerPoint("fetch_thread_query_failed"),u.error;var c=(i=u.value)==null||(i=i.get_slide_thread_nullable)==null?void 0:i.as_ig_direct_thread;if(c==null)throw n==null||n.markerPoint("fetch_thread_query_viewer_thread_null"),r("FBLogger")("igd_web").warn("Thread fetch succeeded but viewer thread is null");var d=o("WAResultOrError").makeResult("skip");return e.commitUpdate(function(e){var t=c.system_folder,o=e.getRoot().getLinkedRecord("get_slide_thread_nullable",l);o!=null?(n==null||n.markerPoint("slide_thread_payload_found"),d=r("IGDInsertThreadToInboxConnection")(e,o,t)):n==null||n.markerPoint("slide_thread_payload_missing")}),d}),c.apply(this,arguments)}var d=null;function m(e,t){if(d!=null)return d;var n=new AbortController,a=n.signal,i=r("justknobx")._("5302");return d=new(r("WAPromiseCache"))(function(n){return o("WAExponentialBackoff").exponentialBackoff({minTimeout:2e3,retries:i,signal:a},function(r){return u(e,n,t).catch(function(e){return r(e)})})},{maxAge:1/0,maxCached:100,shouldCache:function(t){return!!t}}),d}function p(e,t,n,a){var i=m(e,n);if(i.isCached(t)){n==null||n.markerPoint("fetch_thread_promise_cached"),a==null||a(o("WAResultOrError").makeResult("skip"));return}n==null||n.markerPoint("fetch_thread_promise_not_cached"),r("promiseDone")(i.getOrRun(t).then(function(e){return a==null?void 0:a(e)}).catch(function(e){return a==null?void 0:a(o("WAResultOrError").makeError(e))}).finally(function(){i.delete(t)}))}function _(e,t,n,o,a){n==null||n.markerPoint("enqueue_fetch_and_insert_viewer_thread"),r("promiseDone")(r("IGDThreadAsyncActionPromiseQueue").enqueueHandlers(t,u(e,t,n),o,a))}l.IGDSlideAsyncFetchAndInsertIGDViewerThreadWithExponentialBackoff=p,l.IGDSlideAsyncFetchAndInsertIGDViewerThread=_}),98);
__d("IGDSlideDeltaHandlersReliabilityQPLLogger",["QuickPerformanceLogger","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){this.$1=r("qpl")._(482017281,"2918"),this.$2=e}t.handleResultOrError=function(t,n){t.success?t.value==="success"?n==null||n.markerEnd(2):t.value==="skip"?n==null||n.markerEnd(3376):t.value==="deferred"?n==null||n.markerPoint("deferred_result"):n==null||n.markerEnd(51):(n==null||n.markerAnnotation({bool:{has_error:!0},string:{client_reason:t.error}}),n==null||n.markerEnd(3))};var n=t.prototype;return n.markerStart=function(){(e||(e=r("QuickPerformanceLogger"))).markerStart(this.$1,this.$2)},n.markerAnnotation=function(n){(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(this.$1,n,{instanceKey:this.$2})},n.markerSlideMutationCommonAnnotations=function(t){this.markerAnnotation({string:{__typename:t.__typename,uq_seq_id:t.uq_seq_id}})},n.markGqlErrorMetadata=function(t){var e,n,r;this.markerAnnotation({int:{gql_error_code:t.code},string:{gql_error_exception_class:(e=t.exception)==null?void 0:e.class,gql_error_exception_message:(n=t.exception)==null?void 0:n.message},string_array:{gql_error_mids:t.mids,gql_error_path:(r=t.path)==null?void 0:r.map(function(e){return e.toString()})}})},n.markHandlerName=function(t){this.markerAnnotation({string:{handler_name:t}})},n.markerPoint=function(n){(e||(e=r("QuickPerformanceLogger"))).markerPoint(this.$1,n,{instanceKey:this.$2})},n.markerEnd=function(n){(e||(e=r("QuickPerformanceLogger"))).markerEnd(this.$1,n,this.$2)},t})();l.default=s}),98);
__d("IGDHandleWithFetchThreadFallback",["CurrentUser","IGDGetThread","IGDSlideAsyncFetchAndInsertIGDViewerThread","IGDSlideAsyncFetchAndInsertIGDViewerThreadQuery.graphql","IGDSlideDeltaHandlersReliabilityQPLLogger","RelayFBOperationLoader","WAResultOrError","getIGDFetchThreadEventEmitter","igGetDataID","igGetMissingFieldHandlers","justknobx","relay-runtime","relay-runtime/multi-actor-environment","relay-runtime/store/DataChecker","relay-runtime/store/RelayRecordSource"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){a==null||a.markerPoint("handle_with_fetch_fallback_start");var i=e.getStore(),l=o("relay-runtime").createOperationDescriptor(r("IGDSlideAsyncFetchAndInsertIGDViewerThreadQuery.graphql"),{thread_fbid:t}),s=o("relay-runtime").createNormalizationSelector(l.root.node,o("IGDGetThread").GetSlideThreadDataID(t),l.root.variables),u=r("relay-runtime/store/DataChecker").check(function(){return i.getSource()},function(){return r("relay-runtime/store/RelayRecordSource").create()},o("relay-runtime/multi-actor-environment").getActorIdentifier(r("CurrentUser").getPossiblyNonFacebookUserID()),s,r("igGetMissingFieldHandlers")(),r("RelayFBOperationLoader"),r("igGetDataID")),c=u.status;return c==="available"?(a==null||a.markerPoint("thread_tpq_data_available"),a==null||a.markerPoint("fetch_and_insert_viewer_thread_end"),n()):(a==null||a.markerPoint("thread_tpq_data_missing"),r("justknobx")._("5288")===!0?o("IGDSlideAsyncFetchAndInsertIGDViewerThread").IGDSlideAsyncFetchAndInsertIGDViewerThread(e,t,a,function(e){return e.success&&r("getIGDFetchThreadEventEmitter")().emit("threadFetched",{threadFbid:t}),r("IGDSlideDeltaHandlersReliabilityQPLLogger").handleResultOrError(e,a)}):o("IGDSlideAsyncFetchAndInsertIGDViewerThread").IGDSlideAsyncFetchAndInsertIGDViewerThreadWithExponentialBackoff(e,t,a,function(e){return e.success&&r("getIGDFetchThreadEventEmitter")().emit("threadFetched",{threadFbid:t}),r("IGDSlideDeltaHandlersReliabilityQPLLogger").handleResultOrError(e,a)}),a==null||a.markerPoint("handle_with_fetch_fallback_end"),o("WAResultOrError").makeResult("deferred"))}l.default=e}),98);
__d("IGDMqttBaseSubscription",["FBLogger","ODS"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(){this.subscriptionState="Unsubscribed"}var n=t.prototype;return n.getModuleName=function(){throw r("FBLogger")("igd_web_mqtt").mustfixThrow("getModuleName() must be implemented.")},n.subscribe=function(){throw r("FBLogger")("igd_web_mqtt").mustfixThrow("subscribe() must be implemented.")},n.unsubscribe=function(){throw r("FBLogger")("igd_web_mqtt").mustfixThrow("unsubscribe() must be implemented.")},n.logODS=function(n,r){r===void 0&&(r=1),(e||(e=o("ODS"))).bumpEntityKey(5588,"instagram_web_direct_mqtt",this.getModuleName()+"."+n,r)},t})();l.default=s}),98);
__d("IgdWebOnMsgrQuickLogModule",[],(function(t,n,r,o,a,i){var e=Object.freeze({CREATE_GROUP:832770470,ENCRYPTED_BACKUP_SETUP:832779164,GIF_PICKER_OPEN:832767951,IG_DIRECT_OPEN_RECEIVER_FETCH_REQUEST:832772736,IG_IRIS_SUBSCRIPTION_SETUP:832768996,MEDIA_RENDER:832782319,MQTT_PUB:832768284,PRO_LOAD_THREADS:832772100,RESTORE:832770348,SHARESHEET_SEND_TO_SENT:832770902});i.default=e}),66);
__d("IGDMqttIrisSubscriptionQPLLogger",["QuickPerformanceLogger","Random","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(){this.$1=0,this.$2=r("qpl")._(832768996,"2823")}var n=t.prototype;return n.markerStart=function(){this.$1=o("Random").uint32(),(e||(e=r("QuickPerformanceLogger"))).markerStart(this.$2,this.$1,void 0,{timeoutMS:6e4})},n.markerAnnotate=function(n){(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(this.$2,n,{instanceKey:this.$1})},n.markerPoint=function(n){(e||(e=r("QuickPerformanceLogger"))).markerPoint(this.$2,n,{instanceKey:this.$1})},n.markerEnd=function(n){(e||(e=r("QuickPerformanceLogger"))).markerEnd(this.$2,n,this.$1)},t})();l.IGDMqttIrisSubscriptionQPLLogger=s}),98);
__d("IGDMqttIrisSubscriptionQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9476575619127164"}),null);
__d("IGDMqttIrisSubscriptionQuery.graphql",["IGDMqttIrisSubscriptionQuery_instagramRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"iris_seq_id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDMqttIrisSubscriptionQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[e],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"IGDMqttIrisSubscriptionQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("IGDMqttIrisSubscriptionQuery_instagramRelayOperation"),metadata:{},name:"IGDMqttIrisSubscriptionQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("IGDMqttIrisSubscription",["$InternalEnum","CometRelay","FBLogger","IGDMqttBaseSubscription","IGDMqttIrisSubscriptionQPLLogger","IGDMqttIrisSubscriptionQuery.graphql","PolarisIsLoggedIn","asyncToGeneratorRuntime","emptyFunction","exponentialBackoff","isObject","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("$InternalEnum")({UNKNOWN:0,ERROR_RESNAPSHOT:1,ERROR_RETRY:2}),u=e!==void 0?e:e=n("IGDMqttIrisSubscriptionQuery.graphql"),c=(function(e){function t(t,a,i,l,u,c){var d;return d=e.call(this)||this,d.$IGDMqttIrisSubscription$p_8=null,d.$IGDMqttIrisSubscription$p_10=0,d.$IGDMqttIrisSubscription$p_11="/ig_sub_iris",d.$IGDMqttIrisSubscription$p_12="/ig_sub_iris_response",d.$IGDMqttIrisSubscription$p_13={onMessage:function(t){t===d.$IGDMqttIrisSubscription$p_12&&d.logODS("ig_sub_iris_response.messages_received")},onSubscribe:function(t){t===d.$IGDMqttIrisSubscription$p_12&&d.logODS("ig_sub_iris_response.subscribed")},onUnsubscribe:function(t){t===d.$IGDMqttIrisSubscription$p_12&&(d.logODS("ig_sub_iris_response.unsubscribed"),d.cleanup())}},d.$IGDMqttIrisSubscription$p_21=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t;if(typeof e=="string"||e instanceof String)try{t=JSON.parse(e)}catch(n){r("FBLogger")("igd_web_mqtt").catching(n).mustfix("[IGDMqtt]: Could not parse sub iris response %s",e),t=n}else r("isObject")(e)?t=e:(r("FBLogger")("igd_web_mqtt").mustfix("[IGDMqtt]: Unknown sub iris response"),t={succeeded:!1});d.$IGDMqttIrisSubscription$p_6.markerPoint("ig_sub_iris_response_received_and_parsed");var n=!!t.succeeded;if(n===!0)d.$IGDMqttIrisSubscription$p_16();else{var o,a=(o=t.error_type)!=null?o:s.UNKNOWN;yield d.$IGDMqttIrisSubscription$p_17(a)}});return function(t){return e.apply(this,arguments)}})(),d.$IGDMqttIrisSubscription$p_1=t,d.$IGDMqttIrisSubscription$p_2=a,d.$IGDMqttIrisSubscription$p_4=l,d.$IGDMqttIrisSubscription$p_3=i,d.$IGDMqttIrisSubscription$p_9=c!=null?c:r("emptyFunction"),d.$IGDMqttIrisSubscription$p_7=u,d.$IGDMqttIrisSubscription$p_6=new(o("IGDMqttIrisSubscriptionQPLLogger")).IGDMqttIrisSubscriptionQPLLogger,d.$IGDMqttIrisSubscription$p_5=r("exponentialBackoff")(function(e){return d.$IGDMqttIrisSubscription$p_14(e)}),d}babelHelpers.inheritsLoose(t,e);var a=t.prototype;return a.$IGDMqttIrisSubscription$p_14=function(t){var e=this;this.logODS("ig_sub_iris.publish."+t),this.$IGDMqttIrisSubscription$p_6.markerPoint("ig_sub_iris.publish."+t),this.$IGDMqttIrisSubscription$p_10++,this.$IGDMqttIrisSubscription$p_6.markerAnnotate({int:{subscription_attempt_count:this.$IGDMqttIrisSubscription$p_10}});var n=JSON.stringify(babelHelpers.extends({},this.$IGDMqttIrisSubscription$p_4,{graphql_config:JSON.stringify(this.$IGDMqttIrisSubscription$p_4.graphql_config),seq_id:this.$IGDMqttIrisSubscription$p_15(),snapshot_at_ms:Date.now()}));r("FBLogger")("igd_web_mqtt").debug("[IGDMqtt]: Publishing subscription config with Iris with %s",n),this.logODS("ig_sub_iris.publish_attempt"),this.$IGDMqttIrisSubscription$p_3.publish(this.$IGDMqttIrisSubscription$p_11,n).then(function(){e.logODS("ig_sub_iris.publish_success"),e.$IGDMqttIrisSubscription$p_6.markerPoint("ig_sub_iris.publish_success")}).catch(function(t){e.logODS("ig_sub_iris.publish_failed"),e.$IGDMqttIrisSubscription$p_6.markerPoint("ig_sub_iris.publish_failed"),r("FBLogger")("igd_web_mqtt").catching(t).mustfix("[IGDMqtt]: Failed to subscribe by publishing to ig_sub_iris with %s",n)})},a.$IGDMqttIrisSubscription$p_16=function(){this.logODS("ig_sub_iris_response.iris_connection_success"),this.$IGDMqttIrisSubscription$p_6.markerEnd(2),this.$IGDMqttIrisSubscription$p_5.reset()},a.$IGDMqttIrisSubscription$p_17=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){switch(this.logODS("ig_sub_iris_response.iris_connection_failed"),e){case s.ERROR_RESNAPSHOT:yield this.$IGDMqttIrisSubscription$p_18();break;case s.ERROR_RETRY:this.$IGDMqttIrisSubscription$p_19();break;default:this.$IGDMqttIrisSubscription$p_20()}});function t(t){return e.apply(this,arguments)}return t})(),a.$IGDMqttIrisSubscription$p_18=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){this.logODS("ig_sub_iris_response.iris_connection_error_type_resnapshot"),this.$IGDMqttIrisSubscription$p_6.markerPoint("iris_connection_error_type_resnapshot");try{var e;this.$IGDMqttIrisSubscription$p_6.markerPoint("fetch_new_seq_id_start");var t=yield o("CometRelay").fetchQuery(this.$IGDMqttIrisSubscription$p_2,u,{},{fetchPolicy:"network-only"}).toPromise();this.$IGDMqttIrisSubscription$p_6.markerPoint("fetch_new_seq_id_end");var n=this.$IGDMqttIrisSubscription$p_15(),a=t==null||(e=t.viewer)==null||(e=e.user)==null?void 0:e.iris_seq_id;a!=null?(this.$IGDMqttIrisSubscription$p_6.markerPoint("non_null_seq_id_fetched"),a>n?(this.$IGDMqttIrisSubscription$p_7.updateSequenceID(a),this.$IGDMqttIrisSubscription$p_14("resnapshot_retry_new_seq_id_received"),this.$IGDMqttIrisSubscription$p_9(a)):this.$IGDMqttIrisSubscription$p_5("resnapshot_retry_old_seq_id_received")):this.$IGDMqttIrisSubscription$p_6.markerPoint("null_new_seq_id_fetched")}catch(e){r("FBLogger")("igd_web_mqtt").catching(e).mustfix("[IGDMqtt]: Failed to query for new seq id for resnapshot, retrying with backoff"),this.$IGDMqttIrisSubscription$p_5("resnapshot_seq_id_fetch_failed")}});function t(){return e.apply(this,arguments)}return t})(),a.$IGDMqttIrisSubscription$p_19=function(){this.logODS("ig_sub_iris_response.iris_connection_error_type_retry"),this.$IGDMqttIrisSubscription$p_6.markerPoint("iris_connection_error_type_retry"),this.$IGDMqttIrisSubscription$p_5("retry")},a.$IGDMqttIrisSubscription$p_20=function(){this.logODS("ig_sub_iris_response.iris_connection_failed_unknown_error_type"),this.$IGDMqttIrisSubscription$p_6.markerPoint("iris_connection_failed_unknown_error_type"),this.$IGDMqttIrisSubscription$p_6.markerEnd(3)},a.$IGDMqttIrisSubscription$p_15=function(){var e=this.$IGDMqttIrisSubscription$p_7.getSequenceID();return e==null?(this.logODS("init_seq_id_tracker"),this.$IGDMqttIrisSubscription$p_7.updateSequenceID(this.$IGDMqttIrisSubscription$p_1),this.$IGDMqttIrisSubscription$p_1):e},a.getModuleName=function(){return"IGDMqttIrisSubscription"},a.cleanup=function(){this.$IGDMqttIrisSubscription$p_10=0,this.subscriptionState="Unsubscribed",this.$IGDMqttIrisSubscription$p_3.removeHook(this.$IGDMqttIrisSubscription$p_13),this.$IGDMqttIrisSubscription$p_6.markerEnd(4)},a.subscribe=function(){var e=this;if(this.subscriptionState!=="Subscribed")return this.subscriptionState="Subscribing",this.$IGDMqttIrisSubscription$p_3.addHook(this.$IGDMqttIrisSubscription$p_13),this.$IGDMqttIrisSubscription$p_8=this.$IGDMqttIrisSubscription$p_3.subscribe(this.$IGDMqttIrisSubscription$p_12,function(t){return r("promiseDone")(e.$IGDMqttIrisSubscription$p_21(t))}),this.$IGDMqttIrisSubscription$p_6.markerStart(),this.$IGDMqttIrisSubscription$p_6.markerAnnotate({bool:{isLoggedIn:o("PolarisIsLoggedIn").isLoggedIn()}}),this.$IGDMqttIrisSubscription$p_14("initial"),this.subscriptionState="Subscribed",function(){e.unsubscribe()}},a.unsubscribe=function(){var e;(e=this.$IGDMqttIrisSubscription$p_8)==null||e.call(this),this.cleanup()},t})(r("IGDMqttBaseSubscription"));l.IRIS_SEQ_ID_QUERY=u,l.IGDMqttIrisSubscription=c}),98);
__d("IGDMqttMessageSyncSlideSubscription",["FBLogger","IGDMqttBaseSubscription","getErrorSafe","polarisArraySplitChunks","polarisForEachAsync","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var o;return o=e.call(this)||this,o.$IGDMqttMessageSyncSlideSubscription$p_2=20,o.$IGDMqttMessageSyncSlideSubscription$p_3=null,o.$IGDMqttMessageSyncSlideSubscription$p_4={onMessage:function(t){t===o.$IGDMqttMessageSyncSlideSubscription$p_5&&o.logODS("ig_message_sync.messages_received")},onSubscribe:function(t){t===o.$IGDMqttMessageSyncSlideSubscription$p_5&&o.logODS("ig_message_sync.subscribed")},onUnsubscribe:function(t){t===o.$IGDMqttMessageSyncSlideSubscription$p_5&&(o.logODS("ig_message_sync.unsubscribed"),o.cleanup())}},o.$IGDMqttMessageSyncSlideSubscription$p_5="/ig_message_sync",o.$IGDMqttMessageSyncSlideSubscription$p_7=function(e){var t=[];try{t=JSON.parse(e)}catch(e){o.logODS("ig_message_sync.json_parse_error"),r("FBLogger")("igd_web_mqtt").catching(r("getErrorSafe")(e)).mustfix("[IGDMqtt]: Couldn't parse mqttMessages")}if(!Array.isArray(t)){o.logODS("ig_message_sync.messages_not_array"),r("FBLogger")("igd_web_mqtt").debug("[IGDMqtt]: Skipping non-array mqtt messages");return}o.logODS("ig_message_sync.messages_parsed");var n=r("polarisArraySplitChunks")(t,o.$IGDMqttMessageSyncSlideSubscription$p_2);r("promiseDone")(r("polarisForEachAsync")(n,function(e){for(var t of e){o.logODS("ig_message_sync.message_handling_attempt");try{o.$IGDMqttMessageSyncSlideSubscription$p_6(t.data),o.logODS("ig_message_sync.message_handled")}catch(e){o.logODS("ig_message_sync.message_handling_error"),r("FBLogger")("igd_web_mqtt").catching(r("getErrorSafe")(e)).mustfix("[IGDMqtt]: Couldn't handle slide message message")}}}))},o.$IGDMqttMessageSyncSlideSubscription$p_1=t,o.$IGDMqttMessageSyncSlideSubscription$p_6=n,o}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getModuleName=function(){return"IGDMqttMessageSyncSlideSubscription"},n.cleanup=function(){this.subscriptionState="Unsubscribed",this.$IGDMqttMessageSyncSlideSubscription$p_1.removeHook(this.$IGDMqttMessageSyncSlideSubscription$p_4)},n.subscribe=function(){var e=this;if(this.subscriptionState!=="Subscribed")return this.$IGDMqttMessageSyncSlideSubscription$p_1.addHook(this.$IGDMqttMessageSyncSlideSubscription$p_4),this.subscriptionState="Subscribing",this.$IGDMqttMessageSyncSlideSubscription$p_3=this.$IGDMqttMessageSyncSlideSubscription$p_1.subscribe(this.$IGDMqttMessageSyncSlideSubscription$p_5,this.$IGDMqttMessageSyncSlideSubscription$p_7),this.subscriptionState="Subscribed",function(){e.unsubscribe()}},n.unsubscribe=function(){var e;(e=this.$IGDMqttMessageSyncSlideSubscription$p_3)==null||e.call(this),this.cleanup()},t})(r("IGDMqttBaseSubscription"));l.default=e}),98);
__d("IGDIrisSubscriptionManager",["IGDMqttIrisSubscription","IGDMqttMessageSyncSlideSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=0,this.$2=!1,this.$3=null,this.$4=null,this.$5=null,this.$6=null}var t=e.prototype;return t.initialize=function(t){this.$3==null&&(this.$3=new(r("IGDMqttMessageSyncSlideSubscription"))(t.mqttChannel,t.handlePayload),this.$4=new(o("IGDMqttIrisSubscription")).IGDMqttIrisSubscription(t.initialSeqId,t.relayEnvironment,t.mqttChannel,t.subscriptionParams,t.sequenceIdTracker,t.onRefresh))},t.subscribe=function(){var e=this;return this.$1++,this.$1===1&&!this.$2&&this.$7(),function(){e.unsubscribe()}},t.$7=function(){var e=this.$3,t=this.$4;e==null||t==null||(this.$5=e.subscribe(),this.$6=t.subscribe(),this.$2=!0)},t.unsubscribe=function(){this.$1=Math.max(0,this.$1-1),this.$1===0&&this.$2&&this.$8()},t.$8=function(){var e,t;(e=this.$5)==null||e.call(this),(t=this.$6)==null||t.call(this),this.$2=!1},t.isInitialized=function(){return this.$3!=null&&this.$4!=null},t.getDebugState=function(){var e,t,n,r;return{irisSubscriptionState:(e=(t=this.$4)==null?void 0:t.subscriptionState)!=null?e:null,isInitialized:this.isInitialized(),isSubscribed:this.$2,messageSyncSubscriptionState:(n=(r=this.$3)==null?void 0:r.subscriptionState)!=null?n:null,subscriberCount:this.$1}},e})();l.default=e}),98);
__d("IGDIrisSubscriptionSingleton",["IGDIrisSubscriptionManager"],(function(t,n,r,o,a,i,l){"use strict";var e=new(r("IGDIrisSubscriptionManager")),s=e;l.default=s}),98);
__d("IGDSlideDeleteThread",["CometRelay","IGDGetInboxConnection","IGDGetProInboxConnection","IGDGetSlideMailbox","IGDGetThread","RelayFBConnectionHandler","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r,a=o("IGDGetSlideMailbox").IGDGetSlideMailboxEnforced(e),i=(n=o("RelayFBConnectionHandler").getAllConnectionsWithKey(e,a,o("IGDGetInboxConnection").IGD_INBOX_CONNECTION_KEY))!=null?n:[],l=(r=o("RelayFBConnectionHandler").getAllConnectionsWithKey(e,a,o("IGDGetProInboxConnection").IGD_PRO_INBOX_CONNECTION_KEY))!=null?r:[],s=o("IGDGetThread").GetSlideThreadDataID(t);for(var u of i.concat(l))o("CometRelay").ConnectionHandler.deleteNode(u,s);return o("WAResultOrError").makeResult("success")}function s(t,n){var r=o("WAResultOrError").makeResult("success");return t.commitUpdate(function(t){r=e(t,n)}),r}function u(t,n){var r=o("WAResultOrError").makeResult("success");return t.commitUpdate(function(t){r=e(t,n)}),window.requestAnimationFrame(function(){t.commitUpdate(function(e){var t=o("IGDGetThread").getSlideThreadNullable(e,n);t==null||t.invalidateRecord();var r=o("IGDGetThread").getIGDirectViewerThreadNullable(e,n);r==null||r.invalidateRecord()})}),r}l.IGDSlideDeleteThreadFromInboxConnectionsOnly=s,l.IGDSlideDeleteThread=u}),98);
__d("IGDMoveThreadToFolder",["FBLogger","IGDGetThread","IGDHandleWithFetchThreadFallback","IGDInsertThreadToInboxConnection","IGDSlideDeleteThread","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i){var l=o("IGDSlideDeleteThread").IGDSlideDeleteThreadFromInboxConnectionsOnly(e,t);return l.value!=="success"?(r("FBLogger")("igd_web").warn("IGDMoveThreadToFolder: Failed to delete thread from all connections"),o("WAResultOrError").makeError("failed_to_delete_thread_from_connections")):r("IGDHandleWithFetchThreadFallback")(e,t,function(){return e.commitUpdate(function(e){var i=e.get(o("IGDGetThread").GetSlideThreadDataID(t));i!=null&&(l=r("IGDInsertThreadToInboxConnection")(e,i,n));var s=e.get(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(t));s==null||s.setValue(n,"system_folder"),a!=null&&(s==null||s.setValue(a,"folder"))}),l},i)}l.default=e}),98);
__d("IGDMqttChannel",["CurrentUser","Env","FBLogger","IGDMqttWebDeviceID","MqttChannel","MqttEnv","MqttEnvInitializer","PolarisLocales","PolarisUA","PolarisViewer","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e;r("MqttEnvInitializer").initialize();var s=null;function u(){return s==null&&(s=d()),s}function c(){s!=null&&(s.shutdown(),s=null)}function d(){o("MqttEnv").setIsUserLoggedInNow(r("CurrentUser").isLoggedIn);var t=o("PolarisUA").isMobile()?0x453bf7349370c:936619743392459,n={},a=o("PolarisLocales").language_code;a!=null&&(n["Accept-Language"]=a);var i=new(r("MqttChannel"))({appId:t,appSpecificInfo:n,capabilities:0,chatVisibility:!1,clientCapabilities:1,clientType:"cookie_auth",deviceId:r("IGDMqttWebDeviceID").clientId,endpoint:(e||(e=r("Env"))).ig_mqtt_wss_endpoint||"wss://edge-chat.instagram.com/chat",initialSubscribedTopics:[],pollingEndpoint:(e||(e=r("Env"))).ig_mqtt_polling_endpoint||"https://edge-chat.instagram.com/mqtt/pull",userFbid:r("nullthrows")(o("PolarisViewer").id)});return i.subscribeChannelEvents({onJSError:function(t){r("FBLogger")("igd_web_mqtt").catching(t).mustfix("[IGDMqtt]: MQTT JS error encountered")},onMQTTStateChanged:function(t){r("FBLogger")("igd_web_mqtt").debug("[IGDMqtt]: MQTT State has changed %s",t)}}),i}l.getIGDMqttChannel=u,l.shutdownAndClearIGDMqttChannel=c}),98);
__d("IGDMqttSetupWithSlideMailbox_SlideMailbox.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"IGDMqttSetupWithSlideMailbox_SlideMailbox",selections:[{alias:null,args:null,kind:"ScalarField",name:"iris_inactive_subscription_uq_seq_id",storageKey:null}],type:"SlideMailbox",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaProcessorQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="26011526715202565"}),null);
__d("IGDSlideDeltaProcessorQuery.graphql",["IGDSlideDeltaProcessorQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:!1,kind:"LocalArgument",name:"enable_off_msys_messages_list"},t={defaultValue:null,kind:"LocalArgument",name:"serialized_iris_deltas"},r=[{kind:"Variable",name:"serialized_iris_deltas",variableName:"serialized_iris_deltas"}],o={alias:null,args:null,kind:"ScalarField",name:"uq_seq_id",storageKey:null},a=[{kind:"Variable",name:"enable_off_msys_messages_list",variableName:"enable_off_msys_messages_list"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"log_message_id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"sender_fbid",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"text_body",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"igd_snippet",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"is_reported",storageKey:null},C={kind:"TypeDiscriminator",abstractKey:"__isSlideMessageContent"},b={kind:"InlineFragment",selections:[m],type:"SlideMessageText",abstractKey:null},v={alias:null,args:null,kind:"ScalarField",name:"is_sticker",storageKey:null},S=[i],R=[{alias:null,args:null,kind:"ScalarField",name:"eyebrow_text",storageKey:null}],L={alias:null,args:null,kind:"ScalarField",name:"attachment_fbid",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"attachment_cdn_url",storageKey:null},k={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAudioAttachment",kind:"LinkedField",name:"audio_attachments",plural:!0,selections:[L,{alias:null,args:null,kind:"ScalarField",name:"waveform_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration_ms",storageKey:null},E],storageKey:null}],type:"SlideMessageAudiosContent",abstractKey:null},I={alias:null,args:null,kind:"ScalarField",name:"preview_cdn_url",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"preview_height",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"preview_width",storageKey:null},x={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAnimatedMediaAttachment",kind:"LinkedField",name:"animated_media",plural:!0,selections:[L,{alias:null,args:null,kind:"ScalarField",name:"attachment_webp_url",storageKey:null},I,T,D,v,{alias:null,args:null,kind:"ScalarField",name:"attachment_mp4_url",storageKey:null}],storageKey:null}],type:"SlideMessageAnimatedMediaContent",abstractKey:null},$={alias:null,args:null,kind:"ScalarField",name:"attachment_type",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"preview_cdn_fallback_url",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"attachment_cdn_fallback_url",storageKey:null},M=[L,$,{kind:"InlineFragment",selections:[I,P,T,D,E,N],type:"SlideMessagingMediaAttachment",abstractKey:"__isSlideMessagingMediaAttachment"}],w={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:M,storageKey:null}],type:"SlideMessageImageContent",abstractKey:null},A={alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},F=[A,T,D],O={kind:"InlineFragment",selections:F,type:"SlideMessageCutoutStickerXMAContent",abstractKey:null},B={kind:"InlineFragment",selections:F,type:"SlideMessageAIStickerXMAContent",abstractKey:null},W={kind:"InlineFragment",selections:F,type:"SlideMessageStoreStickerContent",abstractKey:null},q={kind:"InlineFragment",selections:F,type:"SlideMessageAvatarStickerXMAContent",abstractKey:null},U={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideVideoAttachment",kind:"LinkedField",name:"videos",plural:!0,selections:M,storageKey:null}],type:"SlideMessageVideosContent",abstractKey:null},V={alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},G={alias:null,args:null,concreteType:"XFBSlideMessageXMAPreviewImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:[V,H,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_image_decoration_type",storageKey:null}],storageKey:null},z={alias:null,args:null,concreteType:"XFBSlideMessageXMASingleHeaderIcon",kind:"LinkedField",name:"header_icon",plural:!1,selections:[H],storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"header_subtitle_text",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"header_title_text",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"verified_type",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null},J=[H,V],Z={alias:null,args:null,concreteType:"XFBSlideMessageFavicon",kind:"LinkedField",name:"favicon",plural:!1,selections:J,storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"title_text",storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"caption_body_text",storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"subtitle_text",storageKey:null},re={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"xma_text_body",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"xma",plural:!1,selections:[i,{kind:"InlineFragment",selections:[G,z,j,K,Q,X,Y,Z,{alias:null,args:null,kind:"ScalarField",name:"is_quoted",storageKey:null}],type:"SlideMessagePortraitXMA",abstractKey:null},{kind:"InlineFragment",selections:[X,Y,z,j,K,Q,ee,te,ne,{alias:null,args:null,kind:"ScalarField",name:"subtitle_decoration_type",storageKey:null},G,{alias:null,args:null,kind:"ScalarField",name:"preview_layout_type",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideMessageXMAPreviewImage",kind:"LinkedField",name:"preview_extra_urls_info",plural:!0,selections:J,storageKey:null},Z],type:"SlideMessageStandardXMA",abstractKey:null},{kind:"InlineFragment",selections:[te],type:"SlideMessageExpiredPlaceholderXMA",abstractKey:null},{kind:"InlineFragment",selections:[ee,te],type:"SlideMessagePlaceholderXMA",abstractKey:null},{kind:"InlineFragment",selections:[G,Y,ne,ee,Z],type:"SlideMessageLayeredXMA",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"title_icon_type",storageKey:null},ee,ne,te,{alias:null,args:null,kind:"ScalarField",name:"overlay_icon_glyph",storageKey:null},Z],type:"SlideMessageNoteXMA",abstractKey:null}],storageKey:null}],type:"SlideMessageXMAContent",abstractKey:null},oe={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"messasge_text_body",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideMessageGenAISearchPluginSource",kind:"LinkedField",name:"search_sources",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"source_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_url",storageKey:null}],storageKey:null}],type:"SlideMessageGenAISearchPluginResponseXMAContent",abstractKey:null},ae={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"unified_response",storageKey:null}],type:"SlideMessageGenAIRichResponseXMAContent",abstractKey:null},ie={kind:"TypeDiscriminator",abstractKey:"__isSlideMessagingMediaAttachment"},le=[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"view_mode",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachment",plural:!1,selections:[i,ie,I,P,T,D,E,N,L],storageKey:null}],type:"SlideMessageRavenContent",abstractKey:"__isSlideMessageRavenContent"}],se={kind:"InlineFragment",selections:le,type:"SlideMessageRavenImageContent",abstractKey:null},ue={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ordered_photo_video_attachments",plural:!0,selections:[i,L,$,ie,I,P,T,D,E,N],storageKey:null}],type:"SlideMessageMultiMediaContent",abstractKey:null},ce={kind:"InlineFragment",selections:le,type:"SlideMessageRavenVideoContent",abstractKey:null},de={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"media_content_fbid",storageKey:null},{alias:null,args:null,concreteType:"XDTTrackData",kind:"LinkedField",name:"audio_track",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"web_30s_preview_download_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_artist",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_asset_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_link",storageKey:null},A],type:"SlideMessageMusicStickerXMAContent",abstractKey:null},me=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],pe={alias:null,args:null,concreteType:"SlideMentionedUserWithoutId",kind:"LinkedField",name:"mentioned_users_without_id",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_range_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null},_e={alias:null,args:null,kind:"ScalarField",name:"igd_is_forwarded",storageKey:null},fe={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},ge={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},he={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},ye={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},Ce={alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},ve={alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"ai_agent_type",storageKey:null},Re={alias:null,args:null,kind:"ScalarField",name:"client__send_status",storageKey:null},Le={condition:"enable_off_msys_messages_list",kind:"Condition",passingValue:!0,selections:[y,s,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[i,C,b,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAnimatedMediaAttachment",kind:"LinkedField",name:"animated_media",plural:!0,selections:[v],storageKey:null}],type:"SlideMessageAnimatedMediaContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:S,storageKey:null}],type:"SlideMessageImageContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideVideoAttachment",kind:"LinkedField",name:"videos",plural:!0,selections:S,storageKey:null}],type:"SlideMessageVideosContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"xma",plural:!1,selections:[i,{kind:"InlineFragment",selections:R,type:"SlideMessagePortraitXMA",abstractKey:null},{kind:"InlineFragment",selections:R,type:"SlideMessageExpiredPlaceholderXMA",abstractKey:null},{kind:"InlineFragment",selections:R,type:"SlideMessageStandardXMA",abstractKey:null}],storageKey:null}],type:"SlideMessageXMAContent",abstractKey:null},b,k,x,w,O,B,W,q,U,re,oe,ae,se,ue,ce,de,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_reaction_action_log",storageKey:null},{alias:null,args:null,concreteType:"XFBTextAppTextFragmentInWWW",kind:"LinkedField",name:"text_fragments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"plaintext",storageKey:null},{alias:null,args:null,concreteType:"XFBTextAppLinkTextFragmentInWWW",kind:"LinkedField",name:"link_fragment",plural:!1,selections:me,storageKey:null}],storageKey:null}],type:"SlideMessageAdminText",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBSlideReaction",kind:"LinkedField",name:"reactions",plural:!0,selections:[c,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bot_response_id",storageKey:null},pe,_e,{alias:null,args:null,kind:"ScalarField",name:"replied_to_message_id",storageKey:null},{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[s,{alias:null,args:null,concreteType:"SlideUser",kind:"LinkedField",name:"sender",plural:!1,selections:[fe,f],storageKey:null},d,f,y,_,m,h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[i,C,b,k,x,w,O,B,W,q,U,re,oe,ae,se,ue,ce,de],storageKey:null},pe,_e],storageKey:null},{alias:null,args:null,concreteType:"SlideUser",kind:"LinkedField",name:"sender",plural:!1,selections:[fe,f,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user_dict",plural:!1,selections:[ge,he,ye,{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[Ce,be],storageKey:null},ve,f,Se],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBSlideMessageEdit",kind:"LinkedField",name:"slide_edit_history",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"igd_wearables_attribution_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"igd_wearables_attribution_type",storageKey:null},{kind:"ClientExtension",selections:[Re]}]},Ee={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client__timestamp_ms",storageKey:null},Re]},ke={alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[l,f,d,_,g,p,h,m,Le,Ee],storageKey:null},Ie={alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[f,l,d,_,g,p,h,m,Le,Ee],storageKey:null},Te=[l,{alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_inbox_folder",storageKey:null}],De={alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},xe={alias:null,args:null,kind:"ScalarField",name:"user_igid",storageKey:null},$e=[ke];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"IGDSlideDeltaProcessorQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"slide_delta_processor",plural:!0,selections:[o,{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaDeleteReactionHandler_SlideUQPPDeleteReaction"}],type:"SlideUQPPDeleteReaction",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_delete_reaction"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaCreateReactionHandler_SlideUQPPCreateReaction"}],type:"SlideUQPPCreateReaction",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_create_reaction"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaMessageDeleteHandler_SlideUQPPDeleteMessage"}],type:"SlideUQPPDeleteMessage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_message_delete"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaAmendMessageEditMessageHandler_SlideUQPPEditMessage"}],type:"SlideUQPPEditMessage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_amend_message_edit_message"},{fragment:{kind:"InlineFragment",selections:[{args:a,kind:"FragmentSpread",name:"IGDSlideDeltaAdminTextMessageHandler_SlideUQPPAdminTextMessage"}],type:"SlideUQPPAdminTextMessage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_admin_text_message"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaReadReceiptHandler_SlideUQPPReadReceipt"}],type:"SlideUQPPReadReceipt",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_read_receipt"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaMarkReadHandler_SlideUQPPMarkRead"}],type:"SlideUQPPMarkRead",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_mark_read"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaIGMarkThreadUnreadHandler_SlideUQPPIGMarkThreadUnread"}],type:"SlideUQPPIGMarkThreadUnread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_ig_mark_thread_unread"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaDeleteThreadHandler_SlideUQPPDeleteThread"}],type:"SlideUQPPDeleteThread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_delete_thread"},{fragment:{kind:"InlineFragment",selections:[{args:a,kind:"FragmentSpread",name:"IGDSlideDeltaNewMessageHandler_SlideUQPPNewMessage"}],type:"SlideUQPPNewMessage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_new_message"},{fragment:{kind:"InlineFragment",selections:[{args:a,kind:"FragmentSpread",name:"IGDSlideDeltaThreadNameHandler_SlideUQPPThreadName"}],type:"SlideUQPPThreadName",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_thread_name"},{fragment:{kind:"InlineFragment",selections:[{args:a,kind:"FragmentSpread",name:"IGDSlideDeltaThreadImageHandler_SlideUQPPThreadImage"}],type:"SlideUQPPThreadImage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_thread_image"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaThreadFolderHandler_SlideUQPPUpdateThreadFolder"}],type:"SlideUQPPUpdateThreadFolder",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_thread_folder"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaChangeMuteSettingsHandler_SlideUQPPChangeMuteSettings"}],type:"SlideUQPPChangeMuteSettings",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_change_mute_settings"},{fragment:{kind:"InlineFragment",selections:[{args:a,kind:"FragmentSpread",name:"IGDSlideDeltaParticipantLeftGroupThreadHandler_SlideUQPPParticipantLeftGroupThread"}],type:"SlideUQPPParticipantLeftGroupThread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_participant_left_group_thread"},{fragment:{kind:"InlineFragment",selections:[{args:a,kind:"FragmentSpread",name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandler_SlideUQPPParticipantsAddedToGroupThread"}],type:"SlideUQPPParticipantsAddedToGroupThread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_participants_added_to_group_thread"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaGenericMapAdminsKeyMutationHandler_SlideUQPPGenericMapAdminsKeyMutation"}],type:"SlideUQPPGenericMapAdminsKeyMutation",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_generic_map_admins_key_mutation"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler_SlideUQPPIGDirectUserBlockMutation"}],type:"SlideUQPPIGDirectUserBlockMutation",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_user_block"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler_SlideUQPPIGDirectUserMessageBlockedMutation"}],type:"SlideUQPPIGDirectUserMessageBlockedMutation",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_user_message_block"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler_SlideUQPPIGDirectUserPseudoBlockMutation"}],type:"SlideUQPPIGDirectUserPseudoBlockMutation",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_user_pseudo_block"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler_SlideUQPPIGDirectUserRestrictMutation"}],type:"SlideUQPPIGDirectUserRestrictMutation",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_user_restrict"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaEditNicknameMutationHandler_SlideUQPPEditNickname"}],type:"SlideUQPPEditNickname",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_edit_nickname"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaEditNicknameSettingMutationHandler_SlideUQPPEditNicknameSetting"}],type:"SlideUQPPEditNicknameSetting",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_edit_nickname_setting"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaThreadTakedownMutationHandler_SlideUQPPSetTakedownState"}],type:"SlideUQPPSetTakedownState",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_thread_takedown"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaIGMoveThreadMutationHandler_SlideUQPPIGMoveThread"}],type:"SlideUQPPIGMoveThread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_move_thread"},{fragment:{kind:"InlineFragment",selections:[{args:a,kind:"FragmentSpread",name:"IGDSlideDeltaNewRavenMessageHandler_SlideUQPPNewRavenMessage"}],type:"SlideUQPPNewRavenMessage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_new_raven_message"},{fragment:{kind:"InlineFragment",selections:[{args:a,kind:"FragmentSpread",name:"IGDSlideDeltaNewGenieMessageHandler_SlideUQPPNewGenieMessage"}],type:"SlideUQPPNewGenieMessage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_new_genie_message"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaReportMessageHandler_SlideUQPPReportMessage"}],type:"SlideUQPPReportMessage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_report_message"},{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaPinUnpinThreadHandler_SlideUQPPPinnedThread"}],type:"SlideUQPPPinnedThread",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"delta_pinned_thread"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"IGDSlideDeltaProcessorQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"slide_delta_processor",plural:!0,selections:[i,o,{kind:"InlineFragment",selections:[l,s,{alias:null,args:null,concreteType:"XFBSlideReaction",kind:"LinkedField",name:"reaction",plural:!1,selections:[u],storageKey:null}],type:"SlideUQPPDeleteReaction",abstractKey:null},{kind:"InlineFragment",selections:[l,s,{alias:null,args:null,concreteType:"XFBSlideReaction",kind:"LinkedField",name:"reaction",plural:!1,selections:[u,c,{alias:null,args:null,kind:"ScalarField",name:"reaction_timestamp_ms",storageKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reacted_to_message_sender_fbid",storageKey:null}],type:"SlideUQPPCreateReaction",abstractKey:null},{kind:"InlineFragment",selections:[l,s],type:"SlideUQPPDeleteMessage",abstractKey:null},{kind:"InlineFragment",selections:[s,m,p,{alias:null,args:null,concreteType:"XFBSlideMessageEdit",kind:"LinkedField",name:"slide_edit_history_entry",plural:!1,selections:[_],storageKey:null}],type:"SlideUQPPEditMessage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"skip_bump_thread",storageKey:null},ke],type:"SlideUQPPAdminTextMessage",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,concreteType:"XFBSlideReadReceipt",kind:"LinkedField",name:"read_receipt",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"participant_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"watermark_timestamp_ms",storageKey:null}],storageKey:null}],type:"SlideUQPPReadReceipt",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"read_timestamp_ms",storageKey:null}],type:"SlideUQPPMarkRead",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"marked_as_unread",storageKey:null}],type:"SlideUQPPIGMarkThreadUnread",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"SlideUQPPDeleteThread",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[l,g,f,d,_,p,h,m,Le,Ee],storageKey:null}],type:"SlideUQPPNewMessage",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},Ie],type:"SlideUQPPThreadName",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thread_image",plural:!1,selections:me,storageKey:null},Ie],type:"SlideUQPPThreadImage",abstractKey:null},{kind:"InlineFragment",selections:Te,type:"SlideUQPPUpdateThreadFolder",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"is_muted_now",storageKey:null}],type:"SlideUQPPChangeMuteSettings",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"actor_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_participant_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_fbid",storageKey:null},{alias:null,args:null,concreteType:"SlideThread",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[f,De,{alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null}],storageKey:null},f],storageKey:null},Ie],type:"SlideUQPPParticipantLeftGroupThread",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"SlideThread",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[f,De,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[Se,f,{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_internal_user",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[be,Ce],storageKey:null},ye,ve,ge,he],storageKey:null}],storageKey:null},f],storageKey:null},Ie],type:"SlideUQPPParticipantsAddedToGroupThread",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"admin_igids",storageKey:null}],type:"SlideUQPPGenericMapAdminsKeyMutation",abstractKey:null},{kind:"InlineFragment",selections:[xe,{alias:null,args:null,kind:"ScalarField",name:"is_blocked",storageKey:null}],type:"SlideUQPPIGDirectUserBlockMutation",abstractKey:null},{kind:"InlineFragment",selections:[xe,{alias:null,args:null,kind:"ScalarField",name:"is_message_blocked",storageKey:null}],type:"SlideUQPPIGDirectUserMessageBlockedMutation",abstractKey:null},{kind:"InlineFragment",selections:[xe,{alias:null,args:null,kind:"ScalarField",name:"is_pseudo_blocked",storageKey:null}],type:"SlideUQPPIGDirectUserPseudoBlockMutation",abstractKey:null},{kind:"InlineFragment",selections:[xe,be],type:"SlideUQPPIGDirectUserRestrictMutation",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_user_eimu_id",storageKey:null},l],type:"SlideUQPPEditNickname",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"nickname_setting",storageKey:null},xe,l],type:"SlideUQPPEditNicknameSetting",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"takedown_state",storageKey:null}],type:"SlideUQPPSetTakedownState",abstractKey:null},{kind:"InlineFragment",selections:Te,type:"SlideUQPPIGMoveThread",abstractKey:null},{kind:"InlineFragment",selections:$e,type:"SlideUQPPNewRavenMessage",abstractKey:null},{kind:"InlineFragment",selections:$e,type:"SlideUQPPNewGenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[s,y,p],type:"SlideUQPPReportMessage",abstractKey:null},{kind:"InlineFragment",selections:[l,{alias:null,args:null,kind:"ScalarField",name:"is_pinned",storageKey:null}],type:"SlideUQPPPinnedThread",abstractKey:null}],storageKey:null}]},params:{id:n("IGDSlideDeltaProcessorQuery_instagramRelayOperation"),metadata:{},name:"IGDSlideDeltaProcessorQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("IGDSlideDeltaAdminTextMessageHandler_SlideUQPPAdminTextMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"enable_off_msys_messages_list"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaAdminTextMessageHandler_SlideUQPPAdminTextMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"skip_bump_thread",storageKey:null},{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{args:[{kind:"Variable",name:"enable_off_msys_messages_list",variableName:"enable_off_msys_messages_list"}],kind:"FragmentSpread",name:"IGDCreateSlideMessage_SlideMessage"}],storageKey:null}],type:"SlideUQPPAdminTextMessage",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaAdminTextMessageHandler",["FBLogger","IGDHandleWithFetchThreadFallback","IGDInsertSlideMessage","IGDSlideDeltaAdminTextMessageHandler_SlideUQPPAdminTextMessage.graphql","WAResultOrError","qex"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaAdminTextMessageHandler_SlideUQPPAdminTextMessage.graphql"));function s(e){if(e.__typename==="SlideUQPPAdminTextMessage")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaAdminTextMessageHandler")}function u(e,t,n){var a=s(t),i=a.message,l=a.skip_bump_thread;return i==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaAdminTextMessageHandler: message is null"),o("WAResultOrError").makeResult("skip")):(r("qex")._("2197")&&o("IGDInsertSlideMessage").IGDInsertSlideMessageToMessagesList(e,babelHelpers.extends({},i,{client__send_status:"AUTHORITATIVE"})),r("IGDHandleWithFetchThreadFallback")(e,i.thread_fbid,function(){return l===!0?o("IGDInsertSlideMessage").IGDInsertSlideMessageToInboxWithoutBumpThread(e,babelHelpers.extends({},i)):o("IGDInsertSlideMessage").IGDInsertSlideMessageToInbox(e,babelHelpers.extends({},i,{client__send_status:"AUTHORITATIVE"}))},n))}l.default=u}),98);
__d("IGDSlideDeltaAmendMessageEditMessageHandlerImpl",["IGDGetSlideMessage","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){var a=r==null?void 0:r.timestamp_ms;if(a==null||t==null)return o("WAResultOrError").makeResult("skip");var i=o("WAResultOrError").makeResult("skip");return e.commitUpdate(function(e){var r,l=o("IGDGetSlideMessage").GetSlideMessageNullable(e,n);if(l==null){i=o("WAResultOrError").makeResult("skip");return}var s=(r=l.getLinkedRecords("slide_edit_history"))!=null?r:[],u=s.length,c=e.create("client:"+o("IGDGetSlideMessage").GetSlideMessageDataID(n)+":slide_edit_history:"+u,"XFBSlideMessageEdit");c.setValue(t,"body"),c.setValue(a,"timestamp_ms"),l.setLinkedRecords([c].concat(s),"slide_edit_history"),i=o("WAResultOrError").makeResult("success")}),i}function s(t,n){var r=n.editHistoryEntry,a=n.igdSnippet,i=n.messageId,l=n.textBody,s=null;t.commitUpdate(function(e){var t=e.get(o("IGDGetSlideMessage").GetSlideMessageDataID(i)),n=t==null?void 0:t.getLinkedRecord("content");s=String(n==null?void 0:n.getValue("text_body")),t==null||t.setValue(l,"text_body"),n==null||n.setValue(l,"text_body"),t==null||t.setValue(a,"igd_snippet")});var u=e(t,s,i,r);return u}l.default=s}),98);
__d("IGDSlideDeltaAmendMessageEditMessageHandler_SlideUQPPEditMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaAmendMessageEditMessageHandler_SlideUQPPEditMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"igd_snippet",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideMessageEdit",kind:"LinkedField",name:"slide_edit_history_entry",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null}],storageKey:null}],type:"SlideUQPPEditMessage",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaAmendMessageEditMessageHandler",["FBLogger","IGDSlideDeltaAmendMessageEditMessageHandlerImpl","IGDSlideDeltaAmendMessageEditMessageHandler_SlideUQPPEditMessage.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaAmendMessageEditMessageHandler_SlideUQPPEditMessage.graphql"));function s(e){if(e.__typename==="SlideUQPPEditMessage")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaAmendMessageEditMessageHandler")}function u(e,t,n){var a=s(t),i=a.igd_snippet,l=a.message_id,u=a.slide_edit_history_entry,c=a.text_body;if(n==null||n.markerPoint("igd_slide_delta_amend_message_edit_message_handler_start"),l==null)return r("FBLogger")("igd_web").debug("IGDSlideDeltaAmendMessageEditMessageHandler: messageId is null"),n==null||n.markerPoint("igd_slide_delta_amend_message_edit_message_handler_end"),o("WAResultOrError").makeResult("skip");var d=r("IGDSlideDeltaAmendMessageEditMessageHandlerImpl")(e,{editHistoryEntry:u,igdSnippet:i,messageId:l,textBody:c});return n==null||n.markerPoint("igd_slide_delta_amend_message_edit_message_handler_end"),d}l.default=u}),98);
__d("IGDSlideDeltaChangeMuteSettingsHandlerUpdateQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"thread_fbid"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaChangeMuteSettingsHandlerUpdateQuery",selections:[{alias:null,args:[{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread_nullable",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_muted",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"UpdatableQuery"};a.exports=e}),null);
__d("IGDSlideDeltaChangeMuteSettingsHandler_SlideUQPPChangeMuteSettings.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaChangeMuteSettingsHandler_SlideUQPPChangeMuteSettings",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_muted_now",storageKey:null}],type:"SlideUQPPChangeMuteSettings",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaChangeMuteSettingsHandler",["FBLogger","IGDSlideDeltaChangeMuteSettingsHandlerUpdateQuery.graphql","IGDSlideDeltaChangeMuteSettingsHandler_SlideUQPPChangeMuteSettings.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e,s;e!==void 0||(e=n("IGDSlideDeltaChangeMuteSettingsHandler_SlideUQPPChangeMuteSettings.graphql"));function u(e){if(e.__typename==="SlideUQPPChangeMuteSettings")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaChangeMuteSettingsHandler")}var c=s!==void 0?s:s=n("IGDSlideDeltaChangeMuteSettingsHandlerUpdateQuery.graphql");function d(e,t,n){n==null||n.markerPoint("igd_slide_delta_change_mute_settings_handler_start");var a=u(t),i=a.is_muted_now,l=a.thread_fbid;return l==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaChangeMuteSettingsHandler: threadFbid is null"),n==null||n.markerPoint("igd_slide_delta_change_mute_settings_handler_end"),o("WAResultOrError").makeError("missing_viewer_thread")):(e.commitUpdate(function(e){var t,n=e.readUpdatableQuery(c,{thread_fbid:l}),r=n.updatableData;((t=r.get_slide_thread_nullable)==null?void 0:t.as_ig_direct_thread)!=null&&(r.get_slide_thread_nullable.as_ig_direct_thread.is_muted=!!i)}),n==null||n.markerPoint("igd_slide_delta_change_mute_settings_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=d}),98);
__d("IGDThreadGetUserNameRepresentation",["fbt","IGDGetThread"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e,t){var n,r=e==null?void 0:e.getLinkedRecords("users"),o=r==null||(n=r.find(function(e){return(e==null?void 0:e.getValue("interop_messaging_user_fbid"))===t}))==null?void 0:n.getValue("username");return typeof o=="string"?o:null}function u(t,n,r){var a=s._(/*BTDS*/"Instagram user").toString(),i={username:a},l=o("IGDGetThread").getIGDirectViewerThreadNullable(t,n);if(l!=null){var u;i.username=(u=e(l,r))!=null?u:a}return i}l.default=u}),226);
__d("IGDReactionSnippetGenerator",["fbt","CurrentUser","IGDGetThread","IGDThreadGetUserNameRepresentation"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){return e==="\u2764\uFE0F"||e==="\u2764"}function u(t){return e(t)?s._(/*BTDS*/"Liked your message").toString():s._(/*BTDS*/"Reacted {reaction_emoji} to your message",[s._param("reaction_emoji",t)]).toString()}function c(t,n){var r=t.username,o=r;return e(n)?s._(/*BTDS*/"{user} liked your message",[s._param("user",o)]).toString():s._(/*BTDS*/"{user} reacted {reaction_emoji} to your message",[s._param("user",o),s._param("reaction_emoji",n)]).toString()}function d(e,t,n,a,i){if(a!==r("CurrentUser").getEIMU())return null;var l=null;return e.commitUpdate(function(e){var a=o("IGDGetThread").getIGDirectViewerThreadNullable(e,t),s=(a==null?void 0:a.getValue("is_group"))===!1;s?l=u(i):l=c(r("IGDThreadGetUserNameRepresentation")(e,t,n),i)}),l}l.default=d}),226);
__d("IGDSlideDeltaCreateReactionHandler_SlideUQPPCreateReaction.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaCreateReactionHandler_SlideUQPPCreateReaction",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideReaction",kind:"LinkedField",name:"reaction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"log_message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_timestamp_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_fbid",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reacted_to_message_sender_fbid",storageKey:null}],type:"SlideUQPPCreateReaction",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaCreateReactionHandler",["CurrentUser","FBLogger","IGDGetSlideMessage","IGDHandleWithFetchThreadFallback","IGDInsertSlideMessage","IGDReactionSnippetGenerator","IGDSlideDeltaCreateReactionHandler_SlideUQPPCreateReaction.graphql","WAResultOrError","isStringNullOrEmpty","qex"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaCreateReactionHandler_SlideUQPPCreateReaction.graphql"));function s(e){if(e.__typename==="SlideUQPPCreateReaction")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaCreateReactionHandler")}function u(e,t,n){var a=n.log_message_id,i=n.reaction,l=n.reaction_timestamp_ms,s=n.sender_fbid;if(a==null||l==null||s==null||r("isStringNullOrEmpty")(i))return o("WAResultOrError").makeResult("skip");var u=o("WAResultOrError").makeResult("skip");return e.commitUpdate(function(e){var n,r=e.create("client:"+o("IGDGetSlideMessage").GetSlideMessageDataID(t)+":reactions:"+a,"XFBSlideReaction");r.setValue(a,"log_message_id"),r.setValue(i,"reaction"),r.setValue(l,"reaction_timestamp_ms"),r.setValue(s,"sender_fbid");var c=o("IGDGetSlideMessage").GetSlideMessageNullable(e,t);if(c==null){u=o("WAResultOrError").makeResult("skip");return}var d=(n=c.getLinkedRecords("reactions"))!=null?n:[];c.setLinkedRecords([].concat(d,[r]),"reactions"),u=o("WAResultOrError").makeResult("success")}),u}function c(e,t,n){n==null||n.markerPoint("igd_slide_delta_create_reaction_handler_start");var a=s(t),i=a.message_id,l=a.reacted_to_message_sender_fbid,c=a.reaction,d=a.thread_fbid;if(i==null)return r("FBLogger")("igd_web").mustfix("IGDSlideDeltaCreateReactionHandler: message_id is null"),n==null||n.markerPoint("igd_slide_delta_create_reaction_handler_end"),o("WAResultOrError").makeResult("skip");if(c==null)return r("FBLogger")("igd_web").mustfix("IGDSlideDeltaCreateReactionHandler: reaction is null"),n==null||n.markerPoint("igd_slide_delta_create_reaction_handler_end"),o("WAResultOrError").makeResult("skip");var m=c.log_message_id,p=c.reaction,_=c.reaction_timestamp_ms,f=c.sender_fbid;if(m==null||f==null||_==null)return r("FBLogger")("igd_web").debug("IGDSlideDeltaCreateReactionHandler: incomplete reaction data to form SlideMessage"),n==null||n.markerPoint("igd_slide_delta_create_reaction_handler_end"),o("WAResultOrError").makeResult("skip");u(e,i,c);var g=r("CurrentUser").getEIMU();if(p!=null&&g===l){if(f===g)return r("FBLogger")("igd_web").debug("IGDSlideDeltaCreateReactionHandler: sender is current user"),o("WAResultOrError").makeResult("skip");var h={client__send_status:"AUTHORITATIVE",content:{__isSlideMessageContent:"SlideMessageAdminText",__typename:"SlideMessageAdminText",is_reaction_action_log:!0,text_fragments:[]},content_type:"TEXT",id:m,igd_is_forwarded:!1,igd_snippet:r("IGDReactionSnippetGenerator")(e,d,f,l,p),is_reported:!1,message_id:m,offline_threading_id:"",reactions:[],replied_to_message:null,replied_to_message_id:null,sender_fbid:f,text_body:null,thread_fbid:d,timestamp_ms:_};r("qex")._("2197")&&o("IGDInsertSlideMessage").IGDInsertSlideMessageToMessagesList(e,babelHelpers.extends({},h)),r("IGDHandleWithFetchThreadFallback")(e,d,function(){return o("IGDInsertSlideMessage").IGDInsertSlideMessageToInbox(e,babelHelpers.extends({},h))})}return n==null||n.markerPoint("igd_slide_delta_create_reaction_handler_end"),o("WAResultOrError").makeResult("success")}l.default=c}),98);
__d("IGDSlideDeltaDeleteReactionHandler_SlideUQPPDeleteReaction.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaDeleteReactionHandler_SlideUQPPDeleteReaction",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideReaction",kind:"LinkedField",name:"reaction",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"log_message_id",storageKey:null}],storageKey:null}],type:"SlideUQPPDeleteReaction",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaDeleteReactionHandler",["FBLogger","IGDGetSlideMessage","IGDSlideDeltaDeleteReactionHandler_SlideUQPPDeleteReaction.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaDeleteReactionHandler_SlideUQPPDeleteReaction.graphql"));function s(e){if(e.__typename==="SlideUQPPDeleteReaction")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaDeleteReactionHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_delta_delete_reaction_handler_start");var a=s(t),i=a.message_id,l=a.reaction,u=a.thread_fbid;return u==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaDeleteReactionHandler: thread_fbid is null"),n==null||n.markerPoint("igd_slide_delta_delete_reaction_handler_end"),o("WAResultOrError").makeResult("skip")):l==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaDeleteReactionHandler: reaction is null"),n==null||n.markerPoint("igd_slide_delta_delete_reaction_handler_end"),o("WAResultOrError").makeResult("skip")):(e.commitUpdate(function(e){var t,n=o("IGDGetSlideMessage").GetSlideMessageNullable(e,i),r=(t=n==null?void 0:n.getLinkedRecords("reactions"))!=null?t:[],a=r.filter(function(e){return(e==null?void 0:e.getValue("log_message_id"))!==l.log_message_id}).filter(Boolean);n==null||n.setLinkedRecords(a,"reactions")}),n==null||n.markerPoint("igd_slide_delta_delete_reaction_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=u}),98);
__d("IGDSlideDeltaDeleteThreadHandler_SlideUQPPDeleteThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaDeleteThreadHandler_SlideUQPPDeleteThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],type:"SlideUQPPDeleteThread",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaDeleteThreadHandler",["FBLogger","IGDGetThread","IGDSlideDeleteThread","IGDSlideDeltaDeleteThreadHandler_SlideUQPPDeleteThread.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaDeleteThreadHandler_SlideUQPPDeleteThread.graphql"));function s(e){if(e.__typename==="SlideUQPPDeleteThread")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaDeleteThreadHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_delta_delete_thread_handler_start");var a=s(t),i=a.thread_fbid;if(i==null)return r("FBLogger")("igd_web").debug("IGDSlideDeltaDeleteThreadHandler: threadFbid is null"),n==null||n.markerPoint("igd_slide_delta_delete_thread_handler_end"),o("WAResultOrError").makeError("missing_thread_fbid");var l=e.getStore().getSource().get(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(i));if(l==null)return n==null||n.markerPoint("igd_slide_delta_delete_thread_handler_end"),o("WAResultOrError").makeResult("skip");var u=o("IGDSlideDeleteThread").IGDSlideDeleteThread(e,i);return n==null||n.markerPoint("igd_slide_delta_delete_thread_handler_end"),u}l.default=u}),98);
__d("IGDSlideDeltaEditNicknameMutationHandler_SlideUQPPEditNickname.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaEditNicknameMutationHandler_SlideUQPPEditNickname",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_user_eimu_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],type:"SlideUQPPEditNickname",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaEditNicknameMutationHandler",["FBLogger","IGDGetThread","IGDSlideDeltaEditNicknameMutationHandler_SlideUQPPEditNickname.graphql","WAResultOrError","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaEditNicknameMutationHandler_SlideUQPPEditNickname.graphql"));function s(e){if(e.__typename==="SlideUQPPEditNickname")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaEditNicknameMutationHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_delta_edit_nickname_mutation_handler_start");var a=s(t),i=a.nickname,l=a.target_user_eimu_id,u=a.thread_fbid;return u==null?(r("FBLogger")("igd_web_on_msgr").debug("IGDSlideDeltaEditNicknameMutationHandler: igdThreadId is missing from payload"),n==null||n.markerPoint("igd_slide_delta_edit_nickname_mutation_handler_end"),o("WAResultOrError").makeError("missing_thread_fbid")):(e.commitUpdate(function(e){var t=e.get(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(u)),n=t==null?void 0:t.getLinkedRecords("nicknames");if(n!=null)for(var a of n.filter(Boolean))a.getValue("eimu_id")===l&&(r("isStringNullOrEmpty")(i)?e.delete(a.getDataID()):a.setValue(i,"nickname"))}),n==null||n.markerPoint("igd_slide_delta_edit_nickname_mutation_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=u}),98);
__d("IGDSlideDeltaEditNicknameSettingMutationHandler_SlideUQPPEditNicknameSetting.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaEditNicknameSettingMutationHandler_SlideUQPPEditNicknameSetting",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nickname_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_igid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],type:"SlideUQPPEditNicknameSetting",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaEditNicknameSettingMutationHandler",["FBLogger","IGDGetThread","IGDSlideDeltaEditNicknameSettingMutationHandler_SlideUQPPEditNicknameSetting.graphql","WAResultOrError","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaEditNicknameSettingMutationHandler_SlideUQPPEditNicknameSetting.graphql"));function s(e){if(e.__typename==="SlideUQPPEditNicknameSetting")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaEditNicknameSettingMutationHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_delta_edit_nickname_setting_mutation_handler_start");var a=s(t),i=a.nickname_setting,l=a.thread_fbid,u=a.user_igid;return l==null?(r("FBLogger")("igd_web_on_msgr").debug("IGDSlideDeltaEditNicknameSettingMutationHandler: igdThreadId is missing from payload"),n==null||n.markerPoint("igd_slide_delta_edit_nickname_setting_mutation_handler_end"),o("WAResultOrError").makeError("missing_thread_fbid")):(e.commitUpdate(function(e){var t=e.get(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(l)),n=t==null?void 0:t.getLinkedRecords("nicknames_setting");if(n!=null)for(var a of n.filter(Boolean))a.getValue("user_igid")===u&&(r("isStringNullOrEmpty")(i)||a.setValue(i,"nickname_setting"))}),n==null||n.markerPoint("igd_slide_delta_edit_nickname_setting_mutation_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=u}),98);
__d("IGDSlideDeltaGenericMapAdminsKeyMutationHandler_SlideUQPPGenericMapAdminsKeyMutation.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaGenericMapAdminsKeyMutationHandler_SlideUQPPGenericMapAdminsKeyMutation",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"admin_igids",storageKey:null}],type:"SlideUQPPGenericMapAdminsKeyMutation",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaGenericMapAdminsKeyMutationHandler",["FBLogger","IGDGetThread","IGDSlideDeltaGenericMapAdminsKeyMutationHandler_SlideUQPPGenericMapAdminsKeyMutation.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaGenericMapAdminsKeyMutationHandler_SlideUQPPGenericMapAdminsKeyMutation.graphql"));function s(e){if(e.__typename==="SlideUQPPGenericMapAdminsKeyMutation")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaGenericMapAdminsKeyMutationHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_delta_generic_map_admins_key_mutation_handler_start");var a=s(t),i=a.admin_igids,l=a.thread_fbid;return l==null?(r("FBLogger")("igd_web_on_msgr").debug("IGDSlideDeltaGenericMapAdminsKeyMutationHandler: igdThreadId is missing from payload"),n==null||n.markerPoint("igd_slide_delta_generic_map_admins_key_mutation_handler_end"),o("WAResultOrError").makeError("missing_thread_fbid")):(e.commitUpdate(function(e){var t=e.get(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(l));t==null||t.setValue(i,"admin_user_ids")}),n==null||n.markerPoint("igd_slide_delta_generic_map_admins_key_mutation_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=u}),98);
__d("IGDSlideDeltaIGMarkThreadUnreadHandlerUpdateQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"thread_fbid"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaIGMarkThreadUnreadHandlerUpdateQuery",selections:[{alias:null,args:[{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread_nullable",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"marked_as_unread",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"UpdatableQuery"};a.exports=e}),null);
__d("IGDSlideDeltaIGMarkThreadUnreadHandler_SlideUQPPIGMarkThreadUnread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaIGMarkThreadUnreadHandler_SlideUQPPIGMarkThreadUnread",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"marked_as_unread",storageKey:null}],type:"SlideUQPPIGMarkThreadUnread",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaIGMarkThreadUnreadHandler",["FBLogger","IGDSlideDeltaIGMarkThreadUnreadHandlerUpdateQuery.graphql","IGDSlideDeltaIGMarkThreadUnreadHandler_SlideUQPPIGMarkThreadUnread.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e,s;e!==void 0||(e=n("IGDSlideDeltaIGMarkThreadUnreadHandler_SlideUQPPIGMarkThreadUnread.graphql"));function u(e){if(e.__typename==="SlideUQPPIGMarkThreadUnread")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaIGMarkThreadUnreadHandler")}var c=s!==void 0?s:s=n("IGDSlideDeltaIGMarkThreadUnreadHandlerUpdateQuery.graphql");function d(e,t,n){n==null||n.markerPoint("igd_slide_delta_ig_mark_thread_unread_handler_start");var a=u(t),i=a.marked_as_unread,l=a.thread_fbid;return l==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaIGMarkThreadUnreadHandler: threadFbid is null"),n==null||n.markerPoint("igd_slide_delta_ig_mark_thread_unread_handler_end"),o("WAResultOrError").makeError("missing_viewer_thread")):(e.commitUpdate(function(e){var t,n=e.readUpdatableQuery(c,{thread_fbid:l}),r=n.updatableData,o=(t=r.get_slide_thread_nullable)==null?void 0:t.as_ig_direct_thread;o!=null&&(o.marked_as_unread=i)}),n==null||n.markerPoint("igd_slide_delta_ig_mark_thread_unread_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=d}),98);
__d("IGDSlideDeltaIGMoveThreadMutationHandler_SlideUQPPIGMoveThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaIGMoveThreadMutationHandler_SlideUQPPIGMoveThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_inbox_folder",storageKey:null}],type:"SlideUQPPIGMoveThread",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaIGMoveThreadMutationHandler",["FBLogger","IGDMoveThreadToFolder","IGDSlideDeltaIGMoveThreadMutationHandler_SlideUQPPIGMoveThread.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaIGMoveThreadMutationHandler_SlideUQPPIGMoveThread.graphql"));function s(e){if(e.__typename==="SlideUQPPIGMoveThread")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaIGMoveThreadMutationHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_delta_ig_move_thread_mutation_handler_start");var a=s(t),i=a.folder,l=a.ig_inbox_folder,u=a.thread_fbid;if(u==null)return r("FBLogger")("igd_web_on_msgr").debug("IGDSlideDeltaIGMoveThreadMutationHandler: igdThreadId is missing from payload"),n==null||n.markerPoint("igd_slide_delta_ig_move_thread_mutation_handler_end"),o("WAResultOrError").makeError("missing_thread_fbid");if(i==null)return r("FBLogger")("igd_web_on_msgr").debug("IGDSlideDeltaIGMoveThreadMutationHandler: folder is missing from payload"),n==null||n.markerPoint("igd_slide_delta_ig_move_thread_mutation_handler_end"),o("WAResultOrError").makeError("missing_ig_inbox_folder");if(l==null)return r("FBLogger")("igd_web_on_msgr").debug("IGDSlideDeltaIGMoveThreadMutationHandler: ig_inbox_folder is missing from payload"),n==null||n.markerPoint("igd_slide_delta_ig_move_thread_mutation_handler_end"),o("WAResultOrError").makeError("missing_ig_inbox_folder");var c=r("IGDMoveThreadToFolder")(e,u,i,l);return n==null||n.markerPoint("igd_slide_delta_ig_move_thread_mutation_handler_end"),c}l.default=u}),98);
__d("IGDSlideDeltaMarkReadHandler_SlideUQPPMarkRead.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaMarkReadHandler_SlideUQPPMarkRead",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"read_timestamp_ms",storageKey:null}],type:"SlideUQPPMarkRead",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaMarkReadHandler",["CurrentUser","FBLogger","IGDSlideDeltaMarkReadHandler_SlideUQPPMarkRead.graphql","IGDSlideUpdateReadReceipt","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaMarkReadHandler_SlideUQPPMarkRead.graphql"));function s(e){if(e.__typename==="SlideUQPPMarkRead")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaMarkReadHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_delta_mark_read_handler_start");var a=s(t),i=a.read_timestamp_ms,l=a.thread_fbid;if(l==null)return r("FBLogger")("igd_web").debug("IGDSlideDeltaMarkReadHandler: threadFbid is null"),o("WAResultOrError").makeError("missing_viewer_thread");var u=r("CurrentUser").getEIMU();return e.commitUpdate(function(e){r("IGDSlideUpdateReadReceipt")(e,l,u,i)}),n==null||n.markerPoint("igd_slide_delta_mark_read_handler_end"),o("WAResultOrError").makeResult("success")}l.default=u}),98);
__d("IGDSlideDeleteMessage",["CometRelay","IGDGetSlideMessage","IGDInboxSlideMessagesConnection","IGDMessagesListSlideMessagesConnection","WAResultOrError","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=e.get(t);return r==null?o("WAResultOrError").makeResult("skip"):(o("CometRelay").ConnectionHandler.deleteNode(r,o("IGDGetSlideMessage").GetSlideMessageDataID(n)),o("WAResultOrError").makeResult("success"))}function s(t,n,a){var i=o("WAResultOrError").makeResult("skip");return i=e(t,o("IGDInboxSlideMessagesConnection").getConnectionID(n),a),r("qex")._("2197")&&(i=e(t,o("IGDMessagesListSlideMessagesConnection").getConnectionID(n),a)),i}function u(t,n,a){var i=o("WAResultOrError").makeResult("skip");return i=e(t,o("IGDInboxSlideMessagesConnection").getConnectionID(n),a),r("qex")._("2197")&&(i=e(t,o("IGDMessagesListSlideMessagesConnection").getConnectionID(n),a)),t.delete(o("IGDGetSlideMessage").GetSlideMessageDataID(a)),i}l.IGDSlideDeleteMessageFromMessagesListConnectionsOnly=s,l.IGDSlideDeleteMessage=u}),98);
__d("IGDSlideDeltaMessageDeleteHandlerImpl",["IGDGetInboxLatestSlideMessage","IGDGetSlideMessage","IGDSlideBumpThread","IGDSlideDeleteMessage","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var a=o("WAResultOrError").makeResult("skip"),i=o("IGDGetInboxLatestSlideMessage").IGDGetInboxLatestSlideMessage(e,n),l=o("IGDGetSlideMessage").GetSlideMessageDataID(t),s=i==null?void 0:i.getDataID(),u=!1;if(l===s&&(u=!0),a=o("IGDSlideDeleteMessage").IGDSlideDeleteMessage(e,n,t),a.value==="success"&&u){var c=o("IGDGetInboxLatestSlideMessage").IGDGetInboxLatestSlideMessage(e,n),d=c==null?void 0:c.getValue("timestamp_ms");d!=null&&typeof d=="string"&&r("IGDSlideBumpThread")(e,n,d)}return a}l.default=e}),98);
__d("IGDSlideDeltaMessageDeleteHandler_SlideUQPPDeleteMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaMessageDeleteHandler_SlideUQPPDeleteMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null}],type:"SlideUQPPDeleteMessage",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaMessageDeleteHandler",["FBLogger","IGDSlideDeltaMessageDeleteHandlerImpl","IGDSlideDeltaMessageDeleteHandler_SlideUQPPDeleteMessage.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaMessageDeleteHandler_SlideUQPPDeleteMessage.graphql"));function s(e){if(e.__typename==="SlideUQPPDeleteMessage")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaMessageDeleteHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_delta_message_delete_handler_start");var a=s(t),i=a.message_id,l=a.thread_fbid;if(i==null)return r("FBLogger")("igd_web").debug("IGDSlideDeltaMessageDeleteHandler: messageId is null"),n==null||n.markerPoint("igd_slide_delta_message_delete_handler_end"),o("WAResultOrError").makeResult("skip");if(l==null)return r("FBLogger")("igd_web").debug("IGDSlideDeltaMessageDeleteHandler: threadFbid is null"),n==null||n.markerPoint("igd_slide_delta_message_delete_handler_end"),o("WAResultOrError").makeResult("skip");var u=o("WAResultOrError").makeResult("skip");return e.commitUpdate(function(e){u=r("IGDSlideDeltaMessageDeleteHandlerImpl")(e,i,l)}),n==null||n.markerPoint("igd_slide_delta_message_delete_handler_end"),u}l.default=u}),98);
__d("IGDSlideDeltaNewGenieMessageHandler_SlideUQPPNewGenieMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"enable_off_msys_messages_list"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaNewGenieMessageHandler_SlideUQPPNewGenieMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"uq_seq_id",storageKey:null},{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{args:[{kind:"Variable",name:"enable_off_msys_messages_list",variableName:"enable_off_msys_messages_list"}],kind:"FragmentSpread",name:"IGDCreateSlideMessage_SlideMessage"}],storageKey:null}],type:"SlideUQPPNewGenieMessage",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaNewGenieMessageHandler",["FBLogger","IGDHandleWithFetchThreadFallback","IGDInsertSlideMessage","IGDSlideDeltaNewGenieMessageHandler_SlideUQPPNewGenieMessage.graphql","WAResultOrError","qex"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaNewGenieMessageHandler_SlideUQPPNewGenieMessage.graphql"));function s(e){if(e.__typename==="SlideUQPPNewGenieMessage")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaNewGenieMessageHandler")}function u(e,t,n){var a=s(t),i=a.message;return i==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaNewGenieMessageHandler: message is null"),o("WAResultOrError").makeResult("skip")):(r("qex")._("2197")&&o("IGDInsertSlideMessage").IGDInsertSlideMessageToMessagesList(e,babelHelpers.extends({},i,{client__send_status:"AUTHORITATIVE"})),r("IGDHandleWithFetchThreadFallback")(e,i.thread_fbid,function(){return o("IGDInsertSlideMessage").IGDInsertSlideMessageToInbox(e,babelHelpers.extends({},i,{client__send_status:"AUTHORITATIVE"}))},n))}l.default=u}),98);
__d("IGDSlideDeltaNewMessageHandler_SlideUQPPNewMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"enable_off_msys_messages_list"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaNewMessageHandler_SlideUQPPNewMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"uq_seq_id",storageKey:null},{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},{args:[{kind:"Variable",name:"enable_off_msys_messages_list",variableName:"enable_off_msys_messages_list"}],kind:"FragmentSpread",name:"IGDCreateSlideMessage_SlideMessage"}],storageKey:null}],type:"SlideUQPPNewMessage",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaNewMessageHandler",["FBLogger","IGDGetSlideMessage","IGDHandleWithFetchThreadFallback","IGDInsertSlideMessage","IGDSlideDeleteMessage","IGDSlideDeltaNewMessageHandler_SlideUQPPNewMessage.graphql","WAResultOrError","qex","relay-runtime/store/RelayModernRecord"],(function(t,n,r,o,a,i,l){"use strict";var e,s;e!==void 0||(e=n("IGDSlideDeltaNewMessageHandler_SlideUQPPNewMessage.graphql"));function u(e){if(e.__typename==="SlideUQPPNewMessage")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaNewMessageHandler")}function c(e,t,n){var a=u(t),i=a.message;if(i==null)return r("FBLogger")("igd_web").debug("IGDSlideDeltaNewMessageHandler: message is null"),o("WAResultOrError").makeResult("skip");var l="mid.$"+i.offline_threading_id,c=e.getStore().getSource().get(o("IGDGetSlideMessage").GetSlideMessageDataID(l)),d=null;return c!=null&&(d=String((s||(s=r("relay-runtime/store/RelayModernRecord"))).getValue(c,"client__timestamp_ms"))),r("qex")._("2197")&&o("IGDInsertSlideMessage").IGDInsertSlideMessageToMessagesList(e,babelHelpers.extends({},i,{client__send_status:"AUTHORITATIVE",client__timestamp_ms:d}),function(e){o("IGDSlideDeleteMessage").IGDSlideDeleteMessage(e,i.thread_fbid,l)}),r("IGDHandleWithFetchThreadFallback")(e,i.thread_fbid,function(){return o("IGDInsertSlideMessage").IGDInsertSlideMessageToInbox(e,babelHelpers.extends({},i,{client__send_status:"AUTHORITATIVE",client__timestamp_ms:d}),function(e){o("IGDSlideDeleteMessage").IGDSlideDeleteMessage(e,i.thread_fbid,l)})},n)}l.default=c}),98);
__d("IGDSlideDeltaNewRavenMessageHandler_SlideUQPPNewRavenMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"enable_off_msys_messages_list"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaNewRavenMessageHandler_SlideUQPPNewRavenMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"uq_seq_id",storageKey:null},{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{args:[{kind:"Variable",name:"enable_off_msys_messages_list",variableName:"enable_off_msys_messages_list"}],kind:"FragmentSpread",name:"IGDCreateSlideMessage_SlideMessage"}],storageKey:null}],type:"SlideUQPPNewRavenMessage",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaNewRavenMessageHandler",["FBLogger","IGDHandleWithFetchThreadFallback","IGDInsertSlideMessage","IGDSlideDeltaNewRavenMessageHandler_SlideUQPPNewRavenMessage.graphql","WAResultOrError","qex"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaNewRavenMessageHandler_SlideUQPPNewRavenMessage.graphql"));function s(e){if(e.__typename==="SlideUQPPNewRavenMessage")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaNewRavenMessageHandler")}function u(e,t,n){var a=s(t),i=a.message;return i==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaNewRavenMessageHandler: message is null"),o("WAResultOrError").makeResult("skip")):(r("qex")._("2197")&&o("IGDInsertSlideMessage").IGDInsertSlideMessageToMessagesList(e,babelHelpers.extends({},i,{client__send_status:"AUTHORITATIVE"})),r("IGDHandleWithFetchThreadFallback")(e,i.thread_fbid,function(){return o("IGDInsertSlideMessage").IGDInsertSlideMessageToInbox(e,babelHelpers.extends({},i,{client__send_status:"AUTHORITATIVE"}))},n))}l.default=u}),98);
__d("IGDSlideDeltaParticipantLeftGroupThreadHandler_SlideUQPPParticipantLeftGroupThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"enable_off_msys_messages_list"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaParticipantLeftGroupThreadHandler_SlideUQPPParticipantLeftGroupThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"actor_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_participant_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_fbid",storageKey:null},{alias:null,args:null,concreteType:"SlideThread",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{args:[{kind:"Variable",name:"enable_off_msys_messages_list",variableName:"enable_off_msys_messages_list"}],kind:"FragmentSpread",name:"IGDCreateSlideMessage_SlideMessage"}],storageKey:null}],type:"SlideUQPPParticipantLeftGroupThread",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaParticipantLeftGroupThreadHandler",["FBLogger","IGDGetThread","IGDHandleWithFetchThreadFallback","IGDInsertSlideMessage","IGDSlideDeleteThread","IGDSlideDeltaParticipantLeftGroupThreadHandler_SlideUQPPParticipantLeftGroupThread.graphql","WAResultOrError","qex"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaParticipantLeftGroupThreadHandler_SlideUQPPParticipantLeftGroupThread.graphql"));function s(e){if(e.__typename==="SlideUQPPParticipantLeftGroupThread")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaParticipantLeftGroupThreadHandler")}function u(e,t,n){var a=s(t),i=a.actor_fbid,l=a.left_participant_fbid,u=a.message,c=a.thread,d=a.viewer_fbid,m=c==null?void 0:c.as_ig_direct_thread,p=m==null?void 0:m.id;return m==null||p==null?o("WAResultOrError").makeResult("skip"):i===l&&i===d?o("IGDSlideDeleteThread").IGDSlideDeleteThread(e,p):(e.commitUpdate(function(e){var t=e.get(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(p)),n=t==null?void 0:t.getLinkedRecords("users");if(Array.isArray(n)){var r,a=(r=n==null?void 0:n.filter(function(e){return(e==null?void 0:e.getValue("interop_messaging_user_fbid"))!==l}))!=null?r:[];t==null||t.setLinkedRecords(a,"users")}t==null||t.setValue(m.thread_title,"thread_title"),t==null||t.setValue(m.input_mode,"input_mode")}),u!=null?(r("qex")._("2197")&&o("IGDInsertSlideMessage").IGDInsertSlideMessageToMessagesList(e,babelHelpers.extends({},u,{client__send_status:"AUTHORITATIVE"})),r("IGDHandleWithFetchThreadFallback")(e,p,function(){return i===l?o("IGDInsertSlideMessage").IGDInsertSlideMessageToInboxWithoutBumpThread(e,babelHelpers.extends({},u)):o("IGDInsertSlideMessage").IGDInsertSlideMessageToInbox(e,babelHelpers.extends({},u,{client__send_status:"AUTHORITATIVE"}))},n)):o("WAResultOrError").makeResult("success"))}l.default=u}),98);
__d("IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25549008018102558"}),null);
__d("IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery.graphql",["IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"thread_fbid"}],t=[{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery",selections:[{alias:null,args:t,concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread_nullable",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandler_XFBIGDirectViewerThread"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery",selections:[{alias:null,args:t,concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread_nullable",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"ai_agent_type",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_internal_user",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},r],storageKey:null}]},params:{id:n("IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery_instagramRelayOperation"),metadata:{},name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("IGDSlideDeltaParticipantsAddedToGroupThreadHandler_SlideUQPPParticipantsAddedToGroupThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"enable_off_msys_messages_list"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandler_SlideUQPPParticipantsAddedToGroupThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"SlideThread",kind:"LinkedField",name:"thread",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandler_XFBIGDirectViewerThread"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{args:[{kind:"Variable",name:"enable_off_msys_messages_list",variableName:"enable_off_msys_messages_list"}],kind:"FragmentSpread",name:"IGDCreateSlideMessage_SlideMessage"}],storageKey:null}],type:"SlideUQPPParticipantsAddedToGroupThread",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaParticipantsAddedToGroupThreadHandler_XFBIGDirectViewerThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaParticipantsAddedToGroupThreadHandler_XFBIGDirectViewerThread",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"users",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"ai_agent_type",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"fbid_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_internal_user",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"XFBIGDirectViewerThread",abstractKey:null}})();a.exports=e}),null);
__d("IGDSlideDeltaParticipantsAddedToGroupThreadHandler",["FBLogger","IGDHandleWithFetchThreadFallback","IGDInsertSlideMessage","IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery.graphql","IGDSlideDeltaParticipantsAddedToGroupThreadHandler_SlideUQPPParticipantsAddedToGroupThread.graphql","IGDSlideDeltaParticipantsAddedToGroupThreadHandler_XFBIGDirectViewerThread.graphql","WAResultOrError","qex","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;e!==void 0||(e=n("IGDSlideDeltaParticipantsAddedToGroupThreadHandler_XFBIGDirectViewerThread.graphql")),s!==void 0||(s=n("IGDSlideDeltaParticipantsAddedToGroupThreadHandler_SlideUQPPParticipantsAddedToGroupThread.graphql"));function c(e){if(e.__typename==="SlideUQPPParticipantsAddedToGroupThread")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaParticipantsAddedToGroupThreadHandler")}function d(e,t,a){var i=c(t),l=i.message,s=i.thread,d=s==null?void 0:s.as_ig_direct_thread,m=d==null?void 0:d.id;if(d==null||m==null)return o("WAResultOrError").makeResult("skip");var p=o("relay-runtime").createOperationDescriptor(u!==void 0?u:u=n("IGDSlideDeltaParticipantsAddedToGroupThreadHandlerUpdateQuery.graphql"),{thread_fbid:m});return e.commitPayload(p,{get_slide_thread_nullable:{as_ig_direct_thread:d,id:m}}),l!=null?(r("qex")._("2197")&&o("IGDInsertSlideMessage").IGDInsertSlideMessageToMessagesList(e,babelHelpers.extends({},l,{client__send_status:"AUTHORITATIVE"})),r("IGDHandleWithFetchThreadFallback")(e,m,function(){return o("IGDInsertSlideMessage").IGDInsertSlideMessageToInbox(e,babelHelpers.extends({},l,{client__send_status:"AUTHORITATIVE"}))},a)):o("WAResultOrError").makeResult("success")}l.default=d}),98);
__d("IGDSlideDeltaPinUnpinThreadHandler_SlideUQPPPinnedThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaPinUnpinThreadHandler_SlideUQPPPinnedThread",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_pinned",storageKey:null}],type:"SlideUQPPPinnedThread",abstractKey:null};a.exports=e}),null);
__d("updatePinnedThreads",["IGDGetSlideMailbox","IGDGetThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r,a=e.get(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(n));if(a!=null){a.setValue(t,"is_pin");var i=o("IGDGetSlideMailbox").GetSlideMailboxDataID(),l=e.get(i);if(l!=null){var s=(r=l.getLinkedRecords("pinned_threads_v2"))!=null?r:[],u=s.find(function(e){var t=e==null?void 0:e.getLinkedRecord("as_ig_direct_thread");return(t==null?void 0:t.getValue("id"))===n});if(t){if(u==null){var c="client:pinned_thread:"+n,d=e.get(c);d==null&&(d=e.create(c,"SlideMessagingGraphQLThread")),d.setLinkedRecord(a,"as_ig_direct_thread");var m=[d].concat(s);l.setLinkedRecords(m,"pinned_threads_v2")}}else if(u!=null){var p=s.filter(function(e){return e!==u});l.setLinkedRecords(p,"pinned_threads_v2")}}}}l.default=e}),98);
__d("IGDSlideDeltaPinUnpinThreadHandler",["FBLogger","IGDSlideDeltaPinUnpinThreadHandler_SlideUQPPPinnedThread.graphql","WAResultOrError","updatePinnedThreads"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaPinUnpinThreadHandler_SlideUQPPPinnedThread.graphql"));function s(e){if(e.__typename==="SlideUQPPPinnedThread")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaPinUnpinThreadHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_delta_pin_unpin_thread_handler_start");var a=s(t),i=a.is_pinned,l=a.thread_fbid;return l==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaPinUnpinThreadHandler: threadFbid is missing from payload"),n==null||n.markerPoint("igd_slide_delta_pin_unpin_thread_handler_end"),o("WAResultOrError").makeError("missing_thread_fbid")):(e.commitUpdate(function(e){r("updatePinnedThreads")(e,!!i,l)}),n==null||n.markerPoint("igd_slide_delta_pin_unpin_thread_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=u}),98);
__d("IGDSlideDeltaReadReceiptHandler_SlideUQPPReadReceipt.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaReadReceiptHandler_SlideUQPPReadReceipt",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideReadReceipt",kind:"LinkedField",name:"read_receipt",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"participant_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"watermark_timestamp_ms",storageKey:null}],storageKey:null}],type:"SlideUQPPReadReceipt",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaReadReceiptHandler",["FBLogger","IGDSlideDeltaReadReceiptHandler_SlideUQPPReadReceipt.graphql","IGDSlideUpdateReadReceipt","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaReadReceiptHandler_SlideUQPPReadReceipt.graphql"));function s(e){if(e.__typename==="SlideUQPPReadReceipt")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaReadReceiptHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_delta_read_receipt_handler_start");var a=s(t),i=a.read_receipt,l=a.thread_fbid;if(l==null)return r("FBLogger")("igd_web").debug("IGDSlideDeltaReadReceiptHandler: threadFbid is null"),n==null||n.markerPoint("igd_slide_delta_read_receipt_handler_end"),o("WAResultOrError").makeError("missing_viewer_thread");if(i==null)return r("FBLogger")("igd_web").debug("IGDSlideDeltaReadReceiptHandler: readReceipt is null"),n==null||n.markerPoint("igd_slide_delta_read_receipt_handler_end"),o("WAResultOrError").makeError("missing_read_receipt");var u=i.participant_fbid,c=i.watermark_timestamp_ms;return u==null||c==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaReadReceiptHandler: required read receipt fields are null"),n==null||n.markerPoint("igd_slide_delta_read_receipt_handler_end"),o("WAResultOrError").makeError("missing_read_receipt_fields")):(e.commitUpdate(function(e){r("IGDSlideUpdateReadReceipt")(e,l,u,c)}),n==null||n.markerPoint("igd_slide_delta_read_receipt_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=u}),98);
__d("IGDSlideDeltaReportMessageHandler_SlideUQPPReportMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaReportMessageHandler_SlideUQPPReportMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_reported",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"igd_snippet",storageKey:null}],type:"SlideUQPPReportMessage",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaReportMessageHandler",["FBLogger","IGDGetSlideMessage","IGDSlideDeltaReportMessageHandler_SlideUQPPReportMessage.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaReportMessageHandler_SlideUQPPReportMessage.graphql"));function s(e){if(e.__typename==="SlideUQPPReportMessage")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaReportMessageHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_delta_report_message_handler_start");var a=s(t),i=a.igd_snippet,l=a.is_reported,u=a.message_id;return u==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaReportMessageHandler: messageId is null"),n==null||n.markerPoint("igd_slide_delta_report_message_handler_end"),o("WAResultOrError").makeResult("skip")):(e.commitUpdate(function(e){var t=e.get(o("IGDGetSlideMessage").GetSlideMessageDataID(u));t==null||t.setValue(l,"is_reported"),t==null||t.setValue(i,"igd_snippet")}),n==null||n.markerPoint("igd_slide_delta_report_message_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=u}),98);
__d("IGDSlideDeltaThreadFolderHandler_SlideUQPPUpdateThreadFolder.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaThreadFolderHandler_SlideUQPPUpdateThreadFolder",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_inbox_folder",storageKey:null}],type:"SlideUQPPUpdateThreadFolder",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaThreadFolderHandler",["FBLogger","IGDMoveThreadToFolder","IGDSlideDeltaThreadFolderHandler_SlideUQPPUpdateThreadFolder.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideDeltaThreadFolderHandler_SlideUQPPUpdateThreadFolder.graphql"));function s(e){if(e.__typename==="SlideUQPPUpdateThreadFolder")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaThreadFolderHandler")}function u(e,t,n){var a=s(t),i=a.folder,l=a.ig_inbox_folder,u=a.thread_fbid;return u==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaThreadFolderHandler: threadFbid is null"),o("WAResultOrError").makeError("missing_thread_fbid")):r("IGDMoveThreadToFolder")(e,u,i,l,n)}l.default=u}),98);
__d("IGDSlideDeltaThreadImageHandlerUpdateQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"thread_fbid"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaThreadImageHandlerUpdateQuery",selections:[{alias:null,args:[{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread_nullable",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_image_url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"UpdatableQuery"};a.exports=e}),null);
__d("IGDSlideDeltaThreadImageHandler_SlideUQPPThreadImage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"enable_off_msys_messages_list"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaThreadImageHandler_SlideUQPPThreadImage",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thread_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{args:[{kind:"Variable",name:"enable_off_msys_messages_list",variableName:"enable_off_msys_messages_list"}],kind:"FragmentSpread",name:"IGDCreateSlideMessage_SlideMessage"}],storageKey:null}],type:"SlideUQPPThreadImage",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaThreadImageHandler",["FBLogger","IGDHandleWithFetchThreadFallback","IGDInsertSlideMessage","IGDSlideDeltaThreadImageHandlerUpdateQuery.graphql","IGDSlideDeltaThreadImageHandler_SlideUQPPThreadImage.graphql","WAResultOrError","qex"],(function(t,n,r,o,a,i,l){"use strict";var e,s;e!==void 0||(e=n("IGDSlideDeltaThreadImageHandler_SlideUQPPThreadImage.graphql"));function u(e){if(e.__typename==="SlideUQPPThreadImage")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaThreadImageHandler")}var c=s!==void 0?s:s=n("IGDSlideDeltaThreadImageHandlerUpdateQuery.graphql");function d(e,t,n){var a=u(t),i=a.message,l=a.thread_fbid,s=a.thread_image;return l==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaThreadImageHandler: threadFbid is null"),o("WAResultOrError").makeError("missing_viewer_thread")):(e.commitUpdate(function(e){var t,n=e.readUpdatableQuery(c,{thread_fbid:l}),r=n.updatableData;((t=r.get_slide_thread_nullable)==null?void 0:t.as_ig_direct_thread)!=null&&(r.get_slide_thread_nullable.as_ig_direct_thread.thread_image_url=s==null?void 0:s.uri)}),i!=null?(r("qex")._("2197")&&o("IGDInsertSlideMessage").IGDInsertSlideMessageToMessagesList(e,babelHelpers.extends({},i,{client__send_status:"AUTHORITATIVE"})),r("IGDHandleWithFetchThreadFallback")(e,l,function(){return o("IGDInsertSlideMessage").IGDInsertSlideMessageToInbox(e,babelHelpers.extends({},i,{client__send_status:"AUTHORITATIVE"}))},n)):o("WAResultOrError").makeResult("success"))}l.default=d}),98);
__d("IGDSlideDeltaThreadNameHandlerUpdateQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"thread_fbid"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaThreadNameHandlerUpdateQuery",selections:[{alias:null,args:[{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread_nullable",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"UpdatableQuery"};a.exports=e}),null);
__d("IGDSlideDeltaThreadNameHandler_SlideUQPPThreadName.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"enable_off_msys_messages_list"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaThreadNameHandler_SlideUQPPThreadName",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"message",plural:!1,selections:[{args:[{kind:"Variable",name:"enable_off_msys_messages_list",variableName:"enable_off_msys_messages_list"}],kind:"FragmentSpread",name:"IGDCreateSlideMessage_SlideMessage"}],storageKey:null}],type:"SlideUQPPThreadName",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaThreadNameHandler",["FBLogger","IGDHandleWithFetchThreadFallback","IGDInsertSlideMessage","IGDSlideDeltaThreadNameHandlerUpdateQuery.graphql","IGDSlideDeltaThreadNameHandler_SlideUQPPThreadName.graphql","WAResultOrError","qex"],(function(t,n,r,o,a,i,l){"use strict";var e,s;e!==void 0||(e=n("IGDSlideDeltaThreadNameHandler_SlideUQPPThreadName.graphql"));function u(e){if(e.__typename==="SlideUQPPThreadName")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaThreadNameHandler")}var c=s!==void 0?s:s=n("IGDSlideDeltaThreadNameHandlerUpdateQuery.graphql");function d(e,t,n){var a=u(t),i=a.message,l=a.thread_fbid,s=a.thread_name;return l==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaThreadNameHandler: threadFbid is null"),o("WAResultOrError").makeError("missing_viewer_thread")):(e.commitUpdate(function(e){var t,n=e.readUpdatableQuery(c,{thread_fbid:l}),r=n.updatableData;((t=r.get_slide_thread_nullable)==null?void 0:t.as_ig_direct_thread)!=null&&s!=null&&(r.get_slide_thread_nullable.as_ig_direct_thread.thread_title=s)}),i!=null?(r("qex")._("2197")&&o("IGDInsertSlideMessage").IGDInsertSlideMessageToMessagesList(e,babelHelpers.extends({},i,{client__send_status:"AUTHORITATIVE"})),r("IGDHandleWithFetchThreadFallback")(e,l,function(){return o("IGDInsertSlideMessage").IGDInsertSlideMessageToInbox(e,babelHelpers.extends({},i,{client__send_status:"AUTHORITATIVE"}))},n)):o("WAResultOrError").makeResult("success"))}l.default=d}),98);
__d("IGDSlideDeltaThreadTakedownMutationHandlerUpdateQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"thread_fbid"}],kind:"Fragment",metadata:null,name:"IGDSlideDeltaThreadTakedownMutationHandlerUpdateQuery",selections:[{alias:null,args:[{kind:"Variable",name:"thread_fbid",variableName:"thread_fbid"}],concreteType:"SlideThread",kind:"LinkedField",name:"get_slide_thread_nullable",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBIGDirectViewerThread",kind:"LinkedField",name:"as_ig_direct_thread",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"TakedownDataShapeRenderer",kind:"LinkedField",name:"takedown_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"takedown_state",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"UpdatableQuery"};a.exports=e}),null);
__d("IGDSlideDeltaThreadTakedownMutationHandler_SlideUQPPSetTakedownState.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideDeltaThreadTakedownMutationHandler_SlideUQPPSetTakedownState",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"takedown_state",storageKey:null}],type:"SlideUQPPSetTakedownState",abstractKey:null};a.exports=e}),null);
__d("IGDSlideDeltaThreadTakedownMutationHandler",["FBLogger","IGDSlideDeltaThreadTakedownMutationHandlerUpdateQuery.graphql","IGDSlideDeltaThreadTakedownMutationHandler_SlideUQPPSetTakedownState.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e,s;e!==void 0||(e=n("IGDSlideDeltaThreadTakedownMutationHandler_SlideUQPPSetTakedownState.graphql"));function u(e){if(e.__typename==="SlideUQPPSetTakedownState")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideDeltaThreadTakedownMutationHandler")}var c=s!==void 0?s:s=n("IGDSlideDeltaThreadTakedownMutationHandlerUpdateQuery.graphql");function d(e,t,n){n==null||n.markerPoint("igd_slide_delta_thread_takedown_mutation_handler_start");var a=u(t),i=a.takedown_state,l=a.thread_fbid;return l==null?(r("FBLogger")("igd_web").debug("IGDSlideDeltaThreadTakedownMutationHandler: threadFbid is null"),n==null||n.markerPoint("igd_slide_delta_thread_takedown_mutation_handler_end"),o("WAResultOrError").makeError("missing_viewer_thread")):(e.commitUpdate(function(e){var t,n=e.readUpdatableQuery(c,{thread_fbid:l}),r=n.updatableData,o=(t=r.get_slide_thread_nullable)==null?void 0:t.as_ig_direct_thread;(o==null?void 0:o.takedown_data)!=null&&(o.takedown_data.takedown_state=i)}),n==null||n.markerPoint("igd_slide_delta_thread_takedown_mutation_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=d}),98);
__d("IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler_SlideUQPPIGDirectUserBlockMutation.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler_SlideUQPPIGDirectUserBlockMutation",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_igid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_blocked",storageKey:null}],type:"SlideUQPPIGDirectUserBlockMutation",abstractKey:null};a.exports=e}),null);
__d("IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler",["FBLogger","IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler_SlideUQPPIGDirectUserBlockMutation.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler_SlideUQPPIGDirectUserBlockMutation.graphql"));function s(e){if(e.__typename==="SlideUQPPIGDirectUserBlockMutation")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_non_persisted_payload_ig_direct_user_block_mutation_handler_start");var a=s(t),i=a.is_blocked,l=a.user_igid;return l==null?(r("FBLogger")("igd_web").debug("IGDSlideNonPersistedPayloadIGDirectUserBlockHandler: user igid is missing from payload"),n==null||n.markerPoint("igd_slide_non_persisted_payload_ig_direct_user_block_mutation_handler_end"),o("WAResultOrError").makeError("missing_user_igid")):(e.commitUpdate(function(e){var t="XDTUserDict:"+l,n=e.get(t);if(n!=null){var r=n.getLinkedRecord("friendship_status");r==null||r.setValue(i,"blocking")}}),n==null||n.markerPoint("igd_slide_non_persisted_payload_ig_direct_user_block_mutation_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=u}),98);
__d("IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler_SlideUQPPIGDirectUserMessageBlockedMutation.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler_SlideUQPPIGDirectUserMessageBlockedMutation",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_igid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_message_blocked",storageKey:null}],type:"SlideUQPPIGDirectUserMessageBlockedMutation",abstractKey:null};a.exports=e}),null);
__d("IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler",["FBLogger","IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler_SlideUQPPIGDirectUserMessageBlockedMutation.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler_SlideUQPPIGDirectUserMessageBlockedMutation.graphql"));function s(e){if(e.__typename==="SlideUQPPIGDirectUserMessageBlockedMutation")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_non_persisted_payload_ig_direct_user_message_blocked_mutation_handler_start");var a=s(t),i=a.is_message_blocked,l=a.user_igid;return l==null?(r("FBLogger")("igd_web").debug("IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler: user igid is missing from payload"),n==null||n.markerPoint("igd_slide_non_persisted_payload_ig_direct_user_message_blocked_mutation_handler_end"),o("WAResultOrError").makeError("missing_user_igid")):(e.commitUpdate(function(e){var t="XDTUserDict:"+l,n=e.get(t);if(n!=null){var r=n.getLinkedRecord("friendship_status");r==null||r.setValue(i,"is_messaging_only_blocking")}}),n==null||n.markerPoint("igd_slide_non_persisted_payload_ig_direct_user_message_blocked_mutation_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=u}),98);
__d("IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler_SlideUQPPIGDirectUserPseudoBlockMutation.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler_SlideUQPPIGDirectUserPseudoBlockMutation",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_igid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_pseudo_blocked",storageKey:null}],type:"SlideUQPPIGDirectUserPseudoBlockMutation",abstractKey:null};a.exports=e}),null);
__d("IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler",["FBLogger","IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler_SlideUQPPIGDirectUserPseudoBlockMutation.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler_SlideUQPPIGDirectUserPseudoBlockMutation.graphql"));function s(e){if(e.__typename==="SlideUQPPIGDirectUserPseudoBlockMutation")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_non_persisted_payload_ig_direct_user_pseudo_block_mutation_handler_start");var a=s(t),i=a.is_pseudo_blocked,l=a.user_igid;return l==null?(r("FBLogger")("igd_web").debug("IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler: user igid is missing from payload"),n==null||n.markerPoint("igd_slide_non_persisted_payload_ig_direct_user_pseudo_block_mutation_handler_end"),o("WAResultOrError").makeError("missing_user_igid")):(e.commitUpdate(function(e){var t="XDTUserDict:"+l,n=e.get(t);if(n!=null){var r=n.getLinkedRecord("friendship_status");r==null||r.setValue(i,"is_messaging_pseudo_blocking")}}),n==null||n.markerPoint("igd_slide_non_persisted_payload_ig_direct_user_pseudo_block_mutation_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=u}),98);
__d("IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler_SlideUQPPIGDirectUserRestrictMutation.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler_SlideUQPPIGDirectUserRestrictMutation",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_igid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null}],type:"SlideUQPPIGDirectUserRestrictMutation",abstractKey:null};a.exports=e}),null);
__d("IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler",["FBLogger","IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler_SlideUQPPIGDirectUserRestrictMutation.graphql","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;e!==void 0||(e=n("IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler_SlideUQPPIGDirectUserRestrictMutation.graphql"));function s(e){if(e.__typename==="SlideUQPPIGDirectUserRestrictMutation")return e;throw r("FBLogger")("igd_web").mustfixThrow("Invalid mutation data passed to IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler")}function u(e,t,n){n==null||n.markerPoint("igd_slide_non_persisted_payload_ig_direct_user_restrict_mutation_handler_start");var a=s(t),i=a.is_restricted,l=a.user_igid;return l==null?(r("FBLogger")("igd_web").debug("IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler: user igid is missing from payload"),n==null||n.markerPoint("igd_slide_non_persisted_payload_ig_direct_user_restrict_mutation_handler_end"),o("WAResultOrError").makeError("missing_user_igid")):(e.commitUpdate(function(e){var t="XDTUserDict:"+l,n=e.get(t);if(n!=null){var r=n.getLinkedRecord("friendship_status");r==null||r.setValue(i,"is_restricted")}}),n==null||n.markerPoint("igd_slide_non_persisted_payload_ig_direct_user_restrict_mutation_handler_end"),o("WAResultOrError").makeResult("success"))}l.default=u}),98);
__d("IGDSlideMutationProcessor",["FBLogger","IGDSlideDeltaAdminTextMessageHandler","IGDSlideDeltaAmendMessageEditMessageHandler","IGDSlideDeltaChangeMuteSettingsHandler","IGDSlideDeltaCreateReactionHandler","IGDSlideDeltaDeleteReactionHandler","IGDSlideDeltaDeleteThreadHandler","IGDSlideDeltaEditNicknameMutationHandler","IGDSlideDeltaEditNicknameSettingMutationHandler","IGDSlideDeltaGenericMapAdminsKeyMutationHandler","IGDSlideDeltaIGMarkThreadUnreadHandler","IGDSlideDeltaIGMoveThreadMutationHandler","IGDSlideDeltaMarkReadHandler","IGDSlideDeltaMessageDeleteHandler","IGDSlideDeltaNewGenieMessageHandler","IGDSlideDeltaNewMessageHandler","IGDSlideDeltaNewRavenMessageHandler","IGDSlideDeltaParticipantLeftGroupThreadHandler","IGDSlideDeltaParticipantsAddedToGroupThreadHandler","IGDSlideDeltaPinUnpinThreadHandler","IGDSlideDeltaReadReceiptHandler","IGDSlideDeltaReportMessageHandler","IGDSlideDeltaThreadFolderHandler","IGDSlideDeltaThreadImageHandler","IGDSlideDeltaThreadNameHandler","IGDSlideDeltaThreadTakedownMutationHandler","IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler","IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler","IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler","IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler","WAResultOrError","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){try{switch(t.__typename){case"SlideUQPPDeleteReaction":return n.markHandlerName("IGDSlideDeltaDeleteReactionHandler"),r("IGDSlideDeltaDeleteReactionHandler")(e,t,n);case"SlideUQPPCreateReaction":return n.markHandlerName("IGDSlideDeltaCreateReactionHandler"),r("IGDSlideDeltaCreateReactionHandler")(e,t,n);case"SlideUQPPDeleteMessage":return n.markHandlerName("IGDSlideDeltaMessageDeleteHandler"),r("IGDSlideDeltaMessageDeleteHandler")(e,t,n);case"SlideUQPPEditMessage":return n.markHandlerName("IGDSlideDeltaAmendMessageEditMessageHandler"),r("IGDSlideDeltaAmendMessageEditMessageHandler")(e,t,n);case"SlideUQPPAdminTextMessage":return n.markHandlerName("IGDSlideDeltaAdminTextMessageHandler"),r("IGDSlideDeltaAdminTextMessageHandler")(e,t,n);case"SlideUQPPReadReceipt":return n.markHandlerName("IGDSlideDeltaReadReceiptHandler"),r("IGDSlideDeltaReadReceiptHandler")(e,t,n);case"SlideUQPPMarkRead":return n.markHandlerName("IGDSlideDeltaMarkReadHandler"),r("IGDSlideDeltaMarkReadHandler")(e,t,n);case"SlideUQPPIGMarkThreadUnread":return n.markHandlerName("IGDSlideDeltaIGMarkThreadUnreadHandler"),r("IGDSlideDeltaIGMarkThreadUnreadHandler")(e,t,n);case"SlideUQPPDeleteThread":return n.markHandlerName("IGDSlideDeltaDeleteThreadHandler"),r("IGDSlideDeltaDeleteThreadHandler")(e,t,n);case"SlideUQPPNewMessage":return n.markHandlerName("IGDSlideDeltaNewMessageHandler"),r("IGDSlideDeltaNewMessageHandler")(e,t,n);case"SlideUQPPThreadName":return n.markHandlerName("IGDSlideDeltaThreadNameHandler"),r("IGDSlideDeltaThreadNameHandler")(e,t,n);case"SlideUQPPThreadImage":return n.markHandlerName("IGDSlideDeltaThreadImageHandler"),r("IGDSlideDeltaThreadImageHandler")(e,t,n);case"SlideUQPPUpdateThreadFolder":return n.markHandlerName("IGDSlideDeltaThreadFolderHandler"),r("IGDSlideDeltaThreadFolderHandler")(e,t,n);case"SlideUQPPChangeMuteSettings":return n.markHandlerName("IGDSlideDeltaChangeMuteSettingsHandler"),r("IGDSlideDeltaChangeMuteSettingsHandler")(e,t,n);case"SlideUQPPParticipantsAddedToGroupThread":return n.markHandlerName("IGDSlideDeltaParticipantsAddedToGroupThreadHandler"),r("IGDSlideDeltaParticipantsAddedToGroupThreadHandler")(e,t,n);case"SlideUQPPParticipantLeftGroupThread":return n.markHandlerName("IGDSlideDeltaParticipantLeftGroupThreadHandler"),r("IGDSlideDeltaParticipantLeftGroupThreadHandler")(e,t,n);case"SlideUQPPGenericMapAdminsKeyMutation":return n.markHandlerName("IGDSlideDeltaGenericMapAdminsKeyMutationHandler"),r("IGDSlideDeltaGenericMapAdminsKeyMutationHandler")(e,t,n);case"SlideUQPPIGDirectUserBlockMutation":return n.markHandlerName("IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler"),r("IGDSlideNonPersistedPayloadIGDirectUserBlockMutationHandler")(e,t,n);case"SlideUQPPIGDirectUserMessageBlockedMutation":return n.markHandlerName("IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler"),r("IGDSlideNonPersistedPayloadIGDirectUserMessageBlockedMutationHandler")(e,t,n);case"SlideUQPPIGDirectUserPseudoBlockMutation":return n.markHandlerName("IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler"),r("IGDSlideNonPersistedPayloadIGDirectUserPseudoBlockMutationHandler")(e,t,n);case"SlideUQPPIGDirectUserRestrictMutation":return n.markHandlerName("IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler"),r("IGDSlideNonPersistedPayloadIGDirectUserRestrictMutationHandler")(e,t,n);case"SlideUQPPEditNickname":return n.markHandlerName("IGDSlideDeltaEditNicknameMutationHandler"),r("IGDSlideDeltaEditNicknameMutationHandler")(e,t,n);case"SlideUQPPEditNicknameSetting":return n.markHandlerName("IGDSlideDeltaEditNicknameSettingMutationHandler"),r("IGDSlideDeltaEditNicknameSettingMutationHandler")(e,t,n);case"SlideUQPPSetTakedownState":return n.markHandlerName("IGDSlideDeltaThreadTakedownMutationHandler"),r("IGDSlideDeltaThreadTakedownMutationHandler")(e,t,n);case"SlideUQPPIGMoveThread":return n.markHandlerName("IGDSlideDeltaIGMoveThreadMutationHandler"),r("IGDSlideDeltaIGMoveThreadMutationHandler")(e,t,n);case"SlideUQPPNewRavenMessage":return n.markHandlerName("IGDSlideDeltaNewRavenMessageHandler"),r("IGDSlideDeltaNewRavenMessageHandler")(e,t,n);case"SlideUQPPNewGenieMessage":return n.markHandlerName("IGDSlideDeltaNewGenieMessageHandler"),r("IGDSlideDeltaNewGenieMessageHandler")(e,t,n);case"SlideUQPPReportMessage":return n.markHandlerName("IGDSlideDeltaReportMessageHandler"),r("IGDSlideDeltaReportMessageHandler")(e,t,n);case"SlideUQPPPinnedThread":return n.markHandlerName("IGDSlideDeltaPinUnpinThreadHandler"),r("IGDSlideDeltaPinUnpinThreadHandler")(e,t,n);default:return n.markHandlerName("unknown"),o("WAResultOrError").makeResult("skip")}}catch(e){var a=r("getErrorSafe")(e);return r("FBLogger")("igd_web").catching(a).mustfix("IGDSlideMutationProcessor: Unknown error has occurred"),o("WAResultOrError").makeError("unknown_error")}}l.default=e}),98);
__d("IGDSlideDeltaProcessor",["FBLogger","IGDSlideDeltaHandlersReliabilityQPLLogger","IGDSlideDeltaProcessorQuery.graphql","IGDSlideMutationProcessor","IGDUqppSequenceIDTrackerSingleton","Random"],(function(t,n,r,o,a,i,l){"use strict";var e,s="33619670657648011";e!==void 0||(e=n("IGDSlideDeltaProcessorQuery.graphql"));function u(e,t){var n=t.slide_delta_processor;for(var a of n){var i=r("IGDUqppSequenceIDTrackerSingleton").getSequenceID(),l=Number(a.uq_seq_id),s=Number(a.uq_seq_id)+o("Random").uint32(),u=new(r("IGDSlideDeltaHandlersReliabilityQPLLogger"))(s);if(u.markerStart(),i!=null&&l<i){r("FBLogger")("igd_web_mqtt").debug("[IGDMqtt]: Message skipped, old id received. Current: %s | New: %s",i,l),u.markerEnd(3376);continue}r("IGDUqppSequenceIDTrackerSingleton").updateSequenceID(l);var c=r("IGDSlideMutationProcessor")(e,a,u);r("IGDSlideDeltaHandlersReliabilityQPLLogger").handleResultOrError(c,u)}}l.slide_doc_id=s,l.IGDSlideDeltaProcessor=u}),98);
__d("useIGDIrisSubscriptionForSlide",["CometRelay","IGDIrisSubscriptionSingleton","IGDMqttChannel","IGDSlideDeltaProcessor","IGDSlideDeltaProcessorQuery.graphql","IGDUqppSequenceIDTrackerSingleton","MqttBypassDGWClient","cr:16","justknobx","nullthrows","qex","react","useStableCallback"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=n("cr:16")(),a=r("qex")._("850")===!0,i=a?r("MqttBypassDGWClient").getInstance():o("IGDMqttChannel").getIGDMqttChannel(),l=o("CometRelay").useRelayEnvironment(),u=o("IGDSlideDeltaProcessor").slide_doc_id;r("justknobx")._("3918")===!1&&(u=r("nullthrows")(r("IGDSlideDeltaProcessorQuery.graphql").params.id));var c=null;r("justknobx")._("567")===!0?c=!1:c=r("qex")._("2197");var d={enable_off_msys_messages_list:c};if(r("justknobx")._("2670")===!1){var m=babelHelpers.extends({},r("IGDSlideDeltaProcessorQuery.graphql").params.providedVariables);for(var p of Object.entries(m)){var _=p[0],f=p[1];d[_]=f.get()}}var g=r("useStableCallback")(function(){var t=function(){l.commitUpdate(function(e){return e.invalidateStore()})};r("IGDIrisSubscriptionSingleton").initialize({handlePayload:function(t){return o("IGDSlideDeltaProcessor").IGDSlideDeltaProcessor(l,t)},initialSeqId:e,mqttChannel:i,onRefresh:t,relayEnvironment:l,sequenceIdTracker:r("IGDUqppSequenceIDTrackerSingleton"),subscriptionParams:{graphql_config:{slide_doc_id:u,variables:d},snapshot_app_version:"web",snapshot_at_ms:Date.now(),subscription_type:"slide_gql"}})});s(function(){switch(t){case"Connected":return g(),r("IGDIrisSubscriptionSingleton").subscribe(),function(){r("IGDIrisSubscriptionSingleton").unsubscribe()}}},[t])}l.default=u}),98);
__d("IGDMqttSetupWithSlideMailbox.react",["CometPlaceholder.react","CometRelay","FBLogger","HeroInteractionIgnoreWithDiv.react","IGDMqttSetupWithSlideMailbox_SlideMailbox.graphql","react","react-compiler-runtime","useIGDIrisSubscriptionForSlide"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react"));function c(t){var a,i=t.mailboxRef,l=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDMqttSetupWithSlideMailbox_SlideMailbox.graphql"),i),s=(a=parseInt(l.iris_inactive_subscription_uq_seq_id,10))!=null?a:0;return r("useIGDIrisSubscriptionForSlide")(s),null}function d(e){var t=o("react-compiler-runtime").c(2),n=e.mailboxRef;if(n==null)return r("FBLogger")("igd_web").mustfix("IGDMqttSetup: mailboxRef is null"),null;var a;return t[0]!==n?(a=u.jsx(r("HeroInteractionIgnoreWithDiv.react"),{children:u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(c,{mailboxRef:n})})}),t[0]=n,t[1]=a):a=t[1],a}l.default=d}),98);
__d("useIGDMqttChannelState",["IGDMqttChannel","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useSyncExternalStore;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=o("IGDMqttChannel").getIGDMqttChannel(),e[0]=t):t=e[0];var n=t,r,a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=function(t){return n.subscribeChannelEvents({onMQTTStateChanged:t})},a=function(){return n.getConnectionState()},e[1]=r,e[2]=a):(r=e[1],a=e[2]),s(r,a,c)}function c(){return"Disconnected"}l.default=u}),98);/*FB_PKG_DELIM*/
__d("BaseAspectRatioContainer.react",["FBLogger","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(12),n=e.aspectRatio,a=e.children,i=e.contentStyle,l=e.testid,u=e.xstyle;if(n<=0)throw r("FBLogger")("comet_ui").mustfixThrow("Aspect ratio must be a non-zero, positive number: %s",n);var c;t[0]!==n?(c=d.dynamicTop(n),t[0]=n,t[1]=c):c=t[1];var m;t[2]!==c||t[3]!==u?(m=[d.container,u,c],t[2]=c,t[3]=u,t[4]=m):m=t[4];var p;t[5]!==a||t[6]!==i?(p=a!=null&&s.jsx(o("react-strict-dom").html.div,{style:[d.content,i],children:a}),t[5]=a,t[6]=i,t[7]=p):p=t[7];var _;return t[8]!==m||t[9]!==p||t[10]!==l?(_=s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:m,children:p}),t[8]=m,t[9]=p,t[10]=l,t[11]=_):_=t[11],_}var c={paddingTop:"x1jm3axb",$$css:!0},d={container:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3",$$css:!0},content:{alignItems:"x1qjc9v5",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"x1qhh985",borderInlineEndStyle:"x18b5jzi",borderInlineEndWidth:"x10w94by",borderInlineStartStyle:"x1t7ytsu",borderInlineStartWidth:"x14e42zd",borderTopStyle:"x13fuv20",borderTopWidth:"x972fbf",bottom:"x1ey2m1c",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,justifyContent:"x1qughib",marginBottom:"xat24cr",marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",marginTop:"xdj266r",minHeight:"x2lwn1j",minWidth:"xeuugli",paddingBottom:"x18d9i69",paddingInlineEnd:"xyri2b",paddingInlineStart:"x1c1uobl",paddingTop:"xexx8yu",position:"x10l6tqk",top:"x13vifvy",zIndex:"x1ja2u2z",$$css:!0},dynamicTop:function(t){return[c,{"--x-paddingTop":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(100/t+"%")}]}};l.default=u}),98);
__d("Box.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["as","xstyle"],u,c,d=c||(c=o("react")),m={box:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexBasis:"xdl72j9",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",minHeight:"x2lwn1j",minWidth:"xeuugli",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(14),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,c,p;if(n[3]!==a){var _=a;c=_.as,p=_.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(_,s),n[3]=a,n[4]=l,n[5]=c,n[6]=p}else l=n[4],c=n[5],p=n[6];var f=c===void 0?"div":c,g;n[7]!==p?(g=(u||(u=r("stylex")))(m.box,p),n[7]=p,n[8]=g):g=n[8];var h;return n[9]!==f||n[10]!==l||n[11]!==i||n[12]!==g?(h=d.jsx(f,babelHelpers.extends({},l,{className:g,ref:i})),n[9]=f,n[10]=l,n[11]=i,n[12]=g,n[13]=h):h=n[13],h}l.default=p}),98);
__d("CometBackgroundImage.react",["CometImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={block:{display:"x1lliihq",$$css:!0},root:{borderStartStartRadius:"x1fmog5m",borderStartEndRadius:"xu25z0z",borderEndEndRadius:"x140muxe",borderEndStartRadius:"xo1y3bh",height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(11),n=e.alt,a=e.displayBlock,i=e.draggable,l=e.height,c=e.loading,d=e.onError,m=e.onLoad,p=e.src,_=c||void 0,f=a&&u.block,g;t[0]!==f?(g=[u.root,f],t[0]=f,t[1]=g):g=t[1];var h;return t[2]!==n||t[3]!==i||t[4]!==l||t[5]!==d||t[6]!==m||t[7]!==p||t[8]!==_||t[9]!==g?(h=s.jsx(r("CometImage.react"),{alt:n,draggable:i,height:l,loading:_,objectFit:"cover",onError:d,onLoad:m,src:p,xstyle:g}),t[2]=n,t[3]=i,t[4]=l,t[5]=d,t[6]=m,t[7]=p,t[8]=_,t[9]=g,t[10]=h):h=t[10],h}l.default=c}),98);
__d("CometCompositeFocusIndicator.react",["fbt","BaseFocusRing.react","CometComponentWithKeyCommands.react","CometCompositeStructureContext","CometKeys","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useMemo;function d(e){var t=o("react-compiler-runtime").c(20),n=e.children,a=e.compositeInfo,i=e.elementType,l=e.suppressFocusRing,c;if(t[0]!==a.horizontal||t[1]!==a.vertical){if(c=[],a.horizontal===!0){var d,g;t[3]===Symbol.for("react.memo_cache_sentinel")?(d={command:{key:r("CometKeys").LEFT},description:s._(/*BTDS*/"Previous item"),handler:f},g={command:{key:r("CometKeys").RIGHT},description:s._(/*BTDS*/"Next item"),handler:_},t[3]=d,t[4]=g):(d=t[3],g=t[4]),c.push(d,g)}if(a.vertical===!0){var h,y;t[5]===Symbol.for("react.memo_cache_sentinel")?(h={command:{key:r("CometKeys").UP},description:s._(/*BTDS*/"Previous item"),handler:p},y={command:{key:r("CometKeys").DOWN},description:s._(/*BTDS*/"Next item"),handler:m},t[5]=h,t[6]=y):(h=t[5],y=t[6]),c.push(h,y)}t[0]=a.horizontal,t[1]=a.vertical,t[2]=c}else c=t[2];var C=c,b="composite-role_"+(a.role||""),v;t[7]!==n?(v=function(t){return n(t)},t[7]=n,t[8]=v):v=t[8];var S;t[9]!==l||t[10]!==v?(S=u.jsx(r("BaseFocusRing.react"),{suppressFocusRing:l,children:v}),t[9]=l,t[10]=v,t[11]=S):S=t[11];var R;t[12]!==a||t[13]!==S?(R=u.jsx(r("CometCompositeStructureContext").Provider,{value:a,children:S}),t[12]=a,t[13]=S,t[14]=R):R=t[14];var L;return t[15]!==C||t[16]!==i||t[17]!==b||t[18]!==R?(L=u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:C,debugName:b,elementType:i,children:R}),t[15]=C,t[16]=i,t[17]=b,t[18]=R,t[19]=L):L=t[19],L}function m(){}function p(){}function _(){}function f(){}l.default=d}),226);
__d("CometFocusTableContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({FocusCell:null,FocusRow:null,FocusTable:null});l.default=u}),98);
__d("E2EEMessagingLinkContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c({inThread:!1,isSecure:!1});function _(e){var t=o("react-compiler-runtime").c(6),n=e.children,r=e.inThread,a=e.isSecure,i;t[0]!==r||t[1]!==a?(i={inThread:r,isSecure:a},t[0]=r,t[1]=a,t[2]=i):i=t[2];var l=i,u;return t[3]!==n||t[4]!==l?(u=s.jsx(p.Provider,{value:l,children:n}),t[3]=n,t[4]=l,t[5]=u):u=t[5],u}function f(){return d(p)}l.E2EEMessagingLinkContext=p,l.E2EEMessagingLinkProvider=_,l.useE2EEMessagingLink=f}),98);
__d("GeneratedLoggerUtils",["invariant","Banzai","JstlMigrationFalcoEvent","getDataWithLoggerOptions","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=window.location.search.indexOf("showlog")>-1;function s(t,r,o,a){var i=n("getDataWithLoggerOptions")(r,a),l=t.split(":")[0],s=t.split(":")[1];l=="logger"?n("JstlMigrationFalcoEvent").log(function(){return{logger_config_name:s,payload:i}}):n("Banzai").post(t,i,o);var u=e||s==="EPFrontendLoggerConfig"&&n("gkx")("3917");if(u&&s==="EPFrontendLoggerConfig"&&i)var c=i.event_name||"unknown",d=i.app||"unknown",m=i.surface||"",p=m?" ["+m+"]":"",_=Date.now(),f=new Date(_).toTimeString().split(" ")[0],g=c.toLowerCase(),h=g.includes("rendered")||g.includes("error")||g.includes("view_metric_results")||g.includes("statsig_result_difference")||g.includes("request_interrupted"),y=h?"[EPFrontend]":"[EPFrontend :click:]"}var u={log:s,serializeVector:function(t){if(!t||Array.isArray(t))return t;if(t.toArray){var e=t;return e.toArray()}if(typeof t=="object"&&t[typeof Symbol=="function"?Symbol.iterator:"@@iterator"])return Array.from(t);l(0,3874,t)},serializeMap:function(t){if(!t)return t;if(t.toJS){var e=t;return e.toJS()}if(typeof t=="object"&&t[typeof Symbol=="function"?Symbol.iterator:"@@iterator"]){var n=t,r={};for(var o of n)r[o[0]]=o[1];return r}if(Object.prototype.toString.call(t)==="[object Object]")return t;l(0,3875,t)},checkExtraDataFieldNames:function(t,n){Object.keys(t).forEach(function(e){!Object.prototype.hasOwnProperty.call(n,e)||l(0,3876,e)})},warnForInvalidFieldNames:function(t,n,r,o){},throwIfNull:function(t,n){return t||l(0,3877,n),t}};a.exports=u}),null);
__d("IGDEntrypointProvider.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c(null);function p(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.entrypoint,a;return t[0]!==n||t[1]!==r?(a=s.jsx(m.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function _(){return d(m)}l.IGDEntrypointProvider=p,l.useIGDEntrypoint=_}),98);
__d("IGDSCreatorMarketplacePanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M22 11a1 1 0 0 0-1 1 8.972 8.972 0 0 1-2.643 6.365 5.063 5.063 0 0 0-3.907-1.863H9.544c-1.522 0-2.953.7-3.904 1.86a9.009 9.009 0 0 1-1.348-1.726H5.5a1 1 0 1 0 0-2H2a1 1 0 0 0-1 1v4.25a1 1 0 1 0 2 0v-1.554A10.926 10.926 0 0 0 12 23c6.066 0 11-4.934 11-11a1 1 0 0 0-1-1ZM12 21a8.945 8.945 0 0 1-4.78-1.385c.575-.686 1.415-1.113 2.324-1.113h4.906c.91 0 1.75.427 2.325 1.114A8.934 8.934 0 0 1 12 21ZM22 3.114a1 1 0 0 0-1 1v1.554A10.926 10.926 0 0 0 12 1C5.935 1 1 5.934 1 12a1 1 0 1 0 2 0c0-4.963 4.037-9 9-9a8.935 8.935 0 0 1 7.709 4.364H18.5a1 1 0 1 0 0 2H22a1 1 0 0 0 1-1v-4.25a1 1 0 0 0-1-1ZM16.505 10.5c0-2.481-2.019-4.5-4.499-4.5-2.482 0-4.501 2.019-4.501 4.5s2.02 4.5 4.501 4.5a4.505 4.505 0 0 0 4.499-4.5Zm-7 0c0-1.378 1.122-2.5 2.5-2.5 1.379 0 2.5 1.122 2.5 2.5s-1.121 2.5-2.5 2.5a2.503 2.503 0 0 1-2.5-2.5Z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDSSettingsPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("circle",{cx:"12",cy:"12",fill:"none",r:"8.635",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a=s.jsx("path",{d:"M14.232 3.656a1.269 1.269 0 0 1-.796-.66L12.93 2h-1.86l-.505.996a1.269 1.269 0 0 1-.796.66m-.001 16.688a1.269 1.269 0 0 1 .796.66l.505.996h1.862l.505-.996a1.269 1.269 0 0 1 .796-.66M3.656 9.768a1.269 1.269 0 0 1-.66.796L2 11.07v1.862l.996.505a1.269 1.269 0 0 1 .66.796m16.688-.001a1.269 1.269 0 0 1 .66-.796L22 12.93v-1.86l-.996-.505a1.269 1.269 0 0 1-.66-.796M7.678 4.522a1.269 1.269 0 0 1-1.03.096l-1.06-.348L4.27 5.587l.348 1.062a1.269 1.269 0 0 1-.096 1.03m11.8 11.799a1.269 1.269 0 0 1 1.03-.096l1.06.348 1.318-1.317-.348-1.062a1.269 1.269 0 0 1 .096-1.03m-14.956.001a1.269 1.269 0 0 1 .096 1.03l-.348 1.06 1.317 1.318 1.062-.348a1.269 1.269 0 0 1 1.03.096m11.799-11.8a1.269 1.269 0 0 1-.096-1.03l.348-1.06-1.317-1.318-1.062.348a1.269 1.269 0 0 1-1.03-.096",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"}),t[0]=n,t[1]=a):(n=t[0],a=t[1]);var i;return t[2]!==e?(i=s.jsxs(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:[n,a]})),t[2]=e,t[3]=i):i=t[3],i}var c=s.memo(u);l.default=c}),98);
__d("getIGDSTextHierarchyStyle",["memoizeWithArgs"],(function(t,n,r,o,a,i,l){"use strict";var e=r("memoizeWithArgs")(function(e){switch(e){case"promotional":return{bodyType:"body",headlineType:"headline1",metaType:"footnote"};case"operational":return{bodyType:"body",headlineType:"headline2",metaType:"footnote"}}},function(e){return e});l.default=e}),98);
__d("IGDSTextPairing.react",["IGDSText.react","getIGDSTextHierarchyStyle","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={item:{marginBottom:"xu06os2",marginTop:"x1ok221b",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0}},d={operational:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},promotional:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0}},m={operational:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0},promotional:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0}};function p(t){"use no forget";var n=t.body,o=t.bodyColor,a=o===void 0?"primaryText":o,i=t.bodyLineLimit,l=t.dir,s=l===void 0?"auto":l,p=t.headline,_=t.headlineColor,f=_===void 0?"primaryText":_,g=t.headlineLineLimit,h=t.headlineTestid,y=t.level,C=t.meta,b=t.metaColor,v=b===void 0?"secondaryText":b,S=t.metaLineLimit,R=t.metaLocation,L=R===void 0?"below":R,E=t.metaTestID,k=t.testid,I=t.textAlign,T=I===void 0?"start":I,D=r("getIGDSTextHierarchyStyle")(y),x=D.bodyType,$=D.headlineType,P=D.metaType,N=(e||(e=r("stylex")))(c.item,m[y]),M=p!=null&&u.jsx("div",{className:N,children:u.jsx(r("IGDSText.react"),{color:f,dir:s,maxLines:g,size:$,testid:void 0,textAlign:T,weight:"bold",zeroMargin:!1,children:p})}),w=C!=null&&u.jsx("div",{className:N,children:u.jsx(r("IGDSText.react"),{color:v,dir:s,maxLines:S,size:P,testid:void 0,textAlign:T,zeroMargin:!1,children:C})});return u.jsxs("div",babelHelpers.extends({},e.props(c.root,d[y]),{"data-testid":void 0,children:[L==="above"&&w,M,n!=null&&u.jsx("div",{className:N,children:u.jsx(r("IGDSText.react"),{color:a,dir:s,maxLines:i,size:x,textAlign:T,zeroMargin:!1,children:n})}),L==="below"&&w]}))}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("IGSignalingListenerDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("IgSignalingListener").__setRef("IGSignalingListenerDeferred"),s=e;l.default=s}),98);
__d("MDSColumnContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("MDSColumnItemContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({isFirst:!1,isLast:!1});l.default=u}),98);
__d("isIE11OrGreater",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e=r("UserAgent").isBrowser("IE >= 11"),s=e;l.default=s}),98);
__d("MDSColumnItem.react",["BaseView.react","CometErrorBoundary.react","CometPlaceholder.react","MDSColumnContext","MDSColumnItemContext","isIE11OrGreater","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["align","children","expanding","fallback","paddingHorizontal","paddingTop","paddingVertical","placeholder","verticalAlign"],u=["fallback"],c=["placeholder"],d,m,p=m||(m=o("react")),_=m.useContext,f={divider:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},firstChildDisplay:{display:"x1s85apg",$$css:!0},firstChildMargin:{marginTop:"xdj266r",$$css:!0},lastChildMargin:{marginBottom:"xat24cr",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},g={center:{alignItems:"x6s0dn4",$$css:!0},end:{alignItems:"xuk3077",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0}},h={4:{paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,$$css:!0},8:{paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",paddingLeft:null,paddingRight:null,$$css:!0},12:{paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0},16:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},20:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0}},y={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0},24:{paddingTop:"x1p5oq8j",$$css:!0},40:{paddingTop:"x13zrc24",$$css:!0}},C={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0},24:{paddingTop:"x1p5oq8j",paddingBottom:"xwxc41k",$$css:!0},40:{paddingTop:"x13zrc24",paddingBottom:"x1t1ogtf",$$css:!0}},b={4:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0},8:{marginTop:"x1gslohp",marginBottom:"x12nagc",$$css:!0},12:{marginTop:"x1k70j0n",marginBottom:"xzueoph",$$css:!0},16:{marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",$$css:!0},20:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0},24:{marginTop:"x14vqqas",marginBottom:"xod5an3",$$css:!0},32:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",$$css:!0},40:{marginTop:"x1sy10c2",marginBottom:"xieb3on",$$css:!0}},v={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}},S={4:{marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,$$css:!0},8:{marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,$$css:!0},12:{marginInlineStart:"x1diwwjn",marginInlineEnd:"xbmvrgn",marginLeft:null,marginRight:null,$$css:!0},16:{marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,$$css:!0},20:{marginInlineStart:"xqsn43r",marginInlineEnd:"x3aesyq",marginLeft:null,marginRight:null,$$css:!0}};function R(t){var n,o,a,l,m=t.ref,L=babelHelpers.objectWithoutPropertiesLoose(t,e),E=(n=_(r("MDSColumnContext")))!=null?n:{},k=L.align,I=k===void 0?(o=E.align)!=null?o:"stretch":k,T=L.children,D=L.expanding,x=D===void 0?!1:D,$=L.fallback,P=L.paddingHorizontal,N=P===void 0?(a=E.paddingHorizontal)!=null?a:0:P,M=L.paddingTop,w=L.paddingVertical,A=w===void 0?0:w,F=L.placeholder,O=L.verticalAlign,B=O===void 0?"top":O,W=babelHelpers.objectWithoutPropertiesLoose(L,s),q=_(r("MDSColumnItemContext")),U=q.isFirst,V=q.isLast,H=(d||(d=r("stylex"))).compose(L.xstyle),G=p.jsxs(p.Fragment,{children:[E.hasDividers===!0&&p.jsx(r("BaseView.react"),{role:"separator",xstyle:[f.divider,S[(l=E.paddingHorizontal)!=null?l:0],U&&f.firstChildDisplay]}),p.jsx(r("BaseView.react"),babelHelpers.extends({},W,{ref:m,xstyle:[f.root,x&&[f.expanding,r("isIE11OrGreater")&&f.expandingIE11],I!=="stretch"&&g[I],B!=="top"&&v[B],h[N],C[A],M!=null&&y[M],E.spacing!=null&&[b[E.spacing],H.marginTop==null&&U&&f.firstChildMargin,H.marginBottom==null&&V&&f.lastChildMargin],L.xstyle],children:p.jsx(r("MDSColumnContext").Provider,{value:null,children:T})}))]});if($!==void 0){var z=L.fallback,j=babelHelpers.objectWithoutPropertiesLoose(L,u);$===null?G=p.jsx(r("CometErrorBoundary.react"),{children:G}):G=p.jsx(r("CometErrorBoundary.react"),{fallback:function(t,n){return p.jsx(R,babelHelpers.extends({},j,{ref:m,children:typeof $=="function"?$(t,n):$}))},children:G})}if(F!==void 0){var K=L.placeholder,Q=babelHelpers.objectWithoutPropertiesLoose(L,c);G=p.jsx(r("CometPlaceholder.react"),{fallback:F!=null?p.jsx(R,babelHelpers.extends({},Q,{ref:m,children:F})):null,name:i.id,children:G})}return G}R.displayName=R.name+" [from "+i.id+"]";var L=R;l.default=L}),98);
__d("MDSColumn.react",["BaseView.react","MDSColumnContext","MDSColumnItem.react","MDSColumnItemContext","isIE11OrGreater","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","align","children","expanding","hasDividers","paddingHorizontal","paddingTop","paddingVertical","spacing","verticalAlign","xstyle"],s,u=s||(s=o("react")),c=s,d=c.useContext,m=c.useMemo,p={expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},_={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},f={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},g={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}};function h(t){var n=o("react-compiler-runtime").c(43),a,i,l,s,c,m,h,y,C,b,v,S;n[0]!==t?(s=t.ref,c=t.align,a=t.children,m=t.expanding,h=t.hasDividers,y=t.paddingHorizontal,i=t.paddingTop,C=t.paddingVertical,b=t.spacing,v=t.verticalAlign,S=t.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=m,n[7]=h,n[8]=y,n[9]=C,n[10]=b,n[11]=v,n[12]=S):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],m=n[6],h=n[7],y=n[8],C=n[9],b=n[10],v=n[11],S=n[12]);var L=c===void 0?null:c,E=m===void 0?!1:m,k=h===void 0?!1:h,I=y===void 0?null:y,T=C===void 0?0:C,D=b===void 0?null:b,x=v===void 0?"top":v,$=d(r("MDSColumnContext")),P;n[13]!==L||n[14]!==k||n[15]!==I||n[16]!==D?(P={align:L,hasDividers:k,paddingHorizontal:I,spacing:D},n[13]=L,n[14]=k,n[15]=I,n[16]=D,n[17]=P):P=n[17];var N=P,M;n[18]!==E?(M=E===!0&&[p.expanding,r("isIE11OrGreater")&&p.expandingIE11],n[18]=E,n[19]=M):M=n[19];var w=f[T],A=i!=null&&_[i],F;n[20]!==w||n[21]!==A||n[22]!==M||n[23]!==S?(F=[p.root,M,w,A,S],n[20]=w,n[21]=A,n[22]=M,n[23]=S,n[24]=F):F=n[24];var O=x!=="top"&&g[x],B;n[25]!==O?(B=[p.inner,O],n[25]=O,n[26]=B):B=n[26];var W;n[27]!==a?(W=R(a),n[27]=a,n[28]=W):W=n[28];var q;n[29]!==N||n[30]!==W?(q=u.jsx(r("MDSColumnContext").Provider,{value:N,children:W}),n[29]=N,n[30]=W,n[31]=q):q=n[31];var U;n[32]!==B||n[33]!==q?(U=u.jsx(r("BaseView.react"),{xstyle:B,children:q}),n[32]=B,n[33]=q,n[34]=U):U=n[34];var V;n[35]!==l||n[36]!==s||n[37]!==F||n[38]!==U?(V=u.jsx(r("BaseView.react"),babelHelpers.extends({},l,{ref:s,xstyle:F,children:U})),n[35]=l,n[36]=s,n[37]=F,n[38]=U,n[39]=V):V=n[39];var H=V;if($!=null){var G=E!=null?E:void 0,z;return n[40]!==H||n[41]!==G?(z=u.jsx(r("MDSColumnItem.react"),{expanding:G,children:H}),n[40]=H,n[41]=G,n[42]=z):z=n[42],z}return H}var y=h,C={isFirst:!0,isLast:!1},b={isFirst:!1,isLast:!0},v={isFirst:!0,isLast:!0},S={isFirst:!1,isLast:!1};function R(e){return u.Children.toArray(e).map(function(e,t,n){var o=t===0,a=t===n.length-1,i=o&&a?v:o?C:a?b:S;return u.jsx(r("MDSColumnItemContext").Provider,{value:i,children:e},t)})}l.default=y}),98);
__d("MDSGlimmer.react",["cr:10389","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),r;return t[0]!==e?(r=s.jsx(n("cr:10389"),babelHelpers.extends({},e)),t[0]=e,t[1]=r):r=t[1],r}l.default=u}),98);
__d("MDSGlimmerImpl.react",["BaseGlimmer.react","react","react-compiler-runtime","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e=["xstyle"],s,u=s||(s=o("react")),c={dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(9),a,i;n[0]!==t?(i=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=r("useCurrentDisplayMode")(),s=l==="dark"?c.dark:c.light,d;n[3]!==s||n[4]!==i?(d=[s,i],n[3]=s,n[4]=i,n[5]=d):d=n[5];var m;return n[6]!==a||n[7]!==d?(m=u.jsx(r("BaseGlimmer.react"),babelHelpers.extends({xstyle:d},a)),n[6]=a,n[7]=d,n[8]=m):m=n[8],m}l.default=d}),98);
__d("MDSRowContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["fallback","placeholder"],u=["children","placeholder"],c=["fallback"],d,m=d||(d=o("react")),p=d.useContext,_={4:{paddingInlineEnd:"x14vy60q",paddingInlineStart:"xyiysdx",$$css:!0},8:{paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",$$css:!0},12:{paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x25sj25",$$css:!0},16:{paddingInlineEnd:"xf159sx",paddingInlineStart:"xmzvs34",$$css:!0},24:{paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",$$css:!0},32:{paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",$$css:!0}},f={4:{paddingBottom:"x1120s5i",paddingTop:"x1nn3v0j",$$css:!0},8:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},12:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},16:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},24:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},32:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0}};function g(t){var n,a=o("react-compiler-runtime").c(43),l,d;a[0]!==t?(d=t.ref,l=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=l,a[2]=d):(l=a[1],d=a[2]);var h=(n=p(r("MDSRowContext")))!=null?n:{},y=h.spacingHorizontal,C=h.spacingVertical,b,v,S;if(a[3]!==l){var R=l;b=R.fallback,S=R.placeholder,v=babelHelpers.objectWithoutPropertiesLoose(R,s),a[3]=l,a[4]=b,a[5]=v,a[6]=S}else b=a[4],v=a[5],S=a[6];if(S!==void 0){var L,E;if(a[7]!==l){var k=l,I=k.children,T=k.placeholder,D=babelHelpers.objectWithoutPropertiesLoose(k,u);L=I,E=D,a[7]=l,a[8]=L,a[9]=E}else L=a[8],E=a[9];var x=S!=null?S:null,$;a[10]!==L||a[11]!==x?($=m.jsx(r("CometPlaceholder.react"),{fallback:x,name:i.id,children:L}),a[10]=L,a[11]=x,a[12]=$):$=a[12];var P;return a[13]!==E||a[14]!==d||a[15]!==$?(P=m.jsx(g,babelHelpers.extends({},E,{ref:d,role:"status",children:$})),a[13]=E,a[14]=d,a[15]=$,a[16]=P):P=a[16],P}if(b!==void 0){var N;if(a[17]!==l){var M=l,w=M.fallback,A=babelHelpers.objectWithoutPropertiesLoose(M,c);N=A,a[17]=l,a[18]=N}else N=a[18];if(b===null){var F;return a[19]!==N||a[20]!==d?(F=m.jsx(r("CometErrorBoundary.react"),{children:m.jsx(g,babelHelpers.extends({},N,{ref:d}))}),a[19]=N,a[20]=d,a[21]=F):F=a[21],F}var O;a[22]!==b||a[23]!==N||a[24]!==d?(O=function(t,n){return m.jsx(g,babelHelpers.extends({},N,{ref:d,children:typeof b=="function"?b(t,n):b}))},a[22]=b,a[23]=N,a[24]=d,a[25]=O):O=a[25];var B;a[26]!==N||a[27]!==d?(B=m.jsx(g,babelHelpers.extends({},N,{ref:d})),a[26]=N,a[27]=d,a[28]=B):B=a[28];var W;return a[29]!==O||a[30]!==B?(W=m.jsx(r("CometErrorBoundary.react"),{fallback:O,children:B}),a[29]=O,a[30]=B,a[31]=W):W=a[31],W}var q=_[y],U=f[C],V;a[32]!==v.xstyle||a[33]!==q||a[34]!==U?(V=[q,U,v.xstyle],a[32]=v.xstyle,a[33]=q,a[34]=U,a[35]=V):V=a[35];var H;a[36]!==v.children?(H=m.jsx(r("MDSRowContext").Provider,{value:null,children:v.children}),a[36]=v.children,a[37]=H):H=a[37];var G;return a[38]!==v||a[39]!==d||a[40]!==V||a[41]!==H?(G=m.jsx(r("BaseRowItem.react"),babelHelpers.extends({},v,{ref:d,useDeprecatedStyles:v.useDeprecatedStyles,xstyle:V,children:H})),a[38]=v,a[39]=d,a[40]=V,a[41]=H,a[42]=G):G=a[42],G}var h=g;l.default=h}),98);
__d("MDSRow.react",["BaseRow.react","MDSColumnContext","MDSColumnItem.react","MDSRowContext","MDSRowItem.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"],u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useMemo,_={0:{$$css:!0},4:{paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",$$css:!0},8:{paddingInlineEnd:"xf159sx",paddingInlineStart:"xmzvs34",$$css:!0},10:{paddingInlineEnd:"x2vl965",paddingInlineStart:"xe2zdcy",$$css:!0},12:{paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",$$css:!0},16:{paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",$$css:!0}},f={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},10:{paddingTop:"x889kno",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},g={0:{$$css:!0},4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},8:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},10:{paddingBottom:"x1a8lsjc",paddingTop:"x889kno",$$css:!0},12:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},16:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0},20:{paddingBottom:"xx6bls6",paddingTop:"x1cnzs8",$$css:!0}},h={0:{$$css:!0},4:{marginInlineEnd:"x11lt19s",marginInlineStart:"xe9ewy2",$$css:!0},8:{marginInlineEnd:"x1lxpwgx",marginInlineStart:"x165d6jo",$$css:!0},10:{marginInlineEnd:"xv9t0rm",marginInlineStart:"x137kccz",$$css:!0},12:{marginInlineEnd:"x1ws5yxj",marginInlineStart:"xw01apr",$$css:!0},16:{marginInlineEnd:"x1w5wx5t",marginInlineStart:"x1qfufaz",$$css:!0},24:{marginInlineEnd:"xbcz3fp",marginInlineStart:"x18xomjl",$$css:!0},32:{marginInlineEnd:"xd9ej83",marginInlineStart:"x162z183",$$css:!0}},y={0:{$$css:!0},4:{marginBottom:"xmgb6t1",marginTop:"x1kgmq87",$$css:!0},8:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",$$css:!0},10:{marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0},12:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},16:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},24:{marginBottom:"xh3wvx0",marginTop:"x7wgvq7",$$css:!0},32:{marginBottom:"x1oo3vh0",marginTop:"xwya9rg",$$css:!0}};function C(t){var n,o=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=m(r("MDSColumnContext")),l=m(r("MDSRowContext")),u=(i==null?void 0:i.paddingHorizontal)!=null?0:12,d=(i==null?void 0:i.spacing)!=null?0:16,C=a.children,b=a.paddingHorizontal,v=b===void 0?u:b,S=a.paddingVertical,R=S===void 0?0:S,L=a.paddingTop,E=L===void 0?(n=a.paddingVertical)!=null?n:d:L,k=a.spacing,I=k===void 0?12:k,T=a.spacingHorizontal,D=T===void 0?I:T,x=a.spacingVertical,$=x===void 0?I:x,P=a.xstyle,N=babelHelpers.objectWithoutPropertiesLoose(a,s),M=p(function(){return{spacingHorizontal:D,spacingVertical:$}},[D,$]),w=c.jsx(r("BaseRow.react"),babelHelpers.extends({},N,{ref:o,xstyle:[_[v],g[R],E!=null&&f[E],h[D],y[$],P],children:c.jsx(r("MDSRowContext").Provider,{value:M,children:C})}));return l!=null?c.jsx(r("MDSRowItem.react"),{expanding:N.expanding,children:w}):i!=null?c.jsx(r("MDSColumnItem.react"),{expanding:N.expanding,children:w}):w}C.displayName=C.name+" [from "+i.id+"]";var b=C;l.default=b}),98);
__d("MDSTextConfig",["UserAgent","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={blueLink:{color:"x1fey0fg",$$css:!0},disabled:{color:"x1dntmbh",$$css:!0},highlight:{color:"x1qq9wsj",$$css:!0},negative:{color:"x1a1m0xk",$$css:!0},positive:{color:"x6u5lvz",$$css:!0},primary:{color:"xzsf02u",$$css:!0},secondary:{color:"xi81zsa",$$css:!0},secondaryOnMedia:{color:"xkxfvhb",$$css:!0},tertiary:{color:"x12scifz",$$css:!0},white:{color:"x14ctfv",$$css:!0}},s={disabledButton:{color:"x1x80s81",$$css:!0},primaryButton:{color:"xtk6v10",$$css:!0},primaryDeemphasizedButton:{color:"x1mvi0mv",$$css:!0},secondaryButton:{color:"x1dem4cn",$$css:!0}},u={blueLink:{color:"x15k1xyk",$$css:!0},disabled:{color:"xc7hbz8",$$css:!0},highlight:{color:"x16uf79r",$$css:!0},negative:{color:"x1unwjcu",$$css:!0},positive:{color:"xxmynsg",$$css:!0},primary:{color:"xw2npq5",$$css:!0},primaryOnMedia:{color:"x8w7gz1",$$css:!0},secondary:{color:"xhgddhk",$$css:!0},secondaryOnMedia:{color:"xzutexd",$$css:!0},tertiary:{color:"xerl464",$$css:!0},white:{color:"xnba3h0",$$css:!0}},c={apple:{MozOsxFontSmoothing:"xlh3980",WebkitFontSmoothing:"xvmahel",fontFamily:"x1n0sxbx",$$css:!0},default:{fontFamily:"x10flsy6",$$css:!0},segoe:{fontFamily:"x1xmvt09",$$css:!0}},d={default:function(t){switch(t){case"body1":return[4,5];case"body2":return[3,5];case"body3":return[4,5];case"body4":return[3,4];case"bodyLink1":return[4,5];case"bodyLink2":return[3,5];case"bodyLink3":return[4,5];case"bodyLink4":return[3,4];case"button1":return[3,5];case"button2":return[4,5];case"entityHeaderHeadline1":return[7,8];case"entityHeaderHeadline2":return[5,7];case"entityHeaderMeta1":return[4,5];case"entityHeaderMeta2":return[4,5];case"entityHeaderMeta3":return[4,3];case"headline3":return[3,5];case"headline4":return[4,5];case"headlineDeemphasized3":return[3,5];case"headlineDeemphasized4":return[4,5];case"headlineEmphasized1":return[5,6];case"headlineEmphasized2":return[4,5];case"headlineEmphasized3":return[3,4];case"headlineEmphasized4":return[4,5];case"headlineEmphasized5":return[3,4];case"meta1":return[3,4];case"meta2":return[3,4];case"meta3":return[3,4];case"meta4":return[3,4]}},segoe:function(t){switch(t){case"body1":return[6,4,1];case"body2":return[5,3,1];case"body3":return[5,4];case"body4":return[4,3,1];case"bodyLink1":return[6,4,1];case"bodyLink2":return[5,3,1];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3,1];case"button1":return[5,3,1];case"button2":return[5,4];case"entityHeaderHeadline1":return[10,6,2];case"entityHeaderHeadline2":return[8,5,3];case"entityHeaderMeta1":return[5,4,1];case"entityHeaderMeta2":return[5,4,1];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3,1];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3,1];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[7,4,2];case"headlineEmphasized2":return[6,4,2];case"headlineEmphasized3":return[5,3,1];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[5,3,1];case"meta1":return[4,3,1];case"meta2":return[4,3,1];case"meta3":return[4,3,1];case"meta4":return[4,3]}},sfGecko:function(t){switch(t){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[5,4];case"body4":return[4,3];case"bodyLink1":return[6,4];case"bodyLink2":return[4,3];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3];case"button1":return[4,3];case"button2":return[5,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[7,5];case"entityHeaderMeta1":return[5,4];case"entityHeaderMeta2":return[5,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[6,4];case"headlineEmphasized3":return[4,3];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[4,3]}},sfWebkit:function(t){switch(t){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[4,4];case"body4":return[4,3];case"bodyLink1":return[5,5];case"bodyLink2":return[4,4];case"bodyLink3":return[4,4];case"bodyLink4":return[4,3];case"button1":return[4,4];case"button2":return[4,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[6,6];case"entityHeaderMeta1":return[4,4];case"entityHeaderMeta2":return[4,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[4,4];case"headline4":return[4,4];case"headlineDeemphasized3":return[4,4];case"headlineDeemphasized4":return[4,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[5,5];case"headlineEmphasized3":return[4,4];case"headlineEmphasized4":return[4,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[3,3]}}},m=(function(){return r("UserAgent").isPlatform("Windows >= 6")?[c.segoe,d.segoe]:r("UserAgent").isPlatform("Mac OS X >= 10.11")&&!r("UserAgent").isBrowser("Firefox < 55")||r("UserAgent").isPlatform("iOS >= 9")?[c.apple,r("UserAgent").isEngine("Gecko")?d.sfGecko:d.sfWebkit]:[c.default,d.default]})(),p=m[0],_=m[1],f={body1:{fontSize:"x1603h9y",fontWeight:"x1fcty0u",$$css:!0},body2:{fontSize:"x1lkfr7t",fontWeight:"x1fcty0u",$$css:!0},body2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1fcty0u",$$css:!0},body3:{fontSize:"x6prxxf",fontWeight:"x1fcty0u",$$css:!0},body3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1fcty0u",$$css:!0},body4:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},body4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},bodyLink1:{fontSize:"x1603h9y",fontWeight:"x1s688f",$$css:!0},bodyLink2:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},bodyLink2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},bodyLink3:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},bodyLink3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},bodyLink4:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},bodyLink4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},button1:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},button1ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},button2:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},button2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},entityHeaderHeadline1:{fontSize:"x579bpy",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderHeadline2:{fontSize:"x1q74xe4",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta3:{fontSize:"x1nxh6w3",fontWeight:"x1xlr1w8",$$css:!0},headline3:{fontSize:"x1lkfr7t",fontWeight:"xk50ysn",$$css:!0},headline3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"xk50ysn",$$css:!0},headline4:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},headline4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"xk50ysn",$$css:!0},headlineEmphasized1:{fontSize:"xngnso2",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized2:{fontSize:"x1603h9y",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized3:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},headlineEmphasized3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},headlineEmphasized5:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},meta1:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta1ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta2:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta2ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta3:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},meta3ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0}},g=r("gkx")("5751"),h={colors:{blueLink:g?u.blueLink:e.blueLink,disabled:g?u.disabled:e.disabled,disabledButton:s.disabledButton,highlight:g?u.highlight:e.highlight,negative:g?u.negative:e.negative,positive:g?u.positive:e.positive,primary:g?u.primary:e.primary,primaryButton:s.primaryButton,primaryDeemphasizedButton:s.primaryDeemphasizedButton,primaryOnMedia:g?u.primaryOnMedia:void 0,secondary:g?u.secondary:e.secondary,secondaryButton:s.secondaryButton,secondaryOnMedia:g?u.secondaryOnMedia:e.secondaryOnMedia,tertiary:g?u.tertiary:e.tertiary,white:g?u.white:e.white},defaultFontFamily:p,offsets:_,styles:{body1:{lineHeight:24,style:f.body1},body2:{lineHeight:20,style:f.body2},body3:{lineHeight:19.9995,style:f.body3},body4:{lineHeight:16,style:f.body4},bodyLink1:{lineHeight:24,style:f.bodyLink1},bodyLink2:{lineHeight:20,style:f.bodyLink2},bodyLink3:{lineHeight:19.9995,style:f.bodyLink3},bodyLink4:{lineHeight:16,style:f.bodyLink4},button1:{lineHeight:20,style:f.button1},button2:{lineHeight:19.9995,style:f.button2},entityHeaderHeadline1:{lineHeight:38,style:f.entityHeaderHeadline1},entityHeaderHeadline2:{lineHeight:32,style:f.entityHeaderHeadline2},entityHeaderMeta1:{lineHeight:19,style:f.entityHeaderMeta1},entityHeaderMeta2:{lineHeight:19,style:f.entityHeaderMeta2},entityHeaderMeta3:{lineHeight:17,style:f.entityHeaderMeta3},headline3:{lineHeight:20,style:f.headline3},headline4:{lineHeight:19.9995,style:f.headline4},headlineEmphasized1:{lineHeight:28,style:f.headlineEmphasized1},headlineEmphasized2:{lineHeight:24,style:f.headlineEmphasized2},headlineEmphasized3:{lineHeight:20,style:f.headlineEmphasized3},headlineEmphasized4:{lineHeight:19.9995,style:f.headlineEmphasized4},headlineEmphasized5:{lineHeight:20,style:f.headlineEmphasized5},meta1:{lineHeight:16,style:f.meta1},meta2:{lineHeight:16,style:f.meta2},meta3:{lineHeight:16,style:f.meta3},meta4:{lineHeight:15,style:f.meta4}},stylesForDenseMode:{body2:{lineHeight:20,style:f.body2ForDenseMode},body3:{lineHeight:20,style:f.body3ForDenseMode},body4:{lineHeight:16,style:f.body4ForDenseMode},bodyLink2:{lineHeight:20,style:f.bodyLink2ForDenseMode},bodyLink3:{lineHeight:20,style:f.bodyLink3ForDenseMode},bodyLink4:{lineHeight:16,style:f.bodyLink4ForDenseMode},button1:{lineHeight:18,style:f.button1ForDenseMode},button2:{lineHeight:18,style:f.button2ForDenseMode},entityHeaderMeta1:{lineHeight:18,style:f.entityHeaderMeta1ForDenseMode},entityHeaderMeta2:{lineHeight:18,style:f.entityHeaderMeta2ForDenseMode},headline3:{lineHeight:20,style:f.headline3ForDenseMode},headline4:{lineHeight:20,style:f.headline4ForDenseMode},headlineEmphasized3:{lineHeight:20,style:f.headlineEmphasized3ForDenseMode},headlineEmphasized4:{lineHeight:20,style:f.headlineEmphasized4ForDenseMode},meta1:{lineHeight:14,style:f.meta1ForDenseMode},meta2:{lineHeight:14,style:f.meta2ForDenseMode},meta3:{lineHeight:14,style:f.meta3ForDenseMode},meta4:{lineHeight:15,style:f.meta4ForDenseMode}}},y=h;l.default=y}),98);
__d("useXPlatReactTranslationKeyForTextParent",["cr:2099"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){}var u=(e=n("cr:2099"))!=null?e:{useTranslationKeyForTextParent:s},c=u.useTranslationKeyForTextParent;function d(){return c()}l.default=d}),98);
__d("MDSTextImpl.react",["BaseHeading.react","BaseText.react","BaseTextContext","CometDensityModeContext","JSResourceForInteraction","MDSTextConfig","react","react-compiler-runtime","useXPlatReactTranslationKeyForTextParent","xplatToDOMRef"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=r("JSResourceForInteraction")("MDSTooltipImpl.react").__setRef("MDSTextImpl.react"),p=o("BaseText.react").createBaseTextComponent(r("MDSTextConfig"),m),_={heading:{maxWidth:"x193iq5w",minWidth:"xeuugli",$$css:!0},text:{whiteSpace:"xq9mrsl",$$css:!0}},f={disabled:"disabledButton",highlight:"primaryDeemphasizedButton",secondary:"secondaryButton",white:"primaryButton"};function g(e,t){var n;return t&&(n=f[e])!=null?n:e}var h=["entityHeaderMeta1","entityHeaderMeta2","meta1","meta2","meta3","meta4"];function y(e){var t=o("react-compiler-runtime").c(25),n=e.ref,a=e.align,i=e.children,l=e.color,u=e.dir,d=e.id,m=e.isPrimaryHeading,f=e.isSemanticHeading,y=e.numberOfLines,C=e.showTruncationTooltip,b=e.testid,v=e.truncationTooltip,S=e.type,R=a===void 0?"auto":a,L=u===void 0?"auto":u,E=m===void 0?!1:m,k=f===void 0?!1:f,I=C===void 0?!0:C,T=h.includes(S)?"secondary":"primary",D=l!=null?l:T,x=S==="button1"||S==="button2",$;t[0]!==D||t[1]!==x?($=g(D,x),t[0]=D,t[1]=x,t[2]=$):$=t[2];var P=$,N=r("useXPlatReactTranslationKeyForTextParent")(),M=o("BaseTextContext").useBaseTextContext(),w=c(r("CometDensityModeContext")),A=w[0],F=(M==null?void 0:M.nested)===!0,O=R!=null?R:void 0,B=F?void 0:L,W=y||0,q;t[3]!==n?(q=o("xplatToDOMRef").xplatToDOMRef(n),t[3]=n,t[4]=q):q=t[4];var U;t[5]!==i||t[6]!==I||t[7]!==v?(U=I?{tooltip:v!=null?v:i}:void 0,t[5]=i,t[6]=I,t[7]=v,t[8]=U):U=t[8];var V;t[9]!==i||t[10]!==P||t[11]!==d||t[12]!==A||t[13]!==N||t[14]!==B||t[15]!==W||t[16]!==q||t[17]!==U||t[18]!==O||t[19]!==b||t[20]!==S?(V=s.jsx(p,{alignment:O,colorName:P,dir:B,id:d,isDenseModeEnabled:A,lines:W,ref:q,styleName:S,testid:void 0,truncationTooltip:U,xstyle:_.text,children:i},N),t[9]=i,t[10]=P,t[11]=d,t[12]=A,t[13]=N,t[14]=B,t[15]=W,t[16]=q,t[17]=U,t[18]=O,t[19]=b,t[20]=S,t[21]=V):V=t[21];var H=V;if(k||E){var G;return t[22]!==E||t[23]!==H?(G=s.jsx(r("BaseHeading.react"),{isPrimaryHeading:E,xstyle:_.heading,children:H}),t[22]=E,t[23]=H,t[24]=G):G=t[24],G}return H}y.displayName="MDSText",l.default=y}),98);
__d("MDSText.react",["MDSTextImpl.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(6),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l;return n[3]!==a||n[4]!==i?(l=u.jsx(r("MDSTextImpl.react"),babelHelpers.extends({ref:i},a)),n[3]=a,n[4]=i,n[5]=l):l=n[5],l}l.default=c}),98);
__d("MetaBrandGearOutline24.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 12a4 4 0 1 1-8 0 4 4 0 0 1 8 0zm-2 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0z"}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m22.191 9.207-2.224 2.06a8.112 8.112 0 0 1 0 1.466l2.224 2.06a1 1 0 0 1 .187 1.233l-1.702 2.948a1 1 0 0 1-1.162.455l-2.895-.896a7.991 7.991 0 0 1-1.27.735l-.672 2.954a1 1 0 0 1-.975.778H10.3a1 1 0 0 1-.975-.778l-.672-2.954a8 8 0 0 1-1.27-.735l-2.895.896a1 1 0 0 1-1.162-.455l-1.702-2.948a1 1 0 0 1 .187-1.233l2.224-2.06a8.1 8.1 0 0 1 0-1.466L1.81 9.207a1 1 0 0 1-.187-1.233l1.702-2.948a1 1 0 0 1 1.162-.455l2.895.896a7.992 7.992 0 0 1 1.27-.735l.672-2.954A1 1 0 0 1 10.299 1h3.403a1 1 0 0 1 .975.778l.672 2.954a7.99 7.99 0 0 1 1.27.735l2.895-.896a1 1 0 0 1 1.162.455l1.702 2.948a1 1 0 0 1-.187 1.233zm-8.574-3.071.894.412c.335.155.653.34.952.551l.805.57 3.075-.951.903 1.564-2.36 2.186.09.98a6.093 6.093 0 0 1 0 1.104l-.09.98 2.36 2.185-.903 1.565-3.075-.951-.805.57a5.993 5.993 0 0 1-.952.55l-.894.413L12.904 21h-1.807l-.713-3.136-.894-.412a5.993 5.993 0 0 1-.952-.551l-.805-.57-3.075.951-.904-1.565 2.36-2.185-.089-.98a6.102 6.102 0 0 1 0-1.104l.09-.98-2.36-2.186.903-1.564 3.075.951.805-.57c.299-.212.617-.396.952-.55l.894-.413L11.097 3h1.807l.713 3.136z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("PolarisIGCoreDialogCircleMedia",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.badge,n=e.icon;return s.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x2lah0s xl56j7k xdj266r x11t971q xat24cr xvc5jky x1n2onr6 x11njtxf",children:[s.jsx("div",{className:"x1qjc9v5 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x9f619 x78zum5 xdt5ytf x2lah0s x6ikm8r x10wlt62 x1n2onr6 x11njtxf",children:n}),t!=null&&s.jsx("div",{className:"x1qjc9v5 x9f619 x78zum5 xdt5ytf x2lah0s xmc5hgj x19smwlf x10l6tqk x11njtxf",children:t})]})},t})(s.Component);l.default=u}),98);
__d("PolarisPostHeaderGlimmer.react",["IGDSGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={avatar:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x10w6t97",marginInlineEnd:"xbmvrgn",width:"x1td3qas",$$css:!0},headerInfoText:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"x1kpxq89",marginBottom:"xahult9",marginTop:"x7r5mf7",$$css:!0},location:{width:"x1exxlbk",$$css:!0},username:{width:"xifkd7f",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(16),n=e.index,a=n===void 0?0:n,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x6s0dn4 x78zum5 x1q0g3np"},t[0]=i):i=t[0];var l;t[1]!==a?(l=s.jsx(r("IGDSGlimmer.react"),{index:a,xstyle:u.avatar}),t[1]=a,t[2]=l):l=t[2];var c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c={className:"x78zum5 xdt5ytf"},t[3]=c):c=t[3];var d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d=[u.headerInfoText,u.username],t[4]=d):d=t[4];var m;t[5]!==a?(m=s.jsx(r("IGDSGlimmer.react"),{index:a,xstyle:d}),t[5]=a,t[6]=m):m=t[6];var p=a+1,_;t[7]===Symbol.for("react.memo_cache_sentinel")?(_=[u.headerInfoText,u.location],t[7]=_):_=t[7];var f;t[8]!==p?(f=s.jsx(r("IGDSGlimmer.react"),{index:p,xstyle:_}),t[8]=p,t[9]=f):f=t[9];var g;t[10]!==m||t[11]!==f?(g=s.jsxs("div",babelHelpers.extends({},c,{children:[m,f]})),t[10]=m,t[11]=f,t[12]=g):g=t[12];var h;return t[13]!==g||t[14]!==l?(h=s.jsxs("div",babelHelpers.extends({},i,{children:[l,g]})),t[13]=g,t[14]=l,t[15]=h):h=t[15],h}l.default=c}),98);
__d("PolarisPostGlimmer.react",["IGDSGlimmer.react","PolarisPostHeaderGlimmer.react","react","react-compiler-runtime","stylex","usePolarisIsFeedMobileLayout","usePolarisIsOnFeedPage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={feedPageDesktopHeader:{paddingBottom:"xsag5q8",paddingInlineEnd:"xyri2b",paddingInlineStart:"x135b78x",$$css:!0},feedPageMobileHeader:{paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",paddingTop:"xyinxu5",$$css:!0},header:{display:"x78zum5",$$css:!0},media:{height:"x16nrsnc",width:"xh8yej3",$$css:!0},postPageHeader:{height:"xng8ra",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(14),a=t.index,i=a===void 0?0:a,l=r("usePolarisIsOnFeedPage")(),s=o("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),d=s?c.feedPageMobileHeader:c.feedPageDesktopHeader,m;n[0]===Symbol.for("react.memo_cache_sentinel")?(m={className:"x78zum5 xdt5ytf xh8yej3"},n[0]=m):m=n[0];var p;n[1]!==d||n[2]!==l?(p=(e||(e=r("stylex"))).props(c.header,l?d:c.postPageHeader),n[1]=d,n[2]=l,n[3]=p):p=n[3];var _;n[4]!==i?(_=u.jsx(r("PolarisPostHeaderGlimmer.react"),{index:i}),n[4]=i,n[5]=_):_=n[5];var f;n[6]!==p||n[7]!==_?(f=u.jsx("div",babelHelpers.extends({},p,{children:_})),n[6]=p,n[7]=_,n[8]=f):f=n[8];var g=i+2,h;n[9]!==g?(h=u.jsx(r("IGDSGlimmer.react"),{index:g,xstyle:c.media}),n[9]=g,n[10]=h):h=n[10];var y;return n[11]!==f||n[12]!==h?(y=u.jsxs("div",babelHelpers.extends({},m,{children:[f,h]})),n[11]=f,n[12]=h,n[13]=y):y=n[13],y}l.default=d}),98);
__d("VideoHomeTypedLiteLogger",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:VideoHomeLoggerConfig")}),null);
__d("VideoPlayerPlaybackControlBase.react",["fbt","ix","FBLogger","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(14),n=e.onPress,a=e.playbackIcon,i=e.showTooltip,l=e.useOutlineIcons,d=i===void 0?!0:i,m,p;e:switch(a){case"pause":{var _;t[0]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Pause"),t[0]=_):_=t[0],m=_;var f;t[1]!==l?(f=l===!0?o("fbicon")._(u("497677"),20):o("fbicon")._(u("497675"),20),t[1]=l,t[2]=f):f=t[2],p=f;break e}case"replay":{var g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g=s._(/*BTDS*/"Replay"),t[3]=g):g=t[3],m=g;var h;t[4]!==l?(h=l===!0?o("fbicon")._(u("534222"),20):o("fbicon")._(u("534219"),20),t[4]=l,t[5]=h):h=t[5],p=h;break e}case"play":{var y;t[6]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Play"),t[6]=y):y=t[6],m=y;var C;t[7]!==l?(C=l===!0?o("fbicon")._(u("484866"),20):o("fbicon")._(u("484863"),20),t[7]=l,t[8]=C):C=t[8],p=C;break e}default:throw r("FBLogger")("comet_video_player").mustfixThrow("The playback icon is unsupported %s",a)}var b=d?m:null,v;return t[9]!==p||t[10]!==m||t[11]!==n||t[12]!==b?(v=c.jsx(r("VideoPlayerControlIcon.react"),{icon:p,label:m,onPress:n,tooltip:b}),t[9]=p,t[10]=m,t[11]=n,t[12]=b,t[13]=v):v=t[13],v}l.default=d}),226);
__d("useFeedClickEventHandler",["react","react-compiler-runtime","useStoryClickEventLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t){var n=o("react-compiler-runtime").c(4),a=r("useStoryClickEventLogger")(),i;return n[0]!==t||n[1]!==a||n[2]!==e?(i=function(r){e&&e(r);var n=r.type;if(n==="click"||n==="contextmenu"||n==="mousedown"&&typeof r.button=="number"&&(r.button===1||r.button===2)||n==="keydown"&&(r.key==="Enter"||r.key===" ")){var o=typeof r.button=="number"?r.button:0;a(r.timeStamp,o,t)}},n[0]=t,n[1]=a,n[2]=e,n[3]=i):i=n[3],i}l.default=u}),98);
__d("VideoPlayerPlaybackControl.react",["CometTrackingNodeProvider.react","VideoHomeTypedLiteLogger","VideoPlayerHooks","VideoPlayerPlaybackControlBase.react","react","react-compiler-runtime","useFeedClickEventHandler","useMinifiedProductAttribution","useVideoPlayerControllerSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(14),n=e.isNPC,a=e.showTooltip,i=e.unmuteOnPlay,l=e.useOutlineIcons,d=n===void 0?!1:n,p=a===void 0?!0:a,_=i===void 0?!1:i,f,g;t[0]!==d?(f=function(){d&&r("VideoHomeTypedLiteLogger").log({event:"npc_control_playback_button_impression"})},g=[d],t[0]=d,t[1]=f,t[2]=g):(f=t[1],g=t[2]),c(f,g);var h=r("useVideoPlayerControllerSubscription")(m),y=h.showPauseButton,C=h.showReplayButton,b=(s||(s=o("VideoPlayerHooks"))).useController(),v=r("useMinifiedProductAttribution")(),S;t[3]!==b||t[4]!==d||t[5]!==v||t[6]!==y||t[7]!==_?(S=function(){d&&r("VideoHomeTypedLiteLogger").log({attribution_id_v2:v,click_point:"npc_control_playback_button",event:"click",event_target:"video"}),y?b.pause("user_initiated"):(_&&b.setMuted(!1,"user_initiated"),b.play("user_initiated"))},t[3]=b,t[4]=d,t[5]=v,t[6]=y,t[7]=_,t[8]=S):S=t[8];var R=r("useFeedClickEventHandler")(S),L=y?"pause":C?"replay":"play",E;return t[9]!==R||t[10]!==L||t[11]!==p||t[12]!==l?(E=u.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:592,children:u.jsx(r("VideoPlayerPlaybackControlBase.react"),{onPress:R,playbackIcon:L,showTooltip:p,useOutlineIcons:l})}),t[9]=R,t[10]=L,t[11]=p,t[12]=l,t[13]=E):E=t[13],E}function m(e,t){var n=e.getCurrentState(),r=n.ended,o=n.paused,a=n.playing,i=n.stalling,l=e.getPlayheadPosition(),s=n.duration,u=!o&&(a||i),c=!a&&r&&l>=s;return t!=null&&t.showPauseButton===u&&t.showReplayButton===c?t:{showPauseButton:u,showReplayButton:c}}l.default=d}),98);
__d("getFormattedTimestamp",["DateConsts"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t="",n=e;isNaN(n)?n=0:n<0&&(n*=-1,t="-");var r=Math.floor(n/o("DateConsts").SEC_PER_HOUR),a=Math.floor((n-r*o("DateConsts").SEC_PER_HOUR)/o("DateConsts").SEC_PER_MIN),i=Math.round(n-r*o("DateConsts").SEC_PER_HOUR-a*o("DateConsts").SEC_PER_MIN);i===o("DateConsts").SEC_PER_MIN&&(i=0,a++),a===o("DateConsts").MIN_PER_HOUR&&(a=0,r++);var l=("0"+i).slice(-2);if(r===0)return""+t+a+":"+l;var s=("0"+a).slice(-2);return""+t+r+":"+s+":"+l}l.default=e}),98);
__d("VideoPlayerPlaybackTimerBase.react",["getFormattedTimestamp","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(11),n=e.currentTime,a=e.duration,i,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x14ctfv x1rg5ohu x1pg5gke xss6m8b x7h9g57 xf6vk7d xpcyujq x9hgts1 x2b8uid x27saw0 x3ajldb"},l={className:"x1s688f x15hfatp"},t[0]=i,t[1]=l):(i=t[0],l=t[1]);var u;t[2]!==n?(u=r("getFormattedTimestamp")(n),t[2]=n,t[3]=u):u=t[3];var c;t[4]!==u?(c=s.jsx("span",babelHelpers.extends({},l,{children:u})),t[4]=u,t[5]=c):c=t[5];var d;t[6]!==a?(d=a!=null&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:" / "}),s.jsx("span",{children:r("getFormattedTimestamp")(a)})]}),t[6]=a,t[7]=d):d=t[7];var m;return t[8]!==c||t[9]!==d?(m=s.jsxs("div",babelHelpers.extends({},i,{children:[c,d]})),t[8]=c,t[9]=d,t[10]=m):m=t[10],m}l.default=u}),98);
__d("VideoPlayerPlaybackTimer.react",["VideoPlayerHooks","VideoPlayerPlaybackTimerBase.react","react","react-compiler-runtime","useLiveRewindUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=_,d=function(t,n){return t-n.duration};function m(){var e=o("react-compiler-runtime").c(2),t=o("useLiveRewindUtils").useLiveRewindSeekableStartTime(),n=(s||(s=o("VideoPlayerHooks"))).useCurrentTimeThrottled(200),a=s.useCurrentTimeThrottled(1e3,d),i=s.useIsLiveRewindActive(),l=i?a:n-t,c;return e[0]!==l?(c=u.jsx(r("VideoPlayerPlaybackTimerBase.react"),{currentTime:l,duration:null}),e[0]=l,e[1]=c):c=e[1],c}function p(){var e=o("react-compiler-runtime").c(3),t=(s||(s=o("VideoPlayerHooks"))).useDuration(),n=s.useCurrentTimeThrottled(200),a;return e[0]!==n||e[1]!==t?(a=u.jsx(r("VideoPlayerPlaybackTimerBase.react"),{currentTime:n,duration:t}),e[0]=n,e[1]=t,e[2]=a):a=e[2],a}function _(){var e=o("react-compiler-runtime").c(2),t=(s||(s=o("VideoPlayerHooks"))).useIsLive();if(t){var n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx(m,{}),e[0]=n):n=e[0],n}else{var r;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=u.jsx(p,{}),e[1]=r):r=e[1],r}}var f=c;l.default=f}),98);
__d("XControllerURIBuilder",["invariant","URI","gkx","isInternalFBURI"],(function(t,n,r,o,a,i,l,s){var e,u=(function(){function t(e,t){this.$1={},this.$2=e,this.$3=t}var n=t.prototype;return n.setInt=function(t,n){return this.__setParam(t,"Int",n)},n.setFBID=function(t,n){return this.__setParam(t,"FBID",n)},n.setFloat=function(t,n){return this.__setParam(t,"Float",n)},n.setString=function(t,n){return this.__setParam(t,"String",n)},n.setExists=function(t,n){return n===!1&&(n=void 0),this.__setParam(t,"Exists",n)},n.setBool=function(t,n){return this.__setParam(t,"Bool",n)},n.setBoolVector=function(t,n){return this.__setParam(t,"BoolVector",n)},n.setBoolVec=function(t,n){return this.__setParam(t,"BoolVec",n)},n.setEnum=function(t,n){return this.__setParam(t,"Enum",n)},n.setPath=function(t,n){return this.__setParam(t,"Path",n)},n.setIntVector=function(t,n){return this.__setParam(t,"IntVector",n)},n.setIntVec=function(t,n){return this.__setParam(t,"IntVec",n)},n.setIntKeyset=function(t,n){return this.__setParam(t,"IntKeyset",n)},n.setIntSet=function(t,n){return this.__setParam(t,"IntSet",n.join(","))},n.setFloatVector=function(t,n){return this.__setParam(t,"FloatVector",n)},n.setFloatVec=function(t,n){return this.__setParam(t,"FloatVec",n)},n.setFloatSet=function(t,n){return this.__setParam(t,"FloatSet",n.join(","))},n.setFloatKeyset=function(t,n){return this.__setParam(t,"FloatKeyset",n.join(","))},n.setStringVector=function(t,n){return this.__setParam(t,"StringVector",n)},n.setStringVec=function(t,n){return this.__setParam(t,"StringVec",n)},n.setStringKeyset=function(t,n){return this.__setParam(t,"StringKeyset",n)},n.setStringSet=function(t,n){return this.__setParam(t,"StringSet",n)},n.setFBIDVector=function(t,n){return this.__setParam(t,"FBIDVector",n)},n.setFBIDVec=function(t,n){return this.__setParam(t,"FBIDVec",n)},n.setFBIDSet=function(t,n){return this.__setParam(t,"FBIDSet",n)},n.setFBIDKeyset=function(t,n){return this.__setParam(t,"FBIDKeyset",n)},n.setEnumVector=function(t,n){return this.__setParam(t,"EnumVector",n)},n.setEnumVec=function(t,n){return this.__setParam(t,"EnumVec",n)},n.setEnumSet=function(t,n){return this.__setParam(t,"EnumSet",n)},n.setEnumKeyset=function(t,n){return this.__setParam(t,"EnumKeyset",n)},n.setIntToIntMap=function(t,n){return this.__setParam(t,"IntToIntMap",n)},n.setIntToIntDict=function(t,n){return this.__setParam(t,"IntToIntDict",n)},n.setIntToFloatMap=function(t,n){return this.__setParam(t,"IntToFloatMap",n)},n.setIntToFloatDict=function(t,n){return this.__setParam(t,"IntToFloatDict",n)},n.setIntToStringMap=function(t,n){return this.__setParam(t,"IntToStringMap",n)},n.setIntToStringDict=function(t,n){return this.__setParam(t,"IntToStringDict",n)},n.setIntToBoolMap=function(t,n){return this.__setParam(t,"IntToBoolMap",n)},n.setIntToBoolDict=function(t,n){return this.__setParam(t,"IntToBoolDict",n)},n.setStringToIntMap=function(t,n){return this.__setParam(t,"StringToIntMap",n)},n.setStringToFloatMap=function(t,n){return this.__setParam(t,"StringToFloatMap",n)},n.setStringToStringMap=function(t,n){return this.__setParam(t,"StringToStringMap",n)},n.setStringToNullableStringMap=function(t,n){return this.__setParam(t,"StringToNullableStringMap",n)},n.setStringToBoolMap=function(t,n){return this.__setParam(t,"StringToBoolMap",n)},n.setStringToEnumMap=function(t,n){return this.__setParam(t,"StringToEnumMap",n)},n.setEnumToStringVectorMap=function(t,n){return this.__setParam(t,"EnumToStringVectorMap",n)},n.setEnumToStringVecDict=function(t,n){return this.__setParam(t,"EnumToStringVecDict",n)},n.setEnumToStringMap=function(t,n){return this.__setParam(t,"EnumToStringMap",n)},n.setEnumToBoolMap=function(t,n){return this.__setParam(t,"EnumToBoolMap",n)},n.setEnumToBoolDict=function(t,n){return this.__setParam(t,"EnumToBoolDict",n)},n.setEnumToEnumMap=function(t,n){return this.__setParam(t,"EnumToEnumMap",n)},n.setEnumToEnumDict=function(t,n){return this.__setParam(t,"EnumToEnumDict",n)},n.setEnumToIntMap=function(t,n){return this.__setParam(t,"EnumToIntMap",n)},n.setEnumToEnumToStringVecMapMap=function(t,n){return this.__setParam(t,"EnumToEnumToStringVecMapMap",n)},n.setEnumToFBIDVectorMap=function(t,n){return this.__setParam(t,"EnumToFBIDVectorMap",n)},n.setEnumToFBIDVecDict=function(t,n){return this.__setParam(t,"EnumToFBIDVecDict",n)},n.setStringToIntDict=function(t,n){return this.__setParam(t,"StringToIntDict",n)},n.setStringToNullableIntDict=function(t,n){return this.__setParam(t,"StringToNullableIntDict",n)},n.setStringToFloatDict=function(t,n){return this.__setParam(t,"StringToFloatDict",n)},n.setStringToStringKeysetDict=function(t,n){return this.__setParam(t,"StringToStringKeysetDict",n)},n.setStringToNullableFloatDict=function(t,n){return this.__setParam(t,"StringToNullableFloatDict",n)},n.setStringToStringDict=function(t,n){return this.__setParam(t,"StringToStringDict",n)},n.setStringToNullableStringDict=function(t,n){return this.__setParam(t,"StringToNullableStringDict",n)},n.setStringToBoolDict=function(t,n){return this.__setParam(t,"StringToBoolDict",n)},n.setStringToEnumDict=function(t,n){return this.__setParam(t,"StringToEnumDict",n)},n.setEnumToIntDict=function(t,n){return this.__setParam(t,"EnumToIntDict",n)},n.setEnumToStringDict=function(t,n){return this.__setParam(t,"EnumToStringDict",n)},n.setHackType=function(t,n){return this.__setParam(t,"HackType",n)},n.setTypeAssert=function(t,n){return this.__setParam(t,"TypeAssert",n)},n.__validateRequiredParamsExistence=function(){for(var e in this.$3)!this.$3[e].required||Object.prototype.hasOwnProperty.call(this.$1,e)||s(0,903,e)},n.setParams=function(t){for(var e in t){this.__assertParamExists(e);var n=this.$3[e].type;this.__setParam(e,n,t[e])}return this},n.__assertParamExists=function(t){t in this.$3||s(0,37339,t)},n.__setParam=function(t,n,r){this.__assertParamExists(t);var e=this.$3[t].type,o={StringOrPFBID:"String",IntOrPFBID:"Int",FBIDOrPFBID:"FBID",PaymentLegacyAdAccountID:"Int"},a=o[e];return e===n||a===n||s(0,37340,t,n,e),this.__setParamInt(t,r),this},n.__setParamInt=function(t,n){this.$1[t]=n},n.getRequest_LEGACY_UNTYPED=function(t){return t.setReplaceTransportMarkers().setURI(this.getURI())},n.setPreviousActorIsPageVoice=function(t){return this.__setParamInt("paipv",t?1:0),this},n.getURI=function(){this.__validateRequiredParamsExistence();for(var t={},n="",o=/^(.*)?\{(\?)?(\*)?(.+?)\}(.*)?$/,a=this.$2.split("/"),i=!1,l=0;l<a.length;l++){var u=a[l];if(u!==""){var c=o.exec(u);if(!c)n+="/"+u;else{var d=c[2]==="?",m=c[4],p=this.$3[m];if(p||s(0,11837,m,this.$2),d&&i)continue;if(this.$1[m]==null&&d){i=!0;continue}var _=this.$1[m]!=null?this.$1[m]:p.defaultValue;_!=null||s(0,907,m);var f=c[1]?c[1]:"",g=c[5]?c[5]:"";n+="/"+f+_+g,t[m]=!0}}}this.$2.slice(-1)==="/"&&(n+="/"),n===""&&(n="/");var h=new(e||(e=r("URI")))(n);for(var y in this.$1){var C=this.$1[y];if(!t[y]&&C!=null){var b=this.$3[y];h.addQueryData(y,b&&b.type==="Exists"?null:C)}}return h},n.getLookasideURI=function(){var t="lookaside.facebook.com";return r("isInternalFBURI")((e||(e=r("URI"))).getRequestURI())?t="lookaside.internalfb.com":r("gkx")("21116")&&(t="lookaside.internmc.facebook.com"),this.getURI().setDomain(t).setProtocol("https")},t.create=function(n,r){return function(){return new t(n,r)}},t})();u.prototype.getRequest=function(e){return this.getRequest_LEGACY_UNTYPED(e)},l.default=u}),98);
__d("XRequest",["invariant"],(function(t,n,r,o,a,i,l){var e=function(n,r,o){var t;switch(n){case"Bool":t=r&&r!=="false"&&r!=="0"||!1;break;case"Int":t=r.toString(),/-?\d+/.test(t)||l(0,11839,r);break;case"Float":t=parseFloat(r,10),!isNaN(t)||l(0,11840,r);break;case"FBID":t=r.toString();for(var a=0;a<t.length;++a){var i=t.charCodeAt(a);48<=i&&i<=57||l(0,11841,r)}break;case"String":t=r.toString();break;case"Enum":o===0?t=e("Int",r,null):o===1?t=e("String",r,null):o===2?t=r:l(0,5044,o);break;default:var s,u,c,d;if(s=/^Nullable(\w+)$/.exec(n))r===null?t=null:t=e(s[1],r,o);else if(u=/^(\w+)Vector$/.exec(n)){Array.isArray(r)?t=r:(t=r.toString(),t=t===""?[]:t.split(","));var m=u[1];typeof m=="string"||l(0,5045),t=t.map(function(t){return e(m,t,o&&o.member)})}else if(c=/^(\w+)(Set|Keyset)$/.exec(n))Array.isArray(r)?t=r:(t=r.toString(),t=t===""?[]:t.split(",")),t=t.reduce(function(e,t){return e[t]=t,e},{}),m=c[1],typeof m=="string"||l(0,5045),t=Object.keys(t).map(function(n){return e(m,t[n],o&&o.member)});else if(d=/^(\w+)To(\w+)Map$/.exec(n)){t={};var p=d[1],_=d[2];typeof p=="string"&&typeof _=="string"||l(0,5045),Object.keys(r).forEach(function(n){t[e(p,n,o&&o.key)]=e(_,r[n],o&&o.value)})}else l(0,11842,n)}return t},s=(function(){function t(e,t,n){var r=this;this.$1=t,this.$2=babelHelpers.extends({},n.getQueryData());for(var o=e.split("/").filter(function(e){return e}),a=n.getPath().split("/").filter(function(e){return e}),i,s=0;s<o.length;++s){var u=/^\{(\?)?(\*)?(\w+)\}$/.exec(o[s]);if(!u){o[s]===a[s]||l(0,5047,n.getPath());continue}var c=!!u[1],d=!!u[2];!d||s===o.length-1||l(0,11843,i),i=u[3],Object.prototype.hasOwnProperty.call(this.$1,i)||l(0,11844,i),this.$1[i].required?!c||l(0,5050,i):c||this.$1[i].defaultValue!=null||l(0,5057,i),a[s]&&(this.$2[i]=d?a.slice(s).join("/"):a[s])}Object.keys(this.$1).forEach(function(e){!r.$1[e].required||Object.prototype.hasOwnProperty.call(r.$2,e)||l(0,5051)})}var n=t.prototype;return n.getExists=function(t){return this.$2[t]!==void 0},n.getBool=function(t){return this.$3(t,"Bool")},n.getInt=function(t){return this.$3(t,"Int")},n.getFloat=function(t){return this.$3(t,"Float")},n.getFBID=function(t){return this.$3(t,"FBID")},n.getString=function(t){return this.$3(t,"String")},n.getEnum=function(t){return this.$3(t,"Enum")},n.getOptionalInt=function(t){return this.$4(t,"Int")},n.getOptionalFloat=function(t){return this.$4(t,"Float")},n.getOptionalFBID=function(t){return this.$4(t,"FBID")},n.getOptionalString=function(t){return this.$4(t,"String")},n.getOptionalEnum=function(t){return this.$4(t,"Enum")},n.getIntVector=function(t){return this.$3(t,"IntVector")},n.getFloatVector=function(t){return this.$3(t,"FloatVector")},n.getFBIDVector=function(t){return this.$3(t,"FBIDVector")},n.getStringVector=function(t){return this.$3(t,"StringVector")},n.getEnumVector=function(t){return this.$3(t,"EnumVector")},n.getOptionalIntVector=function(t){return this.$4(t,"IntVector")},n.getOptionalFloatVector=function(t){return this.$4(t,"FloatVector")},n.getOptionalFBIDVector=function(t){return this.$4(t,"FBIDVector")},n.getOptionalStringVector=function(t){return this.$4(t,"StringVector")},n.getOptionalEnumVector=function(t){return this.$4(t,"EnumVector")},n.getIntSet=function(t){return this.$3(t,"IntSet")},n.getFBIDSet=function(t){return this.$3(t,"FBIDSet")},n.getFBIDKeyset=function(t){return this.$3(t,"FBIDKeyset")},n.getStringSet=function(t){return this.$3(t,"StringSet")},n.getEnumKeyset=function(t){return this.$3(t,"EnumKeyset")},n.getOptionalIntSet=function(t){return this.$4(t,"IntSet")},n.getOptionalFBIDSet=function(t){return this.$4(t,"FBIDSet")},n.getOptionalFBIDKeyset=function(t){return this.$4(t,"FBIDKeyset")},n.getOptionalStringSet=function(t){return this.$4(t,"StringSet")},n.getEnumToBoolMap=function(t){return this.$3(t,"EnumToBoolMap")},n.getEnumToEnumMap=function(t){return this.$3(t,"EnumToEnumMap")},n.getEnumToFloatMap=function(t){return this.$3(t,"EnumToFloatMap")},n.getEnumToIntMap=function(t){return this.$3(t,"EnumToIntMap")},n.getEnumToStringMap=function(t){return this.$3(t,"EnumToStringMap")},n.getIntToBoolMap=function(t){return this.$3(t,"IntToBoolMap")},n.getIntToEnumMap=function(t){return this.$3(t,"IntToEnumMap")},n.getIntToFloatMap=function(t){return this.$3(t,"IntToFloatMap")},n.getIntToIntMap=function(t){return this.$3(t,"IntToIntMap")},n.getIntToStringMap=function(t){return this.$3(t,"IntToStringMap")},n.getStringToBoolMap=function(t){return this.$3(t,"StringToBoolMap")},n.getStringToEnumMap=function(t){return this.$3(t,"StringToEnumMap")},n.getStringToFloatMap=function(t){return this.$3(t,"StringToFloatMap")},n.getStringToIntMap=function(t){return this.$3(t,"StringToIntMap")},n.getStringToStringMap=function(t){return this.$3(t,"StringToStringMap")},n.getOptionalEnumToBoolMap=function(t){return this.$4(t,"EnumToBoolMap")},n.getOptionalEnumToEnumMap=function(t){return this.$4(t,"EnumToEnumMap")},n.getOptionalEnumToFloatMap=function(t){return this.$4(t,"EnumToFloatMap")},n.getOptionalEnumToIntMap=function(t){return this.$4(t,"EnumToIntMap")},n.getOptionalEnumToStringMap=function(t){return this.$4(t,"EnumToStringMap")},n.getOptionalIntToBoolMap=function(t){return this.$4(t,"IntToBoolMap")},n.getOptionalIntToEnumMap=function(t){return this.$4(t,"IntToEnumMap")},n.getOptionalIntToFloatMap=function(t){return this.$4(t,"IntToFloatMap")},n.getOptionalIntToIntMap=function(t){return this.$4(t,"IntToIntMap")},n.getOptionalIntToStringMap=function(t){return this.$4(t,"IntToStringMap")},n.getOptionalStringToBoolMap=function(t){return this.$4(t,"StringToBoolMap")},n.getOptionalStringToEnumMap=function(t){return this.$4(t,"StringToEnumMap")},n.getOptionalStringToFloatMap=function(t){return this.$4(t,"StringToFloatMap")},n.getOptionalStringToIntMap=function(t){return this.$4(t,"StringToIntMap")},n.getOptionalStringToStringMap=function(t){return this.$4(t,"StringToStringMap")},n.getEnumToNullableEnumMap=function(t){return this.$3(t,"EnumToNullableEnumMap")},n.getEnumToNullableFloatMap=function(t){return this.$3(t,"EnumToNullableFloatMap")},n.getEnumToNullableIntMap=function(t){return this.$3(t,"EnumToNullableIntMap")},n.getEnumToNullableStringMap=function(t){return this.$3(t,"EnumToNullableStringMap")},n.getIntToNullableEnumMap=function(t){return this.$3(t,"IntToNullableEnumMap")},n.getIntToNullableFloatMap=function(t){return this.$3(t,"IntToNullableFloatMap")},n.getIntToNullableIntMap=function(t){return this.$3(t,"IntToNullableIntMap")},n.getIntToNullableStringMap=function(t){return this.$3(t,"IntToNullableStringMap")},n.getStringToNullableEnumMap=function(t){return this.$3(t,"StringToNullableEnumMap")},n.getStringToNullableFloatMap=function(t){return this.$3(t,"StringToNullableFloatMap")},n.getStringToNullableIntMap=function(t){return this.$3(t,"StringToNullableIntMap")},n.getStringToNullableStringMap=function(t){return this.$3(t,"StringToNullableStringMap")},n.getOptionalEnumToNullableEnumMap=function(t){return this.$4(t,"EnumToNullableEnumMap")},n.getOptionalEnumToNullableFloatMap=function(t){return this.$4(t,"EnumToNullableFloatMap")},n.getOptionalEnumToNullableIntMap=function(t){return this.$4(t,"EnumToNullableIntMap")},n.getOptionalEnumToNullableStringMap=function(t){return this.$4(t,"EnumToNullableStringMap")},n.getOptionalIntToNullableEnumMap=function(t){return this.$4(t,"IntToNullableEnumMap")},n.getOptionalIntToNullableFloatMap=function(t){return this.$4(t,"IntToNullableFloatMap")},n.getOptionalIntToNullableIntMap=function(t){return this.$4(t,"IntToNullableIntMap")},n.getOptionalIntToNullableStringMap=function(t){return this.$4(t,"IntToNullableStringMap")},n.getOptionalStringToNullableEnumMap=function(t){return this.$4(t,"StringToNullableEnumMap")},n.getOptionalStringToNullableFloatMap=function(t){return this.$4(t,"StringToNullableFloatMap")},n.getOptionalStringToNullableStringMap=function(t){return this.$4(t,"StringToNullableStringMap")},n.$3=function(n,r){this.$5(n,r);var t=this.$1[n];return!Object.prototype.hasOwnProperty.call(this.$2,n)&&t.defaultValue!=null?(!t.required||l(0,5052),e(r,t.defaultValue,t.enumType)):(t.required||r==="Bool"||t.defaultValue!=null||l(0,11845,r,n,r,n),e(r,this.$2[n],t.enumType))},n.$4=function(n,r){this.$5(n,r);var t=this.$1[n];return!t.required||l(0,11846,r,n,r,n),!t.defaultValue||l(0,5052),Object.prototype.hasOwnProperty.call(this.$2,n)?e(r,this.$2[n],t.enumType):null},n.$5=function(t,n){Object.prototype.hasOwnProperty.call(this.$1,t)||l(0,37317,t),this.$1[t].type===n||l(0,11848,t,n,this.$1[t].type)},t})();i.default=s}),66);
__d("XController",["XControllerURIBuilder","XRequest"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.getURIBuilder=function(t){var e=this,n=new(r("XControllerURIBuilder"))(this.$1,this.$2);if(t){var o=this.getRequest(t);Object.keys(this.$2).forEach(function(t){var r=e.$2[t],a="";!r.required&&!Object.prototype.hasOwnProperty.call(r,"defaultValue")&&(a="Optional");var i="get"+a+r.type,l=o[i](t);if(!(l==null||Object.prototype.hasOwnProperty.call(r,"defaultValue")&&l===r.defaultValue)){var s="set"+r.type;n[s](t,l)}})}return n},t.getRequest=function(t){return new(r("XRequest"))(this.$1,this.$2,t)},e.create=function(n,r){return new e(n,r)},e})();l.default=e}),98);
__d("XLogoutControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/logout.php",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("XMessengerDotComCometRootControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/",Object.freeze({no_rdr:!1,__pwa:!1}),["/t/"],void 0),s=e;l.default=s}),98);
__d("getImageSourceURLFromImageish",[],(function(t,n,r,o,a,i){"use strict";function e(e){return typeof e=="string"?e:e!=null&&typeof e=="object"&&!e.sprited&&e.uri&&typeof e.uri=="string"?e.uri:""}i.default=e}),66);
__d("getMDSIconColorCometFallback",[],(function(t,n,r,o,a,i){"use strict";var e={"mds-accent":"primaryAccent","mds-destructive":"negative","mds-inactive":"disabled","mds-nux":"tertiary","mds-selected":"primary",primary:"primary",secondary:"secondary",tertiary:"tertiary",white:"white"};function l(t){switch(t){case"active-tab":return"primaryAccent";case"inactive-tab":return"secondary";case"none":return;case"mds-accent":case"mds-destructive":case"mds-inactive":case"mds-nux":case"mds-selected":return e[t];default:return t}}i.MDSFallbackTypes=e,i.getMDSIconColorCometFallback=l}),66);
__d("getPasskeyCredentials",["nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("nullthrows")(navigator.credentials)}l.getPasskeyCredentials=e}),98);
__d("maybeSendMessageToIGVR",["InstagramUserAgent","SecurePostMessage"],(function(t,n,r,o,a,i,l){"use strict";var e="https://www.instagram.com";function s(t){r("InstagramUserAgent").is_igvr&&o("SecurePostMessage").sendMessageToSpecificOrigin(window,JSON.stringify(t),e)}l.default=s}),98);
__d("useMDSIconColors",["getMDSIconColorCometFallback","react","react-compiler-runtime","useCometIconColors"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u={"mds-accent":"var(--icon-accent-color)","mds-destructive":"var(--icon-destructive-color)","mds-inactive":"var(--icon-inactive-color)","mds-nux":"var(--icon-nux-color)","mds-selected":"var(--icon-selected-color)",primary:"var(--icon-primary-color)",secondary:"var(--icon-secondary-color)",tertiary:"var(--icon-tertiary-color)",white:"var(--icon-white-color)"};function c(e){var t=o("react-compiler-runtime").c(6),n=r("useCometIconColors")(),a;if(t[0]!==n||t[1]!==e){a={};var i;t[3]!==n?(i=Object.entries(n),t[3]=n,t[4]=i):i=t[4];for(var l of i){var s=l[0],c=l[1];a[s]=c}var d;t[5]===Symbol.for("react.memo_cache_sentinel")?(d=Object.entries(u),t[5]=d):d=t[5];for(var m of d){var p=m[0],_=m[1];a[p]=_}if(!e)for(var f of Object.entries(o("getMDSIconColorCometFallback").MDSFallbackTypes)){var g=f[0],h=f[1];a[g]=n[h]}t[0]=n,t[1]=e,t[2]=a}else a=t[2];return a}l.default=c}),98);/*FB_PKG_DELIM*/
__d("LSGroupPollEventType",[],(function(t,n,r,o,a,i){var e=Object.freeze({QUESTION_CREATION:1,ADD_OPTION:2,ADD_UNVOTED_OPTION:3,UPDATE_VOTE:4,MULTIPLE_UPDATES:5,QUESTION_CLOSED:6,QUESTION_BUMPED:7,QUESTION_DELETION_SUCCESS:8,QUESTION_DELETION_FAILURE:9});i.default=e}),66);
__d("LSPollQuestionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({CHOOSE_MULTIPLE:0,MOST_LIKELY_TO:1,NON_POLL:2});i.default=e}),66);
__d("LSRemoveError",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.db.table(6).fetch([[[e[0]]]]),function(e){return e.delete()})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreRemoveErrorStoredProcedure",e.__tables__=["user_visible_errors"],a.exports=e}),null);
__d("LSRemoveErrorStoredProcedure",["LSRemoveError","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSRemoveError"),a.errorId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSTransportKey",[],(function(t,n,r,o,a,i){var e=Object.freeze({ADVANCED_CRYPTO:"AdvancedCrypto",CARRIER_MESSAGING:"CarrierMessaging",FB_BROKER:"FBBroker",FB_LEGACY_BROKER:"FBLegacyBroker",TAM:"TAM",WHATS_APP:"WhatsApp",INSTAMADILLO:"Instamadillo",ENCRYPTED_BACKUPS:"EncryptedBackups",CLIENT_CONTACTS_PLACEHOLDER:"",ENCRYPTED_BACKUPS_MEDIA:"EncryptedBackupsMedia"});i.default=e}),66);
__d("MAWLocalizationEphemeralSettingSetAdminMsg",["MAWLocalizationType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||e===o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF||e===o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF||e===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF||e===o("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET}l.isEphemeralSettingSetAdminMsg=e}),98);
__d("MAWAdminMsgCTA",["fbt","I64","MAWAdminMsgTypesGrouped","MAWLocalizationEphemeralSettingSetAdminMsg","MAWLocalizationType","MAWMsgType","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=new Set([(c=o("MAWLocalizationType")).LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL,c.LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE,c.LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL,c.LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE,c.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS,c.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES,c.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE,c.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES,c.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE,c.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES,c.LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE,c.LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE,c.LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE,c.LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE,c.LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES,c.LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES,c.LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION,c.LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION]),m=new Set([c.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME,c.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME,c.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME,c.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME]),p=s._(/*BTDS*/"Change").toString(),_=s._(/*BTDS*/"See all").toString(),f=s._(/*BTDS*/"Learn more").toString(),g=s._(/*BTDS*/"Learn more").toString(),h=s._(/*BTDS*/"actions you can take.").toString(),y=s._(/*BTDS*/"Go to other chat").toString(),C=s._(/*BTDS*/"View archived chat").toString(),b=s._(/*BTDS*/"View poll").toString(),v=s._(/*BTDS*/"Change").toString();function S(e){return R.apply(this,arguments)}function R(){return R=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.admin_message_ctas.index("ctaId")));return t!=null?(u||(u=o("I64"))).add(t.ctaId,(u||(u=o("I64"))).one):(u||(u=o("I64"))).zero}),R.apply(this,arguments)}function L(e,t,n){var r=[t,n];return o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.admin_message_ctas).bounds({gte:r,lte:r}))}function E(e,t,n){if(e==null)return{showAdChoiceIcon:!1};if(o("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(e))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:p};if(d.has(e))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:t,targetTitle:n,title:b};if(m.has(e))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:v};switch(e){case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:f};case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:y};case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:C};case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:_};case o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return{actionUrl:"https://www.messenger.com/help/1145318292241859/?helpref=uk_lm",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:h};case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return{actionUrl:"https://www.facebook.com/help/messenger-app/2016594885417423?ref=ipl",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:g};default:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:void 0}}}function k(e){if(e!=null){if(o("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(e))return"admin_msg_armadillo_ephemeral_change_duration";if(d.has(e))return"admin_msg_poll_details";if(m.has(e))return"admin_msg_change_theme";switch(e){case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return"admin_msg_thread_level_cutover";case o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return"admin_msg_e2ee_thread";case o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return"admin_msg_e2ee_uk_osa";case o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return"admin_msg_cutover_rollback";case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:return"admin_msg_dual_thread_cutover";case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return"admin_msg_view_pin_msgs_v2";case o("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return"admin_msg_icdc";case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return"admin_msg_change_thread_limit_sharing_permission"}}}function I(e,t,n,r,o){return T.apply(this,arguments)}function T(){return T=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r,a){yield e.admin_message_ctas.add({actionContentBlob:a.actionContentBlob,actionUrl:a.actionUrl,adClientToken:a.adClientToken,adHelpUrl:a.adHelpUrl,adminMessageNicknameParticipantId:a.adminMessageNicknameParticipantId,adPreferenceUrl:a.adPreferenceUrl,ctaId:t,messageId:r.msgId,showAdChoiceIcon:a.showAdChoiceIcon,targetId:a.targetId,targetTitle:a.targetTitle,threadKey:n,timestampMs:o("MAWTimeUtils").toTimestamp(r.ts),title:a.title})}),T.apply(this,arguments)}function D(e,t,n){return x.apply(this,arguments)}function x(){return x=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,o){var a=yield(e||(e=n("Promise"))).all([L(t,r,o.msgId),S(t)]),i=a[0],l=a[1];if(i!=null)return{ctaId:i.ctaId,ctaType:k(o.adminType),title:i.title};var s=P(o.adminType,o),u=N(o.adminType,o),c=E(o.adminType,s,u);return yield I(t,l,r,o,c),{ctaId:l,ctaType:k(o.adminType),title:c.title}}),x.apply(this,arguments)}function $(t,r,a){var i=a.adminType;return i!=null&&(o("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(i)||i===o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE||i===o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE||i===o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION||i===o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE||i===o("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE||i===o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE||i===o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE||i===o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE||i===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE||i===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE||i===o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED||i===o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED||i===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED||i===o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED||i!=null&&d.has(i)||i!=null&&m.has(i)||o("MAWAdminMsgTypesGrouped").dualThreadCutoverAdminMsgs.includes(i))?D(t,r,a):(e||(e=n("Promise"))).resolve()}function P(e,t){if(e!=null){if(t.type_===o("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE)return(u||(u=o("I64"))).of_string(t.externalId);if(d.has(e)&&t.pollStanzaId!=null)return(u||(u=o("I64"))).of_string(t.pollStanzaId)}}function N(e,t){if(e!=null&&d.has(e))return t.adminContent==null||t.adminContent.length===0?void 0:t.adminContent[t.adminContent.length-1]}l.getAdminMsgCTAContentByAdminType=E,l.getCtaTypeByAdminType=k,l.getAdminMsgCtaStep=$}),226);
__d("MAWBridgeBuildAdminMsg",["MAWAdminMsg","MAWAdminMsgNormalized","MAWSubscribeToContactNames","MAWThreadCustomizationUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e==null?void 0:e.replace(/\$/g,"$$$$")}function s(t,n,r){r===void 0&&(r=0);var a=o("MAWAdminMsgNormalized").deconstructContactIdsFromAdminContent(n,t),i=a.contactIds,l=a.contents,s=o("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(n),u=o("MAWThreadCustomizationUtils").skipNicknameCheck(n);if(r===1){var c=o("MAWSubscribeToContactNames").getContactNameModeFromLocalizationType(n);return o("MAWAdminMsg").buildLocalizedString(l.map(e),i.map(function(e,t){return s&&t>0||u?c===o("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+e+")":"$CONTACT_FULL_NAME("+e+")":c===o("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+e+")":"$PARTICIPANT_FULL_NAME("+e+")"}),n)}return o("MAWAdminMsg").buildLocalizedString(l,i,n)}l.buildAdminMsgText=s}),98);
__d("MAWBridgeMsgUtils",["LSTransportKey"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=Object.keys(r("LSTransportKey")).find(function(t){return r("LSTransportKey")[t]===e});return t?r("LSTransportKey")[t]:"WhatsApp"}l.convertStringToLSTransportKeyType=e}),98);
__d("MAWReplyBuilder_Forward",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s={buildReplyAttachmentId:function(t){},buildReplyAttachmentPlaintextHash:function(t){},buildReplyAttachmentType:function(t){},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){},buildReplySnippet:function(t,n,r){},buildReplySourceId:function(t){},buildReplySourceType:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD)},buildReplySourceTypeV2:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD)},buildReplyStatus:function(t){},buildReplyTimestampMs:function(t){},buildReplyType:function(t){},buildReplyUserId:function(t){}};l.MAWReplyBuilder_Forward=s}),98);
__d("MAWReplyBuilder_HighlightsTabPostReply",["fbt","EntMessageReplyType","I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={buildReplyAttachmentId:function(t){},buildReplyAttachmentPlaintextHash:function(t){},buildReplyAttachmentType:function(t){},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){return""},buildReplySnippet:function(t,n,r){var e=n===r,o="$PARTICIPANT_FIRST_NAME("+n+")";return e?s._(/*BTDS*/"You replied to their post").toString():s._(/*BTDS*/"{name} replied to your post",[s._param("name",o)]).toString()},buildReplySourceId:function(t){return t.replyToMsgId},buildReplySourceType:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY)},buildReplySourceTypeV2:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY)},buildReplyStatus:function(t){},buildReplyTimestampMs:function(t){return t.timestampMs!=null?(u||(u=o("I64"))).of_float(t.timestampMs):void 0},buildReplyType:function(n){return(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR)},buildReplyUserId:function(t){return t.replyToUserId!=null?(u||(u=o("I64"))).of_string(t.replyToUserId):void 0}};l.MAWReplyBuilder_HighlightsTabPostReply=c}),226);
__d("MAWReplyBuilder_LightweightStatus",["fbt","EntMessageReplyType","I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={buildReplyAttachmentId:function(t){},buildReplyAttachmentPlaintextHash:function(t){},buildReplyAttachmentType:function(t){},buildReplyMediaExpirationTimestampMs:function(n){return n.replyMediaExpirationTimestampMs!=null?(e||(e=o("I64"))).of_float(n.replyMediaExpirationTimestampMs):void 0},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){return t.noteContent},buildReplySnippet:function(t,n,r){var e=n===r,o="$PARTICIPANT_FIRST_NAME("+n+")";return e?s._(/*BTDS*/"You replied to their note").toString():s._(/*BTDS*/"{name} replied to your note",[s._param("name",o)]).toString()},buildReplySourceId:function(t){return t.replyToMsgId},buildReplySourceType:function(){return(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS)},buildReplySourceTypeV2:function(){return(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS)},buildReplyStatus:function(t){},buildReplyTimestampMs:function(t){},buildReplyType:function(t){return(u||(u=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR)},buildReplyUserId:function(n){return n.replyToUserId!=null?(e||(e=o("I64"))).of_string(n.replyToUserId):void 0}};l.MAWReplyBuilder_LightweightStatus=c}),226);
__d("MAWBumpMessageMsgReplySnippet",["getMAWLocalizedBumpMsgReplySnippet"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.isAuthorMe,n=e.recipientName,o=e.replySenderIsMe,a=e.replySenderIsRecipient,i=e.senderName,l="participantBumpedParticipantMessage";return t&&o?l="currentUserBumpedOwnMessage":t?l="currentUserBumpedMessage":o?l="participantBumpedCurrentUserMessage":a&&(l="participantBumpedOwnMessage"),r("getMAWLocalizedBumpMsgReplySnippet")(l,i,n)}l.buildBumpMessageReplySnippet=e}),98);
__d("MAWReplyBuilder_Message",["fbt","EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBumpMessageMsgReplySnippet","MAWImageUtils","MAWMpsGating","MessagingAttachmentType","getErrorSafe"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={buildReplyAttachmentId:function(t){return d(t)},buildReplyAttachmentPlaintextHash:function(t){return p(t)},buildReplyAttachmentType:function(t){return y(t)},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){return _(t)},buildReplyMediaPreviewWidth:function(t){return f(t)},buildReplyMessageText:function(t){var e;return(e=t.replyToLSMessage)==null?void 0:e.text},buildReplySnippet:function(t,n,r){return C(t,n,r)},buildReplySourceId:function(t){return t.replyToMsgId},buildReplySourceType:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)},buildReplySourceTypeV2:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)},buildReplyStatus:function(t){return b(t)},buildReplyTimestampMs:function(t){var e;return(e=t.replyToLSMessage)==null?void 0:e.timestampMs},buildReplyType:function(n){return n.isBumpMsg?(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").BUMP):(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR)},buildReplyUserId:function(t){var e;return(e=t.replyToLSMessage)==null?void 0:e.senderId}};function d(t){var n=t.replyToLSAttachment;if(n!=null&&(n.attachmentType===(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA)||n.attachmentType===(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)&&n.receiverFetchId!=null)){var a=n.attachmentFbid;try{return(u||(u=o("I64"))).of_string(a)}catch(e){var i=r("getErrorSafe")(e);r("FBLogger")("messenger_e2ee_web").mustfix("[MAWMsgReply] getReplyAttachmentIdFromReplyContent: Error converting attachmentFbid, %s, to a big int for msg, %s. Attachment of type, %s, is likely using plaintexthash as id, please review types requiring attachment id: %s",a,n.messageId,(u||(u=o("I64"))).to_string(n.attachmentType),i.message)}}}var m=new Set([(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER),e.ofNumber(r("MessagingAttachmentType").IMAGE),e.ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE),e.ofNumber(r("MessagingAttachmentType").VIDEO),e.ofNumber(r("MessagingAttachmentType").AUDIO),e.ofNumber(r("MessagingAttachmentType").FILE)]);function p(e){var t=e.replyToLSAttachment;if(t!=null&&m.has(t.attachmentType))return t.attachmentFbid}function _(t){var n=t.replyToLSAttachment;if(n!=null)return n.attachmentType===(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)?g(t).replyHeight:n.previewHeight}function f(t){var n=t.replyToLSAttachment;if(n!=null)return n.attachmentType===(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)?g(t).replyWidth:n.previewWidth}function g(e){var t,n=(t=e.replyToLSAttachment)!=null?t:{},r=n.previewHeight,a=n.previewWidth;if(r==null||a==null)return{replyHeight:void 0,replyWidth:void 0};var i=o("MAWImageUtils").boundHeightWidth((u||(u=o("I64"))).to_int32(r),u.to_int32(a),96*.8),l=i.height,s=i.width;return{replyHeight:u.of_int32(l),replyWidth:u.of_int32(s)}}function h(e){var t,n=(t=e.replyToLSMessage)==null?void 0:t.text;return n!=null&&n!==""}function y(t){var n=t.replyToLSAttachment;if(n!=null)switch(n.attachmentType){case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").GIF);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").OTHER);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").OTHER);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA):return h(t)?void 0:(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").XMA);case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE);default:}}function C(e,t,n){var r=e.replyToLSMessage;if(!(r==null&&!o("MAWMpsGating").isMpsMessageRendering())){var a=t===n,i="$PARTICIPANT_FIRST_NAME("+t+")";if(r==null||r.isUnsent===!0)return a?s._(/*BTDS*/"You replied to a removed message").toString():s._(/*BTDS*/"{name} replied to a removed message",[s._param("name",i)]).toString();var l=r.senderId,c=(u||(u=o("I64"))).to_string(l)===n,d=t===u.to_string(l),m="$PARTICIPANT_FIRST_NAME("+u.to_string(l)+")";if(e.isBumpMsg){var p=o("MAWBumpMessageMsgReplySnippet").buildBumpMessageReplySnippet({isAuthorMe:a,recipientName:m,replySenderIsMe:c,replySenderIsRecipient:d,senderName:i});return p==null?void 0:p.toString()}return a&&c?s._(/*BTDS*/"You replied to yourself").toString():d?s._(/*BTDS*/"{other} replied to themselves",[s._param("other",i)]).toString():a?s._(/*BTDS*/"You replied to {other_name}",[s._param("other_name",m)]).toString():c?s._(/*BTDS*/"{other_name} replied to you",[s._param("other_name",i)]).toString():s._(/*BTDS*/"{other} replied to {other_name}",[s._param("other",i),s._param("other_name",m)]).toString()}}function b(t){var n=t.replyToLSMessage;if(n==null)return o("MAWMpsGating").isMpsMessageRendering()?(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").DELETED):void 0;var a=t.replyToLSAttachment;if(n.isUnsent===!0)return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").DELETED);if(n.isExpired===!0)return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").EXPIRED);if(n.isAdminMessage===!0)return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").VALID);switch(n.displayedContentTypes){case(e||(e=o("LSIntEnum"))).ofNumber(256):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").DELETED);case(e||(e=o("LSIntEnum"))).ofNumber(1):case(e||(e=o("LSIntEnum"))).ofNumber(4):case(e||(e=o("LSIntEnum"))).ofNumber(32):case(e||(e=o("LSIntEnum"))).ofNumber(64):case(e||(e=o("LSIntEnum"))).ofNumber(1024):case(e||(e=o("LSIntEnum"))).ofNumber(536870912):case(e||(e=o("LSIntEnum"))).ofNumber(4096):case(e||(e=o("LSIntEnum"))).ofNumber(16384):case(e||(e=o("LSIntEnum"))).ofNumber(134217728):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").VALID);case(e||(e=o("LSIntEnum"))).ofNumber(2):{if(a!=null)switch(a.attachmentType){case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE):case(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").VALID)}return}case(e||(e=o("LSIntEnum"))).ofNumber(65536):case(e||(e=o("LSIntEnum"))).ofNumber(131072):case(e||(e=o("LSIntEnum"))).ofNumber(262144):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE);case(e||(e=o("LSIntEnum"))).ofNumber(32768):return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").UNKNOWN);default:return}}l.MAWReplyBuilder_Message=c}),226);
__d("MAWReplyBuilder_PostMention",["EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2","MAWPostMentionXMASnippetFbt"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={buildReplyAttachmentId:function(t){},buildReplyAttachmentPlaintextHash:function(t){},buildReplyAttachmentType:function(t){},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){return""},buildReplySnippet:function(t,n,a){var e=t.mentionedUserId;if(e==null){r("FBLogger")("messenger_e2ee_web").mustfix("Error building reply snippet without recipient ID");return}var i="$PARTICIPANT_FIRST_NAME("+e+")",l=n===a,s=l?o("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(i):o("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(i);return s.toString()},buildReplySourceId:function(t){},buildReplySourceType:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)},buildReplySourceTypeV2:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_POST_MENTION)},buildReplyStatus:function(t){},buildReplyTimestampMs:function(t){return t.timestampMs!=null?(s||(s=o("I64"))).of_float(t.timestampMs):void 0},buildReplyType:function(n){return(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR)},buildReplyUserId:function(t){return t.mentionedUserId!=null?(s||(s=o("I64"))).of_string(t.mentionedUserId):void 0}};l.MAWReplyBuilder_PostMention=u}),98);
__d("MAWReplyBuilder_ProducerStoryReply",["fbt","EntMessageReplyType","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWMsgType"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={buildReplyAttachmentId:function(n){return n.storyMediaId!=null?(e||(e=o("I64"))).of_float(n.storyMediaId):void 0},buildReplyAttachmentPlaintextHash:function(t){var e;return(e=t.storyMediaPlaintextHash)!=null?e:void 0},buildReplyAttachmentType:function(t){return(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO)},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){},buildReplySnippet:function(t,n,r){var e=n===r,o="$PARTICIPANT_FIRST_NAME("+n+")";return e?s._(/*BTDS*/"You replied to your story").toString():s._(/*BTDS*/"{name} replied to their story",[s._param("name",o)]).toString()},buildReplySourceId:function(t){return t.storyUrl},buildReplySourceType:function(){return(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY)},buildReplySourceTypeV2:function(){return(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY)},buildReplyStatus:function(t){return t.storyMsgType===o("MAWMsgType").MSG_TYPE.IMAGE?(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").VALID):void 0},buildReplyTimestampMs:function(n){return n.timestampMs!=null?(e||(e=o("I64"))).of_float(n.timestampMs):void 0},buildReplyType:function(t){return(u||(u=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR)},buildReplyUserId:function(n){return(e||(e=o("I64"))).of_string(n.storyOwnerId)}};l.MAWReplyBuilder_ProducerStoryReply=c}),226);
__d("MAWReplyBuilder_Story",["fbt","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={buildReplyAttachmentId:function(t){},buildReplyAttachmentPlaintextHash:function(t){var e;return(e=t.storyMediaPlaintextHash)!=null?e:void 0},buildReplyAttachmentType:function(n){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO)},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){},buildReplySnippet:function(t,n,r){var e=t.storyOwnerId===r,o=n===r,a="$PARTICIPANT_FIRST_NAME("+n+")",i="$PARTICIPANT_FIRST_NAME("+t.storyOwnerId+")";return e?o?s._(/*BTDS*/"You replied to your story").toString():s._(/*BTDS*/"{name} replied to your story",[s._param("name",a)]).toString():o?s._(/*BTDS*/"You replied to {name}'s story",[s._param("name",i)]).toString():void 0},buildReplySourceId:function(t){return t.storyUrl},buildReplySourceType:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY)},buildReplySourceTypeV2:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY)},buildReplyStatus:function(t){},buildReplyTimestampMs:function(t){return t.timestampMs!=null?(u||(u=o("I64"))).of_float(t.timestampMs):void 0},buildReplyType:function(t){},buildReplyUserId:function(t){return(u||(u=o("I64"))).of_string(t.storyOwnerId)}};l.MAWReplyBuilder_StoryReply=c}),226);
__d("MAWReplyBuilder_StoryMention",["fbt","EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c={buildReplyAttachmentId:function(t){},buildReplyAttachmentPlaintextHash:function(t){},buildReplyAttachmentType:function(t){},buildReplyMediaExpirationTimestampMs:function(t){},buildReplyMediaPreviewHeight:function(t){},buildReplyMediaPreviewWidth:function(t){},buildReplyMessageText:function(t){},buildReplySnippet:function(t,n,o){var e=t.mentionedUserId;if(e==null){r("FBLogger")("messenger_e2ee_web").mustfix("Error building reply snippet without recipient ID");return}var a="$PARTICIPANT_FIRST_NAME("+e+")",i=n===o;return i?s._(/*BTDS*/"You mentioned {name} in your story",[s._param("name",a)]).toString():s._(/*BTDS*/"Mentioned you in their story").toString()},buildReplySourceId:function(t){},buildReplySourceType:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)},buildReplySourceTypeV2:function(){return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_MENTION)},buildReplyStatus:function(t){},buildReplyTimestampMs:function(t){return t.timestampMs!=null?(u||(u=o("I64"))).of_float(t.timestampMs):void 0},buildReplyType:function(n){return(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR)},buildReplyUserId:function(t){return t.mentionedUserId!=null?(u||(u=o("I64"))).of_string(t.mentionedUserId):void 0}};l.MAWReplyBuilder_StoryMention=c}),226);
__d("MAWReplyBuilder",["MAWReplyBuilder_Forward","MAWReplyBuilder_HighlightsTabPostReply","MAWReplyBuilder_LightweightStatus","MAWReplyBuilder_Message","MAWReplyBuilder_PostMention","MAWReplyBuilder_ProducerStoryReply","MAWReplyBuilder_Story","MAWReplyBuilder_StoryMention"],(function(t,n,r,o,a,i,l){"use strict";var e={FB_POST_MENTION:o("MAWReplyBuilder_PostMention").MAWReplyBuilder_PostMention,FB_PRODUCER_STORY_REPLY:o("MAWReplyBuilder_ProducerStoryReply").MAWReplyBuilder_ProducerStoryReply,FB_STORY_MENTION:o("MAWReplyBuilder_StoryMention").MAWReplyBuilder_StoryMention,FORWARD:o("MAWReplyBuilder_Forward").MAWReplyBuilder_Forward,HIGHLIGHTS_TAB_POST_REPLY:o("MAWReplyBuilder_HighlightsTabPostReply").MAWReplyBuilder_HighlightsTabPostReply,LIGHTWEIGHT_STATUS:o("MAWReplyBuilder_LightweightStatus").MAWReplyBuilder_LightweightStatus,MESSAGE:o("MAWReplyBuilder_Message").MAWReplyBuilder_Message,STORY:o("MAWReplyBuilder_Story").MAWReplyBuilder_StoryReply};function s(t){return e[t]}function u(e){var t=s(e.replyType);return t.buildReplyUserId(e)}l.getReplyBuilder=s,l.getReplyUserIdNew=u}),98);
__d("MAWMsgReply",["EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","MAWMsg","MAWMsgType","MAWReplyBuilder","MsgrWebGating","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return e.replySourceId!=null}function c(e,t,n,a,i){o("MsgrWebGating").isQuotedMessagesInLsEnabled()&&n!=null&&n!==(t!=null?t:"")&&r("FBLogger")("messenger_e2ee_web").warn("[MAWMsgReply][%s][%s] LS derived reply field generated does not match the legacy derived version for msg, %s. Expected: %s, Actual: %s",i,e,a,t,n)}function d(t){var n=m(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyUserId(r);return c("getReplyUserId",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function m(t){var n=t.replyToUserId;return n==null?void 0:(e||(e=o("I64"))).of_string(n)}function p(t){var n=_(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplySourceTypeV2();return c("getReplySourceTypeV2",n!=null?(e||(e=o("I64"))).to_string(n):void 0,(e||(e=o("I64"))).to_string(a),t.msgId,t.type_),a}}function _(e){var t=e.isFBPostMention,n=e.isFBStoryMention,a=e.isForwarded,i=e.isMsgHighlightsTabFriendUpdatesReply,l=e.isNoteReply,c=e.isStoryProducerReply,d=e.isStoryReply,m=e.isStoryShare,p=e.replyMediaExpirationTimestampMs,_=u(e);if(t===!0)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_POST_MENTION);if(a)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD);if(m!=null&&m)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(n!=null&&n)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_MENTION);if(i!=null&&i)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY);if(p!=null&&p<o("WATimeUtils").unixTime()&&l!==!0)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").EXPIRED_STORY);if(_)return d!=null&&d?c!=null&&c?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY):(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY):l===!0?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS):(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)}function f(t){var n=g(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplySourceType();return c("getReplySourceType",n!=null?(e||(e=o("I64"))).to_string(n):void 0,(e||(e=o("I64"))).to_string(a),t.msgId,t.type_),a}}function g(e){var t=u(e),n=e.isMsgHighlightsTabFriendUpdatesReply,a=e.isNoteReply,i=e.isStoryReply,l=e.isStoryShare;if(l!=null&&l)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(n!=null&&n)return(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY);if(t)return i!=null&&i?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY):a===!0?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS):(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)}function h(e){var t=y(e);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return t;var n=e.replyContent;if(n!=null){var r=o("MAWReplyBuilder").getReplyBuilder(n.replyType).buildReplySourceId(n);return n.replyType!=="FB_STORY_MENTION"&&n.replyType!=="FB_POST_MENTION"&&c("getReplySourceId",t,r,e.msgId,e.type_),r}}function y(e){if(e.replySourceId!=null)return e.replySourceId}function C(t){var n=b(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyTimestampMs(r);return c("getReplyTimestampMs",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function b(t){if(t.replySourceTimestampMs!=null)return(e||(e=o("I64"))).of_float(t.replySourceTimestampMs)}function v(e){var t=S(e);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return t;var n=e.replyContent;if(n!=null){var r=o("MAWReplyBuilder").getReplyBuilder(n.replyType).buildReplyMessageText(n);return c("getReplyMessageText",t,r,e.msgId,e.type_),r}}function S(e){if(e.replySourceId!=null)return e.replyMessageText}function R(e){if(e.replySourceId!=null)return e.replyMentionedJids}function L(t){var n=E(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyType(r);return c("getReplyType",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function E(e){return e.type_===o("MAWMsg").bumpExistingMessage?(s||(s=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").BUMP):u(e)?(s||(s=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").REGULAR):void 0}function k(e){return e.replySourceId==null?!1:I(e.replyStatusType)}function I(e){switch(e){case o("MAWMsgType").MSG_TYPE.IMAGE:case o("MAWMsgType").MSG_TYPE.VIDEO:case o("MAWMsgType").MSG_TYPE.GIF:case o("MAWMsgType").MSG_TYPE.STICKER:case o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case o("MAWMsgType").MSG_TYPE.PTT:case o("MAWMsgType").MSG_TYPE.RAVEN:case o("MAWMsgType").MSG_TYPE.XMA:case o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!0;default:return!1}}function T(e){return e.replyStatusType==="XMA"&&e.replyMessageText!=null}function D(t){var n=x(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyMediaPreviewHeight(r);return c("getReplyMediaPreviewHeight",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function x(t){if(k(t))return t.replyMediaPreviewHeight!=null?(e||(e=o("I64"))).of_int32(t.replyMediaPreviewHeight):void 0}function $(t){var n=P(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyMediaPreviewWidth(r);return c("getReplyMediaPreviewWidth",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function P(t){if(k(t))return t.replyMediaPreviewWidth!=null?(e||(e=o("I64"))).of_int32(t.replyMediaPreviewWidth):void 0}function N(t){var n=M(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyAttachmentType(r);return c("getReplyAttachmentType",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function M(e){var t=e.replyStatusType;if(t!=null){var n=t==="Raven",a=k(e)||n;if(a)switch(t){case"Gif":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").GIF);case"Ptt":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").OTHER);case"Sticker":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER);case"Video":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO);case"Image":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO);case"XMA":return e.isIGXMAPostShare===!0||e.isIGXMAStoryShare===!0||e.isStoryHighlightShare===!0||e.isPostPrivateReply===!0||e.isMsgHighlightsTabFriendUpdatesReply===!0?(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").FEED_POST):T(e)?void 0:(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").XMA);case"DocumentFile":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").OTHER);case"ReceiverFetch":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER);case"Raven":return(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE);default:}}}function w(t){var n=A(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyAttachmentId(r);return c("getReplyAttachmentId",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function A(t){var n=t.replyMediaId,r=t.replyXMAId;if(k(t)&&n!=null)return r!=null?void 0:(e||(e=o("I64"))).of_float(n);if(!(n!=null||r==null)&&!(r!=null&&T(t)))return(e||(e=o("I64"))).of_int32(r)}function F(e){var t=O(e);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return t;var n=e.replyContent;if(n!=null){var r=o("MAWReplyBuilder").getReplyBuilder(n.replyType).buildReplyAttachmentPlaintextHash(n);return c("getReplyAttachmentPlaintextHash",t,r,e.msgId,e.type_),r}}function O(e){var t=e.replyPlaintextHash;if(k(e)&&t!=null)return""+t}function B(t){var n=W(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyMediaExpirationTimestampMs(r);return c("getReplyMediaExpirationTimestampMs",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function W(t){var n=t.isNoteReply,r=t.isStoryReply,a=t.replyMediaExpirationTimestampMs,i=t.replyMessageText,l=t.replyStatusType;if(n===!0)return a!=null?(e||(e=o("I64"))).of_float(a):void 0;var s=N(t),u=w(t);if(l!=null&&l==="XMA"&&s==null){if(u!=null)return;if(i==null)return(e||(e=o("I64"))).zero}if(!(u!=null||!(r!=null&&r)))return(e||(e=o("I64"))).zero}l.assertIfQuotedV2=c,l.getReplyUserId=d,l.getReplySourceTypeV2=p,l.getReplySourceType=f,l.getReplySourceId=h,l.getReplyTimestampMs=C,l.getReplyMessageText=v,l.getReplyMentionedJids=R,l.getReplyType=L,l.getReplyMediaPreviewHeight=D,l.getReplyMediaPreviewWidth=$,l.getReplyAttachmentType=N,l.getReplyAttachmentTypeLegacy=M,l.getReplyAttachmentId=w,l.getReplyAttachmentPlaintextHash=F,l.getReplyMediaExpirationTimestampMs=B}),98);
__d("MAWMsgReplyStatus",["I64","LSIntEnum","LSReplyMessageStatus","MAWMsgReply","MAWMsgType","MAWReplyBuilder","MsgrWebGating"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){switch(e){case o("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case o("MAWMsgType").MSG_TYPE.REVOKED:return r("LSReplyMessageStatus").DELETED;case o("MAWMsgType").MSG_TYPE.TEXT:case o("MAWMsgType").MSG_TYPE.IMAGE:case o("MAWMsgType").MSG_TYPE.VIDEO:case o("MAWMsgType").MSG_TYPE.PTT:case o("MAWMsgType").MSG_TYPE.ADMIN:case o("MAWMsgType").MSG_TYPE.GIF:case o("MAWMsgType").MSG_TYPE.STICKER:case o("MAWMsgType").MSG_TYPE.XMA:case o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case o("MAWMsgType").MSG_TYPE.RAVEN:case o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return r("LSReplyMessageStatus").VALID;case o("MAWMsgType").MSG_TYPE.FUTUREPROOF:case o("MAWMsgType").MSG_TYPE.CIPHERTEXT:case o("MAWMsgType").MSG_TYPE.UNAVAILABLE:return r("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE;case o("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case o("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case o("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case o("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return r("LSReplyMessageStatus").UNKNOWN;case o("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return r("LSReplyMessageStatus").EXPIRED;default:return}}function c(t){var n=d(t);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var r=t.replyContent;if(r!=null){var a=o("MAWReplyBuilder").getReplyBuilder(r.replyType).buildReplyStatus(r);return o("MAWMsgReply").assertIfQuotedV2("getLSReplyMessageStatus",n!=null?(e||(e=o("I64"))).to_string(n):void 0,a!=null?(e||(e=o("I64"))).to_string(a):void 0,t.msgId,t.type_),a}}function d(e){var t=u(e.replyStatusType);if(t!=null)return(s||(s=o("LSIntEnum"))).ofNumber(t)}l.getReplyMessageStatus=u,l.getLSReplyMessageStatus=c}),98);
__d("MAWMsgReplySnippet",["fbt","FBLogger","I64","LSIntEnum","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBumpMessageMsgReplySnippet","MAWCurrentUser","MAWMpsGating","MAWMsgReply","MAWMsgReplyStatus","MAWMsgType","MAWPostMentionXMASnippetFbt","MAWReplyBuilder","MsgrWebGating","ODS"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(t){var n=t.isAuthorMe,a=t.isBumpMsg,i=a===void 0?!1:a,l=t.isDeletedMsg,c=t.isFBPostMention,d=c===void 0?!1:c,m=t.isFBStoryMention,p=m===void 0?!1:m,_=t.isIGStoryMention,f=_===void 0?!1:_,g=t.isIGXMAStoryShare,h=g===void 0?!1:g,y=t.isMsgHighlightsTabFriendUpdatesReply,C=y===void 0?!1:y,b=t.isNoteReply,v=b===void 0?!1:b,S=t.isPostPrivateReply,R=S===void 0?!1:S,L=t.isStoryHighlightShare,E=L===void 0?!1:L,k=t.isStoryProducerReply,I=t.isStoryReaction,T=I===void 0?!1:I,D=t.isStoryReply,x=D===void 0?!1:D,$=t.isStoryShare,P=$===void 0?!1:$,N=t.recipientName,M=t.replyAttachmentType,w=t.replySenderIsMe,A=w===void 0?!1:w,F=t.replySenderIsRecipient,O=F===void 0?!1:F,B=t.senderName;switch(!0){case d:return n?o("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(N):o("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(B);case i:return o("MAWBumpMessageMsgReplySnippet").buildBumpMessageReplySnippet({isAuthorMe:n,recipientName:N,replySenderIsMe:A,replySenderIsRecipient:O,senderName:B});case E:return s._(/*BTDS*/"Sent a story highlight");case(h&&M!=null&&(e||(e=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").FEED_POST))):return s._(/*BTDS*/"Sent a story");case(n&&l):return s._(/*BTDS*/"You replied to a removed message");case(n&&P):return s._(/*BTDS*/"You shared a story");case(n&&T):return s._(/*BTDS*/"You reacted to their story");case(n&&f):return N!=null?s._(/*BTDS*/"You mentioned \u0040{name} in your story",[s._param("name",N)]):s._(/*BTDS*/"You mentioned a participant in your story");case(n&&p):return N!=null?s._(/*BTDS*/"You mentioned {name} in your story",[s._param("name",N)]):s._(/*BTDS*/"You mentioned a participant in your story");case f:case p:return s._(/*BTDS*/"Mentioned you in their story");case(!n&&C):return s._(/*BTDS*/"{name} replied to your post",[s._param("name",B)]);case(n&&C):return s._(/*BTDS*/"You replied to their post");case(n&&R):return N!=null?s._(/*BTDS*/"You replied to {name}'s post",[s._param("name",N)]):s._(/*BTDS*/"You replied to a participant's post");case R:return s._(/*BTDS*/"{name} replied to your post",[s._param("name",B)]);case(!n&&v):return s._(/*BTDS*/"{name} replied to your note",[s._param("name",B)]);case(n&&v):return s._(/*BTDS*/"You replied to their note");case(n&&A):return s._(/*BTDS*/"You replied to yourself");case(n&&x):return k===!0?s._(/*BTDS*/"You replied to your story"):N!=null?s._(/*BTDS*/"You replied to {name}'s story",[s._param("name",N)]):s._(/*BTDS*/"You replied to a participant's story");case n:return N!=null?s._(/*BTDS*/"You replied to {other_name}",[s._param("other_name",N)]):s._(/*BTDS*/"You replied to a participant");case l:return s._(/*BTDS*/"{name} replied to a removed message",[s._param("name",B)]);case P:return s._(/*BTDS*/"{user} shared a story",[s._param("user",B)]);case T:return s._(/*BTDS*/"Reacted to your story");case O:return s._(/*BTDS*/"{other} replied to themselves",[s._param("other",B)]);case(A&&x):return k===!0?s._(/*BTDS*/"{name} replied to their story",[s._param("name",B)]):s._(/*BTDS*/"{name} replied to your story",[s._param("name",B)]);case A:return s._(/*BTDS*/"{other_name} replied to you",[s._param("other_name",B)]);default:return N!=null?s._(/*BTDS*/"{other} replied to {other_name}",[s._param("other",B),s._param("other_name",N)]):s._(/*BTDS*/"{other} replied to participant",[s._param("other",B)])}}function m(t,n,r,a,i){if(a===void 0&&(a=!1),(e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(25))){var l=t?o("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(r):o("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(i);return l==null?void 0:l.toString()}if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(22)))return t?r!=null?s._(/*BTDS*/"You mentioned {name} in your story",[s._param("name",r)]).toString():s._(/*BTDS*/"You mentioned a participant in your story").toString():s._(/*BTDS*/"Mentioned you in their story").toString();if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(14)))return t?s._(/*BTDS*/"You replied to their post").toString():s._(/*BTDS*/"{name} replied to your post",[s._param("name",i)]).toString();if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(13)))return t?r!=null?s._(/*BTDS*/"You replied to {name}'s post",[s._param("name",r)]).toString():s._(/*BTDS*/"You replied to a participant's post").toString():s._(/*BTDS*/"{name} replied to your post",[s._param("name",i)]).toString();if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(18)))return t?s._(/*BTDS*/"You replied to their note").toString():s._(/*BTDS*/"{name} replied to your note",[s._param("name",i)]).toString();if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(2))||(e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(24))){var c=(e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(24));if(t)return c?s._(/*BTDS*/"You replied to your story").toString():r!=null?s._(/*BTDS*/"You replied to {name}'s story",[s._param("name",r)]).toString():s._(/*BTDS*/"You replied to a participant's story").toString();if(a)return c?s._(/*BTDS*/"{name} replied to their story",[s._param("name",i)]).toString():s._(/*BTDS*/"{name} replied to your story",[s._param("name",i)]).toString()}if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(12)))return t?s._(/*BTDS*/"You reacted to their story").toString():s._(/*BTDS*/"Reacted to your story").toString();if((e||(e=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(4)))return t?s._(/*BTDS*/"You shared a story").toString():s._(/*BTDS*/"{user} shared a story",[s._param("user",i)]).toString()}function p(t,n,a,i){var l=t.senderId,s=(e||(e=o("I64"))).to_string(t.senderId)===a,u=n===a;if(l==null||n==null)throw r("FBLogger")("messenger_e2ee_web").mustfix("Error getting reply snippet without replyToUserId or / and replying message sender");var c="$PARTICIPANT_FIRST_NAME("+e.to_string(l)+")",d="$PARTICIPANT_FIRST_NAME("+n+")",p=m(u,i,c,s,d);return p==null?void 0:p.toString()}function _(e){var t=f(e);if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return t;var n=e.replyContent,r=e.sender;if(n!=null){var a=o("MAWReplyBuilder").getReplyBuilder(n.replyType).buildReplySnippet(n,r,o("MAWCurrentUser").getID());return o("MAWMsgReply").assertIfQuotedV2("getReplySnippet",t,a,e.msgId,e.type_),a}}function f(e){var t;if(!o("MAWMpsGating").isMpsMessageRendering()){var n=e.isAuthorMe,a=e.isFBPostMention,i=a===void 0?!1:a,l=e.isFBStoryMention,s=l===void 0?!1:l,u=e.isIGStoryMention,m=u===void 0?!1:u,p=e.isIGXMAStoryShare,_=e.isMsgHighlightsTabFriendUpdatesReply,f=_===void 0?!1:_,g=e.isNoteReply,h=g===void 0?!1:g,y=e.isPostPrivateReply,C=y===void 0?!1:y,b=e.isStoryHighlightShare,v=b===void 0?!1:b,S=e.isStoryProducerReply,R=e.isStoryReaction,L=e.isStoryReply,E=e.isStoryShare,k=E===void 0?!1:E,I=e.replySenderIsMe,T=e.replySourceId,D=e.replyStatusType,x=e.replyToUserId,$=e.sender,P=e.type_,N=P===o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE;if(!(T==null&&!L&&!k&&!m&&!s&&!v&&!h&&!i)){if(x==null||$==null)throw r("FBLogger")("messenger_web").mustfixThrow("Error getting reply snippet without replyToUserId or sender");return(c||(c=o("ODS"))).bumpEntityKey(3185,"armadillo_reply","creating_reply_snippet"),(t=d({isAuthorMe:n,isBumpMsg:N,isDeletedMsg:o("MAWMsgReplyStatus").getReplyMessageStatus(D)===r("LSReplyMessageStatus").DELETED,isFBPostMention:i,isFBStoryMention:s,isIGStoryMention:m,isIGXMAStoryShare:p,isMsgHighlightsTabFriendUpdatesReply:f,isNoteReply:h,isPostPrivateReply:C,isStoryHighlightShare:v,isStoryProducerReply:S,isStoryReaction:R,isStoryReply:L,isStoryShare:k,recipientName:"$PARTICIPANT_FIRST_NAME("+x+")",replySenderIsMe:I,replySenderIsRecipient:$===x,senderName:"$PARTICIPANT_FIRST_NAME("+$+")"}))==null?void 0:t.toString()}}}l.buildLocalizedReplySnippetLegacy=d,l.getReplySnippetFromLSMessage=p,l.getReplySnippet=_}),226);
__d("MAWBridgeBuildMsg",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMessageUnsendabilityStatus","MAWAckLevel","MAWBridgeBuildAdminMsg","MAWBridgeBuildMsgMentions","MAWBridgeMsg","MAWBridgeMsgUtils","MAWJids","MAWMsg","MAWMsgReply","MAWMsgReplySnippet","MAWMsgReplyStatus","MAWMsgType","MAWTimeUtils","MAWVault","MWPBumpEntityKey","isMWBumpMessage"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).reduce(function(e,t){return[].concat(e,t)},[])}function d(e){return e!=null?o("MAWVault").unvault(e):void 0}function m(e){return e!=null?o("MAWVault").vault(e):void 0}function p(e){return babelHelpers.extends({},e,{replyMessageText:m(e.replyMessageText),text:m(e.text)})}function _(e){var t=o("MAWMsgReply").getReplyMessageText(e),n=e.adminContent,r=e.adminType,a=e.adminVersion,i=e.content,l=e.isAdminMessage,u=i;l&&n!=null&&r!=null&&(u=o("MAWBridgeBuildAdminMsg").buildAdminMsgText(n,r,a));var _=o("MAWMsgReplySnippet").getReplySnippet(e);e.type_===o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE&&(u=m(e.replySourceId==null?"":_!=null?_:s._(/*BTDS*/"Bumped a message").toString()));var f=c(e.mentionedJids,o("MAWMsgReply").getReplyMentionedJids(e)),g=e.commands?e.commands:[];return f.length>0||g.length>0?p(o("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(d(u),f,d(t),g.length>0?g:void 0)):{replyMessageText:t,text:u}}function f(t){var n=t.ephemeralDurationInSec;return n!=null?(e||(e=o("I64"))).of_int32(n):void 0}function g(e,t,n,a){var i,l=r("isMWBumpMessage")(t==null?void 0:t.replyType)?t==null?void 0:t.replyMessageText:t==null?void 0:t.text,s=c(n,t==null||(i=t.mentionIds)==null?void 0:i.split(",").map(o("MAWJids").toUserJid)),u=a!=null?a:[];return s.length>0||u.length>0?p(o("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(d(e),s,d(l),u)):{replyMessageText:l,text:e}}function h(t,n){var a,i,l,s,c=_(t),d=t.type_===o("MAWMsg").unsent,m=o("MAWTimeUtils").toTimestamp(d&&(a=t.originalTs)!=null?a:t.ts);if(o("MAWMsgReply").getReplyAttachmentId(t)!=null&&o("MAWMsgReply").getReplyAttachmentPlaintextHash(t)==null){var p;o("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","new_message_handler_for_reply_type_"+(e||(e=o("I64"))).to_float((p=o("MAWMsgReply").getReplyAttachmentType(t))!=null?p:(e||(e=o("I64"))).zero))}var g=o("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(t.transportKey);return babelHelpers.extends({},c,{adminMsgCtaId:n==null?void 0:n.ctaId,adminMsgCtaTitle:n==null?void 0:n.title,adminMsgCtaType:n==null?void 0:n.ctaType,authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:d||!t.isAuthorMe?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,collapsibleId:t.collapsibleId!=null?(e||(e=o("I64"))).of_float(t.collapsibleId):void 0,displayedContentTypes:o("MAWMsg").getDisplayedContentTypes(t.type_,t.isForwarded,t.isExpiredXmaMsg,t.replySourceId!=null,t.unsupportedType,t.xmaMessageType,t.gifPlayback),editCount:(e||(e=o("I64"))).of_int32((i=t.editCount)!=null?i:0),ephemeralDurationInSec:f(t),groupId:(l=t.groupId)!=null?l:void 0,groupIndex:t.groupIndex!=null?(e||(e=o("I64"))).of_float(t.groupIndex):void 0,groupSize:t.groupSize!=null?(e||(e=o("I64"))).of_float(t.groupSize):void 0,hotEmojiSize:o("MAWBridgeMsg").getSpecialTextSize(t),isCollapsed:(s=t.isCollapsed)!=null?s:!1,isUnsent:d,messageId:t.msgId,primarySortKey:e.of_float(t.sortOrderMs),replyAttachmentId:o("MAWMsgReply").getReplyAttachmentId(t),replyAttachmentPlaintextHash:o("MAWMsgReply").getReplyAttachmentPlaintextHash(t),replyAttachmentType:o("MAWMsgReply").getReplyAttachmentType(t),replyMediaExpirationTimestampMs:o("MAWMsgReply").getReplyMediaExpirationTimestampMs(t),replyMediaPreviewHeight:o("MAWMsgReply").getReplyMediaPreviewHeight(t),replyMediaPreviewWidth:o("MAWMsgReply").getReplyMediaPreviewWidth(t),replySnippet:o("MAWMsgReplySnippet").getReplySnippet(t),replySourceId:o("MAWMsgReply").getReplySourceId(t),replySourceTimestampMs:o("MAWMsgReply").getReplyTimestampMs(t),replySourceType:o("MAWMsgReply").getReplySourceType(t),replySourceTypeV2:o("MAWMsgReply").getReplySourceTypeV2(t),replyStatus:o("MAWMsgReplyStatus").getLSReplyMessageStatus(t),replyToUserId:o("MAWMsgReply").getReplyUserId(t),replyType:o("MAWMsgReply").getReplyType(t),sendStatus:o("MAWAckLevel").levelToMessagingSendStatus(t.ack),sendStatusV2:o("MAWAckLevel").levelToMessagingSendStatusV2(t.ack),timestampMs:m,transportKey:g,unsentTimestampMs:d?o("MAWTimeUtils").toTimestamp(t.ts):void 0})}l.getEphemeralDurationInSec=f,l.buildOptimisticMessage=g,l.buildNewAndUpdatedMessageSharedParams=h}),226);
__d("MAWBridgeDeleteMessagesHandler",["EntMessageReplyType","FBLogger","I64","LSIntEnum","MAWCurrentUser","MAWDbMsg","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MAWReplyBuilder","MAWTimeUtils","MsgrWebGating","Promise","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.threadJid,"MAWBridgeDeleteMessagesHandler",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,r){yield(u||(u=n("Promise"))).all(t.messages.map((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){if(o("MsgrWebGating").isQuotedMessagesInLsEnabled()){var n=yield e.messages.index("messageId").get(t.msgId);n!=null&&(yield d({callbackTxn:e,messageId:n.messageId,threadKey:n.threadKey,timestampMs:n.timestampMs}),yield p(e,n))}else yield d({callbackTxn:e,messageId:t.msgId,threadKey:r,timestampMs:o("MAWTimeUtils").toTimestamp(t.ts)})});return function(e){return t.apply(this,arguments)}})()))});return function(t,n){return e.apply(this,arguments)}})())}function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.callbackTxn,r=e.messageId,a=e.threadKey,i=e.timestampMs;if(yield t.messages.delete(a,i,r),o("MAWMpsGating").isMpsMessageRendering()){var l=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.attachments).getKeyRange(a,r));yield(u||(u=n("Promise"))).all(l.map(function(e){var r=[e.defaultCtaId,e.attachmentCta1Id,e.attachmentCta2Id,e.attachmentCta3Id].filter(Boolean),o=r.map(function(e){return t.attachment_ctas.delete(e)});return(u||(u=n("Promise"))).all(o).then(function(){return t.attachments.delete(e.threadKey,e.messageId,e.attachmentFbid)})}))}}),m.apply(this,arguments)}function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a){var i=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.messages.index("replySourceIdMessageID")).getKeyRange(a.messageId)),l=o("MAWDbMsg").toMsgId(a.messageId);if(l==null){r("FBLogger")("messenger_e2ee_web").mustfix("[MAWBridgeDeleteMessagesHandler] Error extracting message id from message");return}yield(u||(u=n("Promise"))).all(i.map(function(n){var i={isBumpMsg:n.replyType===(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").BUMP),replyToLSMessage:babelHelpers.extends({},a,{isUnsent:!0}),replyToMsgId:l,replyType:"MESSAGE"},u=babelHelpers.extends({},n,{replyAttachmentId:void 0,replyAttachmentPlaintextHash:void 0,replyAttachmentType:void 0,replyMediaExpirationTimestampMs:void 0,replyMediaPreviewHeight:void 0,replyMediaPreviewWidth:void 0,replySnippet:o("MAWReplyBuilder").getReplyBuilder(i.replyType).buildReplySnippet(i,(s||(s=o("I64"))).to_string(n.senderId),o("MAWCurrentUser").getID()),replyStatus:o("MAWReplyBuilder").getReplyBuilder(i.replyType).buildReplyStatus(i)});return t.messages.put(u)}))}),_.apply(this,arguments)}l.call=c}),98);
__d("MAWBridgeDeleteReactionHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,n.chatJid,"MAWBridgeDeleteReactionHandler",function(t,r){return t.reactions.delete(r,n.messageId,(e||(e=o("I64"))).of_string(n.actorId))})}l.call=s}),98);
__d("MAWBridgeEditMsgHistoryAddedHandler",["FBLogger","I64","LSMessageSendStatus","MAWChatJid","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("optimistic")).getKeyRange(t));return n==null?void 0:n.messageId}),c.apply(this,arguments)}function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=yield u(e,t.originalMsgExternalId);if(a==null){r("FBLogger")("messenger_web_e2ee").warn("original message for edit msg history is not present in lsdb");return}var i={messageContent:t.msgContent.content,originalMessagePk:a,sendStatus:t.sendStatus!=null?(s||(s=o("I64"))).of_int32(t.sendStatus):(s||(s=o("I64"))).of_int32(r("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(s||(s=o("I64"))).of_int32(t.editTs),threadKey:n};return e.edit_message_history.put(i)}),m.apply(this,arguments)}function p(e,t,n,a,i){var l={messageContent:t.msgContent.content,originalMessagePk:i,pk:a,sendStatus:t.sendStatus!=null?(s||(s=o("I64"))).of_int32(t.sendStatus):(s||(s=o("I64"))).of_int32(r("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(s||(s=o("I64"))).of_int32(t.editTs),threadKey:n};return e.edit_message_history.put(l)}function _(e,t,n){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=yield o("MAWChatJid").toThreadKeyMaybe(e.tables,n.threadJid);if(r!=null){var a=n.editMsgHistoryId,i=n.originalMsgId,l=i==null||a==null?d(t,n,r):p(t,n,r,a,i);return l}}),f.apply(this,arguments)}function g(t,o,a){return(e||(e=n("Promise"))).all(a.map(function(e){return _(t,o,e)})).then(r("emptyFunction"))}l.call=g}),98);
__d("MAWBridgeHandleReceiverFetchXMA",["FBLogger","I64","LSIntEnum","LSXmaContentType","MAWBridgeXMAUtils","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a){var i,l,u,c=n.contentRef,d=n.defaultPreviewMediaId,m=n.msgId,p=n.subtitleText,_=n.titleText,f=n.xmaId;if(m!=null){var g=(i=n==null||(l=n.defaultCTA)==null?void 0:l.actionUrl)!=null?i:n==null||(u=n.defaultCTA)==null?void 0:u.nativeUrl,h=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.attachments).getKeyRange(a,m)),y=String(f),C=(e||(e=o("I64"))).zero,b;if(c!=null)try{var v=JSON.parse(c);v!=null&&(b=JSON.stringify(v))}catch(e){r("FBLogger")("messenger_web_sharing").mustfix("Failed to parse msg.contentRef as XmsgMsgrXmaContentRefDataclass")}else r("FBLogger")("messenger_web_sharing").mustfix("contentRef is empty for a MSG_RECEIVER_FETCH XMA");var S=yield o("MAWBridgeXMAUtils").addAttachmentCtas(t,n,a,m,y,{}),R=S.attachmentCta1Id,L=S.attachmentCta2Id,E=S.attachmentCta3Id,k=S.defaultCtaId,I={actionUrl:g!=null?g:void 0,attachmentCta1Id:R,attachmentCta2Id:L,attachmentCta3Id:E,attachmentFbid:y,attachmentIndex:e.zero,attachmentType:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA),authorityLevel:e.zero,defaultCtaId:k,hasMedia:!1,hasXma:!0,hasXmaPreview:d!=null,isSharable:!0,messageId:m,receiverFetchId:b,subtitleText:p,threadKey:a,timestampMs:C,titleText:_,transportKey:"WhatsApp",xmaContentType:s.ofNumber(r("LSXmaContentType").MSG_RECEIVER_FETCH)};h!=null?yield t.attachments.upsert([h.threadKey,h.messageId,h.attachmentFbid],I):yield t.attachments.add(I)}}),c.apply(this,arguments)}l.call=u}),98);
__d("MAWMessageExpirationStorage",["LSDatabaseSingleton","MAWBridgeDeleteMessagesHandler","Promise","ReQL","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new Map;function c(e,t,n){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,r){yield(s||(s=n("Promise"))).all(t.map(function(t){var n=t.ts,r=t.msgId,a={msgId:r,ts:n},i=t.threadJid,l=[a],s={messages:l,threadJid:i};return o("MAWBridgeDeleteMessagesHandler").call(e,s)})),u.delete(r)}),d.apply(this,arguments)}function m(e,t,n){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,r){yield(s||(s=n("Promise"))).all(t.map((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("messageId")).getKeyRange(t.msgId));if(n!=null){var r=babelHelpers.extends({},n,{replyAttachmentPlaintextHash:void 0});yield e.messages.put(r)}});return function(e){return t.apply(this,arguments)}})())),u.delete(r)}),p.apply(this,arguments)}function _(e,t,n){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,r){yield(s||(s=n("Promise"))).all(t.map((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("messageId")).getKeyRange(t.msgId));if(n!=null){var r=babelHelpers.extends({},n,{replyMessageText:void 0});yield e.messages.put(r)}});return function(e){return t.apply(this,arguments)}})())),u.delete(r)}),f.apply(this,arguments)}function g(t,a,l,s){return r("setTimeout")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var l=yield(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton;r("promiseDone")(l.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield s(e,t,a)});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":127"))}),l)}function h(e){var t=e.bridgeMsgStartCountdown,n=e.expirationEvent,o=t.countdownTs,a=t.millisecondsUntilCountdownTs,i=u.get(o),l;if(i==null)l=[t];else{r("clearTimeout")(i.timeoutId);var s=i.msgs.map(function(e){return e.msgId}).indexOf(t.msgId)===-1;s&&i.msgs.push(t),l=i.msgs}var c=g(l,o,a,n);u.set(o,{expirationTs:o,msgs:l,timeoutId:c})}function y(e){var t=e.msgId,n=u.get(e.countdownTs);if(n!=null){var r=n.msgs.map(function(e){return e.msgId}).indexOf(t);if(r>-1){n.msgs.splice(r,1);return}}}l.expirationDeletionEvent=c,l.expirationStoryReplyEvent=m,l.expirationNoteReplyEvent=_,l.setMessageForExpiration=h,l.clearMessageFromExpiration=y}),98);
__d("MAWBridgeMsgsStartCountdownHandler",["I64","MAWMessageExpirationStorage","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,r){return r.msgs.reduce(function(r,a){return r.then(function(){return o("MAWMessageExpirationStorage").setMessageForExpiration({bridgeMsgStartCountdown:a,expirationEvent:o("MAWMessageExpirationStorage").expirationDeletionEvent}),(s||(s=o("I64"))).of_int32(a.millisecondsUntilCountdownTs),o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,a.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(t,r){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.messages).getKeyRange(r,o("MAWTimeUtils").toTimestamp(a.ts),a.msgId)).then((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(r){if(r==null)return(e||(e=n("Promise"))).resolve();var i=babelHelpers.extends({},r,{ephemeralExpirationTs:(s||(s=o("I64"))).of_float(a.countdownTs)});yield t.messages.put(i)});return function(e){return r.apply(this,arguments)}})())})})},(e||(e=n("Promise"))).resolve())}l.call=u}),98);
__d("MAWMedia",["LSIntEnum","MAWDbMedia","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return t===o("MAWDbMedia").MEDIA_TYPE.IMAGE?n!=null?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE):(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE):t===o("MAWDbMedia").MEDIA_TYPE.VIDEO?n!=null?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO):(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO):t===o("MAWDbMedia").MEDIA_TYPE.PTT?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO):t===o("MAWDbMedia").MEDIA_TYPE.GIF?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE):t===o("MAWDbMedia").MEDIA_TYPE.STICKER?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER):t===o("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE?(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE):(e||(e=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").NONE)}l.mediaTypeToMessageAttachmentType=s}),98);
__d("MAWBridgeNewMediaHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSThreadMediaGalleryGroup","MAWDbMedia","MAWMedia","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise","ReQL","WAMediaHdType","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t,n,a,i,l){var c,d,m,p,_,f,g,h=t.messagesSortOrderMs?(s||(s=o("I64"))).of_float(t.messagesSortOrderMs[n]):t.sortOrderMs!=null?(s||(s=o("I64"))).of_float(t.sortOrderMs):(s||(s=o("I64"))).of_float(t.ts*1e3);return{accessibilitySummaryText:t.accessibilitySummaryText,attachmentFbid:a,attachmentIndex:(c=e==null?void 0:e.attachmentIndex)!=null?c:(s||(s=o("I64"))).zero,attachmentType:(d=e==null?void 0:e.attachmentType)!=null?d:o("MAWMedia").mediaTypeToMessageAttachmentType(t.mediaType,t.ephemeralMediaViewMode),authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:t.ephemeralMediaState!=null?(s||(s=o("I64"))).of_int32(t.ephemeralMediaState):e==null?void 0:e.ephemeralMediaState,ephemeralMediaViewMode:t.ephemeralMediaViewMode!=null?(s||(s=o("I64"))).of_int32(t.ephemeralMediaViewMode):e==null?void 0:e.ephemeralMediaViewMode,filename:(m=(p=t.filenames!=null?t.filenames[n]:null)!=null?p:t.defaultFilename)!=null?m:e==null?void 0:e.filename,filesize:t.filesize==null?e==null?void 0:e.filesize:(s||(s=o("I64"))).of_int32(t.filesize),gifPlayback:t.gifPlayback,hasMedia:t.hasMedia,hasXma:!1,isHd:((_=t.hdTypes)==null?void 0:_[n])===o("WAMediaHdType").HD_TYPE_HQ_4K,isSharable:!1,messageId:n,offlineAttachmentId:i,playableDurationMs:t.duration==null?e==null?void 0:e.playableDurationMs:(s||(s=o("I64"))).of_int32(t.duration),previewHeight:t.previewHeight==null?e==null?void 0:e.previewHeight:(s||(s=o("I64"))).of_int32(t.previewHeight),previewHeightLarge:t.previewHeightLarge==null?e==null?void 0:e.previewHeightLarge:(s||(s=o("I64"))).of_int32(t.previewHeightLarge),previewWidth:t.previewWidth==null?e==null?void 0:e.previewWidth:(s||(s=o("I64"))).of_int32(t.previewWidth),previewWidthLarge:t.previewWidthLarge==null?e==null?void 0:e.previewWidthLarge:(s||(s=o("I64"))).of_int32(t.previewWidthLarge),threadKey:l,timestampMs:h,titleText:t.accessibilitySummaryText,transportKey:(f=t.transportKey)!=null?f:"WhatsApp",waveformData:(g=t.waveformData)!=null?g:e==null?void 0:e.waveformData}}function d(e,t){var n=t.hasPreviewMedia!=null;return{id:e,mainMediaStatus:t.hasMedia?(u||(u=o("LSIntEnum"))).ofNumber(1):(u||(u=o("LSIntEnum"))).ofNumber(4),mainMediaStatusDetails:"initial_media_download",previewMediaStatus:n?t.hasPreviewMedia===!0?(u||(u=o("LSIntEnum"))).ofNumber(1):(u||(u=o("LSIntEnum"))).ofNumber(4):void 0,previewMediaStatusDetails:n?"initial_media_download":void 0}}function m(e,t,n){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a){var i=r.mediaId,l=r.msgIds,u=r.offlineAttachmentId,d=r.plaintextHash;yield _(t,r);var m=g(i,d),p=u!=null?u:m,f=!1,y=h(r),C=null;if(C=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.attachments_ranges_v2__generated).getKeyRange(a).filter(function(e){return(s||(s=o("I64"))).equal(e.mediaGroup,y)})),yield(e||(e=n("Promise"))).all(l.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=t.attachments,i=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(n).getKeyRange(a,e)),l=c(i,r,e,m,p,a);if(r.skipShouldUpdateHasMore!==!0&&C!=null&&(s||(s=o("I64"))).le(l.timestampMs,C.minTimestampMs)&&(f=!0),i!=null){var u;return n.upsert([i.threadKey,i.messageId,i.attachmentFbid],babelHelpers.extends({},l,{transportKey:(u=i.transportKey)!=null?u:l.transportKey}))}else return n.add(l)});return function(t){return e.apply(this,arguments)}})())),C!=null&&C.hasMoreBefore!==!0&&f){var b=babelHelpers.extends({},C,{hasMoreBefore:!0});yield t.attachments_ranges_v2__generated.upsert([C.threadKey,C.mediaGroup,C.minTimestampMs],b)}}),p.apply(this,arguments)}function _(e,t){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=t.mediaId,a=t.plaintextHash;if(a==null){r("FBLogger")("messenger_web_media").mustfix("[NewMedia] No valid media plaintextHash found in reducer %s",n);return}var i=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.client_media_status).getKeyRange(a)),l=i!=null&&!(s||(s=o("I64"))).equal(i.mainMediaStatus,(u||(u=o("LSIntEnum"))).ofNumber(4));l||(yield e.client_media_status.add(d(a,t)))}),f.apply(this,arguments)}function g(e,t){return""+(t!=null?t:e.toString())}function h(e){switch(e.mediaType){case o("MAWDbMedia").MEDIA_TYPE.IMAGE:case o("MAWDbMedia").MEDIA_TYPE.VIDEO:return(u||(u=o("LSIntEnum"))).ofNumber(r("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS);case o("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return(u||(u=o("LSIntEnum"))).ofNumber(r("LSThreadMediaGalleryGroup").FILES_ONLY);default:return(u||(u=o("LSIntEnum"))).ofNumber(r("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS)}}function y(e,t){var n=t.threadJid;return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,n,"MAWBridgeNewMediaHandler",function(e,n){return m(e,t,n)})}l.getAttachmentFromBridgeMedia=c,l.callWithoutWaitingForAnything=m,l.getAttachmentID=g,l.call=y}),98);
__d("MAWBridgeNewXMAHandler",["MAWBridgeHandleReceiverFetchXMA","MAWBridgeXMAUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","WAArmadilloXMA.pb","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=String(t.xmaId),a=t.msgId;if(a!=null){var i=t.targetType===o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH;if(i)return o("MAWBridgeHandleReceiverFetchXMA").call(e,t,n);var l=yield o("MAWBridgeXMAUtils").getExistingAttachmentAndAttachmentCtas(e,n,a),s=l[0],u=l[1],c=yield o("MAWBridgeXMAUtils").addAttachmentCtas(e,t,n,a,r,u),d=c.attachmentCta1Id,m=c.attachmentCta2Id,p=c.attachmentCta3Id,_=c.defaultCtaId,f=o("MAWBridgeXMAUtils").composeAttachmentXMA(t,n,r,a,d,m,p,_,"MAWBridgeNewXMAHandler");s!=null?yield e.attachments.upsert([s.threadKey,s.messageId,s.attachmentFbid],f):yield e.attachments.add(f)}}),s.apply(this,arguments)}function u(t,n){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(t,n.threadJid,"MAWBridgeNewXMAHandler",function(t,r){return e(t,n,r)})}function c(e,t){return u(e,t)}l.callWithoutWaitingForAnything=e,l.call=c}),98);
__d("MAWMsgFetchLSReplyMsgAndAttachment",["EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2","MAWCurrentUser","MAWDbMsg","MAWMpsGating","MAWReplyBuilder","Promise","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=t.replyContent;if(n==null||n.replyType!=="MESSAGE"||n.replyToMsgId==null)return null;var a=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("messageId")).getKeyRange(n.replyToMsgId));!o("MAWMpsGating").isMpsMessageRendering()&&a==null&&t._META_loaded_as_quoted_msg!==!0&&r("FBLogger")("messenger_e2ee_web").mustfix("[fetchReplyLocalViaLS] Reply snippet cannot be generated as original message is not in LSDB");var i;return a!=null&&(i=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.attachments).getKeyRange(a.threadKey,a.messageId))),babelHelpers.extends({},t,{replyContent:babelHelpers.extends({},n,{replyToLSAttachment:i,replyToLSMessage:a})})}),d.apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a){var i=o("MAWMpsGating").isMpsMessageRendering()?void 0:yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.attachments).getKeyRange(a.threadKey,a.messageId)),l=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.messages.index("replySourceIdMessageID")).getKeyRange(a.messageId));yield(u||(u=n("Promise"))).all(l.map(function(n){var l=n.replySourceTypeV2,u=n.replyType;if(l==null||u==null){r("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Error getting reply snippet without replySourceTypeV2 and/or replyType");return}var c=o("MAWDbMsg").toMsgId(a.messageId);if(c==null){r("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Error extracting message id from replyToLSMessage");return}if(n.messageId===a.messageId){r("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Message replying to itself should not be updated");return}if(l===(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)){var d={isBumpMsg:n.replyType===(e||(e=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").BUMP),replyToLSAttachment:i,replyToLSMessage:a,replyToMsgId:c,replyType:"MESSAGE"},m=o("MAWReplyBuilder").getReplyBuilder(d.replyType),p=i!=null?{replyAttachmentId:m.buildReplyAttachmentId(d),replyAttachmentPlaintextHash:m.buildReplyAttachmentPlaintextHash(d),replyAttachmentType:m.buildReplyAttachmentType(d),replyMediaPreviewHeight:m.buildReplyMediaPreviewHeight(d),replyMediaPreviewWidth:m.buildReplyMediaPreviewWidth(d)}:{},_=babelHelpers.extends({},n,p,{replyMessageText:m.buildReplyMessageText(d),replySnippet:m.buildReplySnippet(d,(s||(s=o("I64"))).to_string(n.senderId),o("MAWCurrentUser").getID()),replySourceTimestampMs:m.buildReplyTimestampMs(d),replyStatus:m.buildReplyStatus(d),replyToUserId:m.buildReplyUserId(d)});return t.messages.put(_)}}))}),p.apply(this,arguments)}l.fetchReplyLocalViaLS=c,l.updateMessagesReplyingToMsg=m}),98);
__d("MAWUpdateMsg",["MAWBridgeBuildMsg","MAWMsgFetchLSReplyMsgAndAttachment","MsgrWebGating","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a=o("MAWBridgeBuildMsg").buildNewAndUpdatedMessageSharedParams(t,r),i=babelHelpers.extends({},n,a);yield e.messages.upsert([n.threadKey,n.timestampMs,n.messageId],i),o("MsgrWebGating").isQuotedMessagesInLsEnabled()&&(yield o("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(e,i))}),s.apply(this,arguments)}l.call=e}),98);
__d("MAWBridgeNewMsgHandler",["FBLogger","I64","LSIntEnum","LSMessageRenderingType","LSQuickReplyType","MAWAdminMsgCTA","MAWBridgeBuildMsg","MAWBridgeNewMediaHandler","MAWBridgeNewXMAHandler","MAWBridgeXMAUtils","MAWMpsGating","MAWMsgFetchLSReplyMsgAndAttachment","MAWThreadLoadingState","MAWUpdateMsg","MAWXMAUtils","MWPBumpEntityKey","MpsMessageToBridge","MpsOverBridge","MpsToBridgeMessageId","MpsTypes","MsgrWebGating","Promise","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t,n){return babelHelpers.extends({},o("MAWBridgeBuildMsg").buildNewAndUpdatedMessageSharedParams(t,n),{forwardScore:(s||(s=o("I64"))).of_float(t.forwardingScore),isAdminMessage:t.isAdminMessage,isForwarded:t.isForwarded,messageRenderingType:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageRenderingType").DEFAULT),offlineThreadingId:t.externalId,quickReplyType:u.ofNumber(r("LSQuickReplyType").NONE),senderId:s.of_string(t.sender),threadKey:e,viewFlags:u.ofNumber(0)})}function d(e,t,n){var r=t.mediaId,a=t.offlineAttachmentId,i=t.plaintextHash,l=o("MAWBridgeNewMediaHandler").getAttachmentID(r,i),s=a!=null?a:l;return o("MAWBridgeNewMediaHandler").getAttachmentFromBridgeMedia(null,t,n,l,s,e)}function m(e,t,n,r){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){n.unsupportedType==="stickerReceiverFetchMessage"&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_msg_handler","sticker_receiver_fetch_fallback");var a=c(t,n,r),i=a.messageId,l=a.timestampMs;yield e.messages.upsert([t,l,i],a),o("MsgrWebGating").isQuotedMessagesInLsEnabled()&&(yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages).getKeyRange(t,l,i)).then(function(t){if(t!=null)return o("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(e,t)}))}),p.apply(this,arguments)}function _(e,t,n,r){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){n.unsupportedType==="stickerReceiverFetchMessage"&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_msg_handler","sticker_receiver_fetch_fallback");var a=c(t,n,r),i=yield e.messages.add(a),l=i[0],s=i[1],u=i[2];o("MsgrWebGating").isQuotedMessagesInLsEnabled()&&(yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages).getKeyRange(t,s,u)).then(function(t){if(t!=null)return o("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(e,t)}))}),f.apply(this,arguments)}function g(e,t,n){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=n.replyContent;if(a==null||a.replyType!=="MESSAGE")return n;var i=yield o("MpsOverBridge").mps().loadMessage({config:{shouldFetchSupplementals:!0,strategy:"local-first"},debug:{purpose:"reply-fetch-local"},messageId:o("MpsToBridgeMessageId").bridgeMsgIdToMps(a.replyToMsgId).messageId,threadId:o("MpsTypes").toThreadId(n.chatJid)}),l=i.value;if(l==null)return r("FBLogger")("messenger_e2ee_web").mustfix("[fetchReplyLocalViaMPS] Reply snippet cannot be generated as original message is not in MPS"),n;var s=o("MpsMessageToBridge").mpsFullMessagetoBridge(l),u=s==null?void 0:s.topLevel,m=s==null?void 0:s.supplementals;if(u!=null&&u.kind==="bridgeMsg"){var p=m==null?void 0:m.find(function(e){return e.kind==="bridgeMedia"||e.kind==="bridgeXMA"}),_=u.value.msgId,f;(p==null?void 0:p.kind)==="bridgeMedia"?(f=d(t,p==null?void 0:p.value,a.replyToMsgId),yield o("MAWBridgeNewMediaHandler").callWithoutWaitingForAnything(e,p==null?void 0:p.value,t)):(p==null?void 0:p.kind)==="bridgeXMA"&&(f=o("MAWBridgeXMAUtils").composeAttachmentXMA(p==null?void 0:p.value,t,String(p==null?void 0:p.value.xmaId),_,void 0,void 0,void 0,void 0,"MAWBridgeNewMsgHandler"),yield o("MAWBridgeNewXMAHandler").callWithoutWaitingForAnything(e,p==null?void 0:p.value,t));var g=c(t,u.value,void 0);return yield e.messages.add(g),babelHelpers.extends({},n,{replyContent:babelHelpers.extends({},a,{replyToLSAttachment:f,replyToLSMessage:g})})}return n}),h.apply(this,arguments)}function y(e,t,n){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r,a;if(!o("MsgrWebGating").isQuotedMessagesInLsEnabled())return n;var i=yield o("MAWMsgFetchLSReplyMsgAndAttachment").fetchReplyLocalViaLS(e,n);return i==null?n:o("MAWMpsGating").isMpsMessageRendering()&&((r=i.replyContent)==null?void 0:r.replyToLSAttachment)==null&&((a=i.replyContent)==null?void 0:a.replyToLSMessage)==null?g(e,t,n):i}),C.apply(this,arguments)}function b(e,t){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){var a=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.messages.index("optimistic")).getKeyRange(r.externalId));return a!=null?(e||(e=n("Promise"))).resolve(a):o("MsgrWebGating").isQuotedMessagesInLsEnabled()?o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.messages.index("messageId")).getKeyRange(r.msgId)):(e||(e=n("Promise"))).resolve(null)}),v.apply(this,arguments)}function S(e,t,n){return R.apply(this,arguments)}function R(){return R=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=yield y(e,n,t);if(!o("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType)){if(a.isExpiredMsg===!0){r("FBLogger")("messenger_web").mustfix("Attempted to insert an expired message");return}var i=yield o("MAWAdminMsgCTA").getAdminMsgCtaStep(e,n,a);if(o("MAWMpsGating").isMpsMessageRendering())yield m(e,n,a,i);else{var l,u=yield b(e,a);u==null?yield _(e,n,a,i):yield o("MAWUpdateMsg").call(e,a,u,i),o("MAWMpsGating").isMpsMessageRendering()&&((l=a.editCount)!=null?l:0)>0&&(yield L(e,a))}if(a.collapsibleId!=null){var c=(s||(s=o("I64"))).of_float(a.collapsibleId),d=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.messages.index("collapsibleId")).getKeyRange(c));if(d.length>1){var p=d[0],f=d[1];(s||(s=o("I64"))).gt(p.timestampMs,f.timestampMs)?yield e.messages.put(babelHelpers.extends({},f,{isCollapsed:!0})):yield e.messages.put(babelHelpers.extends({},p,{isCollapsed:!0}))}}}}),R.apply(this,arguments)}function L(e,t){return E.apply(this,arguments)}function E(){return E=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){var a=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.messages.index("replySourceIdMessageID")).getKeyRange(r.msgId));yield(e||(e=n("Promise"))).all(a.map(function(e){var n=babelHelpers.extends({},e,{replyMessageText:r.content});return t.messages.put(n)}))}),E.apply(this,arguments)}function k(e,t){return I.apply(this,arguments)}function I(){return I=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield o("MAWThreadLoadingState").getThreadKeyIfMiThreadNotMissing(e,t.chatJid);n!=null&&(yield S(e,t,n))}),I.apply(this,arguments)}function T(e,t){return D.apply(this,arguments)}function D(){return D=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){yield(e||(e=n("Promise"))).all(r.map(function(e){return k(t,e)}))}),D.apply(this,arguments)}l.callWithoutWaitingForAnything=S,l.call=k,l.bulkCall=T}),98);
__d("MAWBridgePollUtils",["fbt","FBLogger","I64","MAWUserJidWrapper","WAJids"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t){return t.toSorted(function(t,n){return t.numVotes!==n.numVotes?n.numVotes-t.numVotes:(e||(e=o("I64"))).equal(t.sortKeyVotingTimestamp,n.sortKeyVotingTimestamp)?(e||(e=o("I64"))).compare(t.sortKeyCreationTimestamp,n.sortKeyCreationTimestamp):(e||(e=o("I64"))).compare(n.sortKeyVotingTimestamp,t.sortKeyVotingTimestamp)})}function c(t){if(t===o("WAJids").AUTHOR_SYSTEM)throw r("FBLogger")("messenger_web").mustfixThrow("Not a valid author for poll vote");return t===o("WAJids").AUTHOR_ME?(e||(e=o("I64"))).of_string(o("WAJids").userIdFromJid(o("MAWUserJidWrapper").getMyUserJid())):(e||(e=o("I64"))).of_string(o("WAJids").userIdFromJid(t))}function d(e,t){switch(e.length){case 0:return s._(/*BTDS*/"{option_name}, no votes",[s._param("option_name",t)]);case 1:return s._(/*BTDS*/"{option_name}, voted for by {voter_name}",[s._param("option_name",t),s._param("voter_name",e[0])]);case 2:return s._(/*BTDS*/"{option_name}, voted for by {first_voter_name}, {second_voter_name}",[s._param("option_name",t),s._param("first_voter_name",e[0]),s._param("second_voter_name",e[1])]);case 3:return s._(/*BTDS*/"{option_name}, voted for by {first_voter_name}, {second_voter_name} and {third_voter_name}",[s._param("option_name",t),s._param("first_voter_name",e[0]),s._param("second_voter_name",e[1]),s._param("third_voter_name",e[2])]);default:return s._(/*BTDS*/"{option_name}, voted for by {first_voter_name}, {second_voter_name} and {remaining_count} others",[s._param("option_name",t),s._param("first_voter_name",e[0]),s._param("second_voter_name",e[1]),s._param("remaining_count",e.length-2)])}}l.sortPollXMAOptions=u,l.getContactIdForAuthor=c,l.getListItemAccessibilityText=d}),226);
__d("QuestionPollStage",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOMINATING:0,VOTING:1,CLOSED:2});i.default=e}),66);
__d("MAWBridgeNewPollHandler",["fbt","FBLogger","I64","LSAuthorityLevel","LSGroupPollEventType","LSIntEnum","LSPollQuestionType","MAWBridgePollUtils","MAWDbPoll","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MNLSXMALayoutType","MNLSXMATemplateType","MessagingAttachmentType","Promise","QuestionPollStage","ReQL","WAJids","asyncToGeneratorRuntime","nullthrows"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=3;function m(e,t,n){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=t.contactIdForCurrentUser,a=t.dbPoll,i=t.latestUpdateMsgId,l=t.latestUpdateTimestampMs,s=t.transportKey,u=a.pollStanzaId,d=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.attachments.index("idx_attachments_collapsible_id")).getKeyRange(n,(c||(c=o("I64"))).of_string(u)));d!=null&&(yield e.attachments.delete(d.threadKey,d.messageId,d.attachmentFbid)),yield f(e,a,n,i,l,r,s)}),p.apply(this,arguments)}function _(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.dbPoll.chatJid,"BridgeNewPollHandler",function(e,n){return m(e,t,n)})}function f(e,t,n,r,o,a,i){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,s,u,m){var p=a.latestSenderTimestampsMs,_=a.pollParticipantCount,f=a.pollStanzaId,g=(c||(c=o("I64"))).of_string(f),y=yield o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.polls).getKeyRange(g));y==null&&(yield C(t,g,l,s,i));var b=yield o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(t.poll_options_v2).getKeyRange(g)),S=new Map(a.pollOptions.entries().map(function(e){var t=e[0],n=e[1];return[o("MAWDbPoll").generateStableIdFromOptionHash(t,f).toString(),n]})),R=new Map;b.forEach(function(e){var t=(c||(c=o("I64"))).to_string(e.optionId);R.set(t,babelHelpers.extends({},R.get(t),{lsOption:e}))}),S.entries().forEach(function(e){var t=e[0],n=e[1];n.optionText!=null&&R.set(t,babelHelpers.extends({},R.get(t),{mawDbOption:n}))});var L=R.entries().toArray().sort(function(e,t){var n,o,a=e[0],i=e[1],l=i.lsOption,s=i.mawDbOption,u=t[0],c=t[1],d=c.lsOption,m=c.mawDbOption,p=r("nullthrows")((n=l==null?void 0:l.optionText)!=null?n:s==null?void 0:s.optionText),_=r("nullthrows")((o=d==null?void 0:d.optionText)!=null?o:m==null?void 0:m.optionText);return p.localeCompare(_)}),E=yield(e||(e=n("Promise"))).all(L.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){var a=e[0],i=e[1],l=i.lsOption,s=i.mawDbOption,d=(c||(c=o("I64"))).of_int32(n);if(l==null&&s==null)return null;var m=c.of_string(a);if(s==null){var f=r("nullthrows")(l),y=f.optionText;yield t.poll_options_v2.upsert([g,m],babelHelpers.extends({},r("nullthrows")(l),{sortKeyCreationTimestamp:d}));var C=yield o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.poll_votes_v2).getKeyRange(g,m,u));return{contactIds:[u],hasVoteFromCurrentUser:!0,numVotes:1,optionId:m,optionText:y,progressBarFilledPercentage:Math.floor(1/_*100),sortKeyCreationTimestamp:d,sortKeyVotingTimestamp:C!=null?C.timestampMs:(c||(c=o("I64"))).zero}}return h(t,g,m,r("nullthrows")(s.optionText),l,s,d,p,u,_)});return function(t,n){return e.apply(this,arguments)}})())).then(function(e){return e.filter(Boolean)}),k=E.some(function(e){return e.hasVoteFromCurrentUser}),I=o("MAWBridgePollUtils").sortPollXMAOptions(E).slice(0,d);yield v(t,a,i,l,s,I,k,m)}),g.apply(this,arguments)}function h(e,t,n,r,o,a,i,l,s,u){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,s,u,d,m,p,_){var f=u.voteAuthors,g=Array.from(f).map(function(e){var t=m.get(e);if(t==null)throw r("FBLogger")("messenger_web").mustfixThrow("Missing latest sender timestamp for poll voter from dbPoll");return{contactId:o("MAWBridgePollUtils").getContactIdForAuthor(e),latestSenderTimestampMs:t}}),h=s!=null?yield o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(t.poll_votes_v2).getKeyRange(a,i)):[],y=h.find(function(e){return(c||(c=o("I64"))).equal(e.contactId,p)}),C=m.get(o("WAJids").AUTHOR_ME),b=y!=null&&(C==null||C<(c||(c=o("I64"))).to_float(y.timestampMs));yield(e||(e=n("Promise"))).all(h.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){(c||(c=o("I64"))).equal(e.contactId,p)&&b||(yield t.poll_votes_v2.delete(a,i,e.contactId))});return function(t){return e.apply(this,arguments)}})())),yield e.all(g.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=e.contactId,r=e.latestSenderTimestampMs;yield t.poll_votes_v2.put({contactId:n,optionId:i,pollId:a,timestampMs:(c||(c=o("I64"))).of_float(r)})});return function(t){return e.apply(this,arguments)}})()));var v=(c||(c=o("I64"))).of_float(Math.max.apply(Math,g.map(function(e){return e.latestSenderTimestampMs}).concat([0]))),S=b?(c||(c=o("I64"))).max(r("nullthrows")(y==null?void 0:y.timestampMs),v):v,R=g.length+(b?1:0),L={optionId:i,optionText:l,pollId:a,sortKeyCreationTimestamp:d,sortKeyVotingTimestamp:S,voteCount:c.of_int32(R)};s!=null?yield t.poll_options_v2.upsert([a,i],L):yield t.poll_options_v2.add(L);var E=g.map(function(e){return e.contactId});return b&&E.push(p),{contactIds:E,hasVoteFromCurrentUser:b||g.find(function(e){return(c||(c=o("I64"))).equal(e.contactId,p)})!=null,numVotes:R,optionId:i,optionText:l,progressBarFilledPercentage:Math.floor(R/_*100),sortKeyCreationTimestamp:d,sortKeyVotingTimestamp:S}}),y.apply(this,arguments)}function C(e,t,n,r,o){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a,i){var l={authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),lastUpdateMessageEventType:u.ofNumber(r("LSGroupPollEventType").QUESTION_CREATION),lastUpdateMessageId:n,lastUpdateMessageTimestampMs:(c||(c=o("I64"))).of_float(a),pollId:t,pollStage:u.ofNumber(r("QuestionPollStage").VOTING),pollType:u.ofNumber(r("LSPollQuestionType").CHOOSE_MULTIPLE),threadKey:i};yield e.polls.put(l)}),b.apply(this,arguments)}function v(e,t,n,r,o,a,i,l){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,m,p,_,f){var g=a.pollStanzaId,h=a.title;if(p.length===0){r("FBLogger")("messenger_web").mustfix("Items length for poll XMA should be greater than 0");return}var y=yield o("ReQL").toArrayAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(t.participants,[]).getKeyRange(i),o("ReQL").fromTableAscending(t.contacts,["name","id","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"])).map(function(e){var t=e[0],n=e[1];return n}).filter(Boolean)),C=new Map(y.map(function(e){return[(c||(c=o("I64"))).to_string(e.id),e]})),b=p.map(function(e){var t=e.contactIds,n=e.optionId,r=e.optionText,a=e.progressBarFilledPercentage,i=t.reduce(function(e,t){var n,r,a=C.get((c||(c=o("I64"))).to_string(t));return e.contactUrlExpirations.push((a==null?void 0:a.profilePictureUrlExpirationTimestampMs)!=null?(c||(c=o("I64"))).to_string(a.profilePictureUrlExpirationTimestampMs):""),e.contactUrlFallbacks.push((n=a==null?void 0:a.profilePictureFallbackUrl)!=null?n:""),e.contactUrls.push((r=a==null?void 0:a.profilePictureUrl)!=null?r:""),(a==null?void 0:a.name)!=null&&e.contactNames.push(a.name),e},{contactNames:[],contactUrlExpirations:[],contactUrlFallbacks:[],contactUrls:[]}),l=i.contactNames,s=i.contactUrlExpirations,u=i.contactUrlFallbacks,d=i.contactUrls;return{listItemAccessibilityText:o("MAWBridgePollUtils").getListItemAccessibilityText(l,r).toString(),listItemContactUrlExpirationTimestampList:s.length>0?s.join(", "):void 0,listItemContactUrlFallbackList:u.length>0?u.join(", "):void 0,listItemContactUrlList:d.length>0?d.join(", "):void 0,listItemId:n,listItemProgressBarFilledPercentage:(c||(c=o("I64"))).of_int32(a),listItemTitleText:r,listItemTotalCount:c.of_int32(t.length)}}),v=(c||(c=o("I64"))).of_string(g),S=_?s._(/*BTDS*/"Change vote").toString():s._(/*BTDS*/"Vote").toString(),R={actionContentBlob:h,attachmentFbid:g,attachmentIndex:c.zero,ctaId:v,messageId:l,targetId:c.of_string(g),threadKey:i,title:S,type_:"xma_poll_details_card"},L={attachmentCta1Id:v,attachmentFbid:g,attachmentIndex:c.zero,cta1Title:S,cta1Type:"xma_poll_details_card",defaultActionEnableExtensions:!1,defaultCtaId:v,defaultCtaTitle:S,defaultCtaType:"xma_poll_details_card",faviconUrlExpirationTimestampMs:c.zero,messageId:l,threadKey:i},E={attachmentCta1Id:v,attachmentFbid:g,attachmentIndex:c.zero,attachmentType:(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA),authorityLevel:u.ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),collapsibleId:c.of_string(g),cta1Title:S,cta1Type:"xma_poll_details_card",defaultCtaId:v,defaultCtaTitle:S,defaultCtaType:"xma_poll_details_card",hasMedia:!1,hasXma:!0,isSharable:!1,listItemsDescriptionText:h,listItemsId:c.of_string(g),messageId:l,threadKey:i,timestampMs:c.of_float(m),transportKey:f!=null?f:"WhatsApp",xmaLayoutType:u.ofNumber(r("MNLSXMALayoutType").XCENTER),xmasTemplateType:u.ofNumber(r("MNLSXMATemplateType").GENERIC_SHARE)},k=a.pollOptions.values().filter(function(e){return e.optionText!=null}).toArray().length,I=k>d?s._(/*BTDS*/"_j{\"*\":\"{additional_option_count} more options\",\"_1\":\"{additional_option_count} more option\"}",[s._plural(k-d),s._param("additional_option_count",k-d)]).toString():void 0,T=babelHelpers.extends({},E,{listItemAccessibilityText1:b[0].listItemAccessibilityText,listItemAccessibilityText2:b.length>1?b[1].listItemAccessibilityText:void 0,listItemAccessibilityText3:b.length>2?b[2].listItemAccessibilityText:void 0,listItemContactUrlExpirationTimestampList1:b[0].listItemContactUrlExpirationTimestampList,listItemContactUrlExpirationTimestampList2:b.length>1?b[1].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlExpirationTimestampList3:b.length>2?b[2].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlFallbackList1:b[0].listItemContactUrlFallbackList,listItemContactUrlFallbackList2:b.length>1?b[1].listItemContactUrlFallbackList:void 0,listItemContactUrlFallbackList3:b.length>2?b[2].listItemContactUrlFallbackList:void 0,listItemContactUrlList1:b[0].listItemContactUrlList,listItemContactUrlList2:b.length>1?b[1].listItemContactUrlList:void 0,listItemContactUrlList3:b.length>2?b[2].listItemContactUrlList:void 0,listItemId1:b[0].listItemId,listItemId2:b.length>1?b[1].listItemId:void 0,listItemId3:b.length>2?b[2].listItemId:void 0,listItemProgressBarFilledPercentage1:b[0].listItemProgressBarFilledPercentage,listItemProgressBarFilledPercentage2:b.length>1?b[1].listItemProgressBarFilledPercentage:void 0,listItemProgressBarFilledPercentage3:b.length>2?b[2].listItemProgressBarFilledPercentage:void 0,listItemsSecondaryDescriptionText:I,listItemTitleText1:p[0].optionText,listItemTitleText2:p.length>1?p[1].optionText:void 0,listItemTitleText3:p.length>2?p[2].optionText:void 0,listItemTotalCount1:b[0].listItemTotalCount,listItemTotalCount2:b.length>1?b[1].listItemTotalCount:void 0,listItemTotalCount3:b.length>2?b[2].listItemTotalCount:void 0});yield(e||(e=n("Promise"))).all([t.attachments.upsert([i,l,g],T),t.attachment_ctas.upsert([v],R),t.attachment_items.upsert([g,c.zero],L)])}),S.apply(this,arguments)}l.POLL_OPTIONS_THRESHOLD=d,l.call=_}),226);
__d("MAWBridgeNewReceiverFetchInfoHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlUtils","MAWBridgeSendAndReceive","MAWImageUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(!o("MAWMpsGating").isMpsMessageRendering())return e;var t=yield o("MAWBridgeSendAndReceive").sendAndReceive("backend","getReceiverFetchInfo",{receiverFetchId:e.receiverFetchId});return babelHelpers.extends({},e,t)}),c.apply(this,arguments)}function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=yield u(t),a=r.msgId,i=r.receiverFetchId,l=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.attachments).getKeyRange(n,a)),s=_(r,n,l);yield e.attachments.upsert([n,a,i],s)}),m.apply(this,arguments)}function p(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.threadJid,"BridgeNewReceiverFetchInfoHandler",function(e,n){return d(e,t,n)})}function _(t,n,a){var i=t.accessibilitySummaryText,l=t.mimetype,u=t.msgId,c=t.previewHeight,d=t.previewUrl,m=t.previewUrlExpirationTimestampMs,p=t.previewWidth,_=t.ravenSettings,g=t.receiverFetchId,h=t.sortOrderMs,y=t.transportKey,C=t.type,b=f(C),v=o("MAWImageUtils").boundHeightWidth(c,p,o("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE),S=v.height,R=v.width,L=d!=null?d:a==null?void 0:a.previewUrl,E=m!=null?(e||(e=o("I64"))).of_float(m):a==null?void 0:a.previewUrlExpirationTimestampMs,k=o("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(L,E);return{accessibilitySummaryText:i,attachmentFbid:g,attachmentIndex:(e||(e=o("I64"))).zero,attachmentType:b,authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:(_==null?void 0:_.ephemeralMediaState)!=null?(e||(e=o("I64"))).of_int32(_.ephemeralMediaState):void 0,ephemeralMediaViewMode:(_==null?void 0:_.ephemeralMediaViewMode)!=null?(e||(e=o("I64"))).of_int32(_.ephemeralMediaViewMode):void 0,hasMedia:k,hasXma:!1,isSharable:!1,messageId:u,previewHeight:e.of_int32(S),previewUrl:d!=null?d:a==null?void 0:a.previewUrl,previewUrlExpirationTimestampMs:m!=null?(e||(e=o("I64"))).of_float(m):a==null?void 0:a.previewUrlExpirationTimestampMs,previewUrlMimeType:l,previewWidth:e.of_int32(R),receiverFetchId:g,threadKey:n,timestampMs:e.of_float(h),transportKey:y!=null?y:"WhatsApp"}}function f(e){switch(e){case"sticker":return(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER);default:throw r("FBLogger")("messenger_web_media").mustfixThrow("Unsupported type for MAWBridgeNewReceiverFetchInfoHandler")}}l.call=p,l.composeAttachment=_}),98);
__d("MAWBridgeReactionUpsertHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,i,l){return{actorId:(e||(e=o("I64"))).of_string(t),authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE),messageId:a,reaction:l,reactionCreationTimestampMs:o("MAWTimeUtils").toTimestamp(i),threadKey:n,timestampMs:o("MAWTimeUtils").toTimestamp(i),transportKey:"WhatsApp"}}function c(t,n,r,a,i,l){return t.reactions.upsert([r,a,(e||(e=o("I64"))).of_string(n)],u(n,r,a,i,l))}function d(e,t,n,r,o,a){return c(e,t,n,r,o,a)}function m(e,t){return o("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(e,t.chatJid,"MAWBridgeReactionUpsertHandler",function(e,n){return c(e,t.actorId,n,t.messageId,t.ts,t.reaction)})}l.composeReaction=u,l.attachmentMutationsOptimisticHandler=d,l.call=m}),98);/*FB_PKG_DELIM*/
__d("EmojiRendererData",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){}return e.isEmoji=function(t){return t>983041||t<35?!1:t===35||t===42||t>=48&&t<=57||t===169||t===174||t===8205||t===8252||t===8265||t===8419||t===8482||t===8505||t>=8596&&t<=8601||t>=8617&&t<=8618||t>=8986&&t<=8987||t===9e3||t===9167||t>=9193&&t<=9203||t>=9208&&t<=9210||t===9410||t>=9642&&t<=9643||t===9654||t===9664||t>=9723&&t<=9726||t>=9728&&t<=9732||t===9742||t===9745||t>=9748&&t<=9749||t===9752||t===9760||t>=9762&&t<=9763||t===9766||t===9770||t>=9774&&t<=9775||t>=9784&&t<=9786||t===9792||t===9794||t>=9800&&t<=9811||t>=9823&&t<=9824||t===9827||t>=9829&&t<=9830||t===9832||t===9851||t>=9854&&t<=9855||t>=9874&&t<=9879||t===9881||t>=9883&&t<=9884||t>=9888&&t<=9889||t===9895||t>=9898&&t<=9899||t>=9904&&t<=9905||t>=9917&&t<=9918||t>=9924&&t<=9925||t===9928||t>=9934&&t<=9935||t===9937||t>=9939&&t<=9940||t>=9961&&t<=9962||t>=9968&&t<=9973||t>=9975&&t<=9976||t===9978||t===9981||t===9986||t===9989||t>=9992&&t<=9993||t===9999||t===10002||t===10004||t===10006||t===10013||t===10017||t===10024||t>=10035&&t<=10036||t===10052||t===10055||t===10060||t===10062||t>=10067&&t<=10069||t===10071||t>=10083&&t<=10084||t>=10133&&t<=10135||t===10145||t===10160||t===10175||t>=10548&&t<=10549||t>=11013&&t<=11015||t>=11035&&t<=11036||t===11088||t===11093||t===12336||t===12349||t===12951||t===12953||t===126980||t===127183||t>=127344&&t<=127345||t>=127358&&t<=127359||t===127374||t>=127377&&t<=127386||t>=127462&&t<=127487||t>=127489&&t<=127490||t===127514||t===127535||t>=127538&&t<=127546||t>=127568&&t<=127569||t>=127744&&t<=127777||t>=127780&&t<=127876||t>=127878&&t<=127891||t>=127894&&t<=127895||t>=127897&&t<=127899||t>=127902&&t<=127937||t>=127941&&t<=127942||t>=127944&&t<=127945||t>=127949&&t<=127984||t>=127987&&t<=127989||t>=127991&&t<=127994||t>=128e3&&t<=128065||t>=128068&&t<=128069||t>=128081&&t<=128101||t>=128121&&t<=128123||t>=128125&&t<=128128||t===128132||t>=128136&&t<=128142||t===128144||t>=128146&&t<=128169||t>=128171&&t<=128253||t>=128255&&t<=128317||t>=128329&&t<=128334||t>=128336&&t<=128359||t>=128367&&t<=128368||t===128371||t>=128374&&t<=128377||t===128391||t>=128394&&t<=128397||t>=128420&&t<=128421||t===128424||t>=128433&&t<=128434||t===128444||t>=128450&&t<=128452||t>=128465&&t<=128467||t>=128476&&t<=128478||t===128481||t===128483||t===128488||t===128495||t===128499||t>=128506&&t<=128580||t>=128584&&t<=128586||t>=128640&&t<=128674||t>=128676&&t<=128691||t>=128695&&t<=128703||t>=128705&&t<=128709||t===128715||t>=128717&&t<=128722||t>=128725&&t<=128727||t>=128732&&t<=128741||t===128745||t>=128747&&t<=128748||t===128752||t>=128755&&t<=128764||t>=128992&&t<=129003||t===129008||t>=129293&&t<=129294||t>=129296&&t<=129303||t>=129312&&t<=129317||t>=129319&&t<=129327||t===129338||t>=129343&&t<=129349||t>=129351&&t<=129398||t>=129400&&t<=129460||t===129463||t===129466||t>=129468&&t<=129484||t===129488||t>=129502&&t<=129535||t>=129648&&t<=129660||t>=129664&&t<=129673||t>=129679&&t<=129730||t===129734||t>=129742&&t<=129756||t>=129759&&t<=129769||t>=917536&&t<=917631||t>=983040&&t<=983041},e.isEmojiModifier=function(t){return t>127999||t<127995?!1:t>=127995&&t<=127999},e.isEmojiModifierBase=function(t){return t>129784||t<9757?!1:t===9757||t===9977||t>=9994&&t<=9997||t===127877||t>=127938&&t<=127940||t===127943||t>=127946&&t<=127948||t>=128066&&t<=128067||t>=128070&&t<=128080||t>=128102&&t<=128120||t===128124||t>=128129&&t<=128131||t>=128133&&t<=128135||t===128143||t===128145||t===128170||t>=128372&&t<=128373||t===128378||t===128400||t>=128405&&t<=128406||t>=128581&&t<=128583||t>=128587&&t<=128591||t===128675||t>=128692&&t<=128694||t===128704||t===128716||t===129292||t===129295||t>=129304&&t<=129311||t===129318||t>=129328&&t<=129337||t>=129340&&t<=129342||t===129399||t>=129461&&t<=129462||t>=129464&&t<=129465||t===129467||t>=129485&&t<=129487||t>=129489&&t<=129501||t>=129731&&t<=129733||t>=129776&&t<=129784},e.isEmojiVariationSelector=function(t){return t===65039},e.isNonSpacingCombiningMark=function(t){return t>8419||t<8416?!1:t===8416||t===8419},e.isRegionalIndicator=function(t){return t>127487||t<127462?!1:t>=127462&&t<=127487},e.isTagSpec=function(t){return t>917630||t<917536?!1:t>=917536&&t<=917568||t>=917595&&t<=917630},e.isTagTerm=function(t){return t===917631},e.isText=function(t){return t>8419||t<35?!1:t===35||t===42||t>=48&&t<=57||t===8419},e.isTextVariationSelector=function(t){return t===65038},e.isDefaultTextPresentation=function(t){return t>917631||t<35?!1:t===35||t===42||t>=48&&t<=57||t===169||t===174||t===8205||t===8252||t===8265||t===8419||t===8482||t===8505||t>=8596&&t<=8597||t>=8617&&t<=8618||t===9e3||t===9167||t>=9197&&t<=9199||t>=9201&&t<=9202||t>=9208&&t<=9210||t===9410||t===9654||t===9664||t>=9730&&t<=9732||t===9745||t===9752||t===9760||t>=9762&&t<=9763||t===9766||t===9770||t>=9774&&t<=9775||t>=9784&&t<=9785||t===9792||t===9794||t===9823||t===9851||t===9854||t===9874||t>=9876&&t<=9879||t===9881||t>=9883&&t<=9884||t===9895||t>=9904&&t<=9905||t===9928||t===9935||t===9937||t===9939||t===9961||t>=9968&&t<=9969||t===9972||t>=9975&&t<=9977||t===9997||t===9999||t===10002||t===10004||t===10013||t===10017||t===10052||t===10055||t===10083||t===12336||t>=127344&&t<=127345||t>=127358&&t<=127359||t===127777||t>=127780&&t<=127788||t===127798||t===127869||t>=127894&&t<=127895||t>=127897&&t<=127899||t>=127902&&t<=127903||t>=127947&&t<=127950||t>=127956&&t<=127967||t===127987||t===127989||t===127991||t===128063||t===128065||t===128253||t>=128329&&t<=128330||t>=128367&&t<=128368||t>=128371&&t<=128377||t===128391||t>=128394&&t<=128397||t===128400||t===128421||t===128424||t>=128433&&t<=128434||t===128444||t>=128450&&t<=128452||t>=128465&&t<=128467||t>=128476&&t<=128478||t===128481||t===128483||t===128488||t===128495||t===128499||t===128506||t===128715||t>=128717&&t<=128719||t>=128736&&t<=128741||t===128745||t===128752||t===128755||t>=917536&&t<=917631},e.isSymbol=function(t){return t>8482||t<169?!1:t===169||t===174||t===8482},e.isZWJ=function(t){return t===8205},e})();a.exports=e}),null);
__d("UnicodeUtils",["invariant"],(function(t,n,r,o,a,i,l,s){"use strict";var e=55296,u=56319,c=56320,d=57343,m=/[\uD800-\uDFFF]/;function p(t){return e<=t&&t<=d}function _(t,n){if(0<=n&&n<t.length||s(0,1346,n,t.length),n+1===t.length)return!1;var r=t.charCodeAt(n),o=t.charCodeAt(n+1);return e<=r&&r<=u&&c<=o&&o<=d}function f(e){return m.test(e)}function g(e,t){var n=p(e.charCodeAt(t));return n?2:1}function h(e){if(!f(e))return e.length;for(var t=0,n=0;n<e.length;n+=g(e,n))t++;return t}function y(e,t){return b(e,t,t+1)}function C(e,t,n){var r=t||0,o=n===void 0?1/0:n||0;if(!f(e))return e.substr(r,o);var a=e.length;if(a<=0||r>a||o<=0)return"";var i=0;if(r>0){for(;r>0&&i<a;r--)i+=g(e,i);if(i>=a)return""}else if(t<0){for(i=a;r<0&&0<i;r++)i-=g(e,i-1);i<0&&(i=0)}var l=a;if(o<a)for(l=i;o>0&&l<a;o--)l+=g(e,l);return e.substring(i,l)}function b(e,t,n){var r=t||0,o=n===void 0?1/0:n||0;r<0&&(r=0),o<0&&(o=0);var a=Math.abs(o-r);return r=r<o?r:o,C(e,r,a)}function v(e){for(var t=[],n=0;n<e.length;n+=g(e,n))t.push(e.codePointAt(n));return t}l.isCodeUnitInSurrogateRange=p,l.isSurrogatePair=_,l.hasSurrogateUnit=f,l.getUTF16Length=g,l.strlen=h,l.charAt=y,l.substr=C,l.substring=b,l.getCodePoints=v}),98);
__d("EmojiRenderer",["EmojiRendererData","UnicodeUtils"],(function(t,n,r,o,a,i,l){var e,s,u=0,c=1,d=2,m=3,p=4,_=5,f=6,g=7,h=8,y=9,C=10,b=11;function v(e){var t=e[0];if(t===void 0)return!1;var n=e.length,o=e[n-1];if(o){var a=o.charCodeAt(0);if((s||(s=r("EmojiRendererData"))).isTagSpec(a))return!1}if(t=t.charCodeAt(0),(s||(s=r("EmojiRendererData"))).isSymbol(t)&&n<2)return!1;if((s||(s=r("EmojiRendererData"))).isText(t)){if(n===1)return!1;if(e.length===2)return(s||(s=r("EmojiRendererData"))).isNonSpacingCombiningMark(e[1].charCodeAt(0));var i=1;for((s||(s=r("EmojiRendererData"))).isEmojiVariationSelector(e[i].charCodeAt(0))&&i++;i<e.length;){if(!(s||(s=r("EmojiRendererData"))).isNonSpacingCombiningMark(e[i].charCodeAt(0)))return!1;i++}return!0}return!0}function S(t,n){for(var a=null,i=[],l=h,S=0,R=t.length;S<R;){var L=t.codePointAt(S),E=(e||(e=o("UnicodeUtils"))).getUTF16Length(t,S),k=t.substr(S,E);switch(l){case y:(s||(s=r("EmojiRendererData"))).isRegionalIndicator(L)?l=m:l=h;break;case p:if((s||(s=r("EmojiRendererData"))).isEmojiModifier(L)){l=_;break}case u:(s||(s=r("EmojiRendererData"))).isZWJ(L)?l=g:(s||(s=r("EmojiRendererData"))).isEmojiVariationSelector(L)?l=d:(s||(s=r("EmojiRendererData"))).isTextVariationSelector(L)?l=b:(s||(s=r("EmojiRendererData"))).isNonSpacingCombiningMark(L)?l=c:(s||(s=r("EmojiRendererData"))).isTagSpec(L)?l=f:l=h;break;case c:case d:if((s||(s=r("EmojiRendererData"))).isNonSpacingCombiningMark(L))break;case m:case _:(s||(s=r("EmojiRendererData"))).isZWJ(L)?l=g:(s||(s=r("EmojiRendererData"))).isTagSpec(L)?l=f:l=h;break;case f:(s||(s=r("EmojiRendererData"))).isTagSpec(L)||(s||(s=r("EmojiRendererData"))).isTagTerm(L)?l=f:l=h;break;case g:(s||(s=r("EmojiRendererData"))).isRegionalIndicator(L)?l=y:(s||(s=r("EmojiRendererData"))).isEmojiModifierBase(L)?l=p:(s||(s=r("EmojiRendererData"))).isEmoji(L)?l=u:l=h;break;case C:(s||(s=r("EmojiRendererData"))).isNonSpacingCombiningMark(L)?l=c:(s||(s=r("EmojiRendererData"))).isEmojiVariationSelector(L)?l=d:l=h;break;default:l=h;break}if(l===h){if((s||(s=r("EmojiRendererData"))).isRegionalIndicator(L)?l=y:(s||(s=r("EmojiRendererData"))).isEmojiModifierBase(L)?l=p:(s||(s=r("EmojiRendererData"))).isText(L)?l=C:(s||(s=r("EmojiRendererData"))).isEmoji(L)&&(l=u),l!==h){if(a!==null&&v(a.emoji)&&i.push(a),n!==null&&n===i.length){a=null;break}a={emoji:[k],length:E,offset:S}}}else a!==null&&(a.emoji.push(k),a.length+=E);S+=E}return a!==null&&v(a.emoji)&&i.push(a),i}function R(e,t,n){var r=S(e),o=[],a=0;return r.forEach(function(n){var r=n.offset;r>a&&o.push(e.substr(a,r-a));var i=t(n.emoji);i!=null&&o.push(i),a=r+n.length}),o.push(e.substr(a,e.length-a)),o}function L(e){return S(e,1).length===1}function E(e){return S(e).length}l.parse=S,l.render=R,l.containsEmoji=L,l.countEmoji=E}),98);
__d("EmoticonsList",[],(function(t,n,r,o,a,i){a.exports={emotes:{"O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel","'-_-":"coldsweat",":3":"colonthree","o.O":"confused",O_O:"confused",o_o:"confused","0_0":"confused","O.o":"confused_rev",":'(":"cry",":'-(":"cry","3:)":"devil","3:-)":"devil",":dog:":"dog","-3-":"flushkiss",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp","=D":"grin",":-D":"grin",":D":"grin",">:(":"grumpy",">:-(":"grumpy","<3":"heart","&lt;3":"heart","^_^":"kiki","^~^":"kiki",":*":"kiss",":-*":"kiss","(y)":"like",":like:":"like","(Y)":"like",T_T:"loudly_crying","T-T":"loudly_crying",ToT:"loudly_crying","T.T":"loudly_crying",":-|":"neutral",":|":"neutral",":v":"pacman",":V":"pacman",'<(")':"penguin",">_<":"persevere",">.<":"persevere",":poop:":"poop",":|]":"robot","(^^^)":"shark",":)":"smile",":-)":"smile",":]":"smile","(:":"smile","=)":"smilingface","(=":"smilingface","-_-":"squint","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses","B-)":"sunglasses","8-)":"sunglasses","8)":"sunglasses","(n)":"thumbsdown","(N)":"thumbsdown",":+1:":"thumbsup",":thumbsup:":"thumbsup",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue",":trans:":"transflag",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",";)":"wink",";-)":"wink",";*":"winkkiss",";-*":"winkkiss",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":cheese:":"cheesewedge",":eyes:":"eyes",":peek:":"eyes",":clown:":"clown"},symbols:{angel:"O:)",coldsweat:"'-_-",colonthree:":3",confused:"o.O",confused_rev:"O.o",cry:":'(",devil:"3:)",dog:":dog:",flushkiss:"-3-",frown:":(",gasp:":o",grin:"=D",grumpy:">:(",heart:"<3",kiki:"^_^",kiss:":*",like:"(y)",loudly_crying:"T_T",neutral:":-|",pacman:":v",penguin:'<(")',persevere:">_<",poop:":poop:",robot:":|]",shark:"(^^^)",smile:":)",smilingface:"=)",squint:"-_-",sunglasses:"B|",thumbsdown:"(n)",thumbsup:":+1:",tongue:":P",transflag:":trans:",unsure:":/",upset:">:o",wink:";)",winkkiss:";*",winktongue:";-P",cheesewedge:":cheese:",eyes:":eyes:",clown:":clown:"},emoji:{angel:"1f607",coldsweat:"1f613",colonthree:"FACE_WITH_COLON_THREE",confused:"1f633",confused_rev:"1f633",cry:"1f622",devil:"1f608",dog:"1f436",flushkiss:"1f61a",frown:"1f641",gasp:"1f62e",grin:"1f603",grumpy:"1f620",heart:"2764",kiki:"1f60a",kiss:"1f618",like:"LIKE",loudly_crying:"1f62d",neutral:"1f610",pacman:"PACMAN",penguin:"1f427",persevere:"1f623",poop:"1f4a9",robot:"1f916",shark:"1f988",smile:"1f642",smilingface:"1f60a",squint:"1f611",sunglasses:"1f60e",thumbsdown:"1f44e",thumbsup:"1f44d",tongue:"1f61b",transflag:"1f3f3_fe0f_200d_26a7_fe0f",unsure:"1f615",upset:"1f620",wink:"1f609",winkkiss:"1f618",winktongue:"1f61c",cheesewedge:"1f9c0",eyes:"1f440",clown:"1f921"},regexp:/(^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:dog:|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||B\-\)(?!\))|8\-\)(?!\))|8\)(?!\))|\(n\)(?!\))|\(N\)(?!\))|:\+1:|:thumbsup:|:P|:\-P|:\-p|:p|=P|:trans:|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p|:cheese:|:eyes:|:peek:|:clown:)([\s\'\".,!?\)]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:dog:|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||B\-\)(?!\))|8\-\)(?!\))|8\)(?!\))|\(n\)(?!\))|\(N\)(?!\))|:\+1:|:thumbsup:|:P|:\-P|:\-p|:p|=P|:trans:|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p|:cheese:|:eyes:|:peek:|:clown:)(?:[\s\'\".,!?\)]|<br>|$)/}}),null);
__d("EmoticonRenderer",["EmoticonsList"],(function(t,n,r,o,a,i,l){"use strict";var e=["LIKE","PACMAN","FACE_WITH_COLON_THREE"];function s(t){for(var n=[],r=new RegExp(o("EmoticonsList").regexp),a=0,i=t.match(r);i!==null;){var l=i[1],s=i[2].split(""),u=o("EmoticonsList").emotes[i[2]],c=o("EmoticonsList").emoji[u];n.push({chars:s,isCustom:e.includes(c),key:c,offset:a+i.index+l.length}),a+=i.index+i[0].length,i=t.slice(a).match(r)}return n}function u(e,t,n){var r=s(e),o=[],a=0;return r.forEach(function(r){var i=r.offset;i>a&&o.push(e.substr(a,i-a)),r.isCustom?o.push(n(r.key,r.chars)):o.push(t(r.key)),a=i+r.chars.length}),o.push(e.substr(a,e.length-a)),o}l.parse=s,l.render=u}),98);
__d("LSThreadMediaGalleryGroup",[],(function(t,n,r,o,a,i){var e=Object.freeze({PHOTOS_AND_VIDEOS:0,FILES_ONLY:1,LINKS:2});i.default=e}),66);
__d("MAWAdminAddParticipantMsg",["MAWLocalizationType","MAWUserJidWrapper","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e=1;function s(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU};case 2:return{adminMsgContent:[t,n],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER};default:return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS}}}function u(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT};case 2:return{adminMsgContent:[t,n],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS};default:return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS}}}function c(e,t,n,r){switch(e){case 1:return{adminMsgContent:[t,n],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER};case 2:return{adminMsgContent:[t,n,r],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER}}return{adminMsgContent:[t,n,(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER}}function d(e,t){switch(e){case 1:return{adminMsgContent:[],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU};case 2:return{adminMsgContent:[t],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER}}return{adminMsgContent:[(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER}}function m(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER};case 2:return{adminMsgContent:[t,n],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER}}return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER}}function p(e,t){var n=o("MAWUserJidWrapper").getMyUserJid(),r=t[0],a=t[1],i=o("WAJids").userIdFromJid(r),l=a!=null?o("WAJids").userIdFromJid(a):"";if(e==null)return t.includes(n)?d(t.length,r===n?l:i):m(t.length,i,l);if(e===n)return u(t.length,i,l);var p=o("WAJids").userIdFromJid(e);return t.includes(n)?s(t.length,p,r===n?l:i):c(t.length,p,i,l)}function _(t,n){return babelHelpers.extends({},p(t,n),{version:e})}l.createAddParticipantsAdminMessage=_}),98);
__d("MAWAdminRemoveParticipantMsg",["MAWAdminMsgType","MAWUserJidWrapper","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e=1;function s(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU};case 2:return{adminMsgContent:[t,n],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER};default:return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS}}}function u(e,t,n,r){switch(e){case 1:return r?{adminMsgContent:[],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LEFT_GROUP}:{adminMsgContent:[t],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT};case 2:return{adminMsgContent:[t,n],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_TWO_PARTICIPANTS};default:return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS}}}function c(e,t,n,r,a){switch(e){case 1:return a?{adminMsgContent:[t],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LEFT_GROUP}:{adminMsgContent:[t,n],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_ONE_USER};case 2:return{adminMsgContent:[t,n,r],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_TWO_USER}}return{adminMsgContent:[t,n,(e-1).toString()],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_MORE_THAN_TWO_USER}}function d(e,t){var n=o("MAWUserJidWrapper").getMyUserJid(),r=t[0],a=t[1],i=o("WAJids").userIdFromJid(r),l=a!=null?o("WAJids").userIdFromJid(a):"";if(e==null)return t.includes(n)?{adminMsgContent:[],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_REMOVED_YOU}:{adminMsgContent:[i],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_REMOVED_ONE_USER};if(e===n)return u(t.length,i,l,r===n);var d=o("WAJids").userIdFromJid(e);return t.includes(n)?s(t.length,d,r===n?l:i):c(t.length,d,i,l,r===e)}function m(t,n){return babelHelpers.extends({},d(t,n),{version:e})}l.createRemoveParticipantsAdminMessage=m}),98);
__d("MAWAdminWriteGroupNameChangeAdminMsgContent",["MAWAdminMsgType","MAWUserJidWrapper","WAJids"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("MAWUserJidWrapper").getMyUserJid(),r,a=[];return e===n?(r=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_NAMED_GROUP,a.push(t)):e==null?(r=o("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_NAMED_GROUP,a.push(t)):(r=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_NAMED_GROUP,a.push(o("WAJids").userIdFromJid(e),t)),{adminMsgContent:a,adminType:r,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWBridgeSearchMsg",["MAWCurrentUser","MAWVault","WAJids"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){t===void 0&&(t=!0);var n=e,r=o("MAWCurrentUser").getID(),a=e.author,i=e.externalId,l=e.msgId,s=e.threadJid;if(s==null)return null;var u=n.content,c=n.sortOrderMs,d={chatJid:s,externalId:i,msg:{msgId:l,sender:o("WAJids").authorToUserId(a,r),ts:e.canonicalTs},sortOrderMs:c},m=u;return babelHelpers.extends({},d,{msg:babelHelpers.extends({},d.msg,{content:m!=null?o("MAWVault").isVaulted(m)?t?m:o("MAWVault").unvault(m):t?o("MAWVault").vault(m):m:void 0})})}var s="message_content_search",u="non_message_content_search";l.createBridgeSearchMsg=e,l.MESSAGE_CONTENT_SEARCH=s,l.NON_MESSAGE_CONTENT_SEARCH=u}),98);
__d("MAWBridgeTraceEvent",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["ReceivedReceipt","ReceivedSent","FlowEndForFailure","FlowEndForSuccess"]),l=e;i.default=l}),66);
__d("MAWCatQuery.graphql",["cr:11203"],(function(t,n,r,o,a,i,l){"use strict";i.exports=n("cr:11203")}),34);
__d("MAWCatQuery",["MAWCatQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("MAWCatQuery.graphql"),u=s;l.default=u}),98);
__d("MAWCryptoAuthToken",["FBLogger","MAWCatQuery","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null||e.secure_message_over_wa_cat_query==null||e.secure_message_over_wa_cat_query.encrypted_serialized_cat==null||e.secure_message_over_wa_cat_query.expiration_time_in_seconds==null){var t,n;return r("FBLogger")("maw_device_reg").warn("Crypto Auth Token was null or incomplete %s:%s:%s:%s",e==null,(e==null?void 0:e.secure_message_over_wa_cat_query)==null,(e==null||(t=e.secure_message_over_wa_cat_query)==null?void 0:t.encrypted_serialized_cat)==null,e==null||(n=e.secure_message_over_wa_cat_query)==null?void 0:n.expiration_time_in_seconds),{error:"Crypto Auth Token was null or incomplete"}}return{success:{encrypted_serialized_cat:e.secure_message_over_wa_cat_query.encrypted_serialized_cat,expiration_time_in_seconds:e.secure_message_over_wa_cat_query.expiration_time_in_seconds}}}function s(t){return o("relay-runtime").fetchQuery(t,r("MAWCatQuery"),{}).toPromise().then(e).then(function(e){if(e.error!=null)throw r("FBLogger")("maw_device_reg").mustfixThrow("[MAWCryptoAuthToken] Error while fetching CAT from GraphQL: %s",e.error);return e.success})}l.processCatResponse=e,l.fetchFreshCAT=s}),98);
__d("MAWDbPoll",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e}function l(e){return e}function s(e,t){var n=(e+t).split("");return Math.abs(n.reduce(function(e,t){var n=t.charCodeAt(0),r=(e<<5)-e+n;return r&=r,r},0))}i.convertStringToOptionHash=e,i.convertOptionHashToString=l,i.generateStableIdFromOptionHash=s}),66);
__d("MAWEncryptedBackupsStateManager",["MAWEBSwitch"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case 1:return;case 3:r("MAWEBSwitch").set(!0);return;case 2:case 4:default:r("MAWEBSwitch").set(!1);return}}function s(e){return e===4||e===3}l.setEncryptedBackupsState=e,l.eligibleForEBUX=s}),98);
__d("MAWEphemeralUtils",["MAWLocalizationType","MAWUserJidWrapper","WAArmadilloApplication.pb","WAJids","err"],(function(t,n,r,o,a,i,l){"use strict";var e=60,s=60*e,u=24*s;function c(t,n,r,a){var i,l=[],c=n===u,d=t===o("MAWUserJidWrapper").getMyUserJid();if(a)i=o("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET;else if(t==null)n===0?i=o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:n<e?(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS,l.push(n.toString())):n<s?(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES,l.push((n/e).toString())):n<u||c?(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS,l.push((n/s).toString())):(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS,l.push((n/u).toString()));else{var m=o("WAJids").extractUserId(t).toString();n===0?d?i=o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:(i=o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF,l.push(m)):n<e?(d?i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS,l.push(m)),l.push(n.toString())):n<s?(d?i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES,l.push(m)),l.push((n/e).toString())):n<u||c?(d?i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS,l.push(m)),l.push((n/s).toString())):(d?i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS,l.push(m)),l.push((n/u).toString()))}return{adminMsgContent:l,adminType:i,version:1}}function d(e,t,n){var a,i=[],l=o("WAJids").extractUserId(t).toString();switch(e){case o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE:n?a=o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:(a=o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT,i.push(l));break;case o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREEN_RECORDING:n?a=o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:(a=o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN,i.push(l));break;default:throw r("err")("Received unexpected screenshot action type")}return{ephemeralScreenshotActionContent:i,ephemeralScreenshotActionType:a}}l.getEphemeralSettingChangeData=c,l.getEphemeralScreenshotActionData=d}),98);
__d("MAWMediaGalleryEBTaggingUtils",["LSThreadMediaGalleryGroup","MAWMpsGating","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("13725")}function s(e){return u(e)!=null}function u(e){return e===r("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS?r("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS:e===r("LSThreadMediaGalleryGroup").FILES_ONLY&&o("MAWMpsGating").isMpsMediaGalleryEnabled()?r("LSThreadMediaGalleryGroup").FILES_ONLY:void 0}l.isMediaGalleryEBTaggingRestoreEnabled=e,l.isMediaGalleryGroupSupportedForTaggedRestore=s,l.toMediaGalleryGroupForTaggedRestore=u}),98);
__d("MAWUpdateClientRestoreStatusOperationType",[],(function(t,n,r,o,a,i){"use strict";var e=0,l=1;i.upsertClientRestoreStatus=e,i.markCompleteClientRestoreStatus=l}),66);
__d("MAWWriteLimitSharingAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r;return t?(n=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED,r=n===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED?[e]:[]):(n=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED,r=n===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED?[e]:[]),{adminMsgContent:r,adminType:n,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWritePinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_PINNED_MESSAGE:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE,n=t===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE?[e]:[];return{adminMsgContent:n,adminType:t,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWriteThreadHotlikeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e===o("MAWCurrentUser").getID(),r=n?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE,a=[];return r===o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE?a.push(t):a.push(e,t),{adminMsgContent:a,adminType:r,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWriteThreadNicknameCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=o("MAWCurrentUser").getID(),a=e===r&&e!==t,i=t===r&&t!==e,l=t===e&&r===t,s=t===e&&r!==t,u;l&&n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:l&&n.length===0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:s&&n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:s&&n.length===0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:a&&n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:a&&n.length===0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:i&&n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:i&&n.length===0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME;var c=[];switch(u){case o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:c.push(t,n);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:c.push(e,n);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:c.push(n);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:c.push(t);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:c.push(e);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:c.push(e,t,n);break;default:break}return{adminMsgContent:c,adminType:u,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWriteThreadPhotoCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO,n=t===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO?[e]:[];return{adminMsgContent:n,adminType:t,version:1}}l.getAdminMsgContent=e}),98);
__d("MessengerThreadThemeType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({COLOR_GRADIENT:1,THEME:2,THIRD_PARTY:3,INTERACTIVE:4,IGD_CHANNEL_CUSTOMIZED_THEME:5,AI_AGENT:6,AI_GENERATED_THEME:7,AI_STUDIO_GENERATED_THEME:8,AI_INTERACTIVE_THEME:9,AI_INTERACTIVE_THEME_GENERATED:10,MSGR_CUSTOM_THEME:11,AI_SCROLLABLE_THEME:12}),l=e;i.default=l}),66);
__d("MAWWriteThreadThemeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser","MessengerThreadThemeType","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r){var a=e===o("MAWCurrentUser").getID(),i=u(a,r),l=[];return i===o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME||i===o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME?l.push(n):l.push(e,n),t!=null&&l.push(t),{adminMsgContent:l,adminType:i,version:1}}function u(t,n){if(n!=null)try{var a=r("MessengerThreadThemeType").cast(parseInt(n,10))===7;if(a)return t?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Unable to convert theme type to integer: ",""])),t)}return t?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_THEME}l.getAdminMsgContent=s}),98);
__d("MAWWriteUKOSAAdminMsgContent",["MAWAdminMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("MAWAdminMsgType").ADMIN_MSG_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE,n=[e];return{adminMsgContent:n,adminType:t,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWriteUnpinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_UNPINNED_MESSAGE:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE,n=t===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE?[e]:[];return{adminMsgContent:n,adminType:t,version:1}}l.getAdminMsgContent=e}),98);
__d("MWPMiniSearch",["minisearch"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e={fuzzy:0,prefix:!0};return{fields:["content"],searchOptions:e}}function s(t){t===void 0&&(t=function(){return{}});var n;function o(){n=new(r("minisearch"))(babelHelpers.extends({},e(),t()))}return{getInstance:function(){return n==null&&o(),n}}}l.createMiniSearchSingleton=s}),98);
__d("MpsAdminMsgToBridge",["FBLogger","MAWAckLevel","MAWAdminAddParticipantMsg","MAWAdminMsgHelpers","MAWAdminRemoveParticipantMsg","MAWAdminWriteGroupNameChangeAdminMsgContent","MAWEphemeralUtils","MAWJids","MAWWriteLimitSharingAdminMsgContent","MAWWritePinMessageAdminMsgContent","MAWWriteThreadHotlikeCustomizationAdminMsgContent","MAWWriteThreadNicknameCustomizationAdminMsgContent","MAWWriteThreadPhotoCustomizationAdminMsgContent","MAWWriteThreadThemeCustomizationAdminMsgContent","MAWWriteUKOSAAdminMsgContent","MAWWriteUnpinMessageAdminMsgContent","WAArmadilloMiTransportAdminMessage.pb","WAMsgType","err","getErrorSafe","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=["$$unknownFieldCount","skipBumpThread","skipSnippetUpdate"],s=["type"],u=["type"],c=["type"],d=["type"],m=["type"],p=["type"],_=["type"],f=["type"],g=["type"],h=["type"],y=["type"],C=["type"],b=["type"],v=["type"],S=["type"],R=["type"],L=["type"],E=["type"],k=["type"],I=["type"];function T(e,t){return o("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(e,r("nullthrows")(t.emojiName,"emojiName is null"))}function D(e,t){return o("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(e,r("nullthrows")(t.threadIcon,"threadIcon is null"))}function x(e,t){var n;return o("MAWWriteThreadThemeCustomizationAdminMsgContent").getAdminMsgContent(e,t.themeEmoji,r("nullthrows")(t.themeName,"themeName is null"),""+((n=t.themeType)!=null?n:""))}function $(e,t){return t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.PINNED?o("MAWWritePinMessageAdminMsgContent").getAdminMsgContent(e):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNPINNED?o("MAWWriteUnpinMessageAdminMsgContent").getAdminMsgContent(e):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNSET||t.action===null||t.action===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.action)})()}function P(e,t){return o("MAWWriteThreadNicknameCustomizationAdminMsgContent").getAdminMsgContent(e,r("nullthrows")(t.targetUserId,"targetUserId is null"),r("nullthrows")(t.nickname,"nickname is null"))}function N(e){var t;return o("MAWWriteUKOSAAdminMsgContent").getAdminMsgContent(r("nullthrows")((t=e.ukOsaAdminText)==null?void 0:t.initiatorUserId,"initiatorUserId is null"))}function M(e,t){var n,r;return o("MAWEphemeralUtils").getEphemeralSettingChangeData(o("MAWJids").toUserJid(e),(n=t.disappearingSettingDurationSeconds)!=null?n:0,((r=t.oldDisappearingSettingDurationSeconds)!=null?r:0)===0,!1)}function w(e,t){return t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.CHANGED||t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.REMOVED?o("MAWWriteThreadPhotoCustomizationAdminMsgContent").getAdminMsgContent(e):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.UNSET||t.action===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.action)})()}function A(e,t){return t.sharingType===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.ENABLED?o("MAWWriteLimitSharingAdminMsgContent").getAdminMsgContent(e,!0):t.sharingType===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.DISABLED?o("MAWWriteLimitSharingAdminMsgContent").getAdminMsgContent(e,!1):t.sharingType===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.UNSET||t.sharingType===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.sharingType)})()}function F(e,t){return t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.ADDED?o("MAWAdminAddParticipantMsg").createAddParticipantsAdminMessage(o("MAWJids").toUserJid(e),(t.targetUserId||[]).map(function(e){return o("MAWJids").toUserJid(e)})):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.REMOVED?o("MAWAdminRemoveParticipantMsg").createRemoveParticipantsAdminMessage(o("MAWJids").toUserJid(e),(t.targetUserId||[]).map(function(e){return o("MAWJids").toUserJid(e)})):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.UNSET||t.action===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.action)})()}function O(e,t){return o("MAWAdminWriteGroupNameChangeAdminMsgContent").getAdminMsgContent(o("MAWJids").toUserJid(e),r("nullthrows")(t.groupName))}function B(e,t){var n,a;return t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.ADDED?o("MAWAdminMsgHelpers").createParticipantPromoteAdminMessage(o("MAWJids").toUserJid(r("nullthrows")((n=t.targetUserId)==null?void 0:n[0])),o("MAWJids").toUserJid(e)):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.REMOVED?o("MAWAdminMsgHelpers").createParticipantDemoteAdminMessage(o("MAWJids").toUserJid(r("nullthrows")((a=t.targetUserId)==null?void 0:a[0])),o("MAWJids").toUserJid(e)):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.UNSET||t.action===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.action)})()}function W(e,t){return t.mode===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.ADMINS_ONLY?o("MAWAdminMsgHelpers").createMemberAddModeChangeAdminMessage(o("MAWJids").toUserJid(e),"admin_add"):t.mode===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.ALL_MEMBERS?o("MAWAdminMsgHelpers").createMemberAddModeChangeAdminMessage(o("MAWJids").toUserJid(e),"all_member_add"):t.mode===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.UNSET||t.mode===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.mode)})()}function q(e,t){return M(e,{disappearingSettingDurationSeconds:t.disappearingSettingTime!=null?Number(t.disappearingSettingTime):0,oldDisappearingSettingDurationSeconds:t.oldDisappearingSettingTime!=null?Number(t.oldDisappearingSettingTime):0})}function U(e){return e.initiatorUserId!=null?N({ukOsaAdminText:{initiatorUserId:e.initiatorUserId}}):null}function V(e,t){return A(e,{sharingType:t.limitSharingType==="disabled"?o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.DISABLED:t.limitSharingType==="enabled"?o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.ENABLED:o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.UNSET})}function H(e){return $(e,{action:o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.PINNED})}function G(e){return $(e,{action:o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNPINNED})}function z(e,t){return x(e,{themeEmoji:t.themeEmoji,themeName:t.themeNameWithSubtitle,themeType:t.themeType})}function j(e,t){return t.threadIcon!=null?D(e,{threadIcon:t.threadIcon}):null}function K(e,t){return t.participantId!=null&&t.nickname!=null?P(e,{nickname:t.nickname,targetUserId:""+t.participantId}):null}function Q(e,t){return t.threadQuickReactionEmoji!=null?T(e,{emojiName:t.threadQuickReactionEmoji}):null}function X(e){var t=Object.keys(e);if(t.length!==1)throw r("err")("Expected exactly one key");var n=t[0];return babelHelpers.extends({type:n},e[n])}function Y(t,n){var r=n.$$unknownFieldCount,o=n.skipBumpThread,a=n.skipSnippetUpdate,i=babelHelpers.objectWithoutPropertiesLoose(n,e),l=X(i);return(function(e){if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="quickReactionChanged"){var n=e.type,r=babelHelpers.objectWithoutPropertiesLoose(e,s);return T(t,r)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="iconChanged"){var o=e.type,a=babelHelpers.objectWithoutPropertiesLoose(e,u);return D(t,a)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="chatThemeChanged"){var i=e.type,l=babelHelpers.objectWithoutPropertiesLoose(e,c);return x(t,l)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="messagePinned"){var X=e.type,Y=babelHelpers.objectWithoutPropertiesLoose(e,d);return $(t,Y)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="nicknameChanged"){var J=e.type,Z=babelHelpers.objectWithoutPropertiesLoose(e,m);return P(t,Z)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="linkCta"){var ee=e.type,te=babelHelpers.objectWithoutPropertiesLoose(e,p);return N(te)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="disappearingSettingChanged"){var ne=e.type,re=babelHelpers.objectWithoutPropertiesLoose(e,_);return M(t,re)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupImageChanged"){var oe=e.type,ae=babelHelpers.objectWithoutPropertiesLoose(e,f);return w(t,ae)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="limitSharingChanged"){var ie=e.type,le=babelHelpers.objectWithoutPropertiesLoose(e,g);return A(t,le)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupParticipantChanged"){var se=e.type,ue=babelHelpers.objectWithoutPropertiesLoose(e,h);return F(t,ue)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupNameChanged"){var ce=e.type,de=babelHelpers.objectWithoutPropertiesLoose(e,y);return O(t,de)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupAdminChanged"){var me=e.type,pe=babelHelpers.objectWithoutPropertiesLoose(e,C);return B(t,pe)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupMembershipAddModeChanged"){var _e=e.type,fe=babelHelpers.objectWithoutPropertiesLoose(e,b);return W(t,fe)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatDisappearingSetting"){var ge=e.type,he=babelHelpers.objectWithoutPropertiesLoose(e,v);return q(t,he)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatLinkCta"){var ye=e.type,Ce=babelHelpers.objectWithoutPropertiesLoose(e,S);return U(Ce)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessagingLimitSharing"){var be=e.type,ve=babelHelpers.objectWithoutPropertiesLoose(e,R);return V(t,ve)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatPinMessageV2")return H(t);if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatUnpinMessageV2")return G(t);if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatThemeColor"){var Se=e.type,Re=babelHelpers.objectWithoutPropertiesLoose(e,L);return z(t,Re)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatThreadIcon"){var Le=e.type,Ee=babelHelpers.objectWithoutPropertiesLoose(e,E);return j(t,Ee)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatThreadNickname"){var ke=e.type,Ie=babelHelpers.objectWithoutPropertiesLoose(e,k);return K(t,Ie)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatThreadQuickReaction"){var Te=e.type,De=babelHelpers.objectWithoutPropertiesLoose(e,I);return Q(t,De)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatFriendRequestConfirmedEncrypted"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatInstantGameEncryptedDynamicCustomUpdate"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMagicWords"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerQrCodeScanned"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbumAddition"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbumContentRemoval"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbumDeletion"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbumRename"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbum"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatGenaiTaskAdd"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatUpdatePayments")return null;throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})(l)}function J(e){var t,n,a,i,l=(t=e.deserialize().adminMessage())==null?void 0:t.proto;if(l!=null){var s;try{s=Y(e.message.senderId,l)}catch(e){r("FBLogger")("mps").catching(r("getErrorSafe")(e)).warn("Failed to get admin message content")}var u={ack:o("MAWAckLevel").ACK.received,adminContent:(n=s)==null?void 0:n.adminMsgContent,adminType:(a=s)==null?void 0:a.adminType,adminVersion:(i=s)==null?void 0:i.version,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:u}}}l.getMessageContent=Y,l.adminMsgToBridgeMsg=J}),98);
__d("MpsBumpMessageToBridgeMsg",["MAWAckLevel","MAWMsgType","MpsToBridgeMessageId","MpsTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r,a=e.deserialize().encryptedTransportMessage(),i=a==null||(t=a.armadillo())==null||(t=t.proto.payload)==null||(t=t.content)==null?void 0:t.bumpExistingMessage;if(i==null||((n=i.key)==null?void 0:n.id)==null||a==null)return null;var l=o("MpsTypes").toMessageId(i.key.id),s={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),replyContent:{isBumpMsg:!0,replyToMsgId:o("MpsToBridgeMessageId").mpsToBridgeMsgId(e.message.threadId,l),replyType:"MESSAGE"},replySourceId:(r=i.key)==null?void 0:r.id,sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE};return{kind:"bridgeMsg",value:s}}l.bumpMessageToBridgeMsg=e}),98);
__d("MpsEditToBridge",["LSMessageSendStatus","MAWDbEditMsgHistory","MAWMpsGating","WAJids","WAStanzaUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("MAWDbEditMsgHistory").convertToEditMsgHistoryId64(o("MAWDbEditMsgHistory").unsafeCoerceToEditMsgHistoryId(Number(e.getExternalId()))),a=e.topLevelMetadata(),i={author:e.getAuthor(),editExternalId:o("WAStanzaUtils").toStanzaId(e.getExternalId()),editMsgHistoryId:n,editTs:e.getUnixTs(),msgContent:t,originalMsgExternalId:o("WAStanzaUtils").toStanzaId(a.getExternalId()),originalMsgId:a.getMsgId(),sendStatus:r("LSMessageSendStatus").SENDING_TO_SERVER,threadJid:e.getChatJid()};return{kind:"bridgeEditHistoryMsg",value:i}}function s(t){var n,r,a=(n=t.deserialize().encryptedTransportMessage())==null||(n=n.consumerMessage())==null||(n=n.payload)==null||(n=n.content)==null||(n=n.editMessage)==null?void 0:n.message;if(a!=null)return e(t,{commands:a==null?void 0:a.commands,content:((r=a==null?void 0:a.text)!=null?r:"")+(o("MAWMpsGating").isFullMpsEnabled()?" *":""),mentionedJids:a==null?void 0:a.mentionedJid.map(o("WAJids").validateUserJid).filter(Boolean)})}function u(t){var n,r,o,a,i=t.supplementals,l=t.topLevel;if(l.kind!=="bridgeMsg")return t;var s=i.map(function(e){return e.kind==="bridgeEditHistoryMsg"?e.value:null}).filter(Boolean).sort(function(e,t){return t.editTs-e.editTs});if(s.length===0)return t;i.push(e(t.message,{commands:l.value.commands&&[].concat(l.value.commands),content:(n=l.value.content)!=null?n:"",mentionedJids:l.value.mentionedJids&&[].concat(l.value.mentionedJids)}));var u=s[0].msgContent;return l.value=babelHelpers.extends({},l.value,{commands:(r=u.commands)!=null?r:l.value.commands,content:(o=u.content)!=null?o:l.value.content,editCount:s.length,mentionedJids:(a=u.mentionedJids)!=null?a:l.value.mentionedJids}),babelHelpers.extends({},t,{supplementals:i,topLevel:l})}l.editMessageToBridgeMsg=s,l.processEditedMessage=u}),98);
__d("MpsEphemeralMessageToBridge",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.supplementals,r=e.topLevel,a=(t=e.message.deserialize().encryptedTransportMessage())==null||(t=t.proto.metadata)==null||(t=t.chatEphemeralSetting)==null?void 0:t.ephemeralExpiration;if(a==null||a===0)return e;var i=o("WATimeUtils").castToUnixTime(e.message.getUnixTs()+a),l=o("WATimeUtils").cappedMillisecondsUntil(i);return l<=0?e:(r.kind==="bridgeMsg"&&(r.value=babelHelpers.extends({},r.value,{ephemeralDurationInSec:a})),e.supplementals.push({kind:"bridgeMsgsStartCountdown",value:{msgs:[{countdownTs:i,millisecondsUntilCountdownTs:l,msgId:e.message.getMsgId(),threadJid:e.message.getChatJid(),ts:e.message.getUnixTs()}]}}),babelHelpers.extends({},e,{supplementals:n,topLevel:r}))}l.processEphemeralMessage=e}),98);
__d("MpsForwardToBridge",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t,n,r,o,a,i=e.message,l=e.topLevel,s=i.deserialize().encryptedTransportMessage();return s==null||l.kind!=="bridgeMsg"||((t=s.proto.metadata)==null?void 0:t.isForwarded)!==!0||(l.value=babelHelpers.extends({},l.value,{forwardingScore:(n=(r=s.proto.metadata)==null?void 0:r.forwardingScore)!=null?n:0,isForwarded:(o=(a=s.proto.metadata)==null?void 0:a.isForwarded)!=null?o:!1,replyContent:{replyType:"FORWARD"}})),e}i.processForwarding=e}),66);
__d("MpsFutureproofToBridge",["MAWAckLevel","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.FUTUREPROOF};return{kind:"bridgeMsg",value:t}}l.futureproofBridgeMsg=e}),98);
__d("MpsReceiverFetchInfoToBridge",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r,a,i,l=e.ancillary,s=e.integral,u=(n=s==null?void 0:s.receiverFetchId)!=null?n:l==null?void 0:l.receiverFetchId,c=s==null||(r=s.transport)==null||(r=r.ancillary)==null?void 0:r.mimetype;if(!(u==null||c==null)){var d=(a=l==null?void 0:l.width)!=null?a:0,m=(i=l==null?void 0:l.height)!=null?i:0;return{accessibilitySummaryText:l==null?void 0:l.accessibilityLabel,mimetype:c,msgId:t.getMsgId(),previewHeight:m,previewWidth:d,receiverFetchId:u,sortOrderMs:o("WATimeUtils").castLongIntToMillisTime(t.message.timestampMs),threadJid:t.getChatJid(),transportKey:"WhatsApp",type:"sticker"}}}function s(t,n){var r,o=(r=t.stickerMessage())==null?void 0:r.payload;if(o!=null)return e(o,n)}function u(e){var t,n=(t=e.message.deserialize().encryptedTransportMessage())==null?void 0:t.consumerMessage();if(n==null)return e;var r=s(n,e.message);return r==null||e.supplementals.push({kind:"bridgeReceiverFetchInfo",value:r}),e}l.getReceiverFetchInfoForAttachmentTransport=e,l.getReceiverFetchInfoFromConsumerMessage=s,l.processReceiverFetchInfo=u}),98);
__d("MpsMediaToBridge",["FBLogger","MAWAckLevel","MAWAudioUtils","MAWDbMedia","MAWImageUtils","MAWMsgType","MAWProtobufValidator","MpsReceiverFetchInfoToBridge","WAHashUtils","WALongInt","WATimeUtils","getMediaTypeFromConsumerMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("getMediaTypeFromConsumerMessage").getMediaTypeFromConsumerMessage(e.proto);if(t!=null)return s(t)}function s(e){return e==="ptt"?o("MAWMsgType").MSG_TYPE.PTT:e==="image"?o("MAWMsgType").MSG_TYPE.IMAGE:e==="video"?o("MAWMsgType").MSG_TYPE.VIDEO:e==="gif"?o("MAWMsgType").MSG_TYPE.GIF:e==="sticker"?o("MAWMsgType").MSG_TYPE.STICKER:e==="document"?o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:e==="xma-image"?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}function u(t){var n,r,a,i,l=t.deserialize().encryptedTransportMessage(),s=l==null?void 0:l.consumerMessage();if(!(l==null||s==null)){var u=e(s);if(u!=null){var c=u;if(u===o("MAWMsgType").MSG_TYPE.STICKER){var d,m,p,_=(d=s.stickerMessage())==null?void 0:d.payload;if(_==null)return;var f=((m=_.integral)==null?void 0:m.receiverFetchId)!=null||((p=_.ancillary)==null?void 0:p.receiverFetchId)!=null;if(f){var g=o("MpsReceiverFetchInfoToBridge").getReceiverFetchInfoForAttachmentTransport(_,t);if(g==null)return;c=o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH}}var h=(n=s.attachmentMessage())==null||(n=n.payload)==null||(n=n.ancillary)==null?void 0:n.gifPlayback,y={ack:o("MAWAckLevel").ACK.received,chatJid:t.getChatJid(),externalId:t.getExternalId(),forwardingScore:0,gifPlayback:h,groupId:(r=l.proto.metadata)==null?void 0:r.groupId,groupIndex:(a=l.proto.metadata)==null?void 0:a.groupIndex,groupSize:(i=l.proto.metadata)==null?void 0:i.groupSize,isAdminMessage:!1,isAuthorMe:t.isAuthorMe(),isForwarded:!1,msgId:t.getMsgId(),sender:t.message.senderId,sortOrderMs:t.message.timestampMs,ts:t.getUnixTs(),type_:c};return{kind:"bridgeMsg",value:y}}}}function c(e,t,n){var r,a,i={height:n==null||(r=n.transport)==null||(r=r.ancillary)==null||(r=r.thumbnail)==null?void 0:r.thumbnailHeight,width:n==null||(a=n.transport)==null||(a=a.ancillary)==null||(a=a.thumbnail)==null?void 0:a.thumbnailWidth},l={height:t==null?void 0:t.height,width:t==null?void 0:t.width};if(e==="Sticker"){var s;i=(s=o("MAWImageUtils")).boundHeightWidth(i.height,i.width,s.STICKER_THUMBNAIL_MAX_SIZE),l=s.boundHeightWidth(l.height,l.width,s.STICKER_THUMBNAIL_MAX_SIZE)}return{previewHeight:i.height,previewHeightLarge:l.height,previewWidth:i.width,previewWidthLarge:l.width}}function d(e,t,n,r){var a,i,l,s,u,d,m,p,_,f=e.ancillary,g=e.integral;if(!(f==null||g==null)&&!(f.receiverFetchId!=null||(g==null?void 0:g.receiverFetchId)!=null)){var h=n.getMsgId(),y=g==null||(a=g.transport)==null||(a=a.integral)==null?void 0:a.mediaKeyTimestamp,C=g==null||(i=g.transport)==null||(i=i.integral)==null?void 0:i.fileSha256,b=C!=null?o("WAHashUtils").toPlaintextHash(C):void 0,v=f.waveform!=null?o("MAWAudioUtils").serializeWaveform(f.waveform):void 0;return babelHelpers.extends({accessibilitySummaryText:f.accessibilityLabel,defaultFilename:r,duration:((l=f.seconds)!=null?l:0)*1e3,filenames:r!=null?(s={},s[h]=r,s):void 0,filesize:o("WALongInt").numberOrThrowIfTooLarge((u=g==null||(d=g.transport)==null||(d=d.ancillary)==null?void 0:d.fileLength)!=null?u:0),gifPlayback:f.gifPlayback,hasMedia:!0,hasPreviewMedia:(g==null||(m=g.transport)==null||(m=m.ancillary)==null?void 0:m.thumbnail)!=null},f.hdType!=null?{hdTypes:(p={},p[h]=f.hdType,p)}:{},{mediaId:o("MAWDbMedia").convertNumberToMediaId(0),mediaType:t,messagesSortOrderMs:(_={},_[h]=n.topLevel.timestampMs,_),msgIds:[h],offlineAttachmentId:b,plaintextHash:b},c(t,f,g),{sortOrderMs:y!=null?o("WATimeUtils").castLongIntToMillisTime(y):void 0,threadJid:n.getChatJid(),transportKey:"WhatsApp",ts:n.getUnixTs(),waveformData:v})}}function m(t,n){var a,i,l=(a=t.documentMessage())==null?void 0:a.fileName,s=(i=t.attachmentMessage())==null?void 0:i.payload;if(s!=null){var u=e(t);if(u==null){r("FBLogger")("mps").mustfix("media type is null for attachment message");return}if(!o("MAWProtobufValidator").isAttachmentValid(s)){r("FBLogger")("mps").debug("attachment is not valid, mediatype: %s",u);return}return d(s,u,n,l)}}function p(e){var t,n=(t=e.message.deserialize().encryptedTransportMessage())==null?void 0:t.consumerMessage();if(n==null)return e;var r=m(n,e.message);return r==null||e.supplementals.push({kind:"bridgeMedia",value:r}),e}l.getMediaTypeForMessage=e,l.getMediaTypeForServerMediaType=s,l.mediaToBridge=u,l.getBridgeFromAttachmentTransport=d,l.getBridgeMediaFromConsumerMessage=m,l.processAttachment=p}),98);
__d("mwv2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","ReStoreVaulting"],(function(t,n,r,o,a,i,l){"use strict";var e=/^[ \r\n\s]*$/;function s(t,n){if(t==null)return!1;var r=o("ReStoreVaulting").maybeUnvault(t),a=o("EmojiRenderer").parse(r).map(function(e){return{length:e.length,offset:e.offset}}),i=n?o("EmoticonRenderer").parse(r).map(function(e){return{length:e.chars.length,offset:e.offset}}):[],l=a.concat(i);if(l.length===0)return!1;var s=l.sort(function(e,t){return e.offset-t.offset|0}),u={contents:0},c={contents:0},d=s.some(function(t){u.contents===t.offset?(u.contents=u.contents+t.length|0,c.contents=u.contents):c.contents=t.offset;var n=r.substring(u.contents,c.contents);return u.contents=t.offset+t.length|0,e.test(n)===!1}),m=u.contents!==r.length&&!e.test(r.substring(c.contents));return d?!1:!m}l.default=s}),98);
__d("MpsMessageTextToBridge",["MAWAckLevel","MAWMpsGating","MAWVault","WAJids","WAMsgType","maybeConvertMessageTextMentionsV2ToV1","mwv2MessageIsEmojiOnly"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,a,i,l,s=e.deserialize().encryptedTransportMessage(),u=s==null?void 0:s.consumerMessage(),c=(u==null||(t=u.payload)==null||(t=t.content)==null?void 0:t.messageText)&&r("maybeConvertMessageTextMentionsV2ToV1")(u==null||(n=u.payload)==null||(n=n.content)==null?void 0:n.messageText);if(!(u==null||c==null||s==null)){var d=(a=c.text)!=null?a:"";o("MAWMpsGating").isFullMpsEnabled()&&!r("mwv2MessageIsEmojiOnly")(d,!0)&&(d+="*"),d=o("MAWVault").vault(d);var m={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),commands:c.commands,content:d,externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,mentionedJids:c.mentionedJid.map(o("WAJids").validateUserJid).filter(Boolean),msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,specialTextSize:(i=(l=u.metadata)==null?void 0:l.specialTextSize)!=null?i:void 0,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.TEXT};return{kind:"bridgeMsg",value:m}}}l.messageTextToBridgeMsg=e}),98);
__d("MpsXmaToBridge",["MAWAckLevel","MAWBridgeXMA","MAWDbXMA","MAWParseCollapsibleIdFromXMADataClass","MAWXMAUtils","MWXMAV2IsCollapsibleXMA","MWXMAV2XmaDataClass","MpsMediaToBridge","MpsReceiverFetchInfoToBridge","WAArmadilloXMA.pb","WAHashUtils","WAJids","WALongInt","WAMedia","WATimeUtils","maybeConvertMessageTextMentionsV2ToV1","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=["actionContentBlob"];function s(e){var t,n,o;if(((t=(n=e.payload.messageText)==null?void 0:n.length)!=null?t:0)>0)return r("maybeConvertMessageTextMentionsV2ToV1")({commands:e.payload.commands,mentionedJid:e.payload.mentionedJid,mentions:e.payload.mentions,text:e.payload.messageText});var a=(o=e.associatedMessage())==null||(o=o.consumerMessage())==null||(o=o.payload)==null||(o=o.content)==null?void 0:o.messageText;if(a!=null&&a.text!=null)return r("maybeConvertMessageTextMentionsV2ToV1")(a)}function u(e){if(e!=null){var t=o("WATimeUtils").castLongIntToUnixTime(e);if(t!=null){var n=o("WATimeUtils").cappedMillisecondsUntil(t);if(n!=null){var r=n<=0;return{countdownTs:t,isExpiredXmaMsg:r,millisecondsUntilCountdownTs:n}}}}}function c(e){var t,n=e.deserialize().encryptedTransportMessage(),r=n==null||(t=n.armadillo())==null?void 0:t.extendedContentMessage();if(!(n==null||r==null||o("MAWXMAUtils").isXMAStoryReply(r.payload.targetType))){var a,i=o("MWXMAV2XmaDataClass").parseXmaDataClass(r.payload.xmaDataclass);o("MWXMAV2IsCollapsibleXMA").isCollapsibleXMA(i)&&(a=o("MAWParseCollapsibleIdFromXMADataClass").parseCollapsibleIdFromXMADataClass(i));var l=s(r),c=u(r==null?void 0:r.payload.targetExpiringAtSec),d=babelHelpers.extends({ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid()},a!=null?{collapsibleId:a}:{},{commands:l==null?void 0:l.commands,content:l==null?void 0:l.text,externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isExpiredXmaMsg:c==null?void 0:c.isExpiredXmaMsg,isFBPostMention:o("MAWXMAUtils").isFBXMAPostMention(r.payload.targetType),isFBStoryMention:o("MAWXMAUtils").isFBXMAStoryMention(r.payload.targetType),isForwarded:!1,isIGStoryMention:o("MAWXMAUtils").isIGXMAStoryMention(r.payload.targetType),isIGXMAPostShare:o("MAWXMAUtils").isIGXMAPostShare(r.payload.targetType),isIGXMAStoryShare:o("MAWXMAUtils").isIGXMAStoryShare(r.payload.targetType),isMsgHighlightsTabFriendUpdatesReply:o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(r.payload.targetType),isPostPrivateReply:o("MAWXMAUtils").isXMAPostPrivateReply(r.payload.targetType),isStoryHighlightShare:o("MAWXMAUtils").isXMAStoryHighlightShare(r.payload.targetType),isStoryProducerReply:o("MAWXMAUtils").isXMAStoryProducerReply(r.payload.targetType),isStoryReaction:o("MAWXMAUtils").isXMAStoryReaction(r.payload.targetType),isStoryReply:o("MAWXMAUtils").isXMAStoryReply(r.payload.targetType),isStoryShare:o("MAWXMAUtils").isXMAStoryShare(r.payload.targetType),mentionedJids:l==null?void 0:l.mentionedJid.map(o("WAJids").validateUserJid).filter(Boolean),msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:"XMA",xmaMessageType:r.payload.targetType});return{kind:"bridgeMsg",value:d}}}function d(t){var n,a,i,l,s,u,c,d,m,p,_=t.message,f=t.topLevel;if(f.value.type_!=="XMA")return t;var g=_.deserialize().encryptedTransportMessage(),h=g==null||(n=g.armadillo())==null?void 0:n.extendedContentMessage();if(g==null||h==null)return t;var y=h.payload.ctas.map(function(t){var n=t.actionContentBlob,r=babelHelpers.objectWithoutPropertiesLoose(t,e);return r}),C=r("nullthrows")(h.payload.targetType),b=C===o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT,v=b?[null,h.previews().at(0)]:[h.previews().at(0),h.favicon()],S=v[0],R=v[1],L=S==null||(a=S.integral)==null||(a=a.transport)==null||(a=a.integral)==null?void 0:a.fileSha256,E=L!=null?o("WAHashUtils").toPlaintextHash(L):void 0,k=R==null||(i=R.integral)==null||(i=i.transport)==null||(i=i.integral)==null?void 0:i.fileSha256,I=k!=null?o("WAHashUtils").toPlaintextHash(k):void 0,T=(l=h.headerImage())==null||(l=l.integral)==null||(l=l.transport)==null||(l=l.integral)==null?void 0:l.fileSha256,D=T!=null?o("WAHashUtils").toPlaintextHash(T):void 0,x=o("WAMedia").MEDIA_TYPE.IMAGE,$=o("MAWBridgeXMA").mediaTypeToMimeType(x),P={author:_.getAuthor(),contentRef:h.payload.contentRef,ctas:y.slice(1),defaultCTA:y.at(0),defaultPreviewMediaPlaintextHash:E,duration:null,faviconPlaintextHash:I,filesize:o("WALongInt").numberOrThrowIfTooLarge((s=S==null||(u=S.integral)==null||(u=u.transport)==null||(u=u.ancillary)==null?void 0:u.fileLength)!=null?s:0),hasMedia:E!=null,hasXmaFaviconMedia:k!=null,hasXmaHeaderMedia:T!=null,headerMediaPlaintextHash:D,headerTitle:h.payload.headerTitle,maxSubtitleNumOfLines:h.payload.maxSubtitleNumOfLines,maxTitleNumOfLines:h.payload.maxTitleNumOfLines,mediaType:x,msgId:t.message.getMsgId(),offlineAttachmentId:E,overlayIconGlyph:h.payload.overlayIconGlyph,overlayTitle:h.payload.overlayTitle,playableUrlMimeType:$,previewHeight:S==null||(c=S.integral)==null||(c=c.transport)==null||(c=c.ancillary)==null||(c=c.thumbnail)==null?void 0:c.thumbnailHeight,previewHeightLarge:S==null||(d=S.ancillary)==null?void 0:d.height,previewUrlMimeType:$,previewWidth:S==null||(m=S.integral)==null||(m=m.transport)==null||(m=m.ancillary)==null||(m=m.thumbnail)==null?void 0:m.thumbnailWidth,previewWidthLarge:S==null||(p=S.ancillary)==null?void 0:p.width,subtitleText:h.payload.subtitleText,targetId:h.payload.targetId,targetType:C,targetUsername:h.payload.targetUsername,threadJid:t.message.getChatJid(),titleText:h.payload.titleText,ts:t.message.getUnixTs(),xmaDataclass:h.payload.xmaDataclass,xmaId:o("MAWDbXMA").convertNumberToXMAId(0),xmaLayoutType:h.payload.xmaLayoutType};return t.supplementals.push({kind:"bridgeXMA",value:P}),t}function m(e){var t,n,r=e.message.deserialize().encryptedTransportMessage(),a=r==null||(t=r.armadillo())==null?void 0:t.extendedContentMessage(),i=a==null||(n=a.associatedMessage())==null?void 0:n.consumerMessage();if(i==null)return e;var l=o("MpsMediaToBridge").getBridgeMediaFromConsumerMessage(i,e.message);l!=null&&e.supplementals.push({kind:"bridgeMedia",value:l});var s=o("MpsReceiverFetchInfoToBridge").getReceiverFetchInfoFromConsumerMessage(i,e.message);return s!=null&&e.supplementals.push({kind:"bridgeReceiverFetchInfo",value:s}),e}function p(e){var t,n=e.message.deserialize().encryptedTransportMessage(),r=n==null||(t=n.armadillo())==null?void 0:t.extendedContentMessage(),o=u(r==null?void 0:r.payload.targetExpiringAtSec);if(o==null)return e;var a=o.countdownTs,i=o.millisecondsUntilCountdownTs;return e.supplementals.push({kind:"bridgeXMAStartCountdown",value:{msgs:[{countdownTs:a,millisecondsUntilCountdownTs:i,msgId:e.message.getMsgId(),threadJid:e.message.getChatJid(),ts:e.message.getUnixTs()}]}}),e}l.computeXmaContent=s,l.getExpiredXMAParams=u,l.xmaToBridge=c,l.processXmaAttachment=d,l.processXmaAssociatedMessageAttachment=m,l.processXmaExpiration=p}),98);
__d("MpsNoteReplyToBridge",["MAWAckLevel","MAWVault","MpsMediaToBridge","MpsReceiverFetchInfoToBridge","MpsXmaToBridge","WALongInt","WATimeUtils","getMediaTypeFromConsumerMessage","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e==null?void 0:e.videoContent(),n=e==null?void 0:e.stickerContent(),a=t!=null?t:n;if(a!=null){var i=t!=null?o("getMediaTypeFromConsumerMessage").getMediaTypeForVideo(t):void 0,l=n!=null?"sticker":void 0,s=r("nullthrows")(i!=null?i:l);return o("MpsMediaToBridge").getMediaTypeForServerMediaType(s)}}function s(t){var n,r,a=t.deserialize().encryptedTransportMessage(),i=a==null||(n=a.armadillo())==null?void 0:n.noteReply();if(!(a==null||i==null)){var l=i.payload,s=l.noteText,u=l.noteTimestampMs,c=l.textContent,d=i.payload.noteTimestampMs!=null?o("WATimeUtils").castMilliSecondsToUnixTime(o("WALongInt").numberOrThrowIfTooLarge(i.payload.noteTimestampMs)):void 0,m=o("MpsXmaToBridge").getExpiredXMAParams(d),p=t.message.senderId,_=e(i),f={ack:o("MAWAckLevel").ACK.received,chatJid:t.getChatJid(),content:(c==null?void 0:c.text)==null?void 0:o("MAWVault").vault(c.text),editCount:0,externalId:t.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:t.isAuthorMe(),isExpiredMsg:!1,isForwarded:!1,isNoteReply:!0,msgId:t.getMsgId(),replyContent:{noteContent:m!=null&&m.isExpiredXmaMsg?void 0:o("MAWVault").vault((r=s==null?void 0:s.text)!=null?r:""),replyMediaExpirationTimestampMs:u!=null?o("WATimeUtils").castToMillisTime(o("WALongInt").numberOrThrowIfTooLarge(u)):void 0,replyToMsgId:t.getMsgId(),replyToUserId:p,replyType:"LIGHTWEIGHT_STATUS"},sender:p,sortOrderMs:t.message.timestampMs,ts:t.getUnixTs(),type_:_!=null?_:"Text"};return{kind:"bridgeMsg",value:f}}}function u(e){var t,n=e.message.deserialize().encryptedTransportMessage(),r=n==null||(t=n.armadillo())==null||(t=t.payload)==null||(t=t.content)==null?void 0:t.noteReplyMessage;if(n==null||r==null)return e;var a=r.noteTimestampMs!=null?o("WATimeUtils").castMilliSecondsToUnixTime(o("WALongInt").numberOrThrowIfTooLarge(r.noteTimestampMs)):void 0,i=o("MpsXmaToBridge").getExpiredXMAParams(a);if(i==null)return e;var l=i.countdownTs,s=i.millisecondsUntilCountdownTs;return e.supplementals.push({kind:"bridgeNoteReplyStartCountdown",value:{msgs:[{countdownTs:l,millisecondsUntilCountdownTs:s,msgId:e.message.getMsgId(),threadJid:e.message.getChatJid(),ts:e.message.getUnixTs()}]}}),e}function c(t){var n,r=t.message,a=r.deserialize().encryptedTransportMessage(),i=a==null||(n=a.armadillo())==null?void 0:n.noteReply(),l=i==null?void 0:i.videoContent(),s=i==null?void 0:i.stickerContent(),u=l!=null?l:s,c=e(i);if(u==null||c==null)return t;var d=o("MpsMediaToBridge").getBridgeFromAttachmentTransport(u,c,r);if(d!=null&&t.supplementals.push({kind:"bridgeMedia",value:d}),s!=null){var m=o("MpsReceiverFetchInfoToBridge").getReceiverFetchInfoForAttachmentTransport(s,r);m!=null&&t.supplementals.push({kind:"bridgeReceiverFetchInfo",value:m})}return t}l.noteReplyToBridge=s,l.processNoteReply=u,l.processNoteReplyAttachment=c}),98);
__d("MpsRavenToBridge",["EphemeralMediaViewMode","FBLogger","MAWAckLevel","MAWDbMedia","MAWProtobufDeserializers","RavenMessagingState","WAArmadilloApplication.pb","WAHashUtils","WAMsgType","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r=(t=e.deserialize().encryptedTransportMessage())==null||(t=t.armadillo())==null||(t=t.payload)==null?void 0:t.content,o=(n=r==null?void 0:r.ravenMessage)!=null?n:r==null?void 0:r.ravenMessageMsgr;return!!o}function s(t){if(e(t)){var n={ack:o("MAWAckLevel").ACK.received,chatJid:t.getChatJid(),content:"",externalId:t.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:t.isAuthorMe(),isForwarded:!1,msgId:t.getMsgId(),sender:t.message.senderId,sortOrderMs:t.message.timestampMs,ts:t.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.RAVEN};return{kind:"bridgeMsg",value:n}}}function u(e){var t,n,a,i=e.message,l=(t=i.deserialize().encryptedTransportMessage())==null||(t=t.armadillo())==null||(t=t.payload)==null?void 0:t.content,s=(n=l==null?void 0:l.ravenMessage)!=null?n:l==null?void 0:l.ravenMessageMsgr;if(s==null)return e;var u,c;e.supplementalMessages.forEach(function(e){var t,n,r=(t=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(e.payload).encryptedTransportMessage())==null||(t=t.armadillo())==null||(t=t.payload)==null?void 0:t.content;u=(n=r==null?void 0:r.ravenMessage)!=null?n:r==null?void 0:r.ravenMessageMsgr,c=r==null?void 0:r.ravenActionNotifMessage});var d=(typeof u=="object"&&u!==null||typeof u=="function")&&(typeof u.videoMessage=="object"&&u.videoMessage!==null||typeof u.videoMessage=="function")?o("WAMsgType").MSG_TYPE.VIDEO:(typeof u=="object"&&u!==null||typeof u=="function")&&(typeof u.imageMessage=="object"&&u.imageMessage!==null||typeof u.imageMessage=="function")?o("WAMsgType").MSG_TYPE.IMAGE:null;if(d==null&&c==null)return r("FBLogger")("mps").mustfix("Unsupported Raven type"),e;var m=e.message.getMsgId(),p=s.ephemeralType===o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.VIEW_ONCE?r("EphemeralMediaViewMode").READ_ONCE:s.ephemeralType===o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.ALLOW_REPLAY?r("EphemeralMediaViewMode").REPLAYABLE:s.ephemeralType===o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.KEEP_IN_CHAT?r("EphemeralMediaViewMode").PERMANENT:s.ephemeralType===void 0?void 0:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+s.ephemeralType)})(),_={duration:null,ephemeralMediaState:c==null?r("RavenMessagingState").UNSEEN:r("RavenMessagingState").SEEN,ephemeralMediaViewMode:p,filesize:100,hasMedia:!1,hasPreviewMedia:!1,mediaId:o("MAWDbMedia").convertNumberToMediaId(0),mediaType:d||o("WAMsgType").MSG_TYPE.IMAGE,messagesSortOrderMs:(a={},a[m]=e.message.topLevel.timestampMs,a),msgIds:[e.message.getMsgId()],plaintextHash:o("WAHashUtils").stringToPlaintextHash("aaa"),previewHeight:1,previewHeightLarge:1,previewWidth:1,previewWidthLarge:1,sortOrderMs:o("WATimeUtils").castLongIntToMillisTime(e.message.topLevel.timestampMs),threadJid:e.message.getChatJid(),ts:e.message.getUnixTs()};return e.supplementals.push({kind:"bridgeMedia",value:_}),e}l.isRavenMsg=e,l.ravenToBridge=s,l.processRavenAttachment=u}),98);
__d("MpsReactionToBridge",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r=(t=e.deserialize().encryptedTransportMessage())==null||(t=t.consumerMessage())==null||(t=t.payload)==null||(t=t.content)==null?void 0:t.reactionMessage;if(r!=null){var a=r.senderTimestampMs!=null?o("WATimeUtils").castMilliSecondsToUnixTime(o("WATimeUtils").castLongIntToMillisTime(r.senderTimestampMs)):e.getUnixTs(),i=(n=r.text)!=null?n:"",l=i===""?{reaction:{actorId:e.message.senderId,chatJid:e.getChatJid(),messageId:e.topLevelMetadata().getMsgId()},type:"delete"}:{reaction:{actorId:e.message.senderId,chatJid:e.getChatJid(),messageId:e.topLevelMetadata().getMsgId(),reaction:i,ts:a},type:"upsert"};return{kind:"bridgeReactionAction",value:l}}}l.reactionMessageToBridgeMsg=e}),98);
__d("MpsReplyToBridge",["MpsToBridgeMessageId","MpsTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.message,r=e.topLevel,a=n.deserialize().encryptedTransportMessage();if(r.kind!=="bridgeMsg"||a==null)return e;var i=(t=a.proto.metadata)==null?void 0:t.quotedMessage;if(i==null||i.stanzaId==null||r.value.replyContent!=null)return e;var l=o("MpsTypes").toMessageId(i.stanzaId);return r.value=babelHelpers.extends({},r.value,{replyContent:{isBumpMsg:!1,replyToMsgId:o("MpsToBridgeMessageId").mpsToBridgeMsgId(n.message.threadId,l),replyType:"MESSAGE"}}),babelHelpers.extends({},e,{topLevel:r})}l.processReplyMessage=e}),98);
__d("MpsRevokeMessageToBridgeMsg",["MAWAckLevel","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.deserialize().encryptedTransportMessage(),r=n==null||(t=n.consumerMessage())==null||(t=t.payload)==null||(t=t.applicationData)==null?void 0:t.revoke;if(!(n==null||r==null))return{kind:"bridgeMsg",value:{ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.REVOKED}}}l.revokeMessageToBridgeMsg=e}),98);
__d("MpsScreenshotActionToBridgeMsg",["MAWAckLevel","MAWEphemeralUtils","WAArmadilloApplication.pb","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r=e.deserialize().encryptedTransportMessage(),a=r==null||(t=r.armadillo())==null||(t=t.proto.payload)==null||(t=t.content)==null?void 0:t.screenshotAction;if(!(a==null||r==null)){var i=o("MAWEphemeralUtils").getEphemeralScreenshotActionData((n=a.screenshotType)!=null?n:o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE,e.getSenderJid(),e.isAuthorMe()),l={ack:o("MAWAckLevel").ACK.received,adminContent:i.ephemeralScreenshotActionContent,adminType:i.ephemeralScreenshotActionType,adminVersion:1,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:l}}}l.screenshotActionToBridgeMsg=e}),98);
__d("MpsUnsupportedMessagesToBridge",["MAWAckLevel","MAWParseXMAFBConfig","MAWParseXMAUnsupportedMessageType","WACommon.pb","WAMsgType","WAParseReadOnlyMetadataDataclassUtils","gkx","maybeConvertMessageTextMentionsV2ToV1"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,a,i,l,s,u=e.deserialize().encryptedTransportMessage();if(u!=null){var c=u==null?void 0:u.consumerMessage(),d={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.FUTUREPROOF},m=(c==null||(t=c.payload)==null||(t=t.content)==null?void 0:t.messageText)&&r("maybeConvertMessageTextMentionsV2ToV1")(c==null||(n=c.payload)==null||(n=n.content)==null?void 0:n.messageText);if(m!=null){var p,_=((p=m.commands)==null?void 0:p.some(function(e){return e.commandType===o("WACommon.pb").COMMAND_COMMAND_TYPE.AI}))===!0;if(_&&!r("gkx")("12661"))return{kind:"bridgeMsg",value:babelHelpers.extends({},d,{unsupportedType:"metaAiMessage"})}}var f=u==null||(a=u.armadillo())==null?void 0:a.paymentsTransactionMessage(),g=f!=null?f:u==null||(i=u.armadillo())==null?void 0:i.extendedContentMessage();if(g!=null){var h=g.payload,y=h.targetType,C=h.xmaDataclass;if(y==null||!o("MAWParseXMAFBConfig").isFBSupportedTargetType({fbTargetType:y,xmaDataclass:C})){var b=f!=null;return{kind:"bridgeMsg",value:babelHelpers.extends({},d,{unsupportedType:o("MAWParseXMAUnsupportedMessageType").getXMAUnsupportedMessageType(y,C,b)})}}}var v=c==null||(l=c.documentMessage())==null?void 0:l.payload;if(v!=null&&r("gkx")("23924"))return{kind:"bridgeMsg",value:babelHelpers.extends({},d)};if(o("WAParseReadOnlyMetadataDataclassUtils").isNoteMention(u.proto.metadata))return{kind:"bridgeMsg",value:babelHelpers.extends({},d,{unsupportedType:"noteMention"})};var S=c==null||(s=c.payload)==null||(s=s.content)==null?void 0:s.pollCreationMessage;if(S!=null)return{kind:"bridgeMsg",value:babelHelpers.extends({},d,{unsupportedType:"pollCreationMessage"})}}}l.unsupportedMessagesBridgeMsg=e}),98);
__d("MpsWaAdminMsgToBridge",["MAWAckLevel","MAWGetUserDeviceChangeAdminType","MAWJids","MAWLocalizationType","MAWUserJidWrapper","WAArmadilloTransportEvent.pb","WAJids","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r,a=e.deserialize(),i=(t=a.encryptedTransportEvent())==null?void 0:t.proto.event;if(i){var l=i.deviceChange,s=i.icdcAlert;if(((n=a.proto.metadata)==null?void 0:n.senderId)!=null){var u=o("WAJids").unsafeCoerceToUserJid((r=a.proto.metadata)==null?void 0:r.senderId),c=o("MAWJids").toUserJid(u),d=c===o("MAWUserJidWrapper").getMyUserJid()?[]:[o("WAJids").userIdFromJid(c)];if(s)return{kind:"bridgeMsg",value:{ack:o("MAWAckLevel").ACK.received,adminContent:d,adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE,adminVersion:1,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.ICDC_ALERT}};if(l){var m,p,_=(typeof l=="object"&&l!==null||typeof l=="function")&&"type"in l&&l.type===o("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.ADDED?"add":(typeof l=="object"&&l!==null||typeof l=="function")&&"type"in l&&l.type===o("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.REMOVED?"remove":typeof l=="object"&&l!==null||typeof l=="function"?"update":(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+l)})();if(((m=a.proto.metadata)==null?void 0:m.senderId)==null)return;var f=o("WAJids").unsafeCoerceToUserJid((p=a.proto.metadata)==null?void 0:p.senderId),g=o("MAWJids").toUserJid(f),h=o("MAWGetUserDeviceChangeAdminType").getUserDeviceAdminType(_,g===o("MAWUserJidWrapper").getMyUserJid()),y={ack:o("MAWAckLevel").ACK.received,adminContent:d,adminType:h,adminVersion:1,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:y}}}}}l.waAdminMsgToBridgeMsg=e}),98);
__d("MpsWaPlaceholderToBridge",["MAWAckLevel","WAArmadilloTransportEvent.pb","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.deserialize().encryptedTransportEvent(),r=n==null||(t=n.proto.placeholder)==null?void 0:t.type;if(!(n==null||r==null)){var a={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:r===o("WAArmadilloTransportEvent.pb").TransportEvent$Placeholder$Type.UNAVAILABLE_MESSAGE?o("WAMsgType").MSG_TYPE.UNAVAILABLE:o("WAMsgType").MSG_TYPE.CIPHERTEXT};return{kind:"bridgeMsg",value:a}}}l.waPlaceholderToBridgeMsg=e}),98);
__d("MpsXmaMentionToBridge",["MAWUserJidWrapper","MAWXMAUtils","WAJids","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.message,r=e.topLevel,a=n.deserialize().encryptedTransportMessage(),i=a==null||(t=a.armadillo())==null?void 0:t.extendedContentMessage(),l=i==null?void 0:i.payload.targetType,s=o("MAWXMAUtils").isXMAStoryMention(l)||o("MAWXMAUtils").isFBXMAPostMention(l);if(a==null||i==null||!s||r.kind!=="bridgeMsg")return e;var u=o("MAWXMAUtils").isFBXMAPostMention(l),c=o("WAJids").interpretAsUserJid(n.getChatJid()),d=o("WAJids").extractUserId(o("MAWUserJidWrapper").getMyUserJid()),m=c==null?d:o("WAJids").userIdFromJid(c),p={mentionedUserId:m!=null?m:d,timestampMs:o("WATimeUtils").castToMillisTime(n.message.timestampMs)},_=u?babelHelpers.extends({},p,{replyType:"FB_POST_MENTION"}):babelHelpers.extends({},p,{replyType:"FB_STORY_MENTION"});return r.value=babelHelpers.extends({},r.value,{replyContent:_}),e}l.processXmaMention=e}),98);
__d("MpsXmaStoryReplyToBridge",["MAWAckLevel","MAWDbMedia","MAWMsgType","MAWUserJidWrapper","MAWXMAUtils","MpsMediaToBridge","MpsXmaToBridge","WAHashUtils","WAJids","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r=(n=o("WAJids").interpretAsUserJid(t.getChatJid()))!=null?n:t.getSenderJid(),a=o("MAWUserJidWrapper").getMyUserJid();return o("MAWXMAUtils").isXMAStoryProducerReply(e.targetType)?t.isAuthorMe()?a:r:t.isAuthorMe()?r:a}function s(t){var n,r,a,i,l=t.deserialize().encryptedTransportMessage(),s=l==null||(n=l.armadillo())==null?void 0:n.extendedContentMessage();if(!(l==null||s==null||!o("MAWXMAUtils").isXMAStoryReply(s.payload.targetType))){var u=o("MpsXmaToBridge").computeXmaContent(s),c=s.previews().at(0),d=c==null||(r=c.integral)==null||(r=r.transport)==null||(r=r.integral)==null?void 0:r.fileSha256,m=d!=null?o("WAHashUtils").toPlaintextHash(d):void 0,p=(a=s.payload.ctas.at(0))==null?void 0:a.nativeUrl,_=e(s.payload,t),f=o("MAWXMAUtils").isXMAStoryProducerReply(s.payload.targetType),g=(i=s.associatedMessage())==null?void 0:i.consumerMessage(),h=g!=null?o("MpsMediaToBridge").getMediaTypeForMessage(g):null,y=o("MpsXmaToBridge").getExpiredXMAParams(s==null?void 0:s.payload.targetExpiringAtSec),C=f?{replyType:"FB_PRODUCER_STORY_REPLY",storyMediaId:o("MAWDbMedia").convertNumberToMediaId(1),storyMediaPlaintextHash:y!=null&&y.isExpiredXmaMsg?void 0:m,storyMsgType:o("MAWMsgType").MSG_TYPE.IMAGE,storyOwnerId:o("WAJids").extractUserId(_),storyUrl:p!=null?p:"",timestampMs:o("WATimeUtils").castToMillisTime(t.message.timestampMs)}:{replyType:"STORY",storyMediaPlaintextHash:y!=null&&y.isExpiredXmaMsg?void 0:m,storyOwnerId:o("WAJids").extractUserId(_),storyUrl:p!=null?p:"",timestampMs:o("WATimeUtils").castToMillisTime(t.message.timestampMs)},b={ack:o("MAWAckLevel").ACK.received,chatJid:t.getChatJid(),commands:u==null?void 0:u.commands,content:u==null?void 0:u.text,externalId:t.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:t.isAuthorMe(),isForwarded:!1,isStoryReply:!0,mentionedJids:u==null?void 0:u.mentionedJid.map(o("WAJids").validateUserJid).filter(Boolean),msgId:t.getMsgId(),replyContent:C,sender:t.message.senderId,sortOrderMs:t.message.timestampMs,ts:t.getUnixTs(),type_:h!=null?h:"Text"};return{kind:"bridgeMsg",value:b}}}l.storyReplyToBridge=s}),98);
__d("MpsMessageToBridge",["FBLogger","MAWMsgType","MpsAdminMsgToBridge","MpsBumpMessageToBridgeMsg","MpsEditToBridge","MpsEphemeralMessageToBridge","MpsForwardToBridge","MpsFutureproofToBridge","MpsMediaToBridge","MpsMessageTextToBridge","MpsMessageToBridgeWrapper","MpsNoteReplyToBridge","MpsRavenToBridge","MpsReactionToBridge","MpsReceiverFetchInfoToBridge","MpsReplyToBridge","MpsRevokeMessageToBridgeMsg","MpsScreenshotActionToBridgeMsg","MpsUnsupportedMessagesToBridge","MpsWaAdminMsgToBridge","MpsWaPlaceholderToBridge","MpsXmaMentionToBridge","MpsXmaStoryReplyToBridge","MpsXmaToBridge","WAGetPlatformFromStanzaId","WAJids","WAStanzaUtils","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[o("MpsUnsupportedMessagesToBridge").unsupportedMessagesBridgeMsg,o("MpsMessageTextToBridge").messageTextToBridgeMsg,o("MpsMediaToBridge").mediaToBridge,o("MpsAdminMsgToBridge").adminMsgToBridgeMsg,o("MpsScreenshotActionToBridgeMsg").screenshotActionToBridgeMsg,o("MpsRevokeMessageToBridgeMsg").revokeMessageToBridgeMsg,o("MpsBumpMessageToBridgeMsg").bumpMessageToBridgeMsg,o("MpsWaAdminMsgToBridge").waAdminMsgToBridgeMsg,(e=o("MpsXmaToBridge")).xmaToBridge,o("MpsXmaStoryReplyToBridge").storyReplyToBridge,o("MpsRavenToBridge").ravenToBridge,o("MpsNoteReplyToBridge").noteReplyToBridge,o("MpsWaPlaceholderToBridge").waPlaceholderToBridgeMsg,o("MpsFutureproofToBridge").futureproofBridgeMsg],u=[o("MpsEditToBridge").editMessageToBridgeMsg,o("MpsReactionToBridge").reactionMessageToBridgeMsg],c=[o("MpsEditToBridge").processEditedMessage,o("MpsReplyToBridge").processReplyMessage,o("MpsMediaToBridge").processAttachment,o("MpsEphemeralMessageToBridge").processEphemeralMessage,o("MpsReceiverFetchInfoToBridge").processReceiverFetchInfo,e.processXmaAttachment,e.processXmaAssociatedMessageAttachment,o("MpsXmaMentionToBridge").processXmaMention,o("MpsRavenToBridge").processRavenAttachment,o("MpsForwardToBridge").processForwarding,o("MpsNoteReplyToBridge").processNoteReply,o("MpsNoteReplyToBridge").processNoteReplyAttachment,e.processXmaExpiration];function d(e,t){for(var n of e)try{var a=n(t);if(a!=null)return a}catch(e){var i=o("WAStanzaUtils").toStanzaId(t.getExternalId()),l=o("WAJids").interpretAsGroupJid(t.getChatJid())!=null;throw r("FBLogger")("mps").catching(r("getErrorSafe")(e)).mustfixThrow("mpsMessagetoBridge failed to create a bridge object for message from platform: %s, is_group: %s",o("WAGetPlatformFromStanzaId").getPlatformFromStanzaId(i),l)}}function m(e){var t=o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(e.toplevelProtobuf),n=d(s,t);if(n!=null&&!(n.kind==="bridgeMsg"&&n.value.type_===o("MAWMsgType").MSG_TYPE.ADMIN&&n.value.adminType==null)){if(n.kind==="bridgeMsg"&&n.value.type_===o("MAWMsgType").MSG_TYPE.FUTUREPROOF)return{supplementals:[],topLevel:n};var r=e.supplementalProtobufs.values().toArray().map(function(t){return d(u,o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromSupplemental(t,e.toplevelProtobuf))}).filter(Boolean),a=c.reduce(function(e,t){return t(e)},{message:t,supplementalMessages:e.supplementalProtobufs,supplementals:r,topLevel:n});return{supplementals:a.supplementals,topLevel:a.topLevel}}}l.mpsFullMessagetoBridge=m}),98);
__d("WAOfflineUtils",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["INIT","OFFLINE_RESUME","ONLINE"]),l=n("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});i.ServerRPCMode=e,i.WAClientInfraOfflineProgress=l}),66);
__d("WorkerBanzaiLazyQueueChannelWorker",["BanzaiLazyQueue","WorkerFuncChannel"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("WorkerFuncChannel").importChannel({queuePost:null},e,"banzai_lazyqueue_channel");r("BanzaiLazyQueue").onQueue.add(function(){s(t)}),s(t)}function s(e){r("BanzaiLazyQueue").flushQueue().forEach(function(t){e.queuePost.apply(e,t)})}l.init=e}),98);
__d("WorkerSelf",["WorkerBanzaiLazyQueueChannelWorker","WorkerFuncChannel","WorkerQPLChannel"],(function(t,n,r,o,a,i,l){"use strict";function e(e){o("WorkerFuncChannel").activateChannels(e,"worker","client"),o("WorkerBanzaiLazyQueueChannelWorker").init(e),o("WorkerQPLChannel").setMessagePort(e)}l.init=e}),98);
__d("isGroupInvitesEnabled",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("125")===!0}l.default=e}),98);
__d("isMAWUniversalSearchWithEBEnabled",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("4741")}l.default=e}),98);/*FB_PKG_DELIM*/
__d("ArmadilloCutoverClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("699"),s=o("FalcoLoggerInternal").create("armadillo_cutover_client",e),u=s;l.default=u}),98);
__d("BTManifestName",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({MAIN:"main",LONGTAIL:"longtail"}),l=e;i.default=l}),66);
__d("BtLongtailHashFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5779"),s=o("FalcoLoggerInternal").create("bt_longtail_hash",e),u=s;l.default=u}),98);
__d("CometBTManifestLoader",["BootloaderEvents","BtLongtailHashFalcoEvent","ClientConsistencyEventEmitter","FBLogger","ODS","Promise","SiteData","TrustedTypes","XHRRequest","asyncToGeneratorRuntime","err","getErrorSafe","justknobx","promiseDone","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new Set;function c(e,t,n,r){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,o,a){var i=yield new(s||(s=n("Promise")))(function(n,i){new(r("XHRRequest"))(e+"/btmanifest/"+o+"/"+t+"/"+a).setMethod("GET").setResponseHandler(function(e){return n(e.toString())}).setErrorHandler(function(e){return i(e)}).send()});if(typeof i!="string")throw r("FBLogger")("binary_transparency","bt_invalid_manifest_response").mustfixThrow("Invalid response from BT manifest endpoint");return i}),d.apply(this,arguments)}function m(t,n){(e||(e=o("ODS"))).bumpEntityKey(454,"obc.www.all","bt.comet_manifest_loader.0."+o("SiteData").pkg_cohort+"."+t+"."+n)}function p(e,t,n){r("vulture")("IP8FCZoGIEdkGDgnYB-ERbwf7AA=");var o;if(n instanceof Error)o=n;else if(typeof n=="object"){var a=JSON.stringify(n);o=r("err")("(XHRRequest): %s",a.slice(0,300)+(a.length>300?"...":""))}else o=r("err")(n);r("FBLogger")("binary_transparency","bt_download_manifest_error").catching(o).mustfix('Unable to download and inject BT manifest "%s" for version: %s',t,e)}var _=r("TrustedTypes").createPolicy("bt-manifest",{createScript:function(t){return t}});function f(e,t){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){if(!(!o("SiteData").manifest_origin||o("SiteData").manifest_version_prefix==null||o("SiteData").manifest_base_uri==null)){var n=e+"_"+t,a=""+o("SiteData").manifest_version_prefix+e;if(!u.has(n)){m(t,"start"),u.add(n);try{var i,l=document.createElement("script"),s=yield c(o("SiteData").manifest_base_uri,o("SiteData").manifest_origin,a,t);r("justknobx")._("3786")?l.text=_.createScript(s):l.text=s,l.type="application/json",l.setAttribute("name","binary-transparency-manifest"),l.dataset.manifestRev=a,l.dataset.manifestType=t,(i=document.head)==null||i.appendChild(l),m(t,"complete")}catch(e){var d=r("getErrorSafe")(e);m(t,"failed"),p(a,t,d),u.delete(n)}}}}),g.apply(this,arguments)}function h(){r("promiseDone")(f(o("SiteData").client_revision,"main")),o("BootloaderEvents").onResourceInLongTailBTManifest(function(e){r("promiseDone")(f(o("SiteData").client_revision,"longtail")),e.hashes.forEach(function(t){r("BtLongtailHashFalcoEvent").log(function(){return{client_revision:String(o("SiteData").client_revision),ef_page:o("SiteData").ef_page||"",hash:t,pkg_cohort:o("SiteData").pkg_cohort,reference:e.source,rls_id:o("SiteData").hsi}})})}),r("ClientConsistencyEventEmitter").addListener("newRevision",function(e){r("promiseDone")(f(e,"main")),r("promiseDone")(f(e,"longtail"))})}l.init=h}),98);
__d("XRefererFrameControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/common/referer_frame.php",Object.freeze({no_lower:!1}),void 0),s=e;l.default=s}),98);
__d("ControlledReferer",["invariant","ConstUriUtils","XRefererFrameControllerRouteBuilder","getRequestConstUri","isInternalFBURI","isWorkplaceDotComURI"],(function(t,n,r,o,a,i,l,s){function e(e,t,n){function a(){var n="";try{n=e.contentWindow.location.pathname}catch(e){return}n!=="/intern/common/referer_frame.php"&&n!=="/common/referer_frame.php"&&n!=="/common/referer_frame.php/"||t()}var i=r("XRefererFrameControllerRouteBuilder").buildUri({cb:1}),l=i;if(r("isInternalFBURI")(r("getRequestConstUri")())&&(l=o("ConstUriUtils").getUri("/intern/common/referer_frame.php")),n==null&&r("isWorkplaceDotComURI")(r("getRequestConstUri")())&&(n="workplace"),n){var u;l=(u=l)==null?void 0:u.addQueryParam("fb_source",n)}l!=null||s(0,67317),e.onload=a,e.src=l.toString()}function u(t,n,r){e(t,function(){t.contentWindow.document.body.innerHTML=n},r)}l.shouldUseFacebookReferer=e,l.useFacebookRefererHtml=u}),98);
__d("StaticContainer.react",["react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(t){return!!t.shouldUpdate},n.render=function(){var e=this.props.children;return e===null||e===!1?null:s.Children.only(e)},t})(s.Component);l.default=u}),98);
__d("ControlledRefererIFrame.react",["ControlledReferer","ControlledRefererIFrameConfig","SecurePostMessage","StaticContainer.react","TrustedTypesNoOpPolicy_DO_NOT_USE","URI","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["src","onFrameRender","onBeforeFrameRender","useTrustedHtml"],s,u,c=u||(u=o("react")),d=(function(t){function n(){return t.apply(this,arguments)||this}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.mountFrameRef=function(t){this.frame=t},a.updateFrame=function(){var e=this,t=this.frame;t&&(this.props.onBeforeFrameRender&&this.props.onBeforeFrameRender(this.props),o("ControlledReferer").shouldUseFacebookReferer(t,function(){var n=t.contentWindow.document;n.body.innerHTML=r("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML('\n        <form method="GET" id="theform"></form>\n        '+o("ControlledRefererIFrameConfig").additional_markup+"\n      ");var a=new(s||(s=r("URI")))(e.props.src).qualify(),i=n.getElementById("theform");i.action=a.toString();var l=a.getQueryData(),u=new Map;for(var c in l)if(Object.prototype.hasOwnProperty.call(l,c)){var d=l[c];if(typeof d=="object"&&!Array.isArray(d))for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&u.set(c+"["+m+"]",d[m]);else u.set(c,d)}var p=function(){var e=_[0],t=_[1];if(Array.isArray(t))t.forEach(function(t){var r=n.createElement("input");r.name=e+"[]",r.setAttribute("value",t),r.autocomplete="off",r.type="hidden",i.appendChild(r)});else{var r=n.createElement("input");r.name=e,r.setAttribute("value",t),r.autocomplete="off",r.type="hidden",i.appendChild(r)}};for(var _ of u)p();var f=n.createElement("iframe");f.frameborder=0,f.width=f.height="1",f.onload=function(){return n.getElementById("theform").submit()},n.body.appendChild(f),e.props.onFrameRender&&e.props.onFrameRender(e.props)}))},a.componentDidMount=function(){this.updateFrame()},a.componentDidUpdate=function(t){t.src!==this.props.src&&this.updateFrame()},a.UNSAFE_componentWillReceiveProps=function(t){var e=this.frame;e&&(t.width!==this.props.width||t.height!==this.props.height)&&(t.width!=null&&(e.width=""+t.width),t.height!=null&&(e.height=""+t.height))},a.render=function(){var t=this,n=this.props,o=n.src,a=n.onFrameRender,i=n.onBeforeFrameRender,l=n.useTrustedHtml,s=babelHelpers.objectWithoutPropertiesLoose(n,e);return c.jsx(r("StaticContainer.react"),{children:c.jsx("iframe",babelHelpers.extends({},s,{ref:function(n){return t.mountFrameRef(n)}}))})},a.postMessage=function(t,n){this.frame&&r("SecurePostMessage").sendMessageToSpecificOrigin(this.frame.contentWindow,t,n)},n})(c.PureComponent);l.default=d}),98);
__d("EncryptedBackupdDYIFileSaver",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("file-saver").__setRef("EncryptedBackupdDYIFileSaver");function s(t,n){e.onReadyImmediately(function(e){var r=e.saveAs;r(n,t)})}l.saveFile=s}),98);
__d("EncryptedBackupsDYIHandleMessageRestore",["EncryptedBackupsDYISingleton","I64","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d;function m(e,t,n,r,o,a,i){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,a,i,l,m){var p=o("EncryptedBackupsDYISingleton").getSingleton(),f=p.getLogger(),g=p.getThreadKeyForThreadId(n);if(g==null){f.WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Cannot find thread key for thread id: ",""])),n);return}if(f.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["handling message range query for thread with thread key ",", hasMoreBefore: ",""])),n,a),r.length>0&&(yield l(g,n,r)),!a||i==null){a&&i==null&&f.ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["nextTimestampMs was not supplied for thread with thread key ","."])),n),_(g);return}var h=(d||(d=o("I64"))).to_string(i);f.LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Issuing next range query for thread with thread key ",", server generated next reference timestamp: ",""])),n,h),m(t,h,n)}),p.apply(this,arguments)}function _(e){var t=o("EncryptedBackupsDYISingleton").getSingleton();t.deleteThreadKeyFromThreadsRestoreInProgress(e)}l.handleMessageRangeQueryRestore=m}),98);
__d("PolarisDirectGQLAPICDNRestorationQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9537377159694697"}),null);
__d("PolarisDirectGQLAPICDNRestorationQuery.graphql",["PolarisDirectGQLAPICDNRestorationQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"payload"}],t=[{alias:null,args:[{kind:"Variable",name:"payload",variableName:"payload"}],concreteType:"XIGIGDirectInstamadilloRestoreCDNUrlResponse",kind:"LinkedField",name:"xig_fetch_ig_direct_restore_cdn_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"restoration_cdn_url",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"PolarisDirectGQLAPICDNRestorationQuery",selections:t,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"PolarisDirectGQLAPICDNRestorationQuery",selections:t},params:{id:n("PolarisDirectGQLAPICDNRestorationQuery_instagramRelayOperation"),metadata:{},name:"PolarisDirectGQLAPICDNRestorationQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("PolarisDirectGQLAPIEBUploadMessagesMutation_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9574801429307425"}),null);
__d("PolarisDirectGQLAPIEBUploadMessagesMutation.graphql",["PolarisDirectGQLAPIEBUploadMessagesMutation_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"XIGTIGUploadMessageHandlerResponse",kind:"LinkedField",name:"xig_ig_open_upload_msg_to_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_success",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"delete_mailbox",storageKey:null},{alias:null,args:null,concreteType:"XIGTIGProtobufParams",kind:"LinkedField",name:"protobuf_params",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delete_on_success",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rtu_protocol",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"PolarisDirectGQLAPIEBUploadMessagesMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"PolarisDirectGQLAPIEBUploadMessagesMutation",selections:t},params:{id:n("PolarisDirectGQLAPIEBUploadMessagesMutation_instagramRelayOperation"),metadata:{},name:"PolarisDirectGQLAPIEBUploadMessagesMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("PolarisDirectGQLAPI",["CometRelay","CurrentUser","PolarisDirectGQLAPICDNRestorationQuery.graphql","PolarisDirectGQLAPIEBUploadMessagesMutation.graphql","PolarisRelayEnvironment","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,r){return new(u||(u=n("Promise")))(function(a,i){var l=function(t){i(t)},s=o("CurrentUser").getAppID(),u;s!=null&&(u=Number(s)),o("CometRelay").commitMutation(t,{mutation:e!==void 0?e:e=n("PolarisDirectGQLAPIEBUploadMessagesMutation.graphql"),onCompleted:a,onError:l,variables:{input:{app_id:u,payload:{msg_payloads:r}}}})})}function d(e){return o("CometRelay").fetchQuery(r("PolarisRelayEnvironment"),s!==void 0?s:s=n("PolarisDirectGQLAPICDNRestorationQuery.graphql"),{payload:e}).toPromise().then(function(e){var t,n;return(t=e==null||(n=e.xig_fetch_ig_direct_restore_cdn_url)==null?void 0:n.restoration_cdn_url)!=null?t:""})}l.ebUploadMessages=c,l.fetchCDNUrlWithRestoration=d}),98);
__d("IGDBridgeResignCdnUrlHandler",["MAWBridgeSendAndReceive","PolarisDirectGQLAPI","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield o("PolarisDirectGQLAPI").fetchCDNUrlWithRestoration(e);yield o("MAWBridgeSendAndReceive").sendAndReceive("backend","continueMediaDownload",{cdnUrl:n,deliveryObjectId:t})}),s.apply(this,arguments)}l.call=e}),98);
__d("IgFrCookieUpdaterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5694"),s=o("FalcoLoggerInternal").create("ig_fr_cookie_updater",e),u=s;l.default=u}),98);
__d("LSProcessBackupIds",["LSAppendDataTraceAddon","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(o){return r[0]=t.i64.of_float(Date.now()),(function(e){t.logger(e).info(e)})("[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] Beginning execution."),t.sequence([function(r){return e[0]!==void 0?t.storedProcedure(n("LSAppendDataTraceAddon"),e[0],t.i64.cast([0,1487]),t.i64.cast([0,2]),void 0,void 0):t.resolve()},function(e){return t.storedProcedure(n("LSIsMobileClient")).then(function(e){var t;return t=e,r[9]=t[0],t})},function(e){return r[9]?r[10]=!0:r[10]=!1,r[10]?((function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),r[12]="LSDataTraceMciTraceLog native op not supported",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][MEBTraceUtils] ","",r[12]].join("")),r[11]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"MEBTraceUtils",r[12],r[11],t.i64.cast([0,3]))):t.resolve()}])},function(o){return t.db.table(172).fetch([[[t.i64.cast([0,1])]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(o){return t.sequence([function(r){return e[0]!==void 0?t.storedProcedure(n("LSAppendDataTraceAddon"),e[0],t.i64.cast([0,1488]),t.i64.cast([0,2]),void 0,void 0):t.resolve()},function(e){return t.storedProcedure(n("LSIsMobileClient")).then(function(e){var t;return t=e,r[9]=t[0],t})},function(e){return r[9]?r[10]=!0:r[10]=!1,r[10]?((function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),r[12]="LSDataTraceMciTraceLog native op not supported",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][MEBTraceUtils] ","",r[12]].join("")),r[11]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"MEBTraceUtils",r[12],r[11],t.i64.cast([0,3]))):t.resolve()}])},function(e){return r[1]=t.i64.cast([0,0])}]):(a=l.item,t.sequence([function(o){return r[11]=a.backupId,r[10]=a.authorityLevel,t.i64.eq(r[10],t.i64.cast([0,20]))?t.resolve(r[9]=t.i64.cast([0,1])):t.sequence([function(o){return t.i64.eq(r[10],t.i64.cast([0,80]))?t.sequence([function(o){return t.i64.eq(r[11],void 0)?t.sequence([function(o){return t.sequence([function(r){return e[0]!==void 0?t.storedProcedure(n("LSAppendDataTraceAddon"),e[0],t.i64.cast([0,1492]),t.i64.cast([0,2]),void 0,void 0):t.resolve()},function(e){return t.storedProcedure(n("LSIsMobileClient")).then(function(e){var t;return t=e,r[14]=t[0],t})},function(e){return r[14]?r[15]=!0:r[15]=!1,r[15]?((function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),r[17]="LSDataTraceMciTraceLog native op not supported",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][MEBTraceUtils] ","",r[17]].join("")),r[16]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"MEBTraceUtils",r[17],r[16],t.i64.cast([0,3]))):t.resolve()}])},function(e){return r[13]=t.i64.cast([0,2])}]):t.sequence([function(o){return t.i64.eq(r[11],t.i64.cast([-1,4294967295]))?t.sequence([function(o){return t.sequence([function(r){return e[0]!==void 0?t.storedProcedure(n("LSAppendDataTraceAddon"),e[0],t.i64.cast([0,1489]),t.i64.cast([0,2]),void 0,void 0):t.resolve()},function(e){return t.storedProcedure(n("LSIsMobileClient")).then(function(e){var t;return t=e,r[15]=t[0],t})},function(e){return r[15]?r[16]=!0:r[16]=!1,r[16]?((function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),r[18]="LSDataTraceMciTraceLog native op not supported",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][MEBTraceUtils] ","",r[18]].join("")),r[17]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"MEBTraceUtils",r[18],r[17],t.i64.cast([0,3]))):t.resolve()}])},function(e){return r[14]=t.i64.cast([-1,4294967295])}]):t.sequence([function(o){return t.filter(t.db.table(168).fetch(),function(e){return t.i64.eq(e.backupId,r[11])&&t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))}).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(o){return t.sequence([function(r){return e[0]!==void 0?t.storedProcedure(n("LSAppendDataTraceAddon"),e[0],t.i64.cast([0,1490]),t.i64.cast([0,2]),void 0,void 0):t.resolve()},function(e){return t.storedProcedure(n("LSIsMobileClient")).then(function(e){var t;return t=e,r[17]=t[0],t})},function(e){return r[17]?r[18]=!0:r[18]=!1,r[18]?((function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),r[20]="LSDataTraceMciTraceLog native op not supported",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][MEBTraceUtils] ","",r[20]].join("")),r[19]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"MEBTraceUtils",r[20],r[19],t.i64.cast([0,3]))):t.resolve()}])},function(e){return r[15]=t.i64.cast([0,4])}]):(a=l.item,t.sequence([function(o){return t.sequence([function(r){return e[0]!==void 0?t.storedProcedure(n("LSAppendDataTraceAddon"),e[0],t.i64.cast([0,1491]),t.i64.cast([0,2]),void 0,void 0):t.resolve()},function(e){return t.storedProcedure(n("LSIsMobileClient")).then(function(e){var t;return t=e,r[17]=t[0],t})},function(e){return r[17]?r[18]=!0:r[18]=!1,r[18]?((function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),r[20]="LSDataTraceMciTraceLog native op not supported",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][MEBTraceUtils] ","",r[20]].join("")),r[19]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"MEBTraceUtils",r[20],r[19],t.i64.cast([0,3]))):t.resolve()}])},function(e){return r[15]=t.i64.cast([0,3])}]))})},function(e){return r[14]=r[15]}])},function(e){return r[13]=r[14]}])},function(e){return r[12]=r[13]}]):t.sequence([function(o){return t.sequence([function(r){return e[0]!==void 0?t.storedProcedure(n("LSAppendDataTraceAddon"),e[0],t.i64.cast([0,1489]),t.i64.cast([0,2]),void 0,void 0):t.resolve()},function(e){return t.storedProcedure(n("LSIsMobileClient")).then(function(e){var t;return t=e,r[13]=t[0],t})},function(e){return r[13]?r[14]=!0:r[14]=!1,r[14]?((function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),r[16]="LSDataTraceMciTraceLog native op not supported",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][MEBTraceUtils] ","",r[16]].join("")),r[15]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"MEBTraceUtils",r[16],r[15],t.i64.cast([0,3]))):t.resolve()}])},function(e){return r[12]=t.i64.cast([-1,4294967295])}])},function(e){return r[9]=r[12]}])},function(e){return r[1]=r[9]}]))})},function(e){return r[3]=t.i64.of_float(Date.now()),r[4]=t.i64.random(),r[6]="Finishing execution. Execution time: ",r[7]=t.i64.to_string(t.i64.sub(r[3],r[0])),r[8]=" ms",r[5]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][LSEncryptedBackupsProcessBackupIdsStoredProcedure] ",r[5],r[6],r[5],r[7],r[5],r[8]].join("")),t.i64.eq(t.i64.mod_(r[4],t.i64.cast([0,1e3])),t.i64.cast([0,0]))?(r[9]=",",r[10]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsProcessBackupIdsStoredProcedure",[r[6],r[9],r[7],r[9],r[8]].join(""),r[10],t.i64.cast([0,4]))):t.resolve()},function(e){return o[0]=r[1]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSEncryptedBackupsProcessBackupIdsStoredProcedure",e.__tables__=["encrypted_backups","secure_encrypted_backups_client_state"],a.exports=e}),null);
__d("LSProcessBackupIdsStoredProcedure",["LSProcessBackupIds","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){a===void 0&&(a={});var i=t.storedProcedure(r("LSProcessBackupIds"),a.traceId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWEBUnstoredDbMsgUtils",["EBLogger","MAWHandleEBRestoreWithHIM","MAWHandleEchoProtobufsRestoreApi","MAWMessageSortOrderUtils","WAJids","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("EBLogger").EBLogger().tags(["restore","MAWEBUnstoredDbMsgUtils"]);function c(t,n,a,i){var l=a!=null?a:n!=null?o("WAJids").unsafeCoerceToChatJid(n):void 0;return l==null?(u.mustfix("threadId and chatJid are both null - cannot convert protobuf to unstoredDbMsg"),[]):o("MAWHandleEchoProtobufsRestoreApi").decodeProtobufArray(t,i,void 0,new Set,new Set,new Map,new Map,new Map,!0).map(function(t){var n;if((t==null||(n=t.metadata)==null?void 0:n.messageId)!=null)try{var a=o("MAWHandleEchoProtobufsRestoreApi").createUnstoredDbContentFromProtobufObject(t,l,i,new Map,void 0);if(a!=null&&a.unstoredDbContent.unstoredDbMsg!=null){var s=a.unstoredDbContent.unstoredDbMsg,c=o("MAWMessageSortOrderUtils").generateAuthoritativeMessageSortOrder(s);return s.sortOrderMs=c,s}}catch(n){var d=r("getErrorSafe")(n);u.MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to convert protobuf to unstored db message: type: "," error: ",""])),t.msgType,d.message)}return null}).filter(Boolean)}function d(e,t){return o("MAWHandleEBRestoreWithHIM").convertEchoMessages(e,t).map(function(e){var t,n;return e==null||e.length===0||((t=e[0].decodedMsg)==null?void 0:t.unstoredDbMsg)==null?(u!=null&&u.MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Failed to convert echo message to unstored db message"]))),null):(n=e[0].decodedMsg)==null?void 0:n.unstoredDbMsg}).filter(Boolean)}l.getUnstoredDbMsgFromProtobuf=c,l.getUnstoredDbMsgFromEcho=d}),98);
__d("MAWEncryptedBackupsDYIProcessProtobufMessages",["CurrentUser","EncryptedBackupsDYIMessageProcessingUtils","EncryptedBackupsDYISingleton","MAWGroupPollsDualEncryptionUtils","MAWHandleEchoProtobufsRestoreApi","MAWJids","MAWMsgType","Promise","WAHashUtils","WAJids","WALongInt","WAStanzaUtils","WATimeUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I;function T(e,t,n){return D.apply(this,arguments)}function D(){return D=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=o("EncryptedBackupsDYISingleton").getSingleton(),i=a.getLogger();i.LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Processing "," protobuf messages for thread ",""])),n.length,t);var l=n.map(function(t){var n=a.hasMessage(e,o("WAStanzaUtils").toStanzaId(t.otid));return n?(i.DEV(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Encountered a duplicate message otid ",", skipping"])),t.otid),null):t}).filter(Boolean),s=o("MAWJids").toUserJid(r("CurrentUser").getAccountID()),u=!1,g=!1,h;try{for(var y=babelHelpers.asyncIterator(l),C;u=!(C=yield y.next()).done;u=!1){var b=C.value;try{var v=o("MAWHandleEchoProtobufsRestoreApi").decodeDecryptedMessageProtobuf(b,s,void 0,new Set,new Set,new Map,new Map,new Map,!0);if(v==null){i.WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Decoded protobuf is empty"])));return}if(v!=null&&v.metadata!=null&&v.metadata.messageId!=null){var S=o("WAStanzaUtils").toStanzaId(v.metadata.messageId),R=yield x(e,t,v);if(R==null){i.WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Error converting protobuf to DYI format. Dropping the message"])));continue}a.setMessagesByThreadKey(e,S,R)}else{i.WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Error converting protobuf to DYI format. Dropping the message"])));continue}}catch(e){i.ERROR(f||(f=babelHelpers.taggedTemplateLiteralLoose(["Error processing protobuf. Dropping the message: ",""])),e);continue}}}catch(e){g=!0,h=e}finally{try{u&&y.return!=null&&(yield y.return())}finally{if(g)throw h}}}),D.apply(this,arguments)}function x(e,t,n){return $.apply(this,arguments)}function $(){return $=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r,a,i=o("EncryptedBackupsDYISingleton").getSingleton(),l=i.getLogger(),s=n.metadata,u=n.msgType,c=n.sortOrderMs;if(s==null||u==null){l.WARN(g||(g=babelHelpers.taggedTemplateLiteralLoose(["Error processing protobuf: metadata or message type is null"])));return}var d=s.messageId,m=s.senderId,p=s.timestampMs;if(p==null||typeof p!="number"||d==null||m==null){l.WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Error processing protobuf: ts or messageId or senderId is null"])));return}var _=o("WATimeUtils").castMilliSecondsToUnixTime(p),f=o("EncryptedBackupsDYIMessageProcessingUtils").buildBaseDyiMessage(m,c),S=(r=n.decodedPayload)==null?void 0:r.text;if(n.editMsgData.length>0){var R=_;n.editMsgData.forEach(function(e){var t;if(e.ts>R&&((t=e.editMsgContent.message)==null?void 0:t.text)!=null){var n;R=e.ts,S=(n=e.editMsgContent.message)==null?void 0:n.text}})}switch(n.reactionData.length>0&&(f.reactions=n.reactionData.map(function(e){var t,n,r=e.reaction,o=e.senderId;return{actor:(t=i.getContactNameForContactId(o))!=null?t:"unknown",reaction:(n=r.text)!=null?n:"unknown"}})),n.msgType){case o("MAWMsgType").MSG_TYPE.TEXT:f.type="text",f.text=S||"";break;case o("MAWMsgType").MSG_TYPE.VIDEO:case o("MAWMsgType").MSG_TYPE.GIF:case o("MAWMsgType").MSG_TYPE.IMAGE:case o("MAWMsgType").MSG_TYPE.STICKER:case o("MAWMsgType").MSG_TYPE.PTT:f.type="media",f.text=S||"",f=M(e,t,n,c,f);break;case o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:l.WARN(y||(y=babelHelpers.taggedTemplateLiteralLoose(["Documents are not supported in DYI"])));return;case o("MAWMsgType").MSG_TYPE.XMA:if(f.type="link",n.xmaData==null){l.WARN(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] XMA message doesn't have xmaData"])));return}f.text=((a=n.xmaData)==null?void 0:a.ctas.map(function(e){return e.nativeUrl}).filter(Boolean).join("\n"))||"";break;case o("MAWMsgType").MSG_TYPE.REVOKED:f.type="placeholder",f.isUnsent=!0,f.text="User unsent a message";break;case o("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:f.type="poll",f.text=yield P(n);break;case o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:l.WARN(b||(b=babelHelpers.taggedTemplateLiteralLoose(["Bump message is not supported in DYI"])));return;default:l.LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["Explicitly dropping "," message type"])),n.msgType);return}return f}),$.apply(this,arguments)}function P(e){return N.apply(this,arguments)}function N(){return N=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("EncryptedBackupsDYISingleton").getSingleton().getLogger(),r=e.groupPollInfo;if(r==null)return t.WARN(S||(S=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] Group poll creation message is missing group poll info"]))),"";var a=new Map,i=new Map;if(yield(I||(I=n("Promise"))).all(r.options.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("MAWGroupPollsDualEncryptionUtils").getHashForOptionName(e);a.set(t,{optionName:e,voterUserJids:[]})});return function(t){return e.apply(this,arguments)}})())),e.groupPollUpdateData!=null){var l=!1,s=!1,u;try{for(var c=babelHelpers.asyncIterator(e.groupPollUpdateData),d;l=!(d=yield c.next()).done;l=!1){var m=d.value;{var p,_,f;if(((p=m.pollCreationMessageKey)==null?void 0:p.id)==null||((_=m.pollCreationMessageKey)==null?void 0:_.remoteJid)==null){t.ERROR(R||(R=babelHelpers.taggedTemplateLiteralLoose(["[Polls] Poll creation message key is incomplete. Skipping"])));continue}var g=m.pollCreationMessageKey,h=g.id,y=g.remoteJid,C=o("WAJids").unsafeCoerceToUserJid(y),b={pollCreationMessageKey:r.encKey,pollCreationSenderJid:o("WAJids").toMsgrUserJid(((f=e.metadata)==null?void 0:f.senderId)||""),pollCreationStanzaId:o("WAStanzaUtils").toStanzaId(h),pollUpdateSenderJid:C,pollUpdateStanzaId:m.externalId};if(m.addOption!=null){var v=yield o("MAWGroupPollsDualEncryptionUtils").decryptGroupPollAddOption(m.addOption,b);if(v.success){var T=v.value,D=!1,x=!1,$;try{for(var P=babelHelpers.asyncIterator(T.pollOption),N;D=!(N=yield P.next()).done;D=!1){var M=N.value;{if(M.optionName==null)continue;var w=M.optionName,A=yield o("MAWGroupPollsDualEncryptionUtils").getHashForOptionName(w);a.has(A)||a.set(A,{optionName:w,voterUserJids:[]})}}}catch(e){x=!0,$=e}finally{try{D&&P.return!=null&&(yield P.return())}finally{if(x)throw $}}}else t.ERROR(L||(L=babelHelpers.taggedTemplateLiteralLoose(["[Polls] Decryption failure when trying to decrypt poll add option update: ",""])),v.error)}if(m.vote!=null){var F=yield o("MAWGroupPollsDualEncryptionUtils").decryptGroupPollVote(m.vote,b);if(F.success){var O=F.value;if(O.senderTimestampMs==null){t.WARN(E||(E=babelHelpers.taggedTemplateLiteralLoose(["[Polls] senderTimestampMs is null. Cannot determine the latest poll vote"])));continue}var B=O.selectedOptions,W=O.senderTimestampMs,q=i.get(C);(q==null||q.senderTimestampMs<o("WALongInt").numberOrThrowIfTooLarge(W))&&i.set(C,{senderTimestampMs:o("WALongInt").numberOrThrowIfTooLarge(W),votes:B.map(o("MAWGroupPollsDualEncryptionUtils").getBase64EncodedHash)})}else t.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[Polls] Decryption failure when trying to decrypt poll vote update: ",""])),F.error)}}}}catch(e){s=!0,u=e}finally{try{l&&c.return!=null&&(yield c.return())}finally{if(s)throw u}}}for(var U of i){var V=U[0],H=U[1];for(var G of H.votes){var z=a.get(G);z==null?a.set(G,{optionName:"Unknown",voterUserJids:[V]}):a.set(G,babelHelpers.extends({},z,{voterUserJids:[].concat(z.voterUserJids,[V])}))}}return"Question: "+r.name+"; Options: "+Array.from(a).map(function(e){var t=e[0],n=e[1],r=n.optionName,a=n.voterUserJids;return r+" ("+a.length+" votes"+(a.length>0?": "+a.map(function(e){return o("EncryptedBackupsDYIMessageProcessingUtils").getSenderName(o("WAJids").userIdFromJid(o("WAJids").unsafeCoerceToUserJid(e)))}).join(", "):"")+")"}).join("; ")}),N.apply(this,arguments)}function M(t,n,r,a,i){var l,c,d=o("EncryptedBackupsDYISingleton").getSingleton(),m=d.getLogger();if(r.mediaMetadata==null)return m.WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] Media message is missing media data"]))),i;var p=r.mediaMetadata,_=p.mediaEntryData,f=p.plaintextHash,g=(l=(c=r.metadata)==null?void 0:c.senderId)!=null?l:"0",h=o("WAStanzaUtils").toStanzaId(r.externalId),y=o("WAHashUtils").stringToPlaintextHash(f);if(i.media.add(y),!d.isAttachmentDownloadInProgressForPlaintextHash(y)&&!d.isAttachmentDownloadCompleteForPlaintextHash(y)){if(m.LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] Starting DYI media download for attachemnt with hash ",""])),o("WAHashUtils").sanitisePlaintextHash(y)),d.addPlaintextHashToAttachmentDownloadsInProgress(y),_==null)return m.ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[Protobuf] Media message is missing media entry data"]))),d.deletePlaintextHashFromAttachmentDownloadsInProgress(y),i;var C={author:o("WAJids").toMsgrUserJid(g),chat:o("WAJids").toMsgrUserJid(n),externalId:h};o("EncryptedBackupsDYIMessageProcessingUtils").downloadMediaWithMediaManager(y,C,a,_)}return i}l.processEBProtobufMessagesForDYI=T}),98);
__d("MAWEncryptedBackupsDYIHandleMessageRestore",["EncryptedBackupsDYIHandleMessageRestore","EncryptedBackupsDYISingleton","I64","LSDatabaseSingleton","LSIntEnum","LSMEBTaskCreationSource","MAWEBRestoreTrackingUtils","MAWEncryptedBackupsDYIProcessProtobufMessages","MAWJobDefinitions","MAWThreadKeyUtils","MpsOverBridge","MpsTypes","WAJids","asyncToGeneratorRuntime","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(s||(s=o("LSIntEnum"))).ofNumber(r("LSMEBTaskCreationSource").MSGR_DYI),m=r("justknobx")._("467"),p=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a){o("MAWEBRestoreTrackingUtils").markEBRestoreDYI(r("LSMEBTaskCreationSource").MSGR_DYI);var i=o("WAJids").createJidUtils({platform:"msgr"}).toUserJid(a),l=o("MpsTypes").toTimestamp(Number(n)),s=yield o("MpsOverBridge").mps().loadMessages({config:{persistToReverb:"no-persist",shouldFetchSupplementals:!0,shouldFetchTags:!1,strategy:"remote-only"},debug:{purpose:"dyi"},direction:"desc",from:[l,null],numMessages:m,source:r("LSMEBTaskCreationSource").MSGR_DYI,threadId:o("MpsTypes").toThreadId(i)});if(!s.success){o("EncryptedBackupsDYISingleton").getSingleton().getLogger().ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Message batch query failed for thread ",": ",""])),a,s.error),o("EncryptedBackupsDYISingleton").getSingleton().deleteThreadKeyFromThreadsRestoreInProgress(o("MAWThreadKeyUtils").toStringThreadKey(a));return}var c=s.value,d=c.cursorInfo,p=c.messages,f=(d==null?void 0:d.endCursor)!=null?(u||(u=o("I64"))).of_float(d.endCursor[0]):void 0;yield _(a,p.map(o("MAWJobDefinitions").mpsMessageToEncryptedBackupsMessage),d.hasNext,f)});return function(n,r,o){return t.apply(this,arguments)}})();function _(e,t,n,r){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a=yield(c||(c=o("LSDatabaseSingleton"))).LSDatabaseSingleton;yield o("EncryptedBackupsDYIHandleMessageRestore").handleMessageRangeQueryRestore(a,e,t,n,r,o("MAWEncryptedBackupsDYIProcessProtobufMessages").processEBProtobufMessagesForDYI,p)}),f.apply(this,arguments)}l.taskCreationSource=d,l.MESSENGER_DYI_BATCH_SIZE=m,l.issueNextRangeQuery=p,l.handleMAWProtobufMessageRangeQueryRestore=_}),98);
__d("MWSimpleWorkQueue",["FBLogger","Promise","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s={first:null,last:null};function u(t){return new(e||(e=n("Promise")))(function(o,a){var i=function(){var i=new(e||(e=n("Promise")))(function(e,t){window.setTimeout(function(){t(r("err")("Work item timed out after 30 seconds"))},3e4)});return e.race([t(),i]).then(o,a)};if(s.first===null||s.last==null)s.first=s.last={next:null,value:i},c();else{var l=s.last;l.next={next:null,value:i},s.last=l.next}})}function c(){if(s.first!==null){var e=s.first;if(e!=null){var t=function(){if(s.first=e.next,s.first==null){s.last=null;return}c()};e.value().then(function(){t()}).catch(function(e){r("FBLogger")("messenger_web").catching(e).mustfix("Error in MWSimpleWorkQueue"),t()})}}}l.queueWork=u}),98);
__d("MAWRestoreProtobufsFromEncryptedBackupsDeferred",["I64","MWSimpleWorkQueue","WAJobOrchestratorTypes","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MAWRestoreProtobufsFromEncryptedBackupsNOP").__setRef("MAWRestoreProtobufsFromEncryptedBackupsDeferred");function u(t,n,r,a,i,l,u,c,d,m,p,_,f,g,h){return g===void 0&&(g=o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION),s.load().then(function(s){var y=function(C){return s.call(C,t,n,r,a,i!=null?(e||(e=o("I64"))).to_float(i):0,l,u!=null?(e||(e=o("I64"))).to_float(u):(e||(e=o("I64"))).to_float((e||(e=o("I64"))).max_int),c,d,m,p,_,f,g,h)};return o("MWSimpleWorkQueue").queueWork(function(){return y(null)})})}l.call=u}),98);
__d("LSProtobufRestoreHandler",["CurrentUser","LSIntEnum","LSMEBTaskCreationSource","LSVec","MAWEBRestoreTrackingUtils","MAWEBUnstoredDbMsgUtils","MAWEncryptedBackupUtils","MAWEncryptedBackupsDYIHandleMessageRestore","MAWJids","MAWJobDefinitions","MAWRestoreProtobufsFromEncryptedBackupsDeferred","Promise","WAErrorMessage","WATagsLogger","asyncToGeneratorRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h=["ERROR"],y,C,b=o("WATagsLogger").TAGS(["labyrinth_web","protobuf_restore"]);function v(e,t,n,r,o,a,i,l,s,u,c,d,m){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,v,S,L,E,k,I,T,D,x){var $=b.TAGS([E!=null?E:"no_request_id"]),P=$.ERROR,N=babelHelpers.objectWithoutPropertiesLoose($,h),M=N,w=null;T!=null&&(w=R(T)),M.LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop"]))),o("MAWEBRestoreTrackingUtils").markEBRestoreProtobuf(D);var A;if(a.type==="convertedProtobufs"?A=a.convertedProtobufs:(a.type,A=o("MAWEncryptedBackupUtils").convertLSTypesToJSTypesForRestoreJob(a.decryptedMessagesProtobufs)),o("MAWEncryptedBackupUtils").logIfDuplicateMessagesFoundInRestore(A,"protobuf_restore"),E!=null)try{o("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"native_op_start",traceId:E});var F=o("MAWJids").toUserJid(r("CurrentUser").getAccountID()),O=o("MAWEBUnstoredDbMsgUtils").getUnstoredDbMsgFromProtobuf(A,t,void 0,F);if(i===!0&&O.length===0){o("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"hasMoreBefore_decodedMessages_inconsistency",traceId:E});var B=A.length;M.WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - no decoded messages but hasMoreBefore is true, messages count after decryption: ",""])),B),b.ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - no decoded messages but hasMoreBefore is true, messages count after decryption: ",""])),B)}}catch(e){var W=o("WAErrorMessage").maybeGetMessageFromError(e);M.WARN(c||(c=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - Failed to decode protobufs, with error: ",""])),W),b.ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - Failed to decode protobufs, with error: ",""])),W)}i===!0&&A.length===0&&(E!=null&&o("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"hasMoreBefore_messages_inconsistency",traceId:E}),M.WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - no messages but hasMoreBefore is true"]))),b.ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - no messages but hasMoreBefore is true"]))));var q=D!=null&&(C||(C=o("LSIntEnum"))).unwrapIntEnum(D)===r("LSMEBTaskCreationSource").FTS_INDEX_EB_MESSAGES_WEB;if(q)return E!=null&&o("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"search_restore_end",traceId:E}),o("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(E),(y||(y=n("Promise"))).resolve();var U=D!=null&&(C||(C=o("LSIntEnum"))).unwrapIntEnum(D)===r("LSMEBTaskCreationSource").MSGR_DYI;return U?(M.LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Restoring Messenger DYI batch"]))),yield o("MAWEncryptedBackupsDYIHandleMessageRestore").handleMAWProtobufMessageRangeQueryRestore(t,A,i,l),E!=null&&o("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"dyi_restore_end",traceId:E}),o("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(E),(y||(y=n("Promise"))).resolve()):(r("promiseDone")(o("MAWRestoreProtobufsFromEncryptedBackupsDeferred").call("AdvancedCrypto",o("MAWJobDefinitions").toThreadJidPrimaryId(t),A,i,l,v,S,L,E,k,I,w,D,void 0,x!=null?x:void 0),function(){E!=null&&o("MAWEBRestoreTrackingUtils").addQPLRestorePoint({pointName:"native_op_end",traceId:E})},function(e){var t=o("WAErrorMessage").maybeGetMessageFromError(e);M.WARN(f||(f=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - Failed to restore protobufs, with error: ",""])),t),b.ERROR(g||(g=babelHelpers.taggedTemplateLiteralLoose(["restoreProtobufs nativeop - Failed to restore protobufs, with error: ",""])),t);var n={string:{error:t}};E!=null&&o("MAWEBRestoreTrackingUtils").markEBRestoreFail(E,!1,"native_op_reject",n)}),(y||(y=n("Promise"))).resolve())}),S.apply(this,arguments)}function R(e){return r("LSVec").toArray(e).map(function(e){return o("MAWJobDefinitions").toEncodedEchoMessage(e)})}l.handleProtobufRestoreHelper=v,l.convertLSEchoMessageVecToArray=R}),98);
__d("MAWBridgeUpdateDYIStatusV2",["EBLogger","EncryptedBackupdDYIFileSaver","EncryptedBackupsDYIFileUtils","EncryptedBackupsDYITypes","QPLUserFlow","asyncToGeneratorRuntime","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){o("EncryptedBackupdDYIFileSaver").saveFile(e,t),window.setTimeout(function(){r("promiseDone")(n())},1e3)}),s.apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.qplEvent,i=t.qplInstanceKeyE2E,l=t.status,s=o("EBLogger").EBLogger().tags(["dyi"]);if(l===o("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Completed)try{if(navigator.storage==null)throw s.mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.");var u=o("EncryptedBackupsDYIFileUtils").DyiArchiveFilename,c=yield o("EncryptedBackupsDYIFileUtils").getRootFolderHandle(),d=yield o("EncryptedBackupsDYIFileUtils").readFile(c,u);yield e(u,d,n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield c.removeEntry(u)})),s.info("Saving file with filename ",u),a!=null&&i!=null&&r("QPLUserFlow").endSuccess(a,{instanceKey:i}),s.info("DYI Complete")}catch(e){return s.catching(r("getErrorSafe")(e)).mustfix("Failed to download the DYI archive"),a!=null&&i!=null&&r("QPLUserFlow").endFailure(a,r("getErrorSafe")(e).message,{instanceKey:i}),o("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed}return l===o("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed&&a!=null&&i!=null&&r("QPLUserFlow").endFailure(a,"Unknown error",{instanceKey:i}),l}),c.apply(this,arguments)}l.call=u}),98);
__d("MAWRestoreProtobufsFromEncryptedBackupsNOP",["ExecutionEnvironment","I64","LSDataTraceCheckPoint","LSIntEnum","LSMEBTaskCreationSource","MAWBridgeTraceRecordCheckpointHandler","MAWJobDefinitions","MAWJobManager","Promise","WAJobOrchestratorTypes","asyncToGeneratorRuntime","err","getErrorSafe","ifRequireable","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(e,t,n,r,o,a,i,l,s,u,c,d,p,_,f,g){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a,i,l,s,d,m,_,f,g,h,y,C,b,v){b===void 0&&(b=o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);try{return p(t,a,y,i,l,d,_,f,g,C==null?void 0:C,void 0,b,v)}catch(t){if(f!=null){var S={checkPointId:(c||(c=o("LSIntEnum"))).ofNumber(r("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),dataTraceId:f,errorMessage:r("getErrorSafe")(t).message,shouldFlush:!0,syncChannel:-1,tags:void 0};return e!=null?o("MAWBridgeTraceRecordCheckpointHandler").call(e,S).then(function(){return(u||(u=n("Promise"))).reject(r("getErrorSafe")(t))}):(o("MAWBridgeTraceRecordCheckpointHandler").callWithoutTxn(S),(u||(u=n("Promise"))).reject(r("getErrorSafe")(t)))}}return(u||(u=n("Promise"))).resolve()}),m.apply(this,arguments)}function p(t,a,i,l,d,m,p,_,f,g,h,y,C){y===void 0&&(y=o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION);var b;if((e||(e=r("ExecutionEnvironment"))).isInWorker)b=o("MAWJobManager").getJobManager();else{var v;r("ifRequireable")("MAWTimedJob",function(e){var t=e.TimedUIJobStarters;v=t},function(){throw r("err")("MAWTimedJob is not requireable in MAWRestoreProtobufsFromEncryptedBackupsNOP")}),b=r("nullthrows")(v,"ifRequireable is not sync")}return _!=null&&g!=null&&(c||(c=o("LSIntEnum"))).unwrapIntEnum(g)===r("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION&&!(e||(e=r("ExecutionEnvironment"))).isInWorker?b.waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(i,t,a,l,d,m,p,void 0,_!=null?_:void 0,f!=null?f:void 0,void 0,{priority:y},g,h,void 0,C!=null?C:void 0)):(c||(c=o("LSIntEnum"))).unwrapIntEnum(g||(s||(s=o("I64"))).zero)===r("LSMEBTaskCreationSource").MEDIA_GALLERY_RESTORE&&!(e||(e=r("ExecutionEnvironment"))).isInWorker?b.waitUntilCompleted(o("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(i,t,a,l,d,m,p,void 0,_!=null?_:void 0,f!=null?f:void 0,void 0,{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},g,h,void 0,C!=null?C:void 0)):(u||(u=n("Promise"))).resolve(b.fireAndForget(o("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(i,t,a,l,d,m,p,void 0,_!=null?_:void 0,f!=null?f:void 0,void 0,{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},g,h,void 0,C!=null?C:void 0)))}l.call=d}),98);
__d("MWEncryptedBackupsProcessBackupIdsDEPRECATED",["FBLogger","LSFactory","LSIntEnum","LSProcessBackupIdsStoredProcedure","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","Promise","QPLEvent","QPLUserFlow","ReQL","WebSession","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=r("gkx")("23914");function d(t){if(c){var a=o("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();return r("QPLUserFlow").getActiveFlowIDs().includes((s||(s=o("QPLEvent"))).getMarkerId(o("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent))||r("QPLUserFlow").start(o("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:a,processBackupIdsVersion:"msys",sessionTabId:o("WebSession").getId()}}}),t.runInTransaction(function(e){return r("LSProcessBackupIdsStoredProcedure")(r("LSFactory")(e))},"readwrite",void 0,void 0,i.id+":53").then(function(e){var t=(u||(u=o("LSIntEnum"))).unwrapIntEnum(e[0]);return r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,"EB_STATE_"+t+"."),o("MWChatEncryptedBackupsLogging").endSuccess({event:o("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent}),t})}else return(e||(e=n("Promise"))).resolve(0)}function m(e,t){return e.tables.encrypted_backups.subscribe(function(){r("promiseDone")(o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.tables.encrypted_backups)),function(n){if(n!=null){r("promiseDone")(d(e),t,function(e){r("FBLogger")("wmi_eb").catching(e).info("Error in db transaction")});return}})})}l.processBackupIdsStoredProcedure=d,l.subscribeToEncryptedBackupsRow=m}),98);
__d("PolarisAFADDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{}},root:r("JSResourceForInteraction")("PolarisAFADDialog.react").__setRef("PolarisAFADDialog.entrypoint")};l.default=e}),98);
__d("PolarisAPIGetFrCookieQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24265538733086022"}),null);
__d("PolarisAPIGetFrCookieQuery.graphql",["PolarisAPIGetFrCookieQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"_request_data"},{defaultValue:null,kind:"LocalArgument",name:"payload"}],t=[{alias:null,args:[{kind:"Variable",name:"_request_data",variableName:"_request_data"},{kind:"Variable",name:"payload",variableName:"payload"}],concreteType:"XDTGetEncryptedCredentialsResponse",kind:"LinkedField",name:"xdt_api__v1__web__accounts__get_encrypted_credentials",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fr",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"PolarisAPIGetFrCookieQuery",selections:t,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"PolarisAPIGetFrCookieQuery",selections:t},params:{id:n("PolarisAPIGetFrCookieQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__web__accounts__get_encrypted_credentials"]},name:"PolarisAPIGetFrCookieQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("PolarisAPIGetFrCookie",["CometRelay","PolarisAPIGetFrCookieQuery.graphql","PolarisInstapi","err","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a){return r("justknobx")._("999")?o("CometRelay").fetchQuery(a,e!==void 0?e:e=n("PolarisAPIGetFrCookieQuery.graphql"),{_request_data:{},payload:t}).toPromise().then(function(e){if(e==null)throw r("err")("Failed to get Fr cookie.");return{fr:e.xdt_api__v1__web__accounts__get_encrypted_credentials.fr}}):o("PolarisInstapi").apiPost("/api/v1/web/accounts/get_encrypted_credentials/",{body:{payload:t}}).then(function(e){return e.data})}l.getFrCookie=s}),98);
__d("PolarisAppInstallConstants",["keyMirror"],(function(t,n,r,o,a,i,l){"use strict";var e=r("keyMirror")({default:null,instagramlitecarbon:null,openinapp:null}),s=["postPage","profilePage","locationPage","feedPage","exploreLandingPage","ActivityFeedPage"];l.APP_BANNER_VARIANTS=e,l.ALLOWLISTED_PAGE_IDS=s}),98);
__d("buildIframeOriginUrl",["URI"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return e}l.default=s}),98);
__d("PolarisFacebookCookieSyncConstants",["URI","buildIframeOriginUrl"],(function(t,n,r,o,a,i,l){"use strict";var e,s={error:"ig_iframe_error",ig_sync:"ig_iframe_ig_sync",ig_sync_error:"ig_iframe_ig_sync_error",ig_sync_success:"ig_iframe_ig_sync_success",ready:"ig_iframe_ready",success:"ig_iframe_success",sync:"ig_iframe_fb_sync"},u=r("buildIframeOriginUrl")("https://www.facebook.com"),c=new(e||(e=r("URI")))(u).getDomain(),d="fr";l.IFRAME_MESSAGES=s,l.IFRAME_ORIGIN=u,l.IFRAME_DOMAIN=c,l.FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY=d}),98);
__d("XPolarisFacebookSyncController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/sync/instagram/",{})}),null);
__d("PolarisFacebookToInstagramCookieSync.react",["FBLogger","InstagramODS","PolarisFacebookCookieSyncConstants","SecureMessageListener","SecurePostMessage","XAsyncRequest","XPolarisFacebookSyncController","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(4),n=e.frameRef,a=e.onCleanUp,i,l;return t[0]!==n||t[1]!==a?(i=function(){var e=function(){r("InstagramODS").incr("web.cookie_sync.oo_cookie.start_fb_sync");var e=n.current;(e==null?void 0:e.contentWindow)!=null&&o("SecurePostMessage").sendMessageToSpecificOrigin(e.contentWindow,{eventName:o("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync},o("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN)},t=function(n){if(n.origin===o("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN){var t=n.data.eventName;e:switch(t){case o("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ready:{e();break e}case o("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync_success:{var i;r("InstagramODS").incr("web.cookie_sync.oo_cookie.retrieve_success");var l=r("XPolarisFacebookSyncController").getURIBuilder().getURI();new(r("XAsyncRequest"))().setURI(l).setMethod("POST").setData({encrypted_data:(i=n.data.data)==null?void 0:i.data}).setHandler(d).setErrorHandler(c).send(),a();break e}case o("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ig_sync_error:{var s;r("InstagramODS").incr("web.cookie_sync.oo_cookie.retrieve_error");var u=(s=n.data.errorDescription)!=null?s:"Exception thrown when syncing cookie to sync ig cookie";r("FBLogger")("ig_web").mustfix(u),a()}}}},i=new(r("SecureMessageListener"))(window).setEventHandler(t).setSupportedOrigins([o("PolarisFacebookCookieSyncConstants").IFRAME_DOMAIN]).beginListening();return(function(){i.stopListening()})},l=[n,a],t[0]=n,t[1]=a,t[2]=i,t[3]=l):(i=t[2],l=t[3]),s(i,l),null}function c(e){var t;r("InstagramODS").incr("web.cookie_sync.oo_cookie.sync_fail");var n=(t=e.errorDescription)!=null?t:"Error when syncing ig cookies";r("FBLogger")("ig_web").mustfix(n)}function d(e){r("InstagramODS").incr("web.cookie_sync.oo_cookie.sync_success")}l.default=u}),98);
__d("PolarisInstagramToFacebookCookieSync.react",["CometRelay","CometRouteURL","FBLogger","IgFrCookieUpdaterFalcoEvent","InstagramODS","PolarisAPIGetFrCookie","PolarisAdsGatingHelpers","PolarisConfig","PolarisDOMListener.react","PolarisFacebookCookieSyncConstants","PolarisWebStorage","SecurePostMessage","URI","gkx","react","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef,p=Number(new Date().getTime());function _(e){var t=new Date().getTime()-p;e.total_latency=t.toString(),e.country=o("PolarisConfig").getCountryCode(),r("IgFrCookieUpdaterFalcoEvent").log(function(){return e})}function f(t){var n,a=t.frameRef,i=t.frData,l=t.onCleanUp,s=r("gkx")("25372"),c=r("gkx")("3478"),p=s&&c,f=(n=r("usePolarisViewer")())==null?void 0:n.id,g=o("CometRouteURL").useRouteURL(),h=new(e||(e=r("URI")))(g),y=h.getPath(),C=o("CometRelay").useRelayEnvironment(),b=o("PolarisAdsGatingHelpers").useEUFRCookieODSLogging(),v=m({browser_history_path:y,iframe_origin:o("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:f,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:i,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1}),S=v.current;d(function(){p||(S.is_blacklisted=!0,_(S),l())},[]);var R=function(t){var e=t.data.eventName;if(S.iframe_message_origin=t.origin,t.origin!==o("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN){e in o("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES&&(S.iframe_message_origin_mismatch=!0,_(S));return}switch(e){case o("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.ready:r("InstagramODS").incr("web.frcookie.iframe.ready"),b&&r("InstagramODS").incr("web.eu.frcookie.iframe.ready"),S.iframe_message_ready=!0,L();break;case o("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.success:r("InstagramODS").incr("web.frcookie.iframe.success"),b&&r("InstagramODS").incr("web.eu.frcookie.iframe.success"),S.iframe_message_success=!0,_(S),l();break;case o("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.error:r("InstagramODS").incr("web.frcookie.iframe.error"),b&&r("InstagramODS").incr("web.eu.frcookie.iframe.error"),E(),S.iframe_message_error=!0,_(S);break}},L=function(){S.iframe_non_null=!1,S.iframe_content_window_non_null=!1;var e=a.current;e!=null&&(i==null&&(r("InstagramODS").incr("web.frcookie.local_storage.empty"),b&&r("InstagramODS").incr("web.eu.frcookie.local_storage.empty")),o("PolarisAPIGetFrCookie").getFrCookie(i,C).then(function(t){if(S.api_data=t.fr,t.fr===i){_(S),l();return}S.local_storage_same_as_api=!1;var n=r("PolarisWebStorage").getLocalStorage();if(n==null){_(S),l();return}if(S.is_local_storage_accessible=!0,t.fr===""){n.removeItem(o("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY),r("InstagramODS").incr("web.frcookie.local_storage.remove"),b&&r("InstagramODS").incr("web.eu.frcookie.local_storage.remove"),_(S),l();return}n.setItem(o("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY,t.fr),S.show_iframe=!0,S.local_storage_updated=!0,S.iframe_payload=t.fr,S.iframe_non_null=!0,e.contentWindow!=null&&(S.iframe_content_window_non_null=!0,o("SecurePostMessage").sendMessageToSpecificOrigin(e.contentWindow,{data:t.fr,eventName:o("PolarisFacebookCookieSyncConstants").IFRAME_MESSAGES.sync},o("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN)),r("InstagramODS").incr("web.frcookie.local_storage.update"),b&&r("InstagramODS").incr("web.eu.frcookie.local_storage.update")}).catch(function(e){r("InstagramODS").incr("web.frcookie.get.error"),b&&r("InstagramODS").incr("web.eu.frcookie.get.error"),S.exception=e.toString(),_(S),r("FBLogger")("ig_web").catching(e).mustfix("Exception thrown when getting frCookie"),E()}))},E=function(){var e=r("PolarisWebStorage").getLocalStorage();r("PolarisWebStorage").isLocalStorageSupported()&&e!=null&&e.removeItem(o("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY),l()};return p&&u.jsx(r("PolarisDOMListener.react"),{event:"message",handler:R,target:window})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("PolarisFacebookCookieSyncImpl.react",["CometRouteURL","IgFrCookieUpdaterFalcoEvent","JSScheduler","PolarisDOMListener.react","PolarisFacebookCookieSyncConstants","PolarisFacebookToInstagramCookieSync.react","PolarisInstagramToFacebookCookieSync.react","PolarisReactRedux.react","PolarisUA","PolarisWebStorage","RunComet","URI","react","react-compiler-runtime","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useRef,_=d.useState,f=o("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN+"/instagram/login_sync/",g=["terms","challenge","auth_platform"],h=3,y=Number(new Date().getTime());function C(e){var t=new Date().getTime()-y;e.total_latency=t.toString(),r("IgFrCookieUpdaterFalcoEvent").log(function(){return e})}var b=function(){if(!o("PolarisUA").isIGWebview()&&r("PolarisWebStorage").isLocalStorageSupported()){var e=r("PolarisWebStorage").getLocalStorage();if(e!=null)return e.getItem(o("PolarisFacebookCookieSyncConstants").FR_COOKIE_UPDATED_LOCAL_STORAGE_KEY)}return null};function v(t){var n,a=t.frData,i=p(null),l=o("CometRouteURL").useRouteURL(),u=new(e||(e=r("URI")))(l).getPath(),d=(n=r("usePolarisViewer")())==null?void 0:n.id,g=p({browser_history_path:u,iframe_origin:o("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:d,is_blacklisted:!1,is_control_group:!1,is_local_storage_accessible:!1,local_storage_data:a,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1}),y=g.current,b=function(){y.iframe_unload=!0},v=_(!1),S=v[0],R=v[1];m(function(){var e=null,t=null,n=o("RunComet").onAfterLoad(function(){e=(s||(s=r("JSScheduler"))).scheduleLoggingPriCallback(function(){t=window.setTimeout(function(){R(!0)},h*1e3)})});return function(){t&&window.clearTimeout(t),e&&(s||(s=r("JSScheduler"))).cancelCallback(e),n&&n.remove()}},[]);var L=_(!1),E=L[0],k=L[1],I=_(!1),T=I[0],D=I[1],x=E&&T;return S?c.jsxs(c.Fragment,{children:[c.jsx("div",{hidden:!0,children:c.jsx("iframe",{onError:function(){y.iframe_on_error=!0,C(y)},onLoad:function(){y.iframe_on_load=!0},ref:i,src:f,style:{border:"none",display:"none",height:0,width:0},title:"fr"})}),x?null:c.jsxs(c.Fragment,{children:[c.jsx(r("PolarisInstagramToFacebookCookieSync.react"),{frameRef:i,frData:a,onCleanUp:function(){return k(!0)}}),c.jsx(r("PolarisFacebookToInstagramCookieSync.react"),{frameRef:i,onCleanUp:function(){return D(!0)}}),c.jsx(r("PolarisDOMListener.react"),{event:"beforeunload",handler:b,target:window})]})]}):null}v.displayName=v.name+" [from "+i.id+"]";function S(){var t,n=o("react-compiler-runtime").c(1),a=o("PolarisReactRedux.react").useSelector(R),i=o("CometRouteURL").useRouteURL(),l=new(e||(e=r("URI")))(i).getPath(),s=(t=r("usePolarisViewer")())==null?void 0:t.id;if(a)return null;if(g.some(function(e){return l.includes(e)}))return C({browser_history_path:l,iframe_origin:o("PolarisFacebookCookieSyncConstants").IFRAME_ORIGIN,ig_user_id:s,is_blacklisted:!0,is_control_group:!1,is_local_storage_accessible:!1,local_storage_same_as_api:!0,local_storage_updated:!1,show_iframe:!1}),null;var u;return n[0]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(v,{frData:b()}),n[0]=u):u=n[0],u}function R(e){var t;return!!(e!=null&&(t=e.cookieModal)!=null&&t.visible)}l.default=S}),98);
__d("PolarisGAMEWriteTimeBlockDialogQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="30957150090566004"}),null);
__d("PolarisGAMEWriteTimeBlockDialogQuery$Parameters",["PolarisGAMEWriteTimeBlockDialogQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisGAMEWriteTimeBlockDialogQuery_instagramRelayOperation"),metadata:{},name:"PolarisGAMEWriteTimeBlockDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisGAMEWriteTimeBlockDialog.entrypoint",["JSResourceForInteraction","PolarisGAMEWriteTimeBlockDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{PolarisGAMEWriteTimeBlockDialogQuery:{parameters:r("PolarisGAMEWriteTimeBlockDialogQuery$Parameters"),variables:{enforcement_transparency_instance_identifier:t.routeParams.enforcement_transparency_instance_identifier}}}}},root:r("JSResourceForInteraction")("PolarisGAMEWriteTimeBlockDialog.react").__setRef("PolarisGAMEWriteTimeBlockDialog.entrypoint")};l.default=e}),98);
__d("PolarisLoggedInAppBanner.react",["cx","HeroInteractionIgnoreWithDiv.react","IGDSBox.react","IGDSIconButton.react","IGDSXPanoFilledIcon.react","PolarisAppInstallConstants","PolarisAppInstallStrings","PolarisConfig","PolarisDismissEntry","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisIgLiteCarbonUpsellsUtils","PolarisIsLoggedIn","PolarisLoggedInCtaLogger","PolarisNavigationLayoutContext","PolarisUA","polarisGetAppPlatform","polarisLogAction","react","react-compiler-runtime","usePolarisOpenApp"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useEffect,p=c.useState,_="logged_in_banner";function f(e){var t=o("react-compiler-runtime").c(23),n=p(!1),a=n[0],i=n[1],l=e.pageID,s=e.viewer,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=o("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible(),t[0]=c):c=t[0];var d=c,f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=o("PolarisDismissEntry").isDismissed(o("PolarisDismissEntry").USE_THE_APP_LI_BANNER),t[1]=f):f=t[1];var g=p(f),h=g[0],y=g[1],C=o("PolarisNavigationLayoutContext").usePolarisNavigationLayoutContext(),b=C.navigationPosition,v;t[2]!==h||t[3]!==l||t[4]!==(s==null?void 0:s.isProfessionalAccount)?(v=function(){var e,t=(e=s==null?void 0:s.isProfessionalAccount)!=null?e:!1;return t&&o("polarisGetAppPlatform").isIOS()&&o("PolarisConfig").getCountryCode()==="US"?!0:!o("PolarisIsLoggedIn").isLoggedIn()||!o("PolarisUA").isMobile()||!o("PolarisAppInstallConstants").ALLOWLISTED_PAGE_IDS.includes(l)||h},t[2]=h,t[3]=l,t[4]=s==null?void 0:s.isProfessionalAccount,t[5]=v):v=t[5],s==null||s.isProfessionalAccount;var S=v,R,L;t[6]!==S||t[7]!==a||t[8]!==l?(R=function(){!S()&&!a&&(r("polarisLogAction")("appBannerImpression",{platform:o("polarisGetAppPlatform").getAppPlatform(),source:l,type:_}),o("PolarisLoggedInCtaLogger").logLoggedInCtaEvent({containermodule:l,ctaType:"app_banner",ctaVersion:d?"instagramlitecarbon":"use_the_app",eventName:"impression"}),i(!0))},L=[d,S,a,l],t[6]=S,t[7]=a,t[8]=l,t[9]=R,t[10]=L):(R=t[9],L=t[10]),m(R,L);var E=r("usePolarisOpenApp")(),k;t[11]!==E||t[12]!==l?(k=function(t){t.preventDefault(),r("polarisLogAction")("appBannerClick",{platform:o("polarisGetAppPlatform").getAppPlatform(),source:l,type:_}),o("PolarisLoggedInCtaLogger").logLoggedInCtaEvent({containermodule:l,ctaType:"app_banner",ctaVersion:d?"instagramlitecarbon":"use_the_app",eventName:"click"}),E()},t[11]=E,t[12]=l,t[13]=k):k=t[13];var I=k,T;t[14]!==l?(T=function(t){t.preventDefault(),r("polarisLogAction")("appBannerDismiss",{platform:o("polarisGetAppPlatform").getAppPlatform(),source:l,type:_}),o("PolarisLoggedInCtaLogger").logLoggedInCtaEvent({containermodule:l,ctaType:"app_banner",ctaVersion:d?"instagramlitecarbon":"use_the_app",eventName:"dismiss"}),y(!0),o("PolarisDismissEntry").setDismissEntry(o("PolarisDismissEntry").USE_THE_APP_LI_BANNER)},t[14]=l,t[15]=T):T=t[15];var D=T,x;t[16]!==I||t[17]!==D||t[18]!==S||t[19]!==b?(x=S()?null:u.jsx("div",{className:"_acc8"+(b==="bottom"?" _abpk":"")+(b!=="bottom"?" _ag6v":""),children:u.jsxs(r("IGDSBox.react"),{alignItems:"center",justifyContent:"center",paddingY:2,position:"relative",width:"100%",children:[u.jsx(r("IGDSBox.react"),{padding:1,position:"absolute",right:!0,top:!0,children:u.jsx(r("IGDSIconButton.react"),{onClick:D,children:u.jsx(r("IGDSXPanoFilledIcon.react"),{alt:o("PolarisGenericStrings").CLOSE_TEXT,color:"ig-secondary-text",size:12})})}),u.jsx(r("IGDSBox.react"),{paddingX:6,position:"relative",children:u.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:I,children:d?o("PolarisAppInstallStrings").USE_INSTAGRAM_LITE_CARBON_CTA:o("PolarisAppInstallStrings").NEW_CTA_USE_THE_APP})})]})}),t[16]=I,t[17]=D,t[18]=S,t[19]=b,t[20]=x):x=t[20];var $;return t[21]!==x?($=u.jsx(r("HeroInteractionIgnoreWithDiv.react"),{children:x}),t[21]=x,t[22]=$):$=t[22],$}l.default=f}),98);
__d("PolarisPaidAdsPixelContainerDeferredV2.react",["deferredLoadComponent","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("deferredLoadComponent")(r("requireDeferred")("PolarisPaidAdsPixelsContainerV2.react").__setRef("PolarisPaidAdsPixelContainerDeferredV2.react"));l.default=e}),98);
__d("PolarisPaidAdsPixelsContainerV2.react",["CometErrorBoundary.react","ControlledRefererIFrame.react","PolarisWebStorage","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=1e3*60*60*24,c=u*7,d="pixel_fire_ts";function m(){var e=o("react-compiler-runtime").c(5),t,n,a,i;if(e[0]===Symbol.for("react.memo_cache_sentinel")){i=Symbol.for("react.early_return_sentinel");e:{if(t=r("PolarisWebStorage").getLocalStorage(),!t){i=null;break e}n=parseInt,a=t.getItem(d)}e[0]=t,e[1]=n,e[2]=a,e[3]=i}else t=e[0],n=e[1],a=e[2],i=e[3];if(i!==Symbol.for("react.early_return_sentinel"))return i;var l=n(a,10);if(Date.now()-l<c)return null;var u;return e[4]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(r("ControlledRefererIFrame.react"),{hidden:!0,onFrameRender:function(){t.setItem(d,Date.now().toString())},src:"/paid_ads/generete_pixels/"},"pixels_iframe"),e[4]=u):u=e[4],u}function p(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("CometErrorBoundary.react"),{type:"warn",children:s.jsx(m,{})}),e[0]=t):t=e[0],t}l.default=p}),98);
__d("SentryBlockGAMEEnforcementDialog.react",["IGDSDialogLegacy.react","IGWebBloksApp","InstagramWebBloksDialogContext.react","PolarisNavigationUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useMemo;function m(e){var t=o("react-compiler-runtime").c(20),n=e.modal,a=e.onClose,i=p,l;t[0]!==a?(l={onClose:function(t){a==null||a()}},t[0]=a,t[1]=l):l=t[1];var u=l,c=n==null?void 0:n.action,d=n==null?void 0:n.feedback_appeal_label,m=n==null?void 0:n.message,_=n==null?void 0:n.title,f=n==null?void 0:n.restriction_enrollment_data,g;t[2]!==n?(g=(n==null?void 0:n.feedback_ignore_label)!=null&&{feedback_ignore_label:n.feedback_ignore_label},t[2]=n,t[3]=g):g=t[3];var h;t[4]!==c||t[5]!==d||t[6]!==m||t[7]!==_||t[8]!==f||t[9]!==g?(h=babelHelpers.extends({feedback_action:c,feedback_appeal_label:d,feedback_message:m,feedback_title:_,restriction_enrollment_data:f},g),t[4]=c,t[5]=d,t[6]=m,t[7]=_,t[8]=f,t[9]=g,t[10]=h):h=t[10];var y=h,C;t[11]===Symbol.for("react.memo_cache_sentinel")?(C={"bk.action.navigation.OpenUrl":i,"bk.action.navigation.OpenUrlV2":i,"ig.action.navigation.OpenUrl":i,"ig.action.navigation.OpenUrlSupportsDfa":i},t[11]=C):C=t[11];var b;t[12]!==y?(b=s.jsx(r("IGWebBloksApp"),{actionOverrides:C,appId:"com.bloks.www.instagram.igwb.exp.enforcement.dialog",params:y}),t[12]=y,t[13]=b):b=t[13];var v;t[14]!==u||t[15]!==b?(v=s.jsx(r("InstagramWebBloksDialogContext.react").Provider,{value:u,children:b}),t[14]=u,t[15]=b,t[16]=v):v=t[16];var S;return t[17]!==a||t[18]!==v?(S=s.jsx(r("IGDSDialogLegacy.react"),{onClose:a,children:v}),t[17]=a,t[18]=v,t[19]=S):S=t[19],S}function p(e,t){return o("PolarisNavigationUtils").openURLWithFullPageReload(t)}l.default=m}),98);
__d("PolarisSentryFeedbackDialog.react",["IGWebBloksApp","PolarisAFADDialog.entrypoint","PolarisConfirmDialog.react","PolarisGAMEWriteTimeBlockDialog.entrypoint","PolarisGenericStrings","PolarisNavigationStrings","PolarisReactRedux.react","PolarisSentryFeedbackActions","PolarisSentryFeedbackDispatcher","SentryBlockGAMEEnforcementDialog.react","WebBloksCallback","react","react-compiler-runtime","useIGDSEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m=u.useState,p=["open_bio_takedown_restriction","open_account_status_home_screen","open_account_status_game_experience_detail_page","teen_restricted_domain_learn_more","teen_restricted_domain_biography_learn_more"],_=function(t){t.modal&&t.modal.url&&t.modal.action&&(t.modal.action==="report_problem"?t.onReport(t.modal.url):t.modal.action==="open_request_form"&&t.onOpenForm(t.modal.url))};function f(e){var t=o("react-compiler-runtime").c(29),n=e.modal,a=e.onConfirm,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={onClose:y,routeParams:{},routeProps:{}},t[0]=i):i=t[0];var l=r("useIGDSEntryPointDialog")(r("PolarisAFADDialog.entrypoint"),i,void 0),u=l[0];if(!n)return null;if(n.action==="open_login_challenges"){var c;if(t[1]!==n||t[2]!==u){var d=R(n),m=new Map;c=u({webBloksParams:d,webBloksProps:m},h,void 0,!0),t[1]=n,t[2]=u,t[3]=c}else c=t[3];return c}if(p.includes(n.action)){var f;t[4]!==n.action||t[5]!==n.feedback_appeal_label||t[6]!==n.message||t[7]!==n.restriction_enrollment_data||t[8]!==n.title?(f={feedback_action:n.action,feedback_appeal_label:n.feedback_appeal_label,feedback_message:n.message,feedback_title:n.title,restriction_enrollment_data:n.restriction_enrollment_data},t[4]=n.action,t[5]=n.feedback_appeal_label,t[6]=n.message,t[7]=n.restriction_enrollment_data,t[8]=n.title,t[9]=f):f=t[9];var C=f,b;t[10]===Symbol.for("react.memo_cache_sentinel")?(b=new Map([["onClickWebCallback",new(o("WebBloksCallback")).WebBloksCallback(null,null,null,g)]]),t[10]=b):b=t[10];var v=b;switch(n.action){case"open_bio_takedown_restriction":{var S;return t[11]!==C?(S=s.jsx(r("IGWebBloksApp"),{appId:"com.bloks.www.instagram.igwb.exp.enforcement.dialog",externalVariables:v,params:C}),t[11]=C,t[12]=S):S=t[12],S}case"open_account_status_home_screen":case"open_account_status_game_experience_detail_page":{var L;return t[13]!==n?(L=s.jsx(r("SentryBlockGAMEEnforcementDialog.react"),{modal:n}),t[13]=n,t[14]=L):L=t[14],L}case"teen_restricted_domain_learn_more":case"teen_restricted_domain_biography_learn_more":{var E;t[15]!==a?(E=function(){window.open("https://help.instagram.com/652633567266988","_blank"),a()},t[15]=a,t[16]=E):E=t[16];var k;return t[17]!==n.message||t[18]!==n.title||t[19]!==a||t[20]!==E?(k=s.jsx(r("PolarisConfirmDialog.react"),{body:n.message,cancelLabel:o("PolarisGenericStrings").OK_TEXT,confirmLabel:o("PolarisGenericStrings").LEARN_MORE,onClose:a,onConfirm:E,title:n.title}),t[17]=n.message,t[18]=n.title,t[19]=a,t[20]=E,t[21]=k):k=t[21],k}}}var I;t[22]!==e?(I=function(){return _(e)},t[22]=e,t[23]=I):I=t[23];var T;return t[24]!==n.message||t[25]!==n.title||t[26]!==a||t[27]!==I?(T=s.jsx(r("PolarisConfirmDialog.react"),{body:n.message,cancelLabel:o("PolarisGenericStrings").OK_TEXT,confirmLabel:o("PolarisNavigationStrings").REPORT_PROBLEM_TEXT,onClose:a,onConfirm:I,title:n.title}),t[24]=n.message,t[25]=n.title,t[26]=a,t[27]=I,t[28]=T):T=t[28],T}function g(){return window.location.reload()}function h(){var e=r("PolarisSentryFeedbackDispatcher").getInstance();e.allowDispatch(),e.dismissSentryFeedback()}function y(){}function C(e){var t=o("react-compiler-runtime").c(10),n=m(!1),a=n[0],i=n[1],l=d(!1),u;t[0]!==e.enforcement_transparency_instance_identifier?(u={enforcement_transparency_instance_identifier:e.enforcement_transparency_instance_identifier},t[0]=e.enforcement_transparency_instance_identifier,t[1]=u):u=t[1];var p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p={},t[2]=p):p=t[2];var _;t[3]!==u?(_={routeParams:u,routeProps:p},t[3]=u,t[4]=_):_=t[4];var g=r("useIGDSEntryPointDialog")(r("PolarisGAMEWriteTimeBlockDialog.entrypoint"),_,"button",b),h=g[0],y,C;if(t[5]!==h?(y=function(){l.current||(l.current=!0,h({onFallbackNeeded:function(){i(!0)}},function(){l.current=!1}))},C=[h],t[5]=h,t[6]=y,t[7]=C):(y=t[6],C=t[7]),c(y,C),a){var v;return t[8]!==e.rootProps?(v=s.jsx(f,babelHelpers.extends({},e.rootProps)),t[8]=e.rootProps,t[9]=v):v=t[9],v}return null}function b(){return s.jsx("div",{})}b.displayName=b.name+" [from "+i.id+"]";function v(e){var t=o("react-compiler-runtime").c(5),n=e.modal,r=n==null?void 0:n.enforcement_transparency_instance_identifier;if(r!=null){var a;return t[0]!==r||t[1]!==e?(a=s.jsx(C,{enforcement_transparency_instance_identifier:r,rootProps:e}),t[0]=r,t[1]=e,t[2]=a):a=t[2],a}var i;return t[3]!==e?(i=s.jsx(f,babelHelpers.extends({},e)),t[3]=e,t[4]=i):i=t[4],i}function S(e){return{modal:e.sentryFeedback.modal}}function R(e){return{feedback_action:e.action,feedback_appeal_label:e.feedback_appeal_label,feedback_message:e.message,feedback_title:e.title,restriction_enrollment_data:e.restriction_enrollment_data}}function L(e){return{onConfirm:function(){return e(o("PolarisSentryFeedbackActions").dismissSentryFeedback())},onOpenForm:function(n){return e(o("PolarisSentryFeedbackActions").openForm(n))},onReport:function(n){return e(o("PolarisSentryFeedbackActions").reportProblem(n))}}}var E=o("PolarisReactRedux.react").connect(S,L)(v);l.default=E}),98);/*FB_PKG_DELIM*/
__d("IGDInstamadilloJSDatabaseDumpMetadataArtifact",[],(function(t,n,r,o,a,i){"use strict";var e=[{columns:{backupPayloads:{not_redacted_for_db_upload:!1},ebClientRequired:{not_redacted_for_db_upload:!0},encryptedMessage:{not_redacted_for_db_upload:!1},messageId:{is_primary_key:!0,not_redacted_for_db_upload:!0},restorable:{not_redacted_for_db_upload:!0},threadKey:{not_redacted_for_db_upload:!0},timestampMs:{not_redacted_for_db_upload:!0},tryCount:{not_redacted_for_db_upload:!0}},table_name:"e2ee_ebMessageRestoreTasks"},{columns:{final:{not_redacted_for_db_upload:!0},messageId:{is_primary_key:!0,not_redacted_for_db_upload:!0},openEb:{not_redacted_for_db_upload:!0},origin:{not_redacted_for_db_upload:!0}},table_name:"e2ee_igMessageAuxiliaryInfo"}],l=e;i.default=l}),66);
__d("LSDatabaseDumpRedactor",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=t.filter(function(t){return t.table_name===e});return n.length>0?n[0]:null}function l(e){return"redacted:"+e.toString().length}function s(e){return"ArrayBuffer:"+e.byteLength}function u(e,t,n,r){var o=t==null?void 0:t[e];if(o){if(o.not_redacted_for_db_upload!=null)return!o.not_redacted_for_db_upload;if(o.is_primary_key===!0)return!1}return n.primaryKeyIds.includes(e)?!1:typeof r=="string"?!c(r):!1}function c(e){return/^-?\d+$/.test(e)}function d(e,t,n){var r=new Map;return Object.keys(e).forEach(function(o){var a=e[o];a instanceof ArrayBuffer?r.set(o,s(a)):a!=null&&u(o,t,n,a)?r.set(o,l(String(a))):r.set(o,a)}),r}function m(t,n,r,o){if(o.length===0)return[];var a=e(r,t);return o.map(function(e){return d(e,a==null?void 0:a.columns,n)})}function p(e){var t=Object.create(null);return e.forEach(function(e,n){e instanceof Map?t[n]=p(e):e instanceof Array&&e.length>0&&e[0]instanceof Map?t[n]=e.map(function(e){return p(e)}):t[n]=e}),t}i.redactValue=l,i.getArrayBufferSnapshot=s,i.redactRow=d,i.redactRawDataByMetadataFile=m,i.mapToObject=p}),66);
__d("LSJSDatabaseDumpMetadataArtifact",[],(function(t,n,r,o,a,i){a.exports=[{table_name:"sync_groups",columns:{groupId:{not_redacted_for_db_upload:!0,is_primary_key:!0},currentCursor:{not_redacted_for_db_upload:!0,is_primary_key:!1},syncStatus:{is_primary_key:!1},syncParams:{not_redacted_for_db_upload:!0,is_primary_key:!1},sendSyncParams:{is_primary_key:!1},minTimeToSyncTimestampMs:{is_primary_key:!1},canIgnoreTimestamp:{is_primary_key:!1},priority:{is_primary_key:!1},lastSyncRequestTimestampMs:{is_primary_key:!1},regionHint:{not_redacted_for_db_upload:!0,is_primary_key:!1},lastSyncCompletedTimestampMs:{is_primary_key:!1},dataTraceId:{not_redacted_for_db_upload:!0,is_primary_key:!1},initTraceTimestampMs:{is_primary_key:!1},syncChannel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"pending_tasks",columns:{taskId:{not_redacted_for_db_upload:!0,is_primary_key:!0},queueName:{not_redacted_for_db_upload:!0,is_primary_key:!1},taskValue:{is_primary_key:!1},context:{not_redacted_for_db_upload:!0,is_primary_key:!1},enqueueTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},firstExecutedTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},failureCount:{not_redacted_for_db_upload:!0,is_primary_key:!1},minTimeToSyncTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},httpUrlOverride:{not_redacted_for_db_upload:!0,is_primary_key:!1},timeoutTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},pluginType:{not_redacted_for_db_upload:!0,is_primary_key:!1},priority:{not_redacted_for_db_upload:!0,is_primary_key:!1},syncGroupId:{not_redacted_for_db_upload:!0,is_primary_key:!1},dataTraceId:{not_redacted_for_db_upload:!0,is_primary_key:!1},initTraceTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},transportKey:{not_redacted_for_db_upload:!0,is_primary_key:!1},taskDispatchPriority:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"network_requests",columns:{taskQueueName:{not_redacted_for_db_upload:!0,is_primary_key:!0},syncDatabaseId:{not_redacted_for_db_upload:!0,is_primary_key:!0},epochId:{not_redacted_for_db_upload:!0,is_primary_key:!1},networkTaskIdentifier:{not_redacted_for_db_upload:!0,is_primary_key:!1},lastSentTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},failureCount:{not_redacted_for_db_upload:!0,is_primary_key:!1},lastSyncRequestTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},lastDelayedRequestTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"_user_info",columns:{id:{not_redacted_for_db_upload:!0,is_primary_key:!0},facebookUserId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"pending_fire_and_forget_tasks",columns:{taskId:{not_redacted_for_db_upload:!0,is_primary_key:!0},queueName:{not_redacted_for_db_upload:!0,is_primary_key:!1},taskValue:{is_primary_key:!1},context:{not_redacted_for_db_upload:!0,is_primary_key:!1},enqueueTimestampMs:{is_primary_key:!1},priority:{is_primary_key:!1},syncGroupId:{is_primary_key:!1},transportKey:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"user_visible_errors",columns:{errorId:{not_redacted_for_db_upload:!0,is_primary_key:!0},taskId:{is_primary_key:!1},errorCode:{is_primary_key:!1},errorTitleText:{not_redacted_for_db_upload:!0,is_primary_key:!1},errorBodyText:{not_redacted_for_db_upload:!0,is_primary_key:!1},issuedTimestampMs:{is_primary_key:!1},presentationStyle:{not_redacted_for_db_upload:!0,is_primary_key:!1},errorExtraData:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"mailbox_task_completion_notification_context",columns:{notificationScopeKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},notificationName:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"mailbox_task_completion_api_tasks",columns:{taskId:{not_redacted_for_db_upload:!0,is_primary_key:!0},notificationScopeKey:{is_primary_key:!1},notificationName:{is_primary_key:!1},success:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"contacts",columns:{id:{not_redacted_for_db_upload:!0,is_primary_key:!0},profilePictureUrl:{not_redacted_for_db_upload:!0,is_primary_key:!1},profilePictureFallbackUrl:{not_redacted_for_db_upload:!0,is_primary_key:!1},profilePictureUrlExpirationTimestampMs:{is_primary_key:!1},profilePictureLargeUrl:{is_primary_key:!1},profilePictureLargeFallbackUrl:{is_primary_key:!1},profilePictureLargeUrlExpirationTimestampMs:{is_primary_key:!1},name:{not_redacted_for_db_upload:!0,is_primary_key:!1},normalizedNameForSearch:{not_redacted_for_db_upload:!0,is_primary_key:!1},normalizedSearchTerms:{is_primary_key:!1},isMessengerUser:{is_primary_key:!1},isMemorialized:{is_primary_key:!1},isManagedByViewer:{is_primary_key:!1},blockedByViewerStatus:{is_primary_key:!1},rank:{is_primary_key:!1},firstName:{not_redacted_for_db_upload:!0,is_primary_key:!1},contactType:{is_primary_key:!1},contactTypeExact:{is_primary_key:!1},messengerCallLogThirdPartyId:{is_primary_key:!1},profileRingColor:{is_primary_key:!1},requiresMultiway:{is_primary_key:!1},blockedSinceTimestampMs:{is_primary_key:!1},canViewerMessage:{is_primary_key:!1},phoneNumber:{is_primary_key:!1},emailAddress:{is_primary_key:!1},profileRingColorExpirationTimestampMs:{is_primary_key:!1},workCompanyId:{is_primary_key:!1},workCompanyName:{is_primary_key:!1},workJobTitle:{is_primary_key:!1},profileRingState:{is_primary_key:!1},deviceContactId:{is_primary_key:!1},workForeignEntityType:{is_primary_key:!1},capabilities:{is_primary_key:!1},contactViewerRelationship:{is_primary_key:!1},gender:{is_primary_key:!1},authorityLevel:{is_primary_key:!1},secondaryName:{is_primary_key:!1},optimisticBlockedByViewerStatus:{is_primary_key:!1},optimisticBlockedByViewerStatusTimestampMs:{is_primary_key:!1},contactReachabilityStatusType:{is_primary_key:!1},restrictionType:{is_primary_key:!1},waConnectStatus:{is_primary_key:!1},capabilities2:{is_primary_key:!1},pendingMessengerRestrictAction:{is_primary_key:!1},pendingMnUserBlockAction:{is_primary_key:!1},pendingFbUserBlockAction:{is_primary_key:!1},fbUnblockedSinceTimestampMs:{is_primary_key:!1},pendingMnUserBlockActionTimestampMs:{is_primary_key:!1},pendingFbUserBlockActionTimestampMs:{is_primary_key:!1},isEmployee:{is_primary_key:!1},pageType:{is_primary_key:!1},username:{is_primary_key:!1},friendshipStatus:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"work_contact_info",columns:{id:{not_redacted_for_db_upload:!0,is_primary_key:!0},gmtOffset:{is_primary_key:!1},department:{is_primary_key:!1},division:{is_primary_key:!1},organization:{is_primary_key:!1},location:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"contextual_profile_v1",columns:{ownerId:{not_redacted_for_db_upload:!0,is_primary_key:!0},associatedEntityId:{not_redacted_for_db_upload:!0,is_primary_key:!0},profilePictureUrl:{is_primary_key:!1},profilePictureFallbackUrl:{is_primary_key:!1},profilePictureUrlExpirationTimestampMs:{is_primary_key:!1},profileName:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"profile_sheet_information",columns:{userId:{not_redacted_for_db_upload:!0,is_primary_key:!0},name:{is_primary_key:!1},profilePhotoUrl:{is_primary_key:!1},coverPhotoUrl:{is_primary_key:!1},bio:{is_primary_key:!1},section1Text1:{is_primary_key:!1},section1Icon1:{is_primary_key:!1},section1Text2:{is_primary_key:!1},section1Icon2:{is_primary_key:!1},contextualProfilePhotoUrl:{is_primary_key:!1},friendshipStatus:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"fb_transport_contacts",columns:{pk:{not_redacted_for_db_upload:!0,is_primary_key:!0},clientContactPk:{is_primary_key:!1},serverContactId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"bot_profile_info_v2",columns:{botId:{not_redacted_for_db_upload:!0,is_primary_key:!0},isCreatedByViewer:{is_primary_key:!1},tintColor:{is_primary_key:!1},shortDescription:{is_primary_key:!1},description:{is_primary_key:!1},hasEmbodiment:{is_primary_key:!1},fbProfileId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"reactions",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{is_primary_key:!1},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},actorId:{not_redacted_for_db_upload:!0,is_primary_key:!0},reaction:{is_primary_key:!1},authorityLevel:{is_primary_key:!1},reactionCreationTimestampMs:{is_primary_key:!1},transportKey:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"threads",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},mailboxType:{is_primary_key:!1},threadType:{is_primary_key:!1},threadName:{is_primary_key:!1},folderName:{not_redacted_for_db_upload:!0,is_primary_key:!1},threadPictureUrl:{is_primary_key:!1},threadPictureUrlFallback:{is_primary_key:!1},threadPictureUrlExpirationTimestampMs:{is_primary_key:!1},lastActivityTimestampMs:{is_primary_key:!1},lastReadWatermarkTimestampMs:{is_primary_key:!1},removeWatermarkTimestampMs:{is_primary_key:!1},muteExpireTimeMs:{is_primary_key:!1},snippet:{is_primary_key:!1},isAdminSnippet:{is_primary_key:!1},snippetSenderContactId:{is_primary_key:!1},snippetStringHash:{is_primary_key:!1},snippetStringArgument1:{is_primary_key:!1},snippetAttribution:{is_primary_key:!1},snippetAttributionStringHash:{is_primary_key:!1},needsAdminApprovalForNewParticipant:{is_primary_key:!1},ongoingCallState:{is_primary_key:!1},cannotReplyReason:{is_primary_key:!1},customEmoji:{is_primary_key:!1},customEmojiImageUrl:{is_primary_key:!1},outgoingBubbleColor:{is_primary_key:!1},themeFbid:{is_primary_key:!1},parentThreadKey:{is_primary_key:!1},nullstateDescriptionText1:{is_primary_key:!1},nullstateDescriptionType1:{is_primary_key:!1},nullstateDescriptionText2:{is_primary_key:!1},nullstateDescriptionType2:{is_primary_key:!1},nullstateDescriptionText3:{is_primary_key:!1},nullstateDescriptionType3:{is_primary_key:!1},snippetHasEmoji:{is_primary_key:!1},hasPersistentMenu:{is_primary_key:!1},disableComposerInput:{is_primary_key:!1},cannotUnsendReason:{is_primary_key:!1},viewedPluginKey:{is_primary_key:!1},viewedPluginContext:{is_primary_key:!1},clientThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!1},capabilities:{is_primary_key:!1},shouldRoundThreadPicture:{is_primary_key:!1},isCustomThreadPicture:{is_primary_key:!1},otidOfFirstMessage:{is_primary_key:!1},normalizedSearchTerms:{is_primary_key:!1},additionalThreadContext:{is_primary_key:!1},disappearingThreadKey:{is_primary_key:!1},isDisappearingMode:{is_primary_key:!1},disappearingModeInitiator:{is_primary_key:!1},unreadDisappearingMessageCount:{is_primary_key:!1},authorityLevel:{is_primary_key:!1},threadDescription:{is_primary_key:!1},capabilities2:{is_primary_key:!1},muteCallsExpireTimeMs:{is_primary_key:!1},syncGroup:{is_primary_key:!1},lastMessageCtaId:{is_primary_key:!1},lastMessageCtaType:{is_primary_key:!1},lastMessageCtaTimestampMs:{is_primary_key:!1},unsendLimitMs:{is_primary_key:!1},isAllUnreadMessageMissedCallXma:{is_primary_key:!1},threadInvitesEnabled:{is_primary_key:!1},lastNonMissedCallXmaMessageTimestampMs:{is_primary_key:!1},threadInviteLink:{is_primary_key:!1},threadInvitesEnabledV2:{is_primary_key:!1},proactiveWarningDismissTime:{is_primary_key:!1},eventStartTimestampMs:{is_primary_key:!1},eventEndTimestampMs:{is_primary_key:!1},hasPendingInvitation:{is_primary_key:!1},capabilities3:{is_primary_key:!1},igFolder:{is_primary_key:!1},avatarStickerId:{is_primary_key:!1},avatarStickerThumbnailImageUrl:{is_primary_key:!1},avatarStickerThumbnailImageMimeType:{is_primary_key:!1},avatarStickerOriginalImageUrl:{is_primary_key:!1},avatarStickerOriginalImageMimeType:{is_primary_key:!1},inviterId:{is_primary_key:!1},memberCount:{is_primary_key:!1},takedownState:{is_primary_key:!1},threadTags:{is_primary_key:!1},avatarStickerInstructionKeyId:{is_primary_key:!1},groupNotificationSettings:{is_primary_key:!1},muteMentionExpireTimeMs:{is_primary_key:!1},threadStatus:{is_primary_key:!1},secondaryParentThreadKey:{is_primary_key:!1},threadSubtype:{is_primary_key:!1},consistentThreadFbid:{is_primary_key:!1},pauseThreadTimestamp:{is_primary_key:!1},disappearingSettingTtl:{is_primary_key:!1},disappearingSettingUpdatedTs:{is_primary_key:!1},disappearingSettingUpdatedBy:{is_primary_key:!1},numUnreadSubthreads:{is_primary_key:!1},subthreadCount:{is_primary_key:!1},isReadReceiptsDisabled:{is_primary_key:!1},readReceiptsDisabledV2:{is_primary_key:!1},metadata:{is_primary_key:!1},capabilities4:{is_primary_key:!1},snippetText:{is_primary_key:!1},isHidden:{is_primary_key:!1},hasPendingJoinRequest:{is_primary_key:!1},joinRequestApprovalSetting:{is_primary_key:!1},pendingJoinRequestsCount:{is_primary_key:!1},ctmAdId:{is_primary_key:!1},admodCount:{is_primary_key:!1},ctmAdgroupId:{is_primary_key:!1},ctmAdCampaignId:{is_primary_key:!1},ctmAdCampaignGroupId:{is_primary_key:!1},ctmAdAccountId:{is_primary_key:!1},syncSource:{is_primary_key:!1},typingIndicatorDisabled:{is_primary_key:!1},capabilities5:{is_primary_key:!1},ongoingCallTimestampMs:{is_primary_key:!1},draftMessage:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"threads_ranges_v2__generated",columns:{parentThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},minThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},minLastActivityTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},maxThreadKey:{is_primary_key:!1},maxLastActivityTimestampMs:{is_primary_key:!1},isLoadingBefore:{is_primary_key:!1},isLoadingAfter:{is_primary_key:!1},hasMoreBefore:{is_primary_key:!1},hasMoreAfter:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"messages",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},primarySortKey:{is_primary_key:!1},secondarySortKey:{is_primary_key:!1},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},offlineThreadingId:{is_primary_key:!1},text:{is_primary_key:!1},senderId:{is_primary_key:!1},stickerId:{is_primary_key:!1},isAdminMessage:{is_primary_key:!1},sendStatus:{is_primary_key:!1},sendStatusV2:{is_primary_key:!1},isUnsent:{is_primary_key:!1},mentionOffsets:{is_primary_key:!1},mentionLengths:{is_primary_key:!1},mentionIds:{is_primary_key:!1},mentionTypes:{is_primary_key:!1},replySourceId:{not_redacted_for_db_upload:!0,is_primary_key:!1},replySourceType:{is_primary_key:!1},replySourceTypeV2:{is_primary_key:!1},replyStatus:{is_primary_key:!1},replySnippet:{is_primary_key:!1},replyMessageText:{is_primary_key:!1},replyToUserId:{is_primary_key:!1},replyMediaExpirationTimestampMs:{is_primary_key:!1},replyMediaUrl:{is_primary_key:!1},replyMediaPreviewWidth:{is_primary_key:!1},replyMediaPreviewHeight:{is_primary_key:!1},replyMediaUrlMimeType:{is_primary_key:!1},replyMediaUrlFallback:{is_primary_key:!1},replyCtaId:{is_primary_key:!1},replyCtaTitle:{is_primary_key:!1},replyAttachmentType:{is_primary_key:!1},replyAttachmentId:{is_primary_key:!1},replyAttachmentExtra:{is_primary_key:!1},hasQuickReplies:{is_primary_key:!1},adminMsgCtaId:{is_primary_key:!1},adminMsgCtaTitle:{is_primary_key:!1},adminMsgCtaType:{is_primary_key:!1},cannotUnsendReason:{is_primary_key:!1},textHasLinks:{is_primary_key:!1},viewFlags:{is_primary_key:!1},displayedContentTypes:{is_primary_key:!1},viewedPluginKey:{is_primary_key:!1},viewedPluginContext:{is_primary_key:!1},quickReplyType:{is_primary_key:!1},hotEmojiSize:{is_primary_key:!1},authorityLevel:{is_primary_key:!1},subscriptErrorMessage:{is_primary_key:!1},unsentTimestampMs:{is_primary_key:!1},replySourceTimestampMs:{is_primary_key:!1},forwardScore:{is_primary_key:!1},ephemeralDurationInSec:{is_primary_key:!1},msUntilExpirationTs:{is_primary_key:!1},localDataId:{is_primary_key:!1},ephemeralExpirationTs:{is_primary_key:!1},replyType:{is_primary_key:!1},isForwarded:{is_primary_key:!1},takedownState:{is_primary_key:!1},isCollapsed:{is_primary_key:!1},subthreadKey:{is_primary_key:!1},messageRenderingType:{is_primary_key:!1},editCount:{is_primary_key:!1},isPaidPartnership:{is_primary_key:!1},botResponseId:{is_primary_key:!1},transportKey:{not_redacted_for_db_upload:!0,is_primary_key:!1},adminSignatureName:{is_primary_key:!1},adminSignatureProfileUrl:{is_primary_key:!1},adminSignatureCreatorType:{is_primary_key:!1},ebUploadTs:{is_primary_key:!1},xmaReceiverFetchParams:{is_primary_key:!1},metadataDataclass:{is_primary_key:!1},isExpired:{is_primary_key:!1},replyAttachmentPlaintextHash:{is_primary_key:!1},platformXmdEncoded:{is_primary_key:!1},groupId:{is_primary_key:!1},groupIndex:{is_primary_key:!1},groupSize:{is_primary_key:!1},scheduledTimestamp:{is_primary_key:!1},isVideoQuickSend:{is_primary_key:!1},translatedText:{is_primary_key:!1},textDialect:{is_primary_key:!1},translatedTextDialect:{is_primary_key:!1},sendAttributionXmd:{is_primary_key:!1},messageHiddenState:{is_primary_key:!1},subthreadParentMessageId:{is_primary_key:!1},isExclusiveToSubthread:{is_primary_key:!1},replyMessageHiddenState:{is_primary_key:!1},collapsibleId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"messages_ranges_v2__generated",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},minTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},minMessageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},maxTimestampMs:{is_primary_key:!1},maxMessageId:{not_redacted_for_db_upload:!0,is_primary_key:!1},isLoadingBefore:{is_primary_key:!1},isLoadingAfter:{is_primary_key:!1},hasMoreBefore:{is_primary_key:!1},hasMoreAfter:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"participants",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},contactId:{not_redacted_for_db_upload:!0,is_primary_key:!0},readWatermarkTimestampMs:{is_primary_key:!1},deliveredWatermarkTimestampMs:{is_primary_key:!1},nickname:{is_primary_key:!1},isAdmin:{is_primary_key:!1},subscribeSource:{is_primary_key:!1},normalizedSearchTerms:{is_primary_key:!1},participantCapabilities:{is_primary_key:!1},authorityLevel:{is_primary_key:!1},readActionTimestampMs:{is_primary_key:!1},isSuperAdmin:{is_primary_key:!1},isModerator:{is_primary_key:!1},groupParticipantJoinState:{is_primary_key:!1},threadRoles:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"ctas",columns:{ctaId:{not_redacted_for_db_upload:!0,is_primary_key:!0},title:{is_primary_key:!1},ctaType:{is_primary_key:!1},actionUrl:{is_primary_key:!1},nativeUrl:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"attachments",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{is_primary_key:!1},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},offlineAttachmentId:{not_redacted_for_db_upload:!0,is_primary_key:!1},attachmentFbid:{not_redacted_for_db_upload:!0,is_primary_key:!0},attachmentType:{is_primary_key:!1},originalPageSenderId:{is_primary_key:!1},filename:{not_redacted_for_db_upload:!0,is_primary_key:!1},filesize:{is_primary_key:!1},hasMedia:{is_primary_key:!1},isSharable:{is_primary_key:!1},hasXma:{is_primary_key:!1},xmaLayoutType:{is_primary_key:!1},xmasTemplateType:{is_primary_key:!1},defaultCtaId:{is_primary_key:!1},defaultCtaTitle:{is_primary_key:!1},defaultCtaType:{is_primary_key:!1},attachmentCta1Id:{is_primary_key:!1},cta1Title:{is_primary_key:!1},cta1Type:{is_primary_key:!1},attachmentCta2Id:{is_primary_key:!1},cta2Title:{is_primary_key:!1},cta2Type:{is_primary_key:!1},attachmentCta3Id:{is_primary_key:!1},cta3Title:{is_primary_key:!1},cta3Type:{is_primary_key:!1},playableUrl:{is_primary_key:!1},playableUrlFallback:{is_primary_key:!1},playableUrlExpirationTimestampMs:{is_primary_key:!1},playableUrlMimeType:{is_primary_key:!1},dashManifest:{is_primary_key:!1},previewUrl:{is_primary_key:!1},previewUrlFallback:{is_primary_key:!1},previewUrlExpirationTimestampMs:{is_primary_key:!1},previewUrlMimeType:{is_primary_key:!1},miniPreview:{is_primary_key:!1},previewWidth:{is_primary_key:!1},previewHeight:{is_primary_key:!1},imageUrl:{is_primary_key:!1},imageUrlFallback:{is_primary_key:!1},imageUrlExpirationTimestampMs:{is_primary_key:!1},imageUrlMimeType:{is_primary_key:!1},actionUrl:{is_primary_key:!1},titleText:{is_primary_key:!1},subtitleText:{is_primary_key:!1},maxTitleNumOfLines:{is_primary_key:!1},maxSubtitleNumOfLines:{is_primary_key:!1},descriptionText:{is_primary_key:!1},sourceText:{is_primary_key:!1},attributionAppId:{is_primary_key:!1},attributionAppName:{is_primary_key:!1},attributionAppIcon:{is_primary_key:!1},attributionAppIconFallback:{is_primary_key:!1},attributionAppIconUrlExpirationTimestampMs:{is_primary_key:!1},localPlayableUrl:{is_primary_key:!1},playableDurationMs:{is_primary_key:!1},attachmentIndex:{not_redacted_for_db_upload:!0,is_primary_key:!1},faviconUrl:{is_primary_key:!1},faviconUrlFallback:{is_primary_key:!1},faviconUrlExpirationTimestampMs:{is_primary_key:!1},decryptionKey:{is_primary_key:!1},accessibilitySummaryText:{is_primary_key:!1},isPreviewImage:{is_primary_key:!1},listItemsId:{is_primary_key:!1},listItemsDescriptionText:{is_primary_key:!1},listItemsSecondaryDescriptionText:{is_primary_key:!1},listItemId1:{is_primary_key:!1},listItemTitleText1:{is_primary_key:!1},listItemContactUrlList1:{is_primary_key:!1},listItemProgressBarFilledPercentage1:{is_primary_key:!1},listItemContactUrlExpirationTimestampList1:{is_primary_key:!1},listItemContactUrlFallbackList1:{is_primary_key:!1},listItemAccessibilityText1:{is_primary_key:!1},listItemId2:{is_primary_key:!1},listItemTitleText2:{is_primary_key:!1},listItemContactUrlList2:{is_primary_key:!1},listItemProgressBarFilledPercentage2:{is_primary_key:!1},listItemContactUrlExpirationTimestampList2:{is_primary_key:!1},listItemContactUrlFallbackList2:{is_primary_key:!1},listItemAccessibilityText2:{is_primary_key:!1},listItemId3:{is_primary_key:!1},listItemTitleText3:{is_primary_key:!1},listItemContactUrlList3:{is_primary_key:!1},listItemProgressBarFilledPercentage3:{is_primary_key:!1},listItemContactUrlExpirationTimestampList3:{is_primary_key:!1},listItemContactUrlFallbackList3:{is_primary_key:!1},listItemAccessibilityText3:{is_primary_key:!1},originalFileHash:{is_primary_key:!1},isBorderless:{is_primary_key:!1},headerImageUrl:{is_primary_key:!1},headerImageUrlFallback:{is_primary_key:!1},headerImageUrlExpirationTimestampMs:{is_primary_key:!1},headerImageUrlMimeType:{is_primary_key:!1},headerTitle:{is_primary_key:!1},previewImageDecorationType:{is_primary_key:!1},shouldHighlightHeaderTitleInTitle:{is_primary_key:!1},targetId:{is_primary_key:!1},shouldRespectServerPreviewSize:{is_primary_key:!1},authorityLevel:{is_primary_key:!1},ephemeralMediaState:{is_primary_key:!1},viewerSeenTimestampMs:{is_primary_key:!1},shouldAutoplayVideo:{is_primary_key:!1},previewUrlLarge:{is_primary_key:!1},previewWidthLarge:{is_primary_key:!1},previewHeightLarge:{is_primary_key:!1},subtitleIconUrl:{is_primary_key:!1},preheaderText:{is_primary_key:!1},listItemsDescriptionSubtitleText:{is_primary_key:!1},avatarViewUrlList:{is_primary_key:!1},avatarViewUrlExpirationTimestampList:{is_primary_key:!1},avatarViewUrlFallbackList:{is_primary_key:!1},avatarViewTitleList:{is_primary_key:!1},avatarViewAccessibilityLabel:{is_primary_key:!1},listItemProfilePictureUrl1:{is_primary_key:!1},listItemProfilePictureUrlExpirationTimestamp1:{is_primary_key:!1},listItemProfilePictureUrlFallback1:{is_primary_key:!1},listItemProfilePictureUrl2:{is_primary_key:!1},listItemProfilePictureUrlExpirationTimestamp2:{is_primary_key:!1},listItemProfilePictureUrlFallback2:{is_primary_key:!1},listItemProfilePictureUrl3:{is_primary_key:!1},listItemProfilePictureUrlExpirationTimestamp3:{is_primary_key:!1},listItemProfilePictureUrlFallback3:{is_primary_key:!1},attachmentLoggingType:{is_primary_key:!1},waveformData:{is_primary_key:!1},samplingFrequencyHz:{is_primary_key:!1},gatingType:{is_primary_key:!1},gatingTitle:{is_primary_key:!1},avatarViewSize:{is_primary_key:!1},avatarCount:{is_primary_key:!1},captionBodyText:{is_primary_key:!1},headerSubtitleText:{is_primary_key:!1},cta1IconType:{is_primary_key:!1},cta2IconType:{is_primary_key:!1},cta3IconType:{is_primary_key:!1},ephemeralMediaViewMode:{is_primary_key:!1},collapsibleId:{is_primary_key:!1},listItemTotalCount1:{is_primary_key:!1},listItemTotalCount2:{is_primary_key:!1},listItemTotalCount3:{is_primary_key:!1},shouldBlurSubattachments:{is_primary_key:!1},countdownTimestampMs:{is_primary_key:!1},igStoryReplyType:{is_primary_key:!1},verifiedType:{is_primary_key:!1},targetExpiryTimestampMs:{is_primary_key:!1},isPublicXma:{is_primary_key:!1},isAttachmentConsumed:{is_primary_key:!1},xmaContentType:{is_primary_key:!1},mustacheText:{is_primary_key:!1},replyCount:{is_primary_key:!1},avatarViewContextText:{is_primary_key:!1},subtitleDecorationType:{is_primary_key:!1},audioTranscription:{is_primary_key:!1},transportKey:{is_primary_key:!1},previewOverlayCountdownExpiry:{is_primary_key:!1},hasXmaFavicon:{is_primary_key:!1},hasXmaPreview:{is_primary_key:!1},hasXmaHeaderImage:{is_primary_key:!1},receiverFetchId:{is_primary_key:!1},xmaDataclass:{is_primary_key:!1},bodyText:{is_primary_key:!1},xmaFaviconFbid:{is_primary_key:!1},xmaPreviewFbid:{is_primary_key:!1},xmaHeaderImageFbid:{is_primary_key:!1},stickerType:{is_primary_key:!1},isHd:{is_primary_key:!1},playableAudioUrl:{is_primary_key:!1},loggingGenericXmaContentType:{is_primary_key:!1},loggingGenericXmaContentIdV2:{is_primary_key:!1},gifPlayback:{is_primary_key:!1},footerTitle:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"attachments_ranges_v2__generated",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},mediaGroup:{not_redacted_for_db_upload:!0,is_primary_key:!0},minTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},maxTimestampMs:{is_primary_key:!1},isLoadingBefore:{is_primary_key:!1},isLoadingAfter:{is_primary_key:!1},hasMoreBefore:{is_primary_key:!1},hasMoreAfter:{is_primary_key:!1},lastLoadedMessageId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"attachment_items",columns:{attachmentFbid:{not_redacted_for_db_upload:!0,is_primary_key:!0},attachmentIndex:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{is_primary_key:!1},messageId:{is_primary_key:!1},originalPageSenderId:{is_primary_key:!1},titleText:{is_primary_key:!1},subtitleText:{is_primary_key:!1},playableUrl:{is_primary_key:!1},playableUrlFallback:{is_primary_key:!1},playableUrlExpirationTimestampMs:{is_primary_key:!1},playableUrlMimeType:{is_primary_key:!1},dashManifest:{is_primary_key:!1},previewUrl:{is_primary_key:!1},previewUrlFallback:{is_primary_key:!1},previewUrlExpirationTimestampMs:{is_primary_key:!1},previewUrlMimeType:{is_primary_key:!1},previewWidth:{is_primary_key:!1},previewHeight:{is_primary_key:!1},imageUrl:{not_redacted_for_db_upload:!0,is_primary_key:!1},defaultCtaId:{is_primary_key:!1},defaultCtaTitle:{is_primary_key:!1},defaultCtaType:{is_primary_key:!1},defaultButtonType:{is_primary_key:!1},defaultActionUrl:{is_primary_key:!1},defaultActionEnableExtensions:{is_primary_key:!1},defaultWebviewHeightRatio:{is_primary_key:!1},attachmentCta1Id:{is_primary_key:!1},cta1Title:{is_primary_key:!1},cta1Type:{is_primary_key:!1},attachmentCta2Id:{is_primary_key:!1},cta2Title:{is_primary_key:!1},cta2Type:{is_primary_key:!1},attachmentCta3Id:{is_primary_key:!1},cta3Title:{is_primary_key:!1},cta3Type:{is_primary_key:!1},faviconUrl:{is_primary_key:!1},faviconUrlFallback:{is_primary_key:!1},faviconUrlExpirationTimestampMs:{is_primary_key:!1},previewUrlLarge:{is_primary_key:!1},cta1IconType:{is_primary_key:!1},cta2IconType:{is_primary_key:!1},cta3IconType:{is_primary_key:!1},bodyText:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"attachment_ctas",columns:{ctaId:{not_redacted_for_db_upload:!0,is_primary_key:!0},attachmentFbid:{is_primary_key:!1},attachmentIndex:{is_primary_key:!1},threadKey:{is_primary_key:!1},messageId:{is_primary_key:!1},title:{is_primary_key:!1},type_:{is_primary_key:!1},platformToken:{is_primary_key:!1},actionUrl:{is_primary_key:!1},nativeUrl:{is_primary_key:!1},urlWebviewType:{is_primary_key:!1},actionContentBlob:{is_primary_key:!1},enableExtensions:{is_primary_key:!1},extensionHeightType:{is_primary_key:!1},targetId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"quick_reply_ctas",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},ctaId:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageTimestampMs:{is_primary_key:!1},title:{is_primary_key:!1},imageUrl:{is_primary_key:!1},type_:{not_redacted_for_db_upload:!0,is_primary_key:!1},platformToken:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"m_suggestions",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},suggestionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},label:{is_primary_key:!1},type_:{is_primary_key:!1},expirationTimestampMs:{is_primary_key:!1},subType:{is_primary_key:!1},iconUrl:{is_primary_key:!1},messageId:{is_primary_key:!1},displayOrder:{is_primary_key:!1},stickerId:{is_primary_key:!1},gifText:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"rtc_signals",columns:{timestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},type_:{not_redacted_for_db_upload:!0,is_primary_key:!0},payload:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"rtc_ongoing_calls_on_threads_v2",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},ongoingCallServerInfoData:{is_primary_key:!1},willExpandToNewThread:{is_primary_key:!1},ongoingCallTimestampMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"rtc_multiway_call_initiation_conference_names",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},conferenceName:{is_primary_key:!1},isVideoCall:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"mailbox_metadata",columns:{id:{not_redacted_for_db_upload:!0,is_primary_key:!0},lastAppliedMailboxSequenceId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"group_membership_approval_requests",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},contactId:{not_redacted_for_db_upload:!0,is_primary_key:!0},subscribeSource:{is_primary_key:!1},authorityLevel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"admin_message_ctas",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},ctaId:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{is_primary_key:!1},adClientToken:{is_primary_key:!1},adPreferenceUrl:{is_primary_key:!1},adHelpUrl:{is_primary_key:!1},showAdChoiceIcon:{is_primary_key:!1},title:{is_primary_key:!1},actionUrl:{is_primary_key:!1},adminMessageNicknameParticipantId:{is_primary_key:!1},targetId:{is_primary_key:!1},targetTitle:{is_primary_key:!1},actionContentBlob:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"thread_nullstate",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},welcomeText:{is_primary_key:!1},privacyText:{is_primary_key:!1},privacyTextWithRef:{is_primary_key:!1},nullstateCtaType:{is_primary_key:!1},ctaType:{is_primary_key:!1},ctaId:{is_primary_key:!1},ctaTitle:{is_primary_key:!1},privacyTextCtaTitle:{is_primary_key:!1},privacyTextCtaType:{is_primary_key:!1},privacyTextNonWelcomeScreen:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"thread_nullstate_ctas",columns:{ctaId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{is_primary_key:!1},title:{is_primary_key:!1},ctaType:{is_primary_key:!1},platformToken:{is_primary_key:!1},ctaIdentifier:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"focus_mode_ctas",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},ctaId:{not_redacted_for_db_upload:!0,is_primary_key:!0},mailboxType:{is_primary_key:!1},timestampMs:{is_primary_key:!1},title:{is_primary_key:!1},ctaType:{is_primary_key:!1},platformToken:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"messages_optimistic_context",columns:{taskId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{is_primary_key:!1},offlineThreadingId:{is_primary_key:!1},messageId:{is_primary_key:!1},threadAttributionSource:{is_primary_key:!1},externalAttachmentUrl:{is_primary_key:!1},platformRef:{is_primary_key:!1},platformToken:{is_primary_key:!1},replySourceId:{is_primary_key:!1},replySourceType:{is_primary_key:!1},sendType:{is_primary_key:!1},markThreadRead:{is_primary_key:!1},initiatingSource:{is_primary_key:!1},skipUrlPreviewGen:{is_primary_key:!1},textHasLinks:{is_primary_key:!1},multitabEnv:{is_primary_key:!1},richTextFormatType:{is_primary_key:!1},openEb:{is_primary_key:!1},qplInstanceKey:{is_primary_key:!1},transportKey:{not_redacted_for_db_upload:!0,is_primary_key:!1},dataclassParams:{is_primary_key:!1},metadataDataclass:{is_primary_key:!1},subthreadParentMessageId:{is_primary_key:!1},isExclusiveToSubthread:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"threads_optimistic_context",columns:{taskId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{is_primary_key:!1},removeType:{is_primary_key:!1},syncGroup:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"messages_status",columns:{messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKeyFromParticipants:{not_redacted_for_db_upload:!0,is_primary_key:!0},contactId:{not_redacted_for_db_upload:!0,is_primary_key:!0},type_:{not_redacted_for_db_upload:!0,is_primary_key:!0},profilePictureUrl:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"message_requests",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageRequestStatus:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"folder_metadata",columns:{parentThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},lastSeenRequestTimestampMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"polls",columns:{pollId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{is_primary_key:!1},lastUpdateMessageId:{is_primary_key:!1},lastUpdateMessageTimestampMs:{is_primary_key:!1},lastUpdateMessageEventType:{is_primary_key:!1},authorityLevel:{is_primary_key:!1},pollType:{is_primary_key:!1},pollStage:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"poll_options_v2",columns:{pollId:{not_redacted_for_db_upload:!0,is_primary_key:!0},optionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},optionText:{is_primary_key:!1},voteCount:{is_primary_key:!1},sortKeyVotingTimestamp:{is_primary_key:!1},sortKeyCreationTimestamp:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"poll_votes_v2",columns:{pollId:{not_redacted_for_db_upload:!0,is_primary_key:!0},optionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},contactId:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"filtered_threads_ranges_v3__generated",columns:{parentThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},minThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},minLastActivityTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},maxThreadKey:{is_primary_key:!1},maxLastActivityTimestampMs:{is_primary_key:!1},isLoadingBefore:{is_primary_key:!1},isLoadingAfter:{is_primary_key:!1},hasMoreBefore:{is_primary_key:!1},hasMoreAfter:{is_primary_key:!1},threadRangeFilter:{not_redacted_for_db_upload:!0,is_primary_key:!0},folderName:{is_primary_key:!0},secondaryThreadRangeFilter:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadRangeFilterValue:{not_redacted_for_db_upload:!0,is_primary_key:!0},syncGroup:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"community_folders",columns:{folderId:{not_redacted_for_db_upload:!0,is_primary_key:!0},fbGroupId:{is_primary_key:!1},name:{is_primary_key:!1},memberCount:{is_primary_key:!1},pictureUrl:{is_primary_key:!1},pictureUrlFallback:{is_primary_key:!1},pictureUrlExpirationTimestampMs:{is_primary_key:!1},joiningChannelTaskId:{is_primary_key:!1},afterJoiningOpenChannelId:{is_primary_key:!1},capabilities:{is_primary_key:!1},sendsBlockedUntil:{is_primary_key:!1},notificationSetting:{is_primary_key:!1},notificationMutedUntil:{is_primary_key:!1},isHidden:{is_primary_key:!1},enableState:{is_primary_key:!1},hasSeenDisablingAlert:{is_primary_key:!1},disableTimestamp:{is_primary_key:!1},threadCount:{is_primary_key:!1},categoryCount:{is_primary_key:!1},coverPicUrl:{is_primary_key:!1},coverPicUrlFallback:{is_primary_key:!1},coverPicUrlExpirationTimestampMs:{is_primary_key:!1},description:{is_primary_key:!1},fbGroupType:{is_primary_key:!1},inviteStatus:{is_primary_key:!1},snippetText:{is_primary_key:!1},invitedThreadId:{is_primary_key:!1},directInviteLink:{is_primary_key:!1},inviteLink:{is_primary_key:!1},capabilities2:{is_primary_key:!1},capabilities3:{is_primary_key:!1},fbGroupUserParticipationApprovalStatus:{is_primary_key:!1},ccAdminAssistRegistrationStatus:{is_primary_key:!1},communityType:{is_primary_key:!1},readTimestampMs:{is_primary_key:!1},blockedFromCommunityMemberCount:{is_primary_key:!1},isMember:{is_primary_key:!1},pauseStatus:{is_primary_key:!1},takedownState:{is_primary_key:!1},latestThreadId:{is_primary_key:!1},latestThreadActivityTimestampMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"community_members",columns:{communityId:{not_redacted_for_db_upload:!0,is_primary_key:!0},contactId:{not_redacted_for_db_upload:!0,is_primary_key:!0},source:{not_redacted_for_db_upload:!0,is_primary_key:!0},name:{is_primary_key:!1},profilePictureUrl:{is_primary_key:!1},isAdmin:{is_primary_key:!1},isBlocked:{is_primary_key:!1},profilePictureUrlFallback:{is_primary_key:!1},profilePictureUrlExpirationTimestampMs:{is_primary_key:!1},firstName:{is_primary_key:!1},isBlockedFromCommunity:{is_primary_key:!1},isMuted:{is_primary_key:!1},isCommunityMember:{is_primary_key:!1},fetchingInfoTaskId:{is_primary_key:!1},adminActions:{is_primary_key:!1},isModerator:{is_primary_key:!1},hasPendingModeratorInvite:{is_primary_key:!1},subtitle:{is_primary_key:!1},isEligibleForCmInvite:{is_primary_key:!1},nickname:{is_primary_key:!1},threadRole:{is_primary_key:!1},contactCapabilities:{is_primary_key:!1},channelBadges:{is_primary_key:!1},threadRoles:{is_primary_key:!1},groupThreadId:{is_primary_key:!1},requestId:{not_redacted_for_db_upload:!0,is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"community_members_ranges_v2__generated",columns:{communityId:{not_redacted_for_db_upload:!0,is_primary_key:!0},isAdmin:{not_redacted_for_db_upload:!0,is_primary_key:!0},minName:{not_redacted_for_db_upload:!0,is_primary_key:!0},maxName:{is_primary_key:!1},isLoadingBefore:{is_primary_key:!1},isLoadingAfter:{is_primary_key:!1},hasMoreBefore:{is_primary_key:!1},hasMoreAfter:{is_primary_key:!1},nextPageCursor:{is_primary_key:!1},source:{not_redacted_for_db_upload:!0,is_primary_key:!0},requestId:{not_redacted_for_db_upload:!0,is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"attachment_conversion",columns:{attachmentFbid:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{is_primary_key:!1},openableUrl:{is_primary_key:!1},openableUrlExpirationTimestampMs:{is_primary_key:!1},pdfConversionStatus:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"rtc_rooms_on_threads",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},roomState:{is_primary_key:!1},roomUrl:{is_primary_key:!1},roomThreadUseCase:{is_primary_key:!1},showCtaUntilTimestampSec:{is_primary_key:!1},roomExpirationTimestampSec:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"inbox_threads_ranges",columns:{syncGroup:{not_redacted_for_db_upload:!0,is_primary_key:!0},minThreadKey:{is_primary_key:!1},minLastActivityTimestampMs:{is_primary_key:!1},isLoadingBefore:{is_primary_key:!1},hasMoreBefore:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"community_direct_invites_presets",columns:{communityId:{not_redacted_for_db_upload:!0,is_primary_key:!0},presetType:{not_redacted_for_db_upload:!0,is_primary_key:!0},title:{is_primary_key:!1},subtitle1:{is_primary_key:!1},subtitle2:{is_primary_key:!1},profilePictureUrl1:{is_primary_key:!1},fallbackUrl:{is_primary_key:!1},pictureUrlExpirationTimestampMs1:{is_primary_key:!1},profilePictureUrl2:{is_primary_key:!1},pictureUrlExpirationTimestampMs2:{is_primary_key:!1},source:{not_redacted_for_db_upload:!0,is_primary_key:!0},presetTypeV2:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"client_web_pinned_messages",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},offlineThreadingId:{not_redacted_for_db_upload:!0,is_primary_key:!0},pinnedTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"msg_pinned_messages_v2",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},pinnedTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},authorityLevel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"taken_down_threads",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},violationType:{is_primary_key:!1},violationDescription:{is_primary_key:!1},standardsUrl:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"sync_group_threads_ranges",columns:{syncGroup:{not_redacted_for_db_upload:!0,is_primary_key:!0},parentThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},minThreadKey:{is_primary_key:!1},minLastActivityTimestampMs:{is_primary_key:!1},isLoadingBefore:{is_primary_key:!1},hasMoreBefore:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"community_chat_message_seen_count",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},seenCount:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"community_chat_polls",columns:{pollId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{is_primary_key:!1},lastUpdateMessageId:{is_primary_key:!1},lastUpdateMessageTimestampMs:{is_primary_key:!1},lastUpdateMessageEventType:{is_primary_key:!1},pollType:{is_primary_key:!1},pollStage:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"community_chat_poll_options",columns:{pollId:{not_redacted_for_db_upload:!0,is_primary_key:!0},optionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},optionText:{is_primary_key:!1},voteCount:{is_primary_key:!1},sortKeyVotingTimestamp:{is_primary_key:!1},sortKeyCreationTimestamp:{is_primary_key:!1},optionUserId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"community_chat_poll_votes",columns:{pollId:{not_redacted_for_db_upload:!0,is_primary_key:!0},optionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},contactId:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{is_primary_key:!1},fullName:{is_primary_key:!1},profilePictureUrl:{is_primary_key:!1},profilePictureFallbackUrl:{is_primary_key:!1},profilePictureUrlExpirationTimestampMs:{is_primary_key:!1},secondaryName:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"reactions_v2",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},reactionFbid:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageTimestamp:{not_redacted_for_db_upload:!0,is_primary_key:!0},reactionLiteral:{is_primary_key:!1},count:{is_primary_key:!1},viewerIsReactor:{is_primary_key:!1},viewerReactionTimestampMs:{is_primary_key:!1},authorityLevel:{is_primary_key:!1},lastUpdatedTimestampMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"reactions_v2_details_users",columns:{reactorId:{not_redacted_for_db_upload:!0,is_primary_key:!0},reactionFbid:{not_redacted_for_db_upload:!0,is_primary_key:!0},fullName:{is_primary_key:!1},profilePictureUrl:{is_primary_key:!1},profilePictureFallbackUrl:{is_primary_key:!1},profilePictureUrlExpirationTimestampMs:{is_primary_key:!1},timestampMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"reactions_v2_details_users_ranges_v2__generated",columns:{reactorId:{not_redacted_for_db_upload:!0,is_primary_key:!0},reactionFbid:{not_redacted_for_db_upload:!0,is_primary_key:!0},minTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},maxTimestampMs:{is_primary_key:!1},isLoadingBefore:{is_primary_key:!1},isLoadingAfter:{is_primary_key:!1},hasMoreBefore:{is_primary_key:!1},hasMoreAfter:{is_primary_key:!1},nextPageCursor:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"reaction_v2_types",columns:{reactionFbid:{not_redacted_for_db_upload:!0,is_primary_key:!0},reactionLiteral:{is_primary_key:!1},reactionLiteralVariant16:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"bots",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},communityId:{is_primary_key:!1},name:{is_primary_key:!1},enabledStatus:{is_primary_key:!1},botId:{not_redacted_for_db_upload:!0,is_primary_key:!0},botSettingsId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"group_invitations_pending",columns:{linkHash:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadTitle:{is_primary_key:!1},needsAdminApprovalForNewParticipant:{is_primary_key:!1},lastThreadActivityMs:{is_primary_key:!1},threadConnectedMembers:{is_primary_key:!1},groupImageUrl:{is_primary_key:!1},groupImageUrlFallback:{is_primary_key:!1},groupImageUrlExpirationTimestampMs:{is_primary_key:!1},joinExplainerText:{is_primary_key:!1},numberOfMembers:{is_primary_key:!1},isInApprovalQueue:{is_primary_key:!1},isSubscribed:{is_primary_key:!1},threadId:{is_primary_key:!1},canJoin:{is_primary_key:!1},fbGroupDescription:{is_primary_key:!1},communityImageUrl:{is_primary_key:!1},communityImageUrlFallback:{is_primary_key:!1},communityImageUrlExpirationTimestampMs:{is_primary_key:!1},linkJoinType:{is_primary_key:!1},fbGroupVisibility:{is_primary_key:!1},communityId:{is_primary_key:!1},fbGroupId:{is_primary_key:!1},canProcessInMessenger:{is_primary_key:!1},communityJoinRequestStatus:{is_primary_key:!1},communityParticipationControlRequestStatus:{is_primary_key:!1},communityParticipationControlSetting:{is_primary_key:!1},threadStatus:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"audio_channel_events",columns:{eventId:{not_redacted_for_db_upload:!0,is_primary_key:!0},roomId:{not_redacted_for_db_upload:!0,is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"reactions_v2_details",columns:{threadId:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},reactorId:{not_redacted_for_db_upload:!0,is_primary_key:!0},reactionFbid:{not_redacted_for_db_upload:!0,is_primary_key:!0},fullName:{is_primary_key:!1},profilePictureUrl:{is_primary_key:!1},profilePictureFallbackUrl:{is_primary_key:!1},profilePictureUrlExpirationTimestampMs:{is_primary_key:!1},timestampMs:{is_primary_key:!1},secondaryName:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"reactions_v2_details_ranges_v2__generated",columns:{threadId:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},reactionFbid:{not_redacted_for_db_upload:!0,is_primary_key:!0},minTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},maxTimestampMs:{is_primary_key:!1},isLoadingBefore:{is_primary_key:!1},isLoadingAfter:{is_primary_key:!1},hasMoreBefore:{is_primary_key:!1},hasMoreAfter:{is_primary_key:!1},nextPageCursor:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"community_chat_poll_votes_ranges_v2__generated",columns:{pollId:{not_redacted_for_db_upload:!0,is_primary_key:!0},optionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},minTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},maxTimestampMs:{is_primary_key:!1},isLoadingBefore:{is_primary_key:!1},isLoadingAfter:{is_primary_key:!1},hasMoreBefore:{is_primary_key:!1},hasMoreAfter:{is_primary_key:!1},nextPageCursor:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"discoverable_chat_participants",columns:{threadId:{not_redacted_for_db_upload:!0,is_primary_key:!0},contactId:{not_redacted_for_db_upload:!0,is_primary_key:!0},source:{not_redacted_for_db_upload:!0,is_primary_key:!0},name:{is_primary_key:!1},profilePictureUrl:{is_primary_key:!1},isAdmin:{is_primary_key:!1},isBlocked:{is_primary_key:!1},profilePictureUrlFallback:{is_primary_key:!1},profilePictureUrlExpirationTimestampMs:{is_primary_key:!1},firstName:{is_primary_key:!1},subtitle:{is_primary_key:!1},nickname:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"discoverable_chat_participants_ranges_v2__generated",columns:{threadId:{not_redacted_for_db_upload:!0,is_primary_key:!0},source:{not_redacted_for_db_upload:!0,is_primary_key:!0},minName:{not_redacted_for_db_upload:!0,is_primary_key:!0},maxName:{is_primary_key:!1},isLoadingBefore:{is_primary_key:!1},isLoadingAfter:{is_primary_key:!1},hasMoreBefore:{is_primary_key:!1},hasMoreAfter:{is_primary_key:!1},nextPageCursor:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"roll_calls",columns:{rollCallId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},rollCallPrompt:{is_primary_key:!1},expiryTimestampSec:{is_primary_key:!1},offlineThreadingId:{is_primary_key:!1},viewerHasContributed:{is_primary_key:!1},creatorId:{is_primary_key:!1},viewerCanEditPrompt:{is_primary_key:!1},isBlurred:{is_primary_key:!1},numContributions:{is_primary_key:!1},authorityLevel:{is_primary_key:!1},canViewWithoutContributing:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"community_rules",columns:{communityId:{not_redacted_for_db_upload:!0,is_primary_key:!0},ruleId:{not_redacted_for_db_upload:!0,is_primary_key:!0},rulePosition:{is_primary_key:!1},ruleTitle:{is_primary_key:!1},ruleDescription:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"roll_call_contributions_v2",columns:{rollCallContributionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},rollCallId:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},primaryMediaUrl:{is_primary_key:!1},primaryMediaUrlFallback:{is_primary_key:!1},primaryMediaExpiryMs:{is_primary_key:!1},primaryMediaWidth:{is_primary_key:!1},primaryMediaHeight:{is_primary_key:!1},primaryMediaMimeType:{is_primary_key:!1},previewMediaUrl:{is_primary_key:!1},previewMediaUrlFallback:{is_primary_key:!1},previewMediaExpiryMs:{is_primary_key:!1},previewMediaWidth:{is_primary_key:!1},previewMediaHeight:{is_primary_key:!1},previewMediaMimeType:{is_primary_key:!1},contributorId:{is_primary_key:!1},offlineThreadingId:{is_primary_key:!1},blurOverride:{is_primary_key:!1},contributionSource:{is_primary_key:!1},contributionType:{is_primary_key:!1},content:{is_primary_key:!1},authorityLevel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"thread_creation_status",columns:{taskId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadId:{not_redacted_for_db_upload:!0,is_primary_key:!1},creationStatus:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"multi_step_replies",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},automationRuleId:{is_primary_key:!0},followupQuestion:{is_primary_key:!1},platformToken:{is_primary_key:!1},mailboxType:{is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"media_send_jobs",columns:{offlineAttachmentId:{not_redacted_for_db_upload:!0,is_primary_key:!0},offlineThreadingId:{is_primary_key:!1},inMessageIndex:{is_primary_key:!1},attachmentType:{is_primary_key:!1},shouldTranscode:{is_primary_key:!1},useDoublePhase:{is_primary_key:!1},sendByServer:{is_primary_key:!1},isSecure:{is_primary_key:!1},state:{is_primary_key:!1},fbid:{is_primary_key:!1},metadata:{is_primary_key:!1},error:{is_primary_key:!1},messageId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"typing_indicator",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},senderId:{not_redacted_for_db_upload:!0,is_primary_key:!0},expirationTimestampMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"server_search_results",columns:{query:{not_redacted_for_db_upload:!0,is_primary_key:!0},resultId:{not_redacted_for_db_upload:!0,is_primary_key:!0},globalIndex:{not_redacted_for_db_upload:!0,is_primary_key:!0},type_:{is_primary_key:!1},threadType:{is_primary_key:!1},displayName:{is_primary_key:!1},profilePicUrl:{is_primary_key:!1},secondaryProfilePicUrl:{is_primary_key:!1},contextLine:{is_primary_key:!1},messageId:{is_primary_key:!1},messageTimestampMs:{is_primary_key:!1},blockedByViewerStatus:{is_primary_key:!1},isVerified:{is_primary_key:!1},isInteropEligible:{is_primary_key:!1},isGroupsXacEligible:{is_primary_key:!1},isWaAddressable:{is_primary_key:!1},waEligibility:{is_primary_key:!1},isInvitedToCmChannel:{is_primary_key:!1},isEligibleForCmInvite:{is_primary_key:!1},isArmadilloTlcEligible:{is_primary_key:!1},otherUserId:{is_primary_key:!1},threadJoinLinkHash:{is_primary_key:!1},canViewerMessage:{is_primary_key:!1},restrictionType:{is_primary_key:!1},communityId:{is_primary_key:!1},supportsE2eeSpamdStorage:{is_primary_key:!1},defaultE2eeThreads:{is_primary_key:!1},defaultE2eeThreadOneToOne:{is_primary_key:!1},hasCutoverThread:{is_primary_key:!1},isViewerUnconnected:{is_primary_key:!1},resultIgid:{is_primary_key:!1},isRestrictedByViewer:{is_primary_key:!1},isInstamadilloCutover:{is_primary_key:!1},isDisappearingModeSettingOn:{is_primary_key:!1},secondaryContextLine:{is_primary_key:!1},hasTtlcClipEnabled:{is_primary_key:!1},hasTtlcGenericXmaShareEnabled:{is_primary_key:!1},hasTtlcMediaShareEnabled:{is_primary_key:!1},hasTtlcStoryShareEnabled:{is_primary_key:!1},reachabilityStatus:{is_primary_key:!1},isGroupCreationReachable:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"server_search_sections",columns:{query:{not_redacted_for_db_upload:!0,is_primary_key:!0},globalIndex:{not_redacted_for_db_upload:!0,is_primary_key:!0},displayName:{is_primary_key:!1},analyticsName:{is_primary_key:!1},startIndex:{is_primary_key:!1},endIndex:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"search_queries",columns:{query:{not_redacted_for_db_upload:!0,is_primary_key:!0},statusPrimary:{is_primary_key:!1},statusSecondary:{is_primary_key:!1},startTimeMs:{is_primary_key:!1},endTimeMs:{is_primary_key:!1},resultCount:{is_primary_key:!1},surfaceType:{is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"universal_search_recent_searches",columns:{resultId:{not_redacted_for_db_upload:!0,is_primary_key:!0},type_:{is_primary_key:!1},displayName:{is_primary_key:!1},profilePicUrl:{is_primary_key:!1},profilePicFallbackUrl:{is_primary_key:!1},profilePicUrlExpirationTimestampMs:{is_primary_key:!1},secondaryProfilePicUrl:{is_primary_key:!1},lastAccessedTimestampMs:{is_primary_key:!1},contextLine:{is_primary_key:!1},phoneNumber:{is_primary_key:!1},emailAddress:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"message_search_results",columns:{type_:{not_redacted_for_db_upload:!0,is_primary_key:!0},query:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},globalIndex:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadType:{is_primary_key:!1},messageId:{is_primary_key:!1},messageTimestampMs:{is_primary_key:!1},displayName:{is_primary_key:!1},contextLine:{is_primary_key:!1},matchOffsets:{is_primary_key:!1},matchLengths:{is_primary_key:!1},profilePicUrl:{is_primary_key:!1},secondaryProfilePicUrl:{is_primary_key:!1},matchCount:{is_primary_key:!1},isVerified:{is_primary_key:!1},messageOtid:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"message_search_queries",columns:{type_:{not_redacted_for_db_upload:!0,is_primary_key:!0},query:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKeyV2:{not_redacted_for_db_upload:!0,is_primary_key:!0},status:{is_primary_key:!1},hasNextPage:{is_primary_key:!1},nextPageCursor:{is_primary_key:!1},resultCount:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"cm_search_nullstate_metadata",columns:{threadKey:{is_primary_key:!0},scoreType:{is_primary_key:!0},threadName:{is_primary_key:!1},threadPictureUrl:{is_primary_key:!1},threadPictureUrlFallback:{is_primary_key:!1},secondaryThreadPictureUrl:{is_primary_key:!1},secondaryThreadPictureUrlFallback:{is_primary_key:!1},contextLine:{is_primary_key:!1},score:{is_primary_key:!1},threadType:{is_primary_key:!1},rankScoreRequestId:{is_primary_key:!1},communityId:{is_primary_key:!1},rowType:{is_primary_key:!1},fbGroupId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"ai_bot_search_metadata",columns:{botId:{is_primary_key:!0},displayName:{is_primary_key:!1},displayPictureUrl:{is_primary_key:!1},contextLine:{is_primary_key:!1},botType:{is_primary_key:!1},contactViewerRelationship:{is_primary_key:!1},score:{is_primary_key:!1},isVerified:{is_primary_key:!1},isMetaAiBot:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"contact_upload_settings",columns:{userid:{not_redacted_for_db_upload:!0,is_primary_key:!0},status:{is_primary_key:!1},toggleText:{is_primary_key:!1},statusText:{is_primary_key:!1},authorityLevel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"gdpr_settings",columns:{userid:{not_redacted_for_db_upload:!0,is_primary_key:!0},isConsentRequired:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"presence_settings",columns:{userId:{not_redacted_for_db_upload:!0,is_primary_key:!0},isActiveStatusViewable:{is_primary_key:!1},isActiveStatusViewableOnFb:{is_primary_key:!1},isActiveStatusViewableOnMessenger:{is_primary_key:!1},hasConvertedToViewSideSettings:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"persistent_menu_items",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},ctaId:{not_redacted_for_db_upload:!0,is_primary_key:!0},title:{is_primary_key:!1},actionUrl:{is_primary_key:!1},nativeUrl:{is_primary_key:!1},ctaType:{is_primary_key:!1},platformToken:{is_primary_key:!1},enableExtensions:{is_primary_key:!1},extensionHeightType:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"video_chat_links_joining",columns:{url:{not_redacted_for_db_upload:!0,is_primary_key:!0},optimisticClientToken:{not_redacted_for_db_upload:!0,is_primary_key:!0},ownerId:{is_primary_key:!1},participantCount:{is_primary_key:!1},isActive:{is_primary_key:!1},status:{is_primary_key:!1},conferenceName:{is_primary_key:!1},threadKey:{is_primary_key:!1},callStartTime:{is_primary_key:!1},linkType:{is_primary_key:!1},linkSurface:{is_primary_key:!1},isOpen:{is_primary_key:!1},lockStatus:{is_primary_key:!1},canAnonymousUsersJoin:{is_primary_key:!1},authorityLevel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"video_chat_links_attempted_joiners",columns:{userId:{not_redacted_for_db_upload:!0,is_primary_key:!0},url:{not_redacted_for_db_upload:!0,is_primary_key:!0},name:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"cowatch_sessions",columns:{cowatchSessionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"self_profile",columns:{userId:{not_redacted_for_db_upload:!0,is_primary_key:!0},birthday:{is_primary_key:!1},state:{is_primary_key:!1},zipCode:{is_primary_key:!1},phoneNumber:{is_primary_key:!1},emailAddress:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"pinned_threads",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},pinnedTimestamp:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"messaging_settings",columns:{id:{not_redacted_for_db_upload:!0,is_primary_key:!0},friendsOfFriends:{is_primary_key:!1},hasPhoneNumber:{is_primary_key:!1},instagramFollower:{is_primary_key:!1},instagramFollowee:{is_primary_key:!1},otherPeople:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"reachability_settings",columns:{audience:{not_redacted_for_db_upload:!0,is_primary_key:!0},deliverySetting:{is_primary_key:!1},deliveryOptions:{is_primary_key:!1},optimisticDeliverySetting:{is_primary_key:!1},usernameToDeliverySetting:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"feature_limits",columns:{type_:{not_redacted_for_db_upload:!0,is_primary_key:!0},expirationTimestampSeconds:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"emoji_sets",columns:{categoryIdx:{not_redacted_for_db_upload:!0,is_primary_key:!0},emojiIdx:{not_redacted_for_db_upload:!0,is_primary_key:!0},type_:{not_redacted_for_db_upload:!0,is_primary_key:!0},sortKey:{is_primary_key:!1},emoji:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"epd_cookie_settings",columns:{fbTrackersOnOtherCompanies:{is_primary_key:!1},otherCompanyTrackersOnFoa:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"cm_community_list",columns:{communityId:{not_redacted_for_db_upload:!0,is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"cm_channel_list",columns:{communityId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadId:{not_redacted_for_db_upload:!0,is_primary_key:!0},categoryId:{is_primary_key:!1},channelPrivacy:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"cm_category_list",columns:{communityId:{not_redacted_for_db_upload:!0,is_primary_key:!0},categoryId:{not_redacted_for_db_upload:!0,is_primary_key:!0},categoryName:{is_primary_key:!1},categoryRank:{is_primary_key:!1},display:{is_primary_key:!1},categoryType:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"notification_settings",columns:{id:{not_redacted_for_db_upload:!0,is_primary_key:!0},globalMuteUntil:{is_primary_key:!1},globalMuteMessageUntil:{is_primary_key:!1},globalMuteCallUntil:{is_primary_key:!1},showMessagePreview:{is_primary_key:!1},isSoundOn:{is_primary_key:!1},groupNotificationSetting:{is_primary_key:!1},oneToOneNotificationSetting:{is_primary_key:!1},replyReminderSetting:{is_primary_key:!1},includeInSwitchAccountBadges:{is_primary_key:!1},messageReminderDisabled:{is_primary_key:!1},messageSound:{is_primary_key:!1},ringtoneSound:{is_primary_key:!1},newFriendBumpDisabledSetting:{is_primary_key:!1},dismissNfbThreadsCount:{is_primary_key:!1},mutePageAccountMessageReminder:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backups_status_trigger",columns:{pk:{not_redacted_for_db_upload:!0,is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"fb_events",columns:{eventId:{not_redacted_for_db_upload:!0,is_primary_key:!0},startTimeMs:{is_primary_key:!1},endTimeMs:{is_primary_key:!1},eventName:{is_primary_key:!1},locationName:{is_primary_key:!1},eventPictureUrl:{is_primary_key:!1},eventPictureUrlFallback:{is_primary_key:!1},eventPictureUrlExpirationTimestampMs:{is_primary_key:!1},numGoingUsers:{is_primary_key:!1},numInterestedUsers:{is_primary_key:!1},rsvpStatus:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"cm_channel_events",columns:{eventId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadId:{not_redacted_for_db_upload:!0,is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"community_events",columns:{eventId:{not_redacted_for_db_upload:!0,is_primary_key:!0},communityId:{not_redacted_for_db_upload:!0,is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"avatar_settings",columns:{threadId:{not_redacted_for_db_upload:!0,is_primary_key:!0},enableAvatarHotlike:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"rtc_call_events",columns:{pk:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadId:{is_primary_key:!1},eventType:{is_primary_key:!1},eventTime:{is_primary_key:!1},serverInfoData:{is_primary_key:!1},isProcessed:{is_primary_key:!1},eventActorId:{is_primary_key:!1},isVideoCall:{is_primary_key:!1},callDuration:{is_primary_key:!1},isGroupCall:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payment_type_paypal",columns:{paymentMethodId:{is_primary_key:!1},paymentCredentialId:{not_redacted_for_db_upload:!0,is_primary_key:!0},ownerContactId:{is_primary_key:!1},enrolledEmail:{is_primary_key:!1},billingAgreement:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payment_type_card",columns:{paymentMethodId:{is_primary_key:!1},paymentCredentialId:{not_redacted_for_db_upload:!0,is_primary_key:!0},cardType:{is_primary_key:!1},number:{is_primary_key:!1},expireMonth:{is_primary_key:!1},expireYear:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payment_type_bank_v2",columns:{paymentMethodId:{not_redacted_for_db_upload:!0,is_primary_key:!0},receiverId:{is_primary_key:!1},bankCode:{is_primary_key:!1},bankImageUrl:{is_primary_key:!1},bankTitle:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payment_method",columns:{paymentMethodId:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{is_primary_key:!1},isPreferred:{is_primary_key:!1},usageCounter:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"new_payment_credential_option",columns:{credentialType:{not_redacted_for_db_upload:!0,is_primary_key:!0},title:{is_primary_key:!1},paypalLoginRefId:{is_primary_key:!1},paypalUrl:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"paypal_funding_options",columns:{optionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},name:{is_primary_key:!1},iconUrl:{is_primary_key:!1},secondaryIconUrl:{is_primary_key:!1},paypalBalance:{is_primary_key:!1},totalFee:{is_primary_key:!1},totalAmountCharged:{is_primary_key:!1},type_:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payments_eligibility",columns:{userId:{not_redacted_for_db_upload:!0,is_primary_key:!0},isP2pEligible:{is_primary_key:!1},isP2mEligible:{is_primary_key:!1},currencyType:{is_primary_key:!1},isPaypalEligible:{is_primary_key:!1},hasUserAddedCredentialsBefore:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payments_ofac_blacklisted_countries",columns:{isoCountryCode:{not_redacted_for_db_upload:!0,is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"p2m_invoice",columns:{orderId:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{is_primary_key:!1},lastModified:{is_primary_key:!1},sellerContactId:{is_primary_key:!1},buyerContactId:{is_primary_key:!1},status:{is_primary_key:!1},sessionId:{is_primary_key:!1},title:{is_primary_key:!1},subtitle:{is_primary_key:!1},imageUrl:{is_primary_key:!1},errorLoadCheckoutDescription:{is_primary_key:!1},errorPaymentAttemptDescription:{is_primary_key:!1},errorStatusUpdateDescription:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"p2m_invoice_attachment",columns:{orderId:{not_redacted_for_db_upload:!0,is_primary_key:!0},productItemId:{not_redacted_for_db_upload:!0,is_primary_key:!0},imageUrl:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payment_price_list_item",columns:{orderId:{not_redacted_for_db_upload:!0,is_primary_key:!0},id:{not_redacted_for_db_upload:!0,is_primary_key:!0},currency:{is_primary_key:!1},amount:{is_primary_key:!1},displayPrice:{is_primary_key:!1},type_:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"p2m_charge",columns:{orderId:{not_redacted_for_db_upload:!0,is_primary_key:!0},paymentId:{is_primary_key:!1},tdsRedirectUrl:{is_primary_key:!1},tdsSuccessDismissUrl:{is_primary_key:!1},tdsFailureDismissUrl:{is_primary_key:!1},tdsUnknownDismissUrl:{is_primary_key:!1},tdsReturnUrl:{is_primary_key:!1},tdsHttpMethod:{is_primary_key:!1},tdsData:{is_primary_key:!1},appSwitchTitle:{is_primary_key:!1},appSwitchPrimaryLogoUrl:{is_primary_key:!1},appSwitchPrimaryLogoTitle:{is_primary_key:!1},appSwitchPrimaryLogoCaption:{is_primary_key:!1},appSwitchPrimaryButtonText:{is_primary_key:!1},appSwitchFallbackInfoActionText:{is_primary_key:!1},appSwitchFallbackInfoActionCaption:{is_primary_key:!1},appSwitchFallbackInfoActionUrl:{is_primary_key:!1},appSwitchFallbackInfoActionIosAppItemId:{is_primary_key:!1},appSwitchAutoSwitchText:{is_primary_key:!1},appSwitchAutoSwitchTimeInSecs:{is_primary_key:!1},appSwitchAndroidAppPackageName:{is_primary_key:!1},appSwitchAppSwitchUrl:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payment_p2p_risk_verification",columns:{requestId:{not_redacted_for_db_upload:!0,is_primary_key:!0},transactionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},isFallbackMsite:{is_primary_key:!1},fallbackUri:{is_primary_key:!1},screen:{is_primary_key:!1},screenDataIntroReason:{is_primary_key:!1},screenDataFirstName:{is_primary_key:!1},screenDataLastName:{is_primary_key:!1},screenDataSenderShortName:{is_primary_key:!1},screenDataCardIssuer:{is_primary_key:!1},screenDataCardLastFour:{is_primary_key:!1},screenDataErrorMessage:{is_primary_key:!1},screenDataDobYear:{is_primary_key:!1},screenDataDobMonth:{is_primary_key:!1},screenDataDobDay:{is_primary_key:!1},screenDataIsSender:{is_primary_key:!1},screenDataHasPreviousAttemptFailed:{is_primary_key:!1},screenDataHasThrownException:{is_primary_key:!1},screenDataHasVerificationSucceeded:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payment_transaction_v2",columns:{timestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},transactionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},optimisticTransactionId:{is_primary_key:!1},currencyType:{is_primary_key:!1},errorMsg:{is_primary_key:!1},status:{is_primary_key:!1},substatus:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"p2p_request_v2",columns:{timestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},transactionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},optimisticTransactionId:{is_primary_key:!1},requesterContactId:{is_primary_key:!1},requesteeContactId:{is_primary_key:!1},memo:{is_primary_key:!1},requestStatus:{is_primary_key:!1},groupThreadId:{is_primary_key:!1},amount:{is_primary_key:!1},paymentCredentialId:{is_primary_key:!1},p2pRequestStatus:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"p2p_transfer_v2",columns:{timestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},transactionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},optimisticTransactionId:{is_primary_key:!1},senderContactId:{is_primary_key:!1},receiverContactId:{is_primary_key:!1},memo:{is_primary_key:!1},transferStatus:{is_primary_key:!1},amount:{is_primary_key:!1},paymentCredentialId:{is_primary_key:!1},p2pTransferStatus:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"transaction_history",columns:{transactionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{is_primary_key:!1},participantContactId:{is_primary_key:!1},title:{is_primary_key:!1},subtitle:{is_primary_key:!1},amount:{is_primary_key:!1},transactionType:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payments_transaction_details_core",columns:{transactionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},recipientId:{is_primary_key:!1},currencyType:{is_primary_key:!1},transactionAmount:{is_primary_key:!1},transactionStatusText:{is_primary_key:!1},transactionStatusDescription:{is_primary_key:!1},primaryCtaText:{is_primary_key:!1},primaryCtaStyle:{is_primary_key:!1},primaryCtaId:{is_primary_key:!1},primaryCtaType:{is_primary_key:!1},secondaryCtaText:{is_primary_key:!1},secondaryCtaStyle:{is_primary_key:!1},secondaryCtaId:{is_primary_key:!1},secondaryCtaType:{is_primary_key:!1},tertiaryCtaText:{is_primary_key:!1},tertiaryCtaStyle:{is_primary_key:!1},tertiaryCtaId:{is_primary_key:!1},tertiaryCtaType:{is_primary_key:!1},bottomTextCsv:{is_primary_key:!1},bottomTextDelimiter:{is_primary_key:!1},bottomTextLinkCsv:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payments_transaction_details_ctas",columns:{transactionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},ctaId:{not_redacted_for_db_upload:!0,is_primary_key:!0},ctaType:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payments_transaction_details_rows",columns:{transactionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},rowOrder:{not_redacted_for_db_upload:!0,is_primary_key:!0},title:{is_primary_key:!1},subtitle:{is_primary_key:!1},imageUrls:{is_primary_key:!1},ctaId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payment_user_auth",columns:{userId:{not_redacted_for_db_upload:!0,is_primary_key:!0},enabled:{is_primary_key:!1},nonce:{is_primary_key:!1},status:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payment_client_auth_token",columns:{userId:{not_redacted_for_db_upload:!0,is_primary_key:!0},deviceId:{not_redacted_for_db_upload:!0,is_primary_key:!0},appId:{not_redacted_for_db_upload:!0,is_primary_key:!0},enabled:{is_primary_key:!1},publicKey:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payment_auth_request_results",columns:{requestId:{not_redacted_for_db_upload:!0,is_primary_key:!0},authRequestResult:{is_primary_key:!1},failedAttempts:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payment_server_request_results",columns:{requestId:{not_redacted_for_db_upload:!0,is_primary_key:!0},requestResult:{is_primary_key:!1},errorMessage:{is_primary_key:!1},errorTitle:{is_primary_key:!1},errorCode:{is_primary_key:!1},context:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"payment_pin_verification_results",columns:{requestId:{not_redacted_for_db_upload:!0,is_primary_key:!0},pinAuthResult:{is_primary_key:!1},failedAttempts:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"connectivity_status",columns:{statusId:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{is_primary_key:!1},internetConnectionState:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"user_visible_network_connectivity_error",columns:{statusId:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{is_primary_key:!1},errorShouldBeShown:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"thread_themes",columns:{fbid:{not_redacted_for_db_upload:!0,is_primary_key:!0},themeIdx:{is_primary_key:!1},fallbackColor:{is_primary_key:!1},reverseGradiantsForRadial:{is_primary_key:!1},accessibilityLabel:{is_primary_key:!1},isDeprecated:{is_primary_key:!1},iconUrl:{is_primary_key:!1},iconUrlFallback:{is_primary_key:!1},backgroundUrl:{is_primary_key:!1},titlebarBackgroundColor:{is_primary_key:!1},titlebarButtonTintColor:{is_primary_key:!1},titlebarTextColor:{is_primary_key:!1},composerInputTextPlaceholderColor:{is_primary_key:!1},composerInputBackgroundColor:{is_primary_key:!1},composerInputBorderColor:{is_primary_key:!1},composerInputBorderWidth:{is_primary_key:!1},composerBackgroundColor:{is_primary_key:!1},messageTextColor:{is_primary_key:!1},messageBorderColor:{is_primary_key:!1},messageBorderWidth:{is_primary_key:!1},incomingMessageTextColor:{is_primary_key:!1},incomingMessageBorderColor:{is_primary_key:!1},incomingMessageBorderWidth:{is_primary_key:!1},deliveryReceiptColor:{is_primary_key:!1},tertiaryTextColor:{is_primary_key:!1},primaryButtonBackgroundColor:{is_primary_key:!1},hotLikeColor:{is_primary_key:!1},secondaryTextColor:{is_primary_key:!1},quotedIncomingMessageBubbleColor:{is_primary_key:!1},cornerRadius:{is_primary_key:!1},composerSecondaryButtonColor:{is_primary_key:!1},composerPlaceholderTextColor:{is_primary_key:!1},composerTintColor:{is_primary_key:!1},blurredComposerBackgroundColor:{is_primary_key:!1},composerUnselectedTintColor:{is_primary_key:!1},appColorMode:{is_primary_key:!1},normalThemeId:{is_primary_key:!1},description:{is_primary_key:!1},reactionPillBackgroundColor:{is_primary_key:!1},titlebarAttributionTextColor:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"gradient_colors",columns:{themeFbid:{not_redacted_for_db_upload:!0,is_primary_key:!0},gradientIndex:{not_redacted_for_db_upload:!0,is_primary_key:!0},color:{is_primary_key:!1},type_:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"thread_theme_search_results",columns:{resultIndex:{is_primary_key:!0},query:{is_primary_key:!0},themeFbid:{is_primary_key:!1},previewUrl:{is_primary_key:!1},previewUrlFallback:{is_primary_key:!1},previewUrlExpirationTimestampMs:{is_primary_key:!1},backgroundUrl:{is_primary_key:!1},backgroundUrlFallback:{is_primary_key:!1},backgroundUrlExpirationTimestampMs:{is_primary_key:!1},updatedTimestampMs:{is_primary_key:!1},accessibilityLabel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"thread_theme_search_queries",columns:{query:{not_redacted_for_db_upload:!0,is_primary_key:!0},status:{is_primary_key:!1},expirationTimestampMs:{is_primary_key:!1},error:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"in_thread_banner",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},bannerId:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{is_primary_key:!1},iconUrl:{is_primary_key:!1},iconUrlFallback:{is_primary_key:!1},iconUrlExpirationTimestampMs:{is_primary_key:!1},heading:{is_primary_key:!1},titleSectionOne:{is_primary_key:!1},titleSectionTwo:{is_primary_key:!1},cta1Id:{is_primary_key:!1},cta1Title:{is_primary_key:!1},cta1Type:{is_primary_key:!1},cta2Id:{is_primary_key:!1},cta2Title:{is_primary_key:!1},cta2Type:{is_primary_key:!1},chevronCtaId:{is_primary_key:!1},chevronCtaType:{is_primary_key:!1},bannerCtaId:{is_primary_key:!1},bannerCtaType:{is_primary_key:!1},infoLabel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"in_thread_banner_ctas",columns:{bannerId:{not_redacted_for_db_upload:!0,is_primary_key:!0},ctaId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{is_primary_key:!1},ctaType:{is_primary_key:!1},ctaTitle:{is_primary_key:!1},deeplinkUrl:{is_primary_key:!1},webviewUrl:{is_primary_key:!1},contextId:{is_primary_key:!1},actionContentBlob:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"in_thread_banner_overflow_menu",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},bannerId:{not_redacted_for_db_upload:!0,is_primary_key:!0},cta1Id:{is_primary_key:!1},cta1Title:{is_primary_key:!1},cta1Type:{is_primary_key:!1},cta2Id:{is_primary_key:!1},cta2Title:{is_primary_key:!1},cta2Type:{is_primary_key:!1},cta3Id:{is_primary_key:!1},cta3Title:{is_primary_key:!1},cta3Type:{is_primary_key:!1},cta4Id:{is_primary_key:!1},cta4Title:{is_primary_key:!1},cta4Type:{is_primary_key:!1},cta5Id:{is_primary_key:!1},cta5Title:{is_primary_key:!1},cta5Type:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"stickers",columns:{stickerId:{not_redacted_for_db_upload:!0,is_primary_key:!0},staticThumbnailImageUrl:{is_primary_key:!1},staticThumbnailImageFallbackUrl:{is_primary_key:!1},staticThumbnailImageUrlExpirationTimestampMs:{is_primary_key:!1},staticOriginalImageUrl:{is_primary_key:!1},staticOriginalImageFallbackUrl:{is_primary_key:!1},staticOriginalImageUrlExpirationTimestampMs:{is_primary_key:!1},staticImageMimeType:{is_primary_key:!1},animatedImageUrl:{is_primary_key:!1},animatedImageFallbackUrl:{is_primary_key:!1},animatedImageUrlExpirationTimestampMs:{is_primary_key:!1},animatedImageMimeType:{is_primary_key:!1},stickerPackId:{is_primary_key:!1},updatedTimestampMs:{is_primary_key:!1},accessibilityLabel:{is_primary_key:!1},indexInPack:{is_primary_key:!1},avatarStickerId:{is_primary_key:!1},templateId:{is_primary_key:!1},templateName:{is_primary_key:!1},stickerTags:{is_primary_key:!1},vectorImageUrl:{is_primary_key:!1},vectorImageFallbackUrl:{is_primary_key:!1},vectorImageUrlExpirationTimestampMs:{is_primary_key:!1},vectorImageMimeType:{is_primary_key:!1},threadKey:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"sticker_packs",columns:{packId:{not_redacted_for_db_upload:!0,is_primary_key:!0},thumbnailImageUrl:{is_primary_key:!1},thumbnailImageFallbackUrl:{is_primary_key:!1},thumbnailImageUrlExpirationTimestampMs:{is_primary_key:!1},thumbnailImageMimeType:{is_primary_key:!1},indexInTray:{is_primary_key:!1},packName:{is_primary_key:!1},isInvalid:{is_primary_key:!1},packLoadingState:{is_primary_key:!1},packSize:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"sticker_search_results",columns:{resultIndex:{not_redacted_for_db_upload:!0,is_primary_key:!0},query:{not_redacted_for_db_upload:!0,is_primary_key:!0},stickerId:{is_primary_key:!1},staticThumbnailImageUrl:{is_primary_key:!1},staticOriginalImageUrl:{is_primary_key:!1},animatedImageUrl:{is_primary_key:!1},staticImageMimeType:{is_primary_key:!1},animatedImageMimeType:{is_primary_key:!1},updatedTimestampMs:{is_primary_key:!1},accessibilityLabel:{is_primary_key:!1},type_:{not_redacted_for_db_upload:!0,is_primary_key:!0},staticThumbnailImageUrlExpirationTimestampMs:{is_primary_key:!1},staticThumbnailImageFallbackUrl:{is_primary_key:!1},staticOriginalImageUrlExpirationTimestampMs:{is_primary_key:!1},staticOriginalImageFallbackUrl:{is_primary_key:!1},animatedImageUrlExpirationTimestampMs:{is_primary_key:!1},animatedImageFallbackUrl:{is_primary_key:!1},mnetRequestId:{is_primary_key:!1},vectorImageUrl:{is_primary_key:!1},vectorImageFallbackUrl:{is_primary_key:!1},vectorImageUrlExpirationTimestampMs:{is_primary_key:!1},vectorImageMimeType:{is_primary_key:!1},isAvatarSticker:{is_primary_key:!1},avatarStickerId:{is_primary_key:!1},templateId:{is_primary_key:!1},templateName:{is_primary_key:!1},stickerPackId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"sticker_search_queries",columns:{query:{not_redacted_for_db_upload:!0,is_primary_key:!0},status:{is_primary_key:!1},expirationTimestampMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"sticker_search_featured_tags",columns:{tagIndex:{not_redacted_for_db_upload:!0,is_primary_key:!0},name:{is_primary_key:!1},colorCode:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"sticker_to_collection",columns:{stickerId:{not_redacted_for_db_upload:!0,is_primary_key:!0},collectionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},ranking:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"sticker_pack_details",columns:{packId:{not_redacted_for_db_upload:!0,is_primary_key:!0},name:{is_primary_key:!1},artist:{is_primary_key:!1},copyright:{is_primary_key:!1},profileImageUrl:{is_primary_key:!1},profileImageMimeType:{is_primary_key:!1},stickersPreviewImageUrl:{is_primary_key:!1},stickersPreviewImageMimeType:{is_primary_key:!1},description:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"sticker_store_pack_indices",columns:{packId:{not_redacted_for_db_upload:!0,is_primary_key:!0},ranking:{is_primary_key:!1},isFeatured:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"forward_content",columns:{value:{not_redacted_for_db_upload:!0,is_primary_key:!0},type_:{not_redacted_for_db_upload:!0,is_primary_key:!0},previewTitle:{is_primary_key:!1},previewSubtitle:{is_primary_key:!1},previewImageUrl:{is_primary_key:!1},previewStatus:{is_primary_key:!1},previewMimeType:{is_primary_key:!1},previewStatusUpdatedTimestampMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"linked_groups",columns:{id:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{is_primary_key:!1},groupDescription:{is_primary_key:!1},groupIconEmoji:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"ranking_scores",columns:{contactId:{not_redacted_for_db_upload:!0,is_primary_key:!0},contactType:{is_primary_key:!1},score:{is_primary_key:!1},scoreType:{not_redacted_for_db_upload:!0,is_primary_key:!0},scoreIndex:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"ranking_requests",columns:{scoreType:{not_redacted_for_db_upload:!0,is_primary_key:!0},requestId:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"value_model_rules",columns:{product:{not_redacted_for_db_upload:!0,is_primary_key:!0},ruleIndex:{not_redacted_for_db_upload:!0,is_primary_key:!0},operation:{is_primary_key:!1},value:{not_redacted_for_db_upload:!0,is_primary_key:!1},criteria:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"value_model_features",columns:{feature:{not_redacted_for_db_upload:!0,is_primary_key:!0},clientVar:{not_redacted_for_db_upload:!0,is_primary_key:!1},rankType:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"value_model_output",columns:{product:{not_redacted_for_db_upload:!0,is_primary_key:!0},contactId:{not_redacted_for_db_upload:!0,is_primary_key:!0},score:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"story_buckets",columns:{bucketId:{not_redacted_for_db_upload:!0,is_primary_key:!0},ownerId:{is_primary_key:!1},bucketType:{is_primary_key:!1},bucketName:{is_primary_key:!1},pageNum:{is_primary_key:!1},readState:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"stories",columns:{storyId:{not_redacted_for_db_upload:!0,is_primary_key:!0},bucketId:{is_primary_key:!1},postingStatus:{is_primary_key:!1},type_:{is_primary_key:!1},optimisticClientId:{not_redacted_for_db_upload:!0,is_primary_key:!1},authorId:{is_primary_key:!1},timestampMs:{is_primary_key:!1},ttlMs:{is_primary_key:!1},text:{is_primary_key:!1},stickerId:{is_primary_key:!1},mediaId:{is_primary_key:!1},mediaType:{is_primary_key:!1},mediaUrl:{is_primary_key:!1},mediaWidth:{is_primary_key:!1},mediaHeight:{is_primary_key:!1},mediaPlayableUrl:{is_primary_key:!1},mediaPreviewUrl:{is_primary_key:!1},mediaPreviewWidth:{is_primary_key:!1},mediaPreviewHeight:{is_primary_key:!1},mediaThumbnailUrl:{is_primary_key:!1},mediaThumbnailWidth:{is_primary_key:!1},mediaThumbnailHeight:{is_primary_key:!1},backgroundGradientColorTop:{is_primary_key:!1},backgroundGradientColorBottom:{is_primary_key:!1},captionFontColor:{is_primary_key:!1},dominantColor:{is_primary_key:!1},mediaFallbackUrl:{is_primary_key:!1},mediaUrlExpirationTimestampMs:{is_primary_key:!1},mediaPlayableFallbackUrl:{is_primary_key:!1},mediaPlayableUrlExpirationTimestampMs:{is_primary_key:!1},mediaPreviewFallbackUrl:{is_primary_key:!1},mediaPreviewUrlExpirationTimestampMs:{is_primary_key:!1},mediaThumbnailFallbackUrl:{is_primary_key:!1},mediaThumbnailUrlExpirationTimestampMs:{is_primary_key:!1},mediaDashManifest:{is_primary_key:!1},authorityLevel:{is_primary_key:!1},composerSessionId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"story_viewers",columns:{storyId:{not_redacted_for_db_upload:!0,is_primary_key:!0},viewerContactId:{not_redacted_for_db_upload:!0,is_primary_key:!0},interactionType:{not_redacted_for_db_upload:!0,is_primary_key:!0},pollVotedOption:{is_primary_key:!1},timestampMs:{is_primary_key:!1},authorityLevel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"story_reactions",columns:{reactionId:{not_redacted_for_db_upload:!0,is_primary_key:!0},storyId:{is_primary_key:!1},actorContactId:{is_primary_key:!1},reaction:{is_primary_key:!1},timestampMs:{is_primary_key:!1},optimisticClientId:{not_redacted_for_db_upload:!0,is_primary_key:!1},authorityLevel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"story_ad_unit",columns:{adPosition:{not_redacted_for_db_upload:!0,is_primary_key:!0},clientToken:{not_redacted_for_db_upload:!0,is_primary_key:!0},title:{is_primary_key:!1},iconUrl:{is_primary_key:!1},adText:{is_primary_key:!1},adPrefUrl:{is_primary_key:!1},adHelpUrl:{is_primary_key:!1},shouldShowAdChoice:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"story_ad_card",columns:{adPosition:{not_redacted_for_db_upload:!0,is_primary_key:!0},clientToken:{not_redacted_for_db_upload:!0,is_primary_key:!0},cardId:{not_redacted_for_db_upload:!0,is_primary_key:!0},mediaType:{is_primary_key:!1},mediaUrl:{is_primary_key:!1},mediaWidth:{is_primary_key:!1},mediaHeight:{is_primary_key:!1},topColor:{is_primary_key:!1},bottomColor:{is_primary_key:!1},captionColor:{is_primary_key:!1},cardText:{is_primary_key:!1},ctaId:{is_primary_key:!1},ctaTitle:{is_primary_key:!1},ctaType:{is_primary_key:!1},videoIdLong:{is_primary_key:!1},dashManifest:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"story_ad_ctas",columns:{ctaId:{not_redacted_for_db_upload:!0,is_primary_key:!0},adPosition:{is_primary_key:!1},cardId:{is_primary_key:!1},clientToken:{is_primary_key:!1},webUrl:{is_primary_key:!1},iosAppSite:{is_primary_key:!1},iosAppSiteFallback:{is_primary_key:!1},iosFallbackUrl:{is_primary_key:!1},androidNativeUrl:{is_primary_key:!1},pageId:{is_primary_key:!1},adId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"story_overlays",columns:{storyId:{not_redacted_for_db_upload:!0,is_primary_key:!0},storyOverlayId:{not_redacted_for_db_upload:!0,is_primary_key:!0},overlayType:{is_primary_key:!1},boundX:{is_primary_key:!1},boundY:{is_primary_key:!1},boundWidth:{is_primary_key:!1},boundHeight:{is_primary_key:!1},boundRotation:{is_primary_key:!1},pollQuestionText:{is_primary_key:!1},pollStyle:{is_primary_key:!1},pollOption1Text:{is_primary_key:!1},pollOption1VotesCount:{is_primary_key:!1},pollOption2Text:{is_primary_key:!1},pollOption2VotesCount:{is_primary_key:!1},mentionTaggedId:{is_primary_key:!1},mentionName:{is_primary_key:!1},mentionType:{is_primary_key:!1},linkStyle:{is_primary_key:!1},linkUrl:{is_primary_key:!1},authorityLevel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"story_buckets_paginated_queries",columns:{queryId:{not_redacted_for_db_upload:!0,is_primary_key:!0},status:{is_primary_key:!1},expirationTimestampMs:{is_primary_key:!1},numFetchedBuckets:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"status",columns:{statusId:{not_redacted_for_db_upload:!0,is_primary_key:!0},ownerId:{is_primary_key:!1},optimisticClientId:{not_redacted_for_db_upload:!0,is_primary_key:!1},emoji:{is_primary_key:!1},text:{is_primary_key:!1},timestampMs:{is_primary_key:!1},ttlMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"rooms",columns:{roomId:{not_redacted_for_db_upload:!0,is_primary_key:!0},optimisticClientToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},ownerId:{is_primary_key:!1},url:{is_primary_key:!1},name:{is_primary_key:!1},emoji:{is_primary_key:!1},callstartTimestampMs:{is_primary_key:!1},expirationTimestampMs:{is_primary_key:!1},lockStatus:{is_primary_key:!1},capacity:{is_primary_key:!1},audienceType:{is_primary_key:!1},authorityLevel:{is_primary_key:!1},inviteeType:{is_primary_key:!1},chatMode:{is_primary_key:!1},groupId:{is_primary_key:!1},activeParticipantCount:{is_primary_key:!1},color:{is_primary_key:!1},groupRoomType:{is_primary_key:!1},roomImageUrl:{is_primary_key:!1},notificationMutedUntilMs:{is_primary_key:!1},creationTime:{is_primary_key:!1},chatForRoomThreadId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"room_participants",columns:{roomId:{not_redacted_for_db_upload:!0,is_primary_key:!0},participantId:{not_redacted_for_db_upload:!0,is_primary_key:!0},type_:{not_redacted_for_db_upload:!0,is_primary_key:!0},firstName:{is_primary_key:!1},profileUrl:{is_primary_key:!1},profileUrlExpirationTimestampMs:{is_primary_key:!1},profileFallbackUrl:{is_primary_key:!1},authorityLevel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"live_location_sharers",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},userId:{not_redacted_for_db_upload:!0,is_primary_key:!0},latitude:{is_primary_key:!1},longitude:{is_primary_key:!1},geoTimestampMs:{is_primary_key:!1},expirationTimestampMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"mi_act_mapping_table",columns:{serverThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},clientThreadPk:{not_redacted_for_db_upload:!0,is_primary_key:!0},jid:{not_redacted_for_db_upload:!0,is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"data_trace_meta",columns:{traceId:{not_redacted_for_db_upload:!0,is_primary_key:!0},initTimestampMs:{is_primary_key:!1},foregroundTimestampMs:{is_primary_key:!1},traceType:{is_primary_key:!1},shouldFlush:{is_primary_key:!1},contextOne:{not_redacted_for_db_upload:!0,is_primary_key:!1},contextTwo:{not_redacted_for_db_upload:!0,is_primary_key:!1},contextThree:{not_redacted_for_db_upload:!0,is_primary_key:!1},predefinedId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"data_trace_addon",columns:{addonId:{not_redacted_for_db_upload:!0,is_primary_key:!0},traceId:{not_redacted_for_db_upload:!0,is_primary_key:!1},timestampMs:{is_primary_key:!1},checkPointId:{is_primary_key:!1},syncChannel:{is_primary_key:!1},errorMessage:{is_primary_key:!1},tags:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"ad_context",columns:{adId:{not_redacted_for_db_upload:!0,is_primary_key:!0},threadKey:{is_primary_key:!1},adTitle:{is_primary_key:!1},adSubtitle:{is_primary_key:!1},adPictureUrl:{is_primary_key:!1},timestamp:{is_primary_key:!1},adBodyText:{is_primary_key:!1},adMainImageUrl:{is_primary_key:!1},adVideoUrl:{is_primary_key:!1},badAdWarningStatus:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"thread_proactive_warning_settings",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},suspectId:{is_primary_key:!1},nextCheckTimestampMs:{is_primary_key:!1},token:{is_primary_key:!1},tag:{is_primary_key:!1},storyLocation:{is_primary_key:!1},entryPoint:{is_primary_key:!1},context:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"client_thread_proactive_warning_settings",columns:{threadPk:{not_redacted_for_db_upload:!0,is_primary_key:!0},suspectContactPk:{is_primary_key:!1},nextCheckTimestampMs:{is_primary_key:!1},tag:{is_primary_key:!1},storyLocation:{is_primary_key:!1},entryPoint:{is_primary_key:!1},frxReportingPromptToken:{is_primary_key:!1},context:{is_primary_key:!1},flowType:{is_primary_key:!1},maxImpressionCount:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"presence_states",columns:{contactId:{not_redacted_for_db_upload:!0,is_primary_key:!0},status:{is_primary_key:!1},lastActiveTimestampMs:{is_primary_key:!1},expirationTimestampMs:{is_primary_key:!1},capabilities:{is_primary_key:!1},publishId:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"pending_backups_context_v2",columns:{pk:{not_redacted_for_db_upload:!0,is_primary_key:!0},pendingBackupTaskId:{not_redacted_for_db_upload:!0,is_primary_key:!1},persistentId:{not_redacted_for_db_upload:!0,is_primary_key:!1},actionType:{not_redacted_for_db_upload:!0,is_primary_key:!1},contentType:{not_redacted_for_db_upload:!0,is_primary_key:!1},backupStatus:{not_redacted_for_db_upload:!0,is_primary_key:!1},listKey:{not_redacted_for_db_upload:!0,is_primary_key:!1},uniqueKey:{not_redacted_for_db_upload:!0,is_primary_key:!1},sortKey:{not_redacted_for_db_upload:!0,is_primary_key:!1},echoContent:{not_redacted_for_db_upload:!1,is_primary_key:!1},lsTraceId:{not_redacted_for_db_upload:!1,is_primary_key:!1},error:{not_redacted_for_db_upload:!0,is_primary_key:!1},echoEncodingLatencyNs:{not_redacted_for_db_upload:!0,is_primary_key:!1},errorMessage:{not_redacted_for_db_upload:!0,is_primary_key:!1},protobufBackupKey:{not_redacted_for_db_upload:!0,is_primary_key:!1},attachmentPayload:{not_redacted_for_db_upload:!0,is_primary_key:!1},attachmentErrorCode:{not_redacted_for_db_upload:!0,is_primary_key:!1},tamThreadSubtype:{not_redacted_for_db_upload:!0,is_primary_key:!1},isInstamadillo:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"secure_encrypted_backups_client_state",columns:{backupId:{not_redacted_for_db_upload:!0,is_primary_key:!0},devicePublicKeyBlob:{not_redacted_for_db_upload:!0,is_primary_key:!1},devicePrivateKeyBlob:{not_redacted_for_db_upload:!1,is_primary_key:!1},epochStoragePublicKeyBlob:{not_redacted_for_db_upload:!0,is_primary_key:!1},epochStoragePrivateKeyBlob:{not_redacted_for_db_upload:!1,is_primary_key:!1},mailboxRootKeyBlob:{not_redacted_for_db_upload:!1,is_primary_key:!1},ocmfClientStateBlob:{not_redacted_for_db_upload:!1,is_primary_key:!1},obliviousValidationTokenBlob:{not_redacted_for_db_upload:!1,is_primary_key:!1},authorityLevel:{not_redacted_for_db_upload:!0,is_primary_key:!1},deviceId:{not_redacted_for_db_upload:!0,is_primary_key:!1},epochAuthPrivateKeyBlob:{not_redacted_for_db_upload:!1,is_primary_key:!1},epochAuthPublicKeyBlob:{not_redacted_for_db_upload:!0,is_primary_key:!1},backupTenancy:{not_redacted_for_db_upload:!0,is_primary_key:!1},encryptionVersion:{not_redacted_for_db_upload:!0,is_primary_key:!1},revisionVersion:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backups_debug_metadata",columns:{backupId:{not_redacted_for_db_upload:!0,is_primary_key:!0},devicePrivateKeyDebugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},epochStoragePrivateKeyDebugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},epochAuthPrivateKeyDebugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},mailboxRootKeyDebugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},ocmfClientStateDebugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},appVersion:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backups_epoch_debug_metadata",columns:{epochId:{not_redacted_for_db_upload:!0,is_primary_key:!0},epochAnonId:{not_redacted_for_db_upload:!0,is_primary_key:!1},epochRootKeyDebugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},appVersion:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backups_debug_metadata_v2",columns:{backupId:{not_redacted_for_db_upload:!0,is_primary_key:!0},devicePrivateKeyDebugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},epochStoragePrivateKeyDebugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},epochAuthPrivateKeyDebugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},mailboxRootKeyDebugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},ocmfClientStateDebugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},appVersion:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backups_epoch_debug_metadata_v2",columns:{epochId:{not_redacted_for_db_upload:!0,is_primary_key:!0},epochAnonId:{not_redacted_for_db_upload:!0,is_primary_key:!1},epochRootKeyDebugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1},appVersion:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"secure_encrypted_backups_epochs",columns:{epochId:{not_redacted_for_db_upload:!0,is_primary_key:!0},backupId:{not_redacted_for_db_upload:!0,is_primary_key:!1},epochAnonIdBlob:{not_redacted_for_db_upload:!0,is_primary_key:!1},epochRootKeyBlob:{not_redacted_for_db_upload:!1,is_primary_key:!1},epochStatus:{not_redacted_for_db_upload:!0,is_primary_key:!1},authorityLevel:{not_redacted_for_db_upload:!0,is_primary_key:!1},epochHead:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backups",columns:{pk:{not_redacted_for_db_upload:!0,is_primary_key:!0},backupId:{not_redacted_for_db_upload:!0,is_primary_key:!1},authorityLevel:{not_redacted_for_db_upload:!0,is_primary_key:!1},backupTenancy:{not_redacted_for_db_upload:!0,is_primary_key:!1},isUserOptedOut:{not_redacted_for_db_upload:!0,is_primary_key:!1},hasOtcEligibleDevices:{not_redacted_for_db_upload:!0,is_primary_key:!1},encryptionManagementDelegatorId:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"secure_encrypted_backups_generated_recovery_code",columns:{pk:{not_redacted_for_db_upload:!0,is_primary_key:!0},recoveryCode:{not_redacted_for_db_upload:!1,is_primary_key:!1},virtualDeviceType:{not_redacted_for_db_upload:!0,is_primary_key:!1},cloudServiceAccount:{not_redacted_for_db_upload:!0,is_primary_key:!1},hsmPinNormalizationStatus:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"secure_encrypted_backups_recovery_code_status",columns:{pk:{not_redacted_for_db_upload:!0,is_primary_key:!0},recoveryCodeStatus:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"secure_recovery_code_data",columns:{taskId:{not_redacted_for_db_upload:!0,is_primary_key:!0},virtualDeviceId:{not_redacted_for_db_upload:!0,is_primary_key:!1},blobDecryptionKey:{not_redacted_for_db_upload:!1,is_primary_key:!1},debugToken:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"secure_encrypted_backups_message_thread_id_context",columns:{taskId:{not_redacted_for_db_upload:!0,is_primary_key:!0},listId:{not_redacted_for_db_upload:!1,is_primary_key:!0},threadId:{not_redacted_for_db_upload:!1,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backups_virtual_devices",columns:{pk:{not_redacted_for_db_upload:!0,is_primary_key:!0},backupId:{is_primary_key:!1},virtualDeviceId:{is_primary_key:!1},virtualDeviceType:{is_primary_key:!1},creationTime:{is_primary_key:!1},deviceCreatedOn:{is_primary_key:!1},removalStatus:{is_primary_key:!1},requiresHsmMigration:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backups_metadata",columns:{backupId:{not_redacted_for_db_upload:!0,is_primary_key:!0},creationTime:{not_redacted_for_db_upload:!0,is_primary_key:!1},lastSyncTime:{not_redacted_for_db_upload:!0,is_primary_key:!1},backupSize:{not_redacted_for_db_upload:!0,is_primary_key:!1},authorityLevel:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"device_metadata",columns:{pk:{not_redacted_for_db_upload:!0,is_primary_key:!0},taskId:{not_redacted_for_db_upload:!0,is_primary_key:!1},backupId:{not_redacted_for_db_upload:!0,is_primary_key:!1},deviceRegistrationId:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backup_restore_task_payload_context",columns:{taskId:{not_redacted_for_db_upload:!0,is_primary_key:!0},mailboxPartialId:{not_redacted_for_db_upload:!0,is_primary_key:!1},listId:{not_redacted_for_db_upload:!0,is_primary_key:!1},numItems:{not_redacted_for_db_upload:!0,is_primary_key:!1},contentType:{not_redacted_for_db_upload:!0,is_primary_key:!1},startSortKey:{not_redacted_for_db_upload:!0,is_primary_key:!1},traceId:{not_redacted_for_db_upload:!0,is_primary_key:!1},isPointQuery:{not_redacted_for_db_upload:!0,is_primary_key:!1},messagePartialId:{not_redacted_for_db_upload:!1,is_primary_key:!1},newerNumItems:{not_redacted_for_db_upload:!0,is_primary_key:!1},unencryptedSortKey:{not_redacted_for_db_upload:!1,is_primary_key:!1},serverThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!1},messageId:{not_redacted_for_db_upload:!0,is_primary_key:!1},waThreadId:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backups_dyi_backup_restore_status",columns:{pk:{not_redacted_for_db_upload:!0,is_primary_key:!0},currentStatus:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backups_message_backup_status",columns:{messagePk:{not_redacted_for_db_upload:!0,is_primary_key:!0},isBackedUp:{not_redacted_for_db_upload:!0,is_primary_key:!1},retryCount:{not_redacted_for_db_upload:!0,is_primary_key:!1},lastRetryTimestamp:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backups_client_restore_status",columns:{threadId:{not_redacted_for_db_upload:!0,is_primary_key:!0},lastUpdated:{not_redacted_for_db_upload:!0,is_primary_key:!1},restoreStatus:{not_redacted_for_db_upload:!0,is_primary_key:!1},serverThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"third_party_id_store",columns:{platform:{not_redacted_for_db_upload:!0,is_primary_key:!0},thirdPartyId:{not_redacted_for_db_upload:!1,is_primary_key:!1},authorityLevel:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"secure_get_secrets_context",columns:{deviceRegistrationId:{not_redacted_for_db_upload:!0,is_primary_key:!0},tempOcmfClientState:{not_redacted_for_db_upload:!1,is_primary_key:!1},tempServerDataId:{not_redacted_for_db_upload:!1,is_primary_key:!1},authorityLevel:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"encrypted_backups_otc_devices",columns:{deviceId:{not_redacted_for_db_upload:!0,is_primary_key:!0},manufacturer:{not_redacted_for_db_upload:!0,is_primary_key:!1},model:{not_redacted_for_db_upload:!0,is_primary_key:!1},lastLoginLocation:{not_redacted_for_db_upload:!1,is_primary_key:!1},lastLoginTime:{not_redacted_for_db_upload:!1,is_primary_key:!1},lastUploadTime:{not_redacted_for_db_upload:!1,is_primary_key:!1},authorityLevel:{not_redacted_for_db_upload:!0,is_primary_key:!1},appId:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"secure_encrypted_backups_devices",columns:{backupId:{is_primary_key:!1},deviceId:{not_redacted_for_db_upload:!0,is_primary_key:!0},publicKey:{is_primary_key:!1},clientVersion:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"secure_encrypted_backups_device_supported_versions",columns:{deviceId:{not_redacted_for_db_upload:!0,is_primary_key:!0},supportedVersion:{not_redacted_for_db_upload:!0,is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"e2ee_dummy_table_for_sync",columns:{placeholder:{not_redacted_for_db_upload:!0,is_primary_key:!0}},not_redacted_for_db_upload:!0},{table_name:"cutover_threads",columns:{openThreadId:{not_redacted_for_db_upload:!0,is_primary_key:!0},armadilloThreadId:{is_primary_key:!1},isMigrated:{is_primary_key:!1},showOpenMessageHistory:{is_primary_key:!1},timestampMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"occamadillo_most_recent_message_per_thread",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},timestampMs:{is_primary_key:!1},fetchTimestampMs:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"offline_queue_thread_status",columns:{threadJid:{not_redacted_for_db_upload:!0,is_primary_key:!0},latestMessageTimestampMs:{is_primary_key:!1},offlineQueueStatus:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"client_message_translation_info",columns:{pk:{not_redacted_for_db_upload:!0,is_primary_key:!0},translatedText:{is_primary_key:!1},translatedTextDialect:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"community_messaging_aggregated_user_presence_counts_for_community",columns:{folderId:{not_redacted_for_db_upload:!0,is_primary_key:!0},numActiveMembers:{is_primary_key:!1},activeMembersNumExpirationTimestampMilliseconds:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"community_messaging_aggregated_copresence_counts_for_chat",columns:{threadId:{not_redacted_for_db_upload:!0,is_primary_key:!0},folderId:{is_primary_key:!1},numActiveMembers:{is_primary_key:!1},activeMembersNumExpirationTimestampMilliseconds:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"persistent_menu_ctas",columns:{threadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},ctaId:{not_redacted_for_db_upload:!0,is_primary_key:!0},title:{is_primary_key:!1},actionUrl:{is_primary_key:!1},nativeUrl:{is_primary_key:!1},ctaType:{is_primary_key:!1},platformToken:{is_primary_key:!1},enableExtensions:{is_primary_key:!1},extensionHeightType:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"subthreads",columns:{parentThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},parentMessageId:{is_primary_key:!0},lastActivityTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},lastReadWatermarkTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},replyCount:{is_primary_key:!1},isViewerSubscribed:{is_primary_key:!1},isViewerReceivingNotifications:{is_primary_key:!1},authorityLevel:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"subthread_senders",columns:{subthreadParentMessageId:{not_redacted_for_db_upload:!0,is_primary_key:!0},contactId:{not_redacted_for_db_upload:!0,is_primary_key:!0},lastActivityTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"subthread_ranges",columns:{parentThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},minTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},hasMoreBefore:{not_redacted_for_db_upload:!0,is_primary_key:!1},isLoadingBefore:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"subthread_message_ranges",columns:{parentThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},parentMessageId:{is_primary_key:!0},minTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},maxTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},minMessageId:{is_primary_key:!1},maxMessageId:{is_primary_key:!1},hasMoreBefore:{is_primary_key:!1},isLoadingBefore:{is_primary_key:!1},hasMoreAfter:{is_primary_key:!1},isLoadingAfter:{is_primary_key:!1}},not_redacted_for_db_upload:!0},{table_name:"subthread_message_ranges_v2",columns:{parentThreadKey:{not_redacted_for_db_upload:!0,is_primary_key:!0},parentMessageId:{is_primary_key:!0},minTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!0},maxTimestampMs:{not_redacted_for_db_upload:!0,is_primary_key:!1},hasMoreBefore:{not_redacted_for_db_upload:!0,is_primary_key:!1},isLoadingBefore:{not_redacted_for_db_upload:!0,is_primary_key:!1},hasMoreAfter:{not_redacted_for_db_upload:!0,is_primary_key:!1},isLoadingAfter:{not_redacted_for_db_upload:!0,is_primary_key:!1}},not_redacted_for_db_upload:!0}]}),null);
__d("LSDatabaseDump",["LSDatabaseDumpRedactor","LSDatabaseSingleton","LSJSDatabaseDumpMetadataArtifact","MessengerLogHistory","ReQL","asyncToGeneratorRuntime","cr:698","promiseDone","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MessengerLogHistory").getInstance("db_dump"),u,c,d;function m(){var e=JSON.stringify(o("LSDatabaseDumpRedactor").mapToObject(u)),t=new Blob([e]).size;return s.debug("Getting LSDB snapshot with size "+t+" bytes..."),e}function p(){u=new Map,c=!1}function _(e,t){var n=e.getTableData().tableNames;u=new Map,Object.keys(n).forEach(function(a){d&&r("promiseDone")(o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.table(a))).then(function(e){e!=null&&u.set(a,o("LSDatabaseDumpRedactor").redactRawDataByMetadataFile(t,n[a],a,e))}))})}function f(){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){c=!0,d=!0;var t=yield(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,a=[].concat(r("LSJSDatabaseDumpMetadataArtifact"),n("cr:698")!=null?n("cr:698"):[]);_(t,a)}),g.apply(this,arguments)}function h(){d=!1}function y(){return r("vulture")("2rrua3mMqZqDNTcfXnk4w72VdcQ="),d}function C(){return c}l.getDatabaseSnapshot=m,l.cleanup=p,l.preloadDB=f,l.stopDataFetch=h,l.isContinueDataFetch=y,l.isStartedDataFetch=C}),98);
__d("MAWDBKeychainUI",["EARInitType","FBLogger","MAWDBKeychain","MAWWaitForBackendSetup","MWEARKeychainV3","asyncToGeneratorRuntime","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e;try{var t,n;if(e=yield o("MAWDBKeychain").checkMawDbExists(),!e||!e.backendDB().objectStoreNames.contains(o("MAWDBKeychain").STORENAME)){var a;(a=e)==null||a.close(),o("MWEARKeychainV3").logMawInitPoint("maw_ear_waiting_missing_ear_table"),yield o("MAWWaitForBackendSetup").waitForBackendSetup("maw-ear-ui-missing-ear-table")}else if(((t=e)==null?void 0:t.backendDB().objectStoreNames.contains(o("MAWDBKeychain").STORENAME))===!0){var i=yield o("MAWDBKeychain").getEncryptionKeys(e.backendDB());e.close(),i.length===0&&(o("MWEARKeychainV3").logMawInitPoint("maw_ear_waiting_missing_ear_data"),yield o("MAWWaitForBackendSetup").waitForBackendSetup("maw-ear-ui-missing-ear-data"))}if((n=e)==null||n.close(),e=yield o("MAWDBKeychain").checkMawDbExists(),!e)throw r("FBLogger")("messenger_web").mustfixThrow("MAWDB is missing after worker setup.");var l=yield o("MAWDBKeychain").getEncryptionKeys(e.backendDB());if(l.length===0)return r("FBLogger")("messenger_web").mustfix("MAW EAR data is missing after worker setup."),o("MWEARKeychainV3").logMawInitPoint("maw_ear_not_migrated"),{useMawEAR:!1};var s=e.backendDB();s==null&&r("FBLogger")("messenger_web").mustfix("MAW EAR IndexedDB is missing after the transaction to get encryption keys"),o("MWEARKeychainV3").setNamespaceSourceDbWithoutMarkingDbReady("maw_ear",s);var u=yield o("MWEARKeychainV3").init("maw_ear",r("EARInitType").MAW_IN_UI_INIT);if(u.success===!1){var c;throw(c=u.payload)!=null?c:r("err")("Failed to init MAW EAR UI Keychain.")}return o("MWEARKeychainV3").logMawInitPoint("maw_ear_success"),r("FBLogger")("messenger_web").info("MAW EAR UI successfully initialised."),{useMawEAR:!0}}catch(e){throw o("MWEARKeychainV3").logMawInitPoint("maw_ear_failure"),r("FBLogger")("messenger_web").catching(r("getErrorSafe")(e)).mustfixThrow("Failed to init MAW EAR UI.")}finally{var d;o("MWEARKeychainV3").setNamespaceSourceDbWithoutMarkingDbReady("maw_ear",null),(d=e)==null||d.close()}});return function(){return e.apply(this,arguments)}})();l.initEARUI=e}),98);
__d("MAWDbDumpMetadata",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){return{columns:t.reduce(function(e,t){var n;return babelHelpers.extends({},e,(n={},n[t]={not_redacted_for_db_upload:!0},n))},{})}},l=e(["ack","appDataId","externalId","recipientDevices","sendPartial","ts"]),s=e(["key","value"]),u=e(["version"]),c=e(["chunkId","hashedPlaintextHash","mimetype"]),d=e(["editExternalId","editTs","originalMsgExternalId","threadJid"]),m=e(["userJid","ephemeralSetting"]),p=e(["chat","externalId","reason","rowId"]),_=e(["action","deviceChangeAlertsId","deviceJid","isArchived","loggedOut","model","platform","ts"]),f=e(["batchId","isThread","numMessages","oldestTs","threadId"]),g=e(["id"]),h=e(["groupJid","creationTs","memberAddMode","msgExpiration","nameTs","participantVersion"]),y=e(["inviterJid","invitedParticipantId","inviteExpirationTs"]),C=e(["isQRScanned","rowId"]),b=e([]),v=e(["fbid","hashedPlaintextHash","mediaId","mediaType","msgIds","objectId","size","ts"]),S=e(["fbid","mediaBackupId","mediaId","msgId","objectId"]),R=e(["altIndex","externalId","msgId","rowId","sortOrderMs","threadJid","ack","ephemeralCounterStarted","ephemeralMsgDisappeared","ephemeralSetting","forwardingScore","groupId","groupIndex","groupSize","isExpiredXmaMsg","isForwarded","mediaId","messageDeleteTs","messageExpirationTs","originalTs","quoteExternalId","ravenEphemeralType","reportingMeta","resendCount","revokedExternalId","serverTs","specialTextSize","ts","type","unsendMsgContentDeleteTs","xmaMessageType","hdType"]),L=e(["id","threadJid","userJid","addressable","deliveredWatermarkTs","lastReadActionTs","lastReadWatermarkTs","type"]),E=e(["author","deliveryReceipts","externalId","id","readReceipts","thread"]),k=e(["externalIdWithType","deleteTs","rowId"]),I=e(["groupJid","hasSenderKey","rotateSenderKey","senderKeyId","senderKeyTs"]),T=e(["ack","externalId","groupingKey","reactionId","reactToExternalId","reactToMsgId","rowId","threadJid","ts"]),D=e(["msgId","permittedIdentitiesPerDevice","recipientDevices","retryCountsPerDevice"]),x=e(["staleQueueId","exception","dbVersion"]),$=e(["scheduledTime","taskName"]),P=e(["authoritativeThreadKey","chatId","deduplicationKey","jid","threadOrder","archived","cannotReplyReason","folder","isMigratedLocally","lastReadMsg","lastReadMsgReceiptSent","lastReadMsgTs","newestMsg","newestMsgTs","oldestMsg","optimisticThreadKey","snippetMsg","snippetMsgTs"]),N=e(["externalId","msgId","rowId","sortOrderMs","threadJid","ack","ephemeralSetting","mediaId","reportingMeta","resendCount","ts","type","xmaMessageType"]),M=e(["externalId","associatedMessageId","faviconMediaId","headerMediaId","targetExpiringAtSec","defaultPreviewMediaId","isTombstoned","maxSubtitleNumOfLines","maxTitleNumOfLines","msgId","previewMediaIds","targetId","targetType","threadJid","xmaId","xmaLayoutType"]),w={appData:l,appMeta:s,browserEncryptionMetaV2:u,chunk:c,deletedMessages:p,deviceChangeAlerts:_,dyiBatch:f,editMsgHistory:d,ephemeralSettings:m,existingUsers:g,groupInfo:h,groupInvites:y,historySyncQRCodeData:C,historySyncQRCodeSecretKey:b,media:v,mediaBackup:S,messages:R,participants:L,pendingReceipts:E,pendingStanzas:k,personalSenderKeyStatuses:I,reactions:T,receipts:D,staleQueue:x,tasks:$,threads:P,unrenderedMessages:N,xma:M};i.makeMetadataObject=e,i.MAWDbDumpMetadata=w}),66);
__d("MWLSIndexedDBDump",["EBMainThreadEBDBApiDeferred","JSONStringifyBigIntSafe","LSDatabaseDumpRedactor","MAWCacheServiceDB","MAWCurrentUser","MAWDBKeychain","MAWDBKeychainUI","MAWDbDumpMetadata","MAWDbObjEncryption","MAWIndexedDbMetadata","MAWKeychain","MWEARKeychainV3","MessengerLogHistory","MpsOverBridge","Promise","QPLUserFlow","WAHashUtils","WMIWABridgeApi","asyncToGeneratorRuntime","getErrorSafe","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("qpl")._(1056848054,"1409"),u=400,c=new Map([["messages",5e3],["reactions",5e3]]),d=o("MessengerLogHistory").getInstance("db_dump"),m={},p=!1,_=!1;function f(){var e=r("JSONStringifyBigIntSafe")(m),t=new Blob([e]).size;return d.debug("Getting IndexedDB snapshot with size "+t+" bytes..."),e}function g(){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){d.debug("Starting database preloading..."),p=!0,_=!0,r("QPLUserFlow").start(s);try{if(indexedDB.databases){var e=yield indexedDB.databases(),t=e.map(function(e){return e.name});d.debug("Found "+t.length+" databases: "+t.join(", "))}else d.debug("databases() is not supported in this browser");yield N()}catch(e){var n=r("getErrorSafe")(e);r("QPLUserFlow").endFailure(s,"dump_failed",{debugInfo:n.message,error:n})}r("QPLUserFlow").endSuccess(s)}),h.apply(this,arguments)}function y(){return p}function C(){_=!1}function b(){p=!1,p=!1,m={}}function v(e,t,n){var r;m[e]==null&&(m[e]={}),m[e][t]==null&&(m[e][t]=[]),(r=m[e][t]).push.apply(r,n)}function S(){var e=o("MAWCurrentUser").getID(),t=[o("MAWIndexedDbMetadata").dbName(e),o("MAWIndexedDbMetadata").encryptionDbName(e),o("MAWIndexedDbMetadata").jobsDbName(e)];return t}function R(e,t,n){var r=new Set(e),o=new Set(t),a=new Set(n),i=[];for(var l of t)r.has(l)&&i.push(l);for(var s of e)!o.has(s)&&!a.has(s)&&i.push(s);for(var u of n)r.has(u)&&i.push(u);return i}function L(e){return E.apply(this,arguments)}function E(){return E=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=[],o=function*(a){var o=t.objectStore(a),i=o.count(),l=new(e||(e=n("Promise")))(function(e,t){i.onsuccess=function(){e({count:i.result,storeName:a})},i.onerror=t});r.push(l)};for(var a of t.db.objectStoreNames)yield*o(a);var i=yield(e||(e=n("Promise"))).all(r),l={};for(var s of i)l[s.storeName]=s.count;return l}),E.apply(this,arguments)}var k=["threads","messages","contacts","participants","pendingStanzas","tasks"],I=["meta","media","mediaBackup","chunk"];function T(t,a){return new(e||(e=n("Promise")))(function(e,n){var i={};if(t.objectStoreNames.length===0)d.debug("No tables found within '"+t.name+"'"),e();else{d.debug("Tables within '"+t.name+"': "+t.objectStoreNames.length);var l=t.transaction(t.objectStoreNames,"readonly");l.addEventListener("error",n),L(l).then(function(e){d.debug("DB '"+t.name+"' structure: "+JSON.stringify(e))}).catch(function(e){var t;d.error("Failed to get object store counts: "+(e==null||(t=e.target)==null||(t=t.error)==null?void 0:t.message))});var s=R(Array.from(t.objectStoreNames),k,I),m=function(l){var n,s=[],m=t.transaction(l,"readonly"),p=m.objectStore(l).openCursor(null,"prev"),f=(n=c.get(l))!=null?n:u;p.onerror=function(e){var t;d.error("Failed to transact on '"+l+"': "+(e==null||(t=e.target)==null||(t=t.error)==null?void 0:t.message))};var g=0;p.onsuccess=function(n){_||e();var u=n.target.result;u&&g<f?(s.push(o("MAWDbObjEncryption").decryptDbObj(u.value,l,r("MAWKeychain").getDbEncryptionKey)),g++,u.continue()):(g>=f&&d.debug("v1 table '"+l+"' trimmed to "+g+" entries"),i[l]=D(s,o("MAWDbDumpMetadata").MAWDbDumpMetadata[l],l),v(a,l,i[l]),t.objectStoreNames.length===Object.keys(i).length&&e())}};for(var p of s)m(p)}})}function D(e,t,n){var r=[];for(var a of e){var i={},l=Object.entries(a);for(var s of l){var u,c=s[0],d=s[1];d=$(d),n==="media"&&c==="plaintextHash"&&typeof d=="string"?i[c]=o("WAHashUtils").sanitisePlaintextHash(o("WAHashUtils").stringToPlaintextHash(d)):d instanceof ArrayBuffer?i[c]=o("LSDatabaseDumpRedactor").getArrayBufferSnapshot(d):(t==null||(u=t.columns[c])==null?void 0:u.not_redacted_for_db_upload)===!0||d==null?i[c]=d:i[c]=o("LSDatabaseDumpRedactor").redactValue(String(d))}r.push(i)}return r}function x(e){if(typeof e!="object"||e===null)return!1;var t=Object.keys(e).length;return t!==32&&t!==33?!1:Object.entries(e).every(function(e,t){var n=e[0],r=e[1];return n===t.toString()&&Number.isInteger(r)})}function $(e){if(e instanceof ArrayBuffer)return e;if(Array.isArray(e))return e.map(function(e){return $(e)});if(typeof e=="object"&&e!==null){if(x(e))return"redacted:looks_like_key";var t={};for(var n in e)t[n]=$(e[n]);return t}return e}function P(t){return indexedDB?new(e||(e=n("Promise")))(function(e,n){var r=indexedDB.open(t);r.onerror=function(e){d.error("Failed to open() '"+t+"'"),n(e.target.error)},r.onsuccess=function(n){var r=n.target.result;return T(r,t).then(e).catch(function(e){d.error("Error during dumping "+t+": "+e)})}}):(e||(e=n("Promise"))).reject("indexedDB not initialized!")}function N(){return M.apply(this,arguments)}function M(){return M=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=S(),a;o("MWEARKeychainV3").InitStatus.is("maw_ear","success")||(yield o("MAWDBKeychainUI").initEARUI(),a=yield o("MAWDBKeychain").checkMawDbExists(),a!=null&&o("MWEARKeychainV3").setNamespaceSourceDbWithoutMarkingDbReady("maw_ear",a.backendDB()));var i=t.map(function(e){return P(e)}),l=o("EBMainThreadEBDBApiDeferred").getEBDBDump().then(function(e){for(var t of Object.keys(e))v("ebdb",t,[].concat(e[t]))}),s=o("MpsOverBridge").mps().debugDbDump().then(function(e){for(var t of Object.keys(e))v("mps",t,[].concat(e[t]))}),u=r("WMIWABridgeApi").debugGetSignalDbDump().then(function(e){for(var t of Object.keys(e))v("WA-SignalDB",t,[].concat(e[t]))}),c=o("MAWCacheServiceDB").getDbDump().then(function(e){for(var t of Object.keys(e))v("maw_cache_service",t,[].concat(e[t]))});yield(e||(e=n("Promise"))).all([].concat(i,[l,c,s,u])).finally(function(){var e;(e=a)==null||e.close()})}),M.apply(this,arguments)}l.getDatabaseSnapshot=f,l.preloadDB=g,l.isStartedDataFetch=y,l.stopDataFetch=C,l.cleanup=b,l.addRedactedData=v,l.sortTablesByPriority=R,l.redactData=D}),98);/*FB_PKG_DELIM*/
__d("ExternalShareOptionImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3043"),s=o("FalcoLoggerInternal").create("external_share_option_impression",e),u=s;l.default=u}),98);
__d("ExternalShareOptionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5134"),s=o("FalcoLoggerInternal").create("external_share_option_tapped",e),u=s;l.default=u}),98);
__d("PolarisBaseGraphQLEventHandler",[],(function(t,n,r,o,a,i){"use strict";var e="1/graphqlsubscriptions/",l=Object.freeze({BD_CHALLENGE:"BdChallenge",NONE:"",PINNED_QUESTION:"PinnedQuestion",QUESTION_STATUS:"QuestionStatus",WAVE:"Wave"}),s=(function(){function t(){}var n=t.prototype;return n.processEventMessage=function(t){},n.getSubTopic=function(){return null},n.getGraphQLSubsciptionPrefix=function(){return e},n.getType=function(){return l.NONE},t})();i.GRAPH_QL_EVENT_TYPES=l,i.BaseGraphQLEventHandler=s}),66);
__d("PolarisBdChallengeGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","PolarisDirectLogger","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e="17935802131473058",s=(function(t){function n(n){var a;return a=t.call(this)||this,a.$BdChallengeGraphQLEventHandler$p_1=new(o("PolarisDirectLogger")).DirectLogger("BDChallengeGraphQLEventHandler",n),a.$BdChallengeGraphQLEventHandler$p_1.debugTrace("bd_challenge_gql_handler_init"),a.$BdChallengeGraphQLEventHandler$p_2=a.getGraphQLSubsciptionPrefix()+e+"/"+JSON.stringify({input_data:{client_subscription_id:r("uuidv4")()}}),a}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.processEventMessage=function(t){var e=t.bd_challenge_event;if(e==null){this.$BdChallengeGraphQLEventHandler$p_1.debugTrace("parsed_message_bad_data");return}},a.getSubTopic=function(){return this.$BdChallengeGraphQLEventHandler$p_2},a.getType=function(){return o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.BD_CHALLENGE},n})(o("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);l.BdChallengeGraphQLEventHandler=s}),98);
__d("PolarisChannelClientID",["uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e=r("uuidv4")(),s={getID:function(){return e}},u=s;l.default=u}),98);
__d("PolarisDirectBaseSubscription",["getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,o){var a=this;this.$5=function(e){a.$4.debugTrace("message_received");var t=a.parsePayload(e);if(t!=null){var n;if(e.length===0){a.$4.logError("empty_message");return}else e[e.length-1]==="\0"?(n=e.substring(0,e.length-1),a.$4.debugTrace("trimmed_null_char")):n=e;var o={};try{o=JSON.parse(n)}catch(t){var i=r("getErrorSafe")(t),l={};i.message.includes("Unexpected token")&&(l.jsonFirstChars=typeof n=="string"?n.substr(0,3):null),a.$4.logError("Cannot parse message "+e,i,l);return}a.processMessage(o)}},this.$1=e,this.$2=t,this.$3=n,this.$4=o,this.$4.debugTrace("ctor")}var t=e.prototype;return t.parsePayload=function(t){return t},t.processMessage=function(t){},t.$6=function(t){var e;return JSON.stringify((e={},e[t]=this.getSubTopics(),e))},t.subscribe=function(){var e=this;if(this.getSubTopics().length<1){this.$4.debugTrace("no_subtopics_to_subscribe");return}this.$4.debugTrace("subscribe_start"),this.unsubscribe(),this.$3.subscribe(this.$1,this.$5),this.$3.publish(this.$1,this.$6("sub")).catch(function(t){var n=r("getErrorSafe")(t);e.$4.logError(n.message,n)}),this.$4.debugTrace("subscribe_end")},t.unsubscribe=function(){var e=this;if(this.getSubTopics().length<1){this.$4.debugTrace("no_subtopics_to_unsubscribe");return}this.$4.debugTrace("unsubscribe_start"),this.$3.publish(this.$1,this.$6("unsub")).catch(function(t){var n=r("getErrorSafe")(t);e.$4.logError(n.message,n)}),this.$3.unsubscribe(this.$1),this.$4.debugTrace("unsubscribe_end")},t.updateSubTopics=function(t){this.$2=t},t.getSubTopics=function(){return this.$2},e})();l.DirectBaseSubscription=e}),98);
__d("PolarisPinnedQuestionGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e="PINNED_QUESTION",s="18005526940184517",u=(function(t){function n(e,n){var o;return o=t.call(this)||this,o.$PinnedQuestionGraphQLEventHandler$p_1=e,o.$PinnedQuestionGraphQLEventHandler$p_2=o.getGraphQLSubsciptionPrefix()+s+"/"+JSON.stringify({input_data:{broadcast_id:String(n.id),client_subscription_id:r("uuidv4")()}}),o}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.processEventMessage=function(n){var t=n.live_active_question_event;if(t!=null){var r={question:t,type:e};this.$PinnedQuestionGraphQLEventHandler$p_1.eventHandler(r)}},a.getSubTopic=function(){return this.$PinnedQuestionGraphQLEventHandler$p_2},a.getType=function(){return o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION},n})(o("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);l.PinnedQuestionGraphQLEventHandler=u}),98);
__d("PolarisQuestionStatusGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e="QUESTION_STATUS",s="18027779584026952",u=(function(t){function n(e,n){var o;return o=t.call(this)||this,o.$QuestionStatusGraphQLEventHandler$p_1=e,o.$QuestionStatusGraphQLEventHandler$p_2=o.getGraphQLSubsciptionPrefix()+s+"/"+JSON.stringify({input_data:{broadcast_id:String(n.id),client_subscription_id:r("uuidv4")()}}),o}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.processEventMessage=function(n){var t=n.live_question_submission_status_event;if(t!=null){var r={status:t,type:e};this.$QuestionStatusGraphQLEventHandler$p_1.eventHandler(r)}},a.getSubTopic=function(){return this.$QuestionStatusGraphQLEventHandler$p_2},a.getType=function(){return o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS},n})(o("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);l.QuestionStatusGraphQLEventHandler=u}),98);
__d("PolarisWaveGraphQLEventHandler",["PolarisBaseGraphQLEventHandler","PolarisConfig","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e="LIVE_WAVE",s="17882305414154951",u=(function(t){function n(e,n){var a;return a=t.call(this)||this,a.$WaveGraphQLEventHandler$p_1=e,a.$WaveGraphQLEventHandler$p_2=a.getGraphQLSubsciptionPrefix()+s+"/"+JSON.stringify({input_data:{broadcast_id:String(n.id),client_subscription_id:r("uuidv4")(),receiver_id:o("PolarisConfig").getViewerId()},publish_data:{broadcast_id:String(n.id),receiver_id:o("PolarisConfig").getViewerId(),waver_id:String(n.broadcast_owner)}}),a}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.processEventMessage=function(n){var t=n.live_video_wave_event;if(t!=null){var r={type:e,wave:t};this.$WaveGraphQLEventHandler$p_1.eventHandler(r)}},a.getSubTopic=function(){return this.$WaveGraphQLEventHandler$p_2},a.getType=function(){return o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE},n})(o("PolarisBaseGraphQLEventHandler").BaseGraphQLEventHandler);l.WaveGraphQLEventHandler=u}),98);
__d("PolarisDirectGraphQLSubscription",["PolarisBaseGraphQLEventHandler","PolarisBdChallengeGraphQLEventHandler","PolarisDirectBaseSubscription","PolarisDirectLogger","PolarisPinnedQuestionGraphQLEventHandler","PolarisQuestionStatusGraphQLEventHandler","PolarisWaveGraphQLEventHandler","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){"use strict";var e="/ig_realtime_sub",s=(function(t){function n(n,r,a){var i,l=new(o("PolarisDirectLogger")).DirectLogger("DirectGraphQLSubscription",a);return i=t.call(this,e,[],r,l)||this,i.$DirectGraphQLSubscription$p_2=l,i.$DirectGraphQLSubscription$p_1=n,i.$DirectGraphQLSubscription$p_3=new Map,i.$DirectGraphQLSubscription$p_4(),i.getSubTopics(),i}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.$DirectGraphQLSubscription$p_4=function(){for(var e of Object.keys(o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES))o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES[e]!==o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE&&o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES[e]!==o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION&&!this.$DirectGraphQLSubscription$p_5(o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES[e])&&this.$DirectGraphQLSubscription$p_2.debugTrace("invalid_handler_type")},a.getSubTopics=function(){var e=[];for(var t of this.$DirectGraphQLSubscription$p_3){var n=t[0],o=t[1],a=o.getSubTopic();r("isStringNullOrEmpty")(a)||e.push(a)}return this.updateSubTopics(e),e},a.processMessage=function(n){for(var e of this.$DirectGraphQLSubscription$p_3){var r=e[0],o=e[1];o.processEventMessage(n)}t.prototype.processMessage.call(this,n)},a.enableOrDisableEventHandlerByType=function(t,n){return n?this.$DirectGraphQLSubscription$p_5(t)||this.$DirectGraphQLSubscription$p_2.debugTrace("invalid_handler_type"):this.$DirectGraphQLSubscription$p_3.delete(t),this},a.$DirectGraphQLSubscription$p_5=function(t){this.$DirectGraphQLSubscription$p_3||(this.$DirectGraphQLSubscription$p_3=new Map);var e=this.$DirectGraphQLSubscription$p_6(t);return e!=null?(this.$DirectGraphQLSubscription$p_3.set(t,e),!0):!1},a.$DirectGraphQLSubscription$p_6=function(t){switch(t){case o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.BD_CHALLENGE:return new(o("PolarisBdChallengeGraphQLEventHandler")).BdChallengeGraphQLEventHandler(this.$DirectGraphQLSubscription$p_2.getDebugId());default:return null}},a.enableLiveEventHandler=function(t,n,r){switch(r){case o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE:return this.$DirectGraphQLSubscription$p_3.set(o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE,new(o("PolarisWaveGraphQLEventHandler")).WaveGraphQLEventHandler(n,t)),this;case o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION:return this.$DirectGraphQLSubscription$p_3.set(o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION,new(o("PolarisPinnedQuestionGraphQLEventHandler")).PinnedQuestionGraphQLEventHandler(n,t)),this;case o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS:return this.$DirectGraphQLSubscription$p_3.set(o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS,new(o("PolarisQuestionStatusGraphQLEventHandler")).QuestionStatusGraphQLEventHandler(n,t)),this;default:return this}},a.disableLiveEventHandler=function(t){switch(t){case o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE:return this.$DirectGraphQLSubscription$p_3.delete(o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE),this;case o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION:return this.$DirectGraphQLSubscription$p_3.delete(o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.PINNED_QUESTION),this;case o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS:return this.$DirectGraphQLSubscription$p_3.delete(o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.QUESTION_STATUS),this;default:return this}},a.unsubscribeGraphQL=function(){this.unsubscribe(),this.enableOrDisableEventHandlerByType(o("PolarisBaseGraphQLEventHandler").GRAPH_QL_EVENT_TYPES.WAVE,!1)},n})(o("PolarisDirectBaseSubscription").DirectBaseSubscription);l.DirectGraphQLSubscription=s}),98);
__d("PolarisDirectIrisSubscription",["FBLogger","PolarisDirectLogger","getErrorSafe","isObject"],(function(t,n,r,o,a,i,l){"use strict";var e=1,s=2,u=1e3,c=64e3,d=(function(){function t(t,n,a,i){var l=this;this.$7=function(){l.$6.logDirectClientEvent("ig_direct_iris_subscription",o("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers.extends({},l.$2,{action:"attempt",attempt_reason:"mqtt-connected"})),l.$1.onIrisConnectivityChanged("Subscribing");var e=JSON.stringify(l.$2);l.$3.publish("/ig_sub_iris",e).catch(function(e){l.$6.logDirectClientEvent("ig_direct_iris_subscription",o("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers.extends({},l.$2,{action:"error",error:JSON.stringify(e)})),l.$1.onIrisConnectivityChanged("Unsubscribed")})},this.$8=function(t){var n;if(typeof t=="string"||t instanceof String)try{n=JSON.parse(t)}catch(e){var a=r("getErrorSafe")(e),i="Could not parse sub iris response $(response)";l.$6.logError(i,a),r("FBLogger")("ig_web").mustfix(i),n={succeeded:!1}}else r("isObject")(t)?n=t:(r("FBLogger")("ig_web").mustfix("Unknown sub iris response $(response)"),n={succeeded:!1});if(n.succeeded===!0)l.$6.logDirectClientEvent("ig_direct_iris_subscription",o("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers.extends({},l.$2,{action:"success"})),l.$1.onIrisConnectivityChanged("Subscribed",l.$2.subscription_type);else if(l.$6.logDirectClientEvent("ig_direct_iris_subscription",o("PolarisDirectLogger").DIRECT_CONTAINER_MODULES.ig_direct_realtime,babelHelpers.extends({},l.$2,n,{action:"error"})),l.$1.onIrisConnectivityChanged("Unsubscribed"),n.error_type===e)l.$1.onResnapshotRequested(l.$2);else if(n.error_type===s){var u=l.$4+Math.floor(Math.random()*1e3);window.setTimeout(l.$7,u),l.$4=Math.min(l.$4*2,c)}},this.$6=new(o("PolarisDirectLogger")).DirectLogger("DirectIrisSubscription",i),this.$6.debugTrace("ctor",n),this.$1=t,this.$2=n,this.$3=a,this.$4=u}var n=t.prototype;return n.subscribe=function(){this.$6.debugTrace("subscribe_start"),this.unsubscribe(),this.$3.subscribe("/ig_sub_iris_response",this.$8),this.$7(),this.$6.debugTrace("subscribe_end")},n.unsubscribe=function(){this.$6.debugTrace("unsubscribe_start"),this.$5&&(window.clearTimeout(this.$5),this.$5=null),this.$3.unsubscribe("/ig_sub_iris_response"),this.$1.onIrisConnectivityChanged("Unsubscribed"),this.$6.debugTrace("unsubscribe_end")},t})();l.DirectIrisSubscription=d}),98);
__d("PolarisDirectSkywalkerSubscription",["PolarisConfig","PolarisDirectBaseSubscription","PolarisDirectLogger","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e="/pubsub",s=(function(t){function n(n,a,i){var l,s=new(o("PolarisDirectLogger")).DirectLogger("DirectSkywalkerSubscription",i);return l=t.call(this,e,["ig/u/v1/"+r("nullthrows")(o("PolarisConfig").getViewerId())],a,s)||this,l.$DirectSkywalkerSubscription$p_2=s,l.$DirectSkywalkerSubscription$p_1=n,l}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.parsePayload=function(n){return n.indexOf("/activity_indicator_id/")===-1?(this.$DirectSkywalkerSubscription$p_2.debugTrace("not_activity_indicator_message"),null):t.prototype.parsePayload.call(this,n)},a.processMessage=function(n){var e=n.data,r=n.event;if(r!=="patch"){this.$DirectSkywalkerSubscription$p_2.debugTrace("skipped_message",{event:r});return}if(!Array.isArray(e)){this.$DirectSkywalkerSubscription$p_2.debugTrace("parsed_message_bad_data",typeof e);return}for(var o of e)this.$DirectSkywalkerSubscription$p_1.handleDelta(o,"");t.prototype.processMessage.call(this,n)},n})(o("PolarisDirectBaseSubscription").DirectBaseSubscription);l.DirectSkywalkerSubscription=s}),98);
__d("PolarisLiveDeltaHandler",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){this.eventHandler=t};i.default=e}),66);
__d("PolarisMqttEnv",[],(function(t,n,r,o,a,i){"use strict";var e=Object.freeze({messenger_uses_mqtt_rollout:2,mqtt_ep_with_sid:0,mqtt_fast_lp:11,mqtt_lp_use_fetch:9,mqtt_waterfall_log_client_sampling:1,mqtt_ws_forced_polling_only:4,mqtt_ws_polling_enabled:3,mqtt_ws_reconnect_reset:7}),l=(function(){function e(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}var t=e.prototype;return t.random=function(){return this.$1!=null?this.$1():Math.random()},t.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0},t.clearTimeout=function(t){if(this.$3!=null){this.$3(t);return}window.clearTimeout(t)},t.setTimeout=function(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),o=2;o<e;o++)r[o-2]=arguments[o];return this.$4!=null?this.$4.apply(null,arguments):window.setTimeout.apply(null,arguments)},t.getLoggerInstance=function(){return this.$5!=null?this.$5():s.getInstance()},t.genGk=function(t){return this.$6!=null?this.$6(t):!1},t.createSocket=function(t,n){return this.$7!=null?this.$7(t,n):new WebSocket(t)},t.scheduleCallback=function(t){return this.$8!=null?this.$8(t):t()},t.scheduleLoggingCallback=function(t){return this.$9!=null?this.$9(t):t()},t.configRead=function(t,n){return this.$10!=null?this.$10(t,n):n},t.configWrite=function(t,n){this.$11!=null&&this.$11(t,n)},t.initialize=function(t,n,r,o,a,i,l,s,u,c,d){this.$1=t,this.$2=n,this.$3=r,this.$4=o,this.$5=a,this.$6=i,this.$7=l,this.$8=s,this.$9=u,this.$10=c,this.$11=d},e})(),s=(function(){function e(){}e.getInstance=function(){return new e};var t=e.prototype;return t.setAppId=function(t){},t.eventLogConnect=function(t){var e=t.attemptNumber,n=t.connectionStatus,r=t.duration,o=t.errorCode,a=t.errorMessage,i=t.failTotal,l=t.hostname,s=t.publishes,u=t.sessionID,c=t.subscribedTopics,d=t.successTotal},t.eventLogPull=function(t){var e=t.duration,n=t.errorMessage,r=t.hostname,o=t.pullEventName,a=t.sessionID,i=t.status},t.eventLogDisconnect=function(t){var e=t.duration,n=t.errorCode,r=t.errorMessage,o=t.sessionID},t.eventLogPublish=function(t){var e=t.connectionStatus,n=t.publishStatus,r=t.sessionID,o=t.topic},t.eventLogMiscellaneousError=function(t){var e=t.errorMessage},t.logError=function(t,n){},t.logErrorWarn=function(t,n){},t.logWarn=function(t,n){},t.debugTrace=function(t,n){},t.bumpCounter=function(t){},e})(),u={Env:new l,MqttGkNames:e};i.default=u}),66);
__d("PolarisIrisSubscribeChecker",["PolarisMqttEnv"],(function(t,n,r,o,a,i){"use strict";var e=n("PolarisMqttEnv").Env,l=n("PolarisMqttEnv").MqttGkNames,s=(function(){function t(t){if(this.$1=e.getLoggerInstance(),this.$2=null,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=!0,this.$7=0,this.$8=t,typeof window!="undefined"){var n=window.location.hostname;(n==="m.facebook.com"||n==="mobile.facebook.com"||n==="mtouch.facebook.com")&&(this.$6=!1)}e.genGk(l.messenger_uses_mqtt_rollout)||(this.$6=!1)}var n=t.prototype;return n.start=function(){this.$6=!0},n.stop=function(){this.$6=!1,this.$9()},n.onConnectAttempt=function(){},n.onConnectFailure=function(){this.$9()},n.onConnected=function(){var t=this;this.$7++,this.$9(),this.$3=!1,this.$4=!1,this.$5=!1,this.$6&&(this.$2=e.setTimeout(function(){t.$10()},8e3))},n.onConnectSuccess=function(){},n.onConnectionLost=function(){this.$9()},n.onSubscribe=function(t){t==="/t_ms"&&(this.$3=!0)},n.onUnsubscribe=function(t){},n.onPublish=function(t){(t==="/messenger_sync_get_diffs"||t==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))},n.onMessage=function(t){},n.onWSFatal=function(){},n.$9=function(){this.$2&&(e.clearTimeout(this.$2),this.$2=null)},n.$10=function(){if(this.$4===!1){var e=this.$7===1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(e),this.$1.eventLogMiscellaneousError({errorMessage:e}),this.$8()?this.$1.bumpCounter(e+".withProvider"):this.$1.bumpCounter(e+".withoutProvider"),this.$3===!0?this.$1.bumpCounter(e+".withTopicSubscribe"):this.$1.bumpCounter(e+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe"),this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")},t})();a.exports=s}),null);
__d("PolarisMqttAnalyticsHook",["InstagramODS","PolarisMqttEnv"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=r("PolarisMqttEnv").Env.getLoggerInstance(),this.$2=0,this.$3=0,this.$4=0,this.$5=0,r("InstagramODS").incr("web.mqtt.session_start"),r("PolarisMqttEnv").Env.isUserLoggedInNow()||r("InstagramODS").incr("web.mqtt.session_start.logout")}var t=e.prototype;return t.onConnectAttempt=function(){r("InstagramODS").incr("web.mqtt.ws_connect_attempt")},t.onConnectFailure=function(){this.$3++,r("InstagramODS").incr("web.mqtt.ws_connect_failure")},t.onConnected=function(){r("InstagramODS").incr("web.mqtt.ws_connect_connected")},t.onConnectSuccess=function(){this.$2===0&&r("InstagramODS").incr("web.mqtt.ws_connect_first_success"),this.$2++,r("InstagramODS").incr("web.mqtt.ws_connect_success")},t.onConnectionLost=function(){r("InstagramODS").incr("web.mqtt.ws_disconnect")},t.onSubscribe=function(t){},t.onUnsubscribe=function(t){},t.onPublish=function(t){r("InstagramODS").incr("web.mqtt.ws_publish")},t.onMessage=function(t){r("InstagramODS").incr("web.mqtt.message_arrived")},t.onWSFatal=function(){r("InstagramODS").incr("web.mqtt.ws_fatal")},t.onPollRequestSent=function(){r("InstagramODS").incr("web.mqtt.polling_request_send")},t.onPollRequestSuccess=function(){r("InstagramODS").incr("web.mqtt.polling_request_succeed"),this.$4===0&&r("InstagramODS").incr("web.mqtt.polling_first_success"),this.$4++},t.onPollResponse=function(){r("InstagramODS").incr("web.mqtt.lp.message_arrived")},t.onPollFinish=function(){},t.onPollRequestFailed=function(){r("InstagramODS").incr("web.mqtt.polling_request_failed"),this.$5++},e})();l.default=e}),98);
__d("PolarisMqttConnectionHookCollection",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1=new Set}var t=e.prototype;return t.addHook=function(t){this.$1.add(t)},t.removeHook=function(t){this.$1.delete(t)},t.onConnectAttempt=function(){this.$1.forEach(function(e){e.onConnectAttempt()})},t.onConnectFailure=function(){this.$1.forEach(function(e){e.onConnectFailure()})},t.onConnected=function(){this.$1.forEach(function(e){e.onConnected()})},t.onConnectSuccess=function(){this.$1.forEach(function(e){e.onConnectSuccess()})},t.onConnectionLost=function(){this.$1.forEach(function(e){e.onConnectionLost()})},t.onSubscribe=function(t){this.$1.forEach(function(e){e.onSubscribe(t)})},t.onUnsubscribe=function(t){this.$1.forEach(function(e){e.onUnsubscribe(t)})},t.onPublish=function(t){this.$1.forEach(function(e){e.onPublish(t)})},t.onMessage=function(t){this.$1.forEach(function(e){e.onMessage(t)})},t.onWSFatal=function(){this.$1.forEach(function(e){e.onWSFatal()})},e})();i.default=e}),66);
__d("PolarisMqttProtocolUtils",["PolarisMqttEnv"],(function(t,n,r,o,a,i){"use strict";var e=n("PolarisMqttEnv").Env;function l(e,t){if(e==null)return t;var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function s(e,t){var n=t,r=0,o=1,a;do{if(n===e.length)return null;a=e[n++],r+=(a&127)*o,o*=128}while((a&128)!==0);return{offset:n,value:r}}function u(e){for(var t=e,n=new Array(1),r=0;r<4;r++){var o=t%128;if(t>>=7,t>0)n[r]=o|128;else{n[r]=o;break}}return n}function c(e,t,n){var r=n;return t[r++]=e>>8,t[r++]=e%256,r}function d(e,t){return 256*e[t]+e[t+1]}function m(e){for(var t=0,n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);o<128?t+=1:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,n++):t+=3}return t}function p(e,t,n,r){var o=c(t,n,r);return _(e,n,o),o+t}function _(e,t,n){for(var r=n,o=0,a=e.length;o<a;o++){var i=e.charCodeAt(o);i<128?t[r++]=i:i<2048?(t[r++]=192|i>>6,t[r++]=128|i&63):i<55296||i>=57344?(t[r++]=224|i>>12,t[r++]=128|i>>6&63,t[r++]=128|i&63):(i=65536+((i&1023)<<10|e.charCodeAt(++o)&1023),t[r++]=240|i>>18,t[r++]=128|i>>12&63,t[r++]=128|i>>6&63,t[r++]=128|i&63)}}function f(e,t,n){for(var r=[],o=t,a=0;o<t+n;){var i=e[o++];if(i<128)r[a++]=String.fromCharCode(i);else if(i>191&&i<224){var l=e[o++];r[a++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){var s=e[o++],u=e[o++],c=e[o++],d=((i&7)<<18|(s&63)<<12|(u&63)<<6|c&63)-65536;r[a++]=String.fromCharCode(55296+(d>>10)),r[a++]=String.fromCharCode(56320+(d&1023))}else{var m=e[o++],p=e[o++];r[a++]=String.fromCharCode((i&15)<<12|(m&63)<<6|p&63)}}return r.join("")}var g=(function(){function t(e,t,n){this.$1=e*1e3,this.$4=t,this.$5=n,this.$3=!1}var n=t.prototype;return n.$6=function(){var t=this;this.$3?(this.$3=!1,this.$4(),this.$2=e.setTimeout(function(){t.$6()},this.$1)):this.$5()},n.reset=function(){var t=this;this.$3=!0,this.$2&&(e.clearTimeout(this.$2),this.$2=null),this.$1>0&&(this.$2=e.setTimeout(function(){t.$6()},this.$1))},n.cancel=function(){this.$2&&(e.clearTimeout(this.$2),this.$2=null)},t})();a.exports={Pinger:g,UTF8Length:m,concatBuffers:l,convertStringToUTF8:_,convertUTF8ToString:f,decodeMultiByteInt:s,encodeMultiByteInt:u,readUInt16BE:d,writeString:p,writeUInt16BE:c}}),null);
__d("PolarisMqttUtils",["PolarisMqttEnv","err","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e={endpointWithExtraParameter:function(t,n,r){return t.indexOf("?")>0?t+"&"+n+"="+r:t+"?"+n+"="+r},endpointWithExtraParameters:function(n,r){var t=n;return r.forEach(function(n,r){t=e.endpointWithExtraParameter(t,r,n)}),t},endpointWithSessionId:function(n,o){return r("PolarisMqttEnv").Env.genGk(r("PolarisMqttEnv").MqttGkNames.mqtt_ep_with_sid)?e.endpointWithExtraParameter(n,"sid",o.toString()):n},generateSessionId:function(){return Math.floor(r("PolarisMqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)},hasWSSupport:function(){return"WebSocket"in t&&t.WebSocket!==null},promiseDone:function(t,n,o){var e=arguments.length>1?t.then(n,o):t;r("promiseDone")(e.then(null,function(e){r("PolarisMqttEnv").Env.setTimeout(function(){throw e instanceof Error?e:r("err")("promiseDone")},0)}))},sprintf:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=0;return t.replace(/%s/g,function(){return String(n[o++])})}},s=e;l.default=s}),98);
__d("PolarisMqttProtocolCodec",["PolarisMqttProtocolUtils","PolarisMqttUtils"],(function(t,n,r,o,a,i){"use strict";var e,l=(e=n("PolarisMqttProtocolUtils")).UTF8Length,s=e.convertStringToUTF8,u=e.convertUTF8ToString,c=e.decodeMultiByteInt,d=e.encodeMultiByteInt,m=e.readUInt16BE,p=e.writeString,_=e.writeUInt16BE,f=n("PolarisMqttUtils").sprintf,g=Object.freeze({CONNACK:2,CONNECT:1,DISCONNECT:14,PINGREQ:12,PINGRESP:13,PUBACK:4,PUBLISH:3,SUBACK:9,SUBSCRIBE:8,UNSUBACK:11,UNSUBSCRIBE:10}),h=[0,6,77,81,73,115,100,112,3];function y(e,t){var n=t,r=n,o=e[n],a=o>>4;n+=1;var i=c(e,n);if(i==null)return{position:r,wireMessage:null};n=i.offset;var l=n+i.value;if(l>e.length)return{position:r,wireMessage:null};var s;switch(a){case g.CONNACK:{var d=e[n++],p=!!(d&1),_=e[n++];s=new L(p,_);break}case g.PUBLISH:{var h=o&15,y=h>>1&3,C=m(e,n);n+=2;var b=u(e,n,C);n+=C;var S=null;y===1&&(S=m(e,n),n+=2);var k=T.createWithBytes(e.subarray(n,l)),I=(h&1)===1,x=(h&8)===8;s=new D(b,k,y,S,I,x);break}case g.PINGREQ:s=new v("PINGREQ");break;case g.PINGRESP:s=new v("PINGRESP");break;case g.PUBACK:case g.UNSUBACK:{var $=m(e,n);s=new E(a===g.PUBACK?"PUBACK":"UNSUBACK",$);break}case g.SUBACK:{var P=m(e,n);n+=2;var N=e.subarray(n,l);s=new R(P,N);break}default:throw new Error(f("Invalid MQTT message type %s.",a))}return{position:l,wireMessage:s}}function C(e){for(var t=[],n=0;n<e.length;){var r=y(e,n),o=r.wireMessage;if(n=r.position,o)t.push(o);else break}var a=null;return n<e.length&&(a=e.subarray(n)),{messages:t,remaining:a}}var b=(function(){function e(e){this.messageType=g[e]}var t=e.prototype;return t.encode=function(){throw new TypeError("Cannot abstract class WireMessage")},e})(),v=(function(e){function t(t){return e.call(this,t)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.encode=function(){var e=new ArrayBuffer(2),t=new Uint8Array(e);return t[0]=(this.messageType&15)<<4,e},t})(b),S=(function(e){function t(){return e.call(this,"DISCONNECT")||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.encode=function(){var e=(this.messageType&15)<<4,t=new ArrayBuffer(2),n=new Uint8Array(t);return n[0]=e,n.set(d(0),1),t},t})(b),R=(function(e){function t(t,n){var r;return r=e.call(this,"SUBACK")||this,r.messageIdentifier=t,r.returnCode=n,r}return babelHelpers.inheritsLoose(t,e),t})(b),L=(function(e){function t(t,n){var r;return r=e.call(this,"CONNACK")||this,r.sessionPresent=t,r.returnCode=n,r}return babelHelpers.inheritsLoose(t,e),t})(b),E=(function(e){function t(t,n){var r;return r=e.call(this,t)||this,r.messageIdentifier=n,r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.encode=function(){var e=(this.messageType&15)<<4,t=2,n=d(t),r=n.length+1,o=new ArrayBuffer(t+r),a=new Uint8Array(o);return a[0]=e,a.set(n,1),r=_(this.messageIdentifier,a,r),o},t})(b),k=(function(e){function t(t,n){var r;return r=e.call(this,"CONNECT")||this,r.clientId=t,r.connectOptions=n,r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.encode=function(){var e=(this.messageType&15)<<4,t=h.length+3;t+=l(this.clientId)+2,t+=l(this.connectOptions.userName)+2;var n=d(t),r=new ArrayBuffer(1+n.length+t),o=new Uint8Array(r);o[0]=e;var a=1;o.set(n,1),a+=n.length,o.set(h,a),a+=h.length;var i=130;return o[a++]=i,a=_(this.connectOptions.keepAliveInterval,o,a),a=p(this.clientId,l(this.clientId),o,a),a=p(this.connectOptions.userName,l(this.connectOptions.userName),o,a),r},t})(b),I=(function(e){function t(t,n,r,o){var a;if(a=e.call(this,t)||this,a.topic=n,r<0&&r>1||r===1&&o==null)throw new TypeError(f("Argument Invalid. qos: %s messageType: %s.",r,t));return a.qos=r,a.messageIdentifier=o,a}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.encode=function(){var e=(this.messageType&15)<<4;e|=2;var t=l(this.topic),n=2+t+2;this.messageType===g.SUBSCRIBE&&(n+=1);var r=d(n),o=new ArrayBuffer(1+r.length+n),a=new Uint8Array(o);a[0]=e;var i=1;return a.set(r,1),i+=r.length,this.messageIdentifier!=null&&(i=_(this.messageIdentifier,a,i)),i=p(this.topic,t,a,i),this.messageType===g.SUBSCRIBE&&this.qos!=null&&(a[i++]=this.qos),o},t})(b),T=(function(){function e(e,t){this.payloadString=e,this.payloadBytes=t}e.createWithString=function(n){var t=new Uint8Array(new ArrayBuffer(l(n)));return s(n,t,0),new e(n,t)},e.createWithBytes=function(n){for(var t=0,r=n.length;t<n.length&&n[t]!==123&&n[t]!==91;)t++,r--;var o=u(n,t,r),a=n.subarray(t,r);return new e(o,a)};var t=e.prototype;return t.string=function(){return this.payloadString},t.bytes=function(){return this.payloadBytes},e})(),D=(function(e){function t(t,n,r,o,a,i){var l;if(l=e.call(this,"PUBLISH")||this,l.topic=t,l.payloadMessage=n,l.qos=r,l.messageIdentifier=o,l.retained=a!=null?a:!1,l.duplicate=i!=null?i:!1,l.qos===1&&l.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return l}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.encode=function(){var e=(this.messageType&15)<<4;this.duplicate&&(e|=8),e=e|=this.qos<<1,this.retained&&(e|=1);var t=l(this.topic),n=t+2;n+=this.messageIdentifier==null?0:2;var r=this.payloadMessage.bytes();n+=r.byteLength;var o=d(n),a=new ArrayBuffer(1+o.length+n),i=new Uint8Array(a);i[0]=e,i.set(o,1);var s=1+o.length;return s=p(this.topic,t,i,s),this.messageIdentifier!=null&&(s=_(this.messageIdentifier,i,s)),i.set(r,s),a},t})(b);a.exports={MESSAGE_TYPE:g,WireMessage:{Base:b,ConnAck:L,Connect:k,Disconnect:S,Ping:v,PubAckUnsubAck:E,Publish:D,Subscription:I},createMessageWithString:T.createWithString,decodeByteMessages:C,decodeMessage:y}}),null);
__d("PolarisMqttTypes",[],(function(t,n,r,o,a,i){"use strict";var e=function(t,n){this.errorCode=t,this.errorMessage=n},l=function(t,n){this.mqttError=t,this.connAck=n},s=(function(e){function t(t,n,r){var o;return r===void 0&&(r=null),o=e.call(this,n)||this,o.isRecoverable=t,o.originalError=r,o}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));a.exports={ConnectFailure:l,MqttChannelError:s,MqttError:e}}),null);
__d("PolarisMqttProtocolClient",["PolarisMqttEnv","PolarisMqttProtocolCodec","PolarisMqttProtocolUtils","PolarisMqttTypes"],(function(t,n,r,o,a,i){"use strict";var e,l=n("PolarisMqttEnv").Env,s=(e=n("PolarisMqttProtocolCodec")).MESSAGE_TYPE,u=e.WireMessage,c=e.createMessageWithString,d=e.decodeByteMessages,m=n("PolarisMqttProtocolUtils").Pinger,p=n("PolarisMqttProtocolUtils").concatBuffers,_=n("PolarisMqttTypes").ConnectFailure,f=n("PolarisMqttTypes").MqttError,g=30,h=6e4,y={APP_DISCONNECT:new f(7,"Disconnect initiated by app"),CONNACK_FAILURE:new f(5,"Connection failure due to connack"),CONNECT_TIMEOUT:new f(4,"Connect timed out"),INVALID_DATA_TYPE:new f(3,"Received non-arraybuffer from socket."),PING_TIMEOUT:new f(6,"Ping timeout"),SERVER_DISCONNECT:new f(8,"Disconnect message sent my server"),SOCKET_CLOSE:new f(9,"Socket connection closed"),SOCKET_ERROR:new f(1,"Socket error"),SOCKET_MESSAGE:new f(2,"Unable to parse invalid socket message")},C=(function(){function e(e){var t=this;this.$11=function(e,n){var r=t.$5,o=t.$2,a=o.onConnectFailure,i=o.onConnectionLost;t.setConnected(!1),r?l.scheduleCallback(function(){i(e)}):l.scheduleCallback(function(){a(new _(e,n!=null?n:-1))}),t.$13()},this.$12=function(e){var n=t.$6;n!=null&&n.readyState===n.OPEN&&n.send(e.encode())},this.handleMessage=function(e){switch(e.messageType){case s.CONNACK:if(t.$7!=null&&(l.clearTimeout(t.$7),t.$7=null),e instanceof u.ConnAck){var n=e;if(n.returnCode!==0){t.$9.bumpCounter("protocol.error.connack.invalidreturncode"),t.setConnected(!1),t.$11(y.CONNACK_FAILURE,n.returnCode);return}l.scheduleCallback(function(){t.$2.onConnectSuccess()}),t.$8!=null&&t.$8.reset()}break;case s.PUBLISH:if(e instanceof u.Publish){var r=e;l.scheduleCallback(function(){t.$2.onMessageArrived(r.topic,r.payloadMessage.payloadString)});var o=r.messageIdentifier;if(t.$9.bumpCounter("protocol.publish.received"),r.qos===1&&o!=null){var a=new u.PubAckUnsubAck("PUBACK",o);t.$12(a)}}break;case s.PUBACK:if(e instanceof u.PubAckUnsubAck){var i=e,c=i.messageIdentifier;t.$9.bumpCounter("protocol.puback.received"),l.scheduleCallback(function(){t.$2.onMessageDelivered(c)})}break;case s.PINGRESP:t.$8!=null&&t.$8.reset();break;case s.DISCONNECT:t.$11(y.SERVER_DISCONNECT);break;case s.SUBACK:t.$9.bumpCounter("protocol.suback.received");break;case s.UNSUBACK:t.$9.bumpCounter("protocol.unsuback.received");break;default:t.$9.logError(new Error("MqttProtocolClient: Received unhandled message type: "+e.messageType),"Received unhandled message type"),t.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}},this.$3=e,this.$2={ignoreSubProtocol:!1,keepAliveInterval:10,mqttVersion:3,onConnectFailure:function(t){},onConnection:function(){},onConnectionError:function(t){},onConnectionLost:function(t){},onConnectSuccess:function(){},onMessageArrived:function(t,n){},onMessageDelivered:function(t){},userName:""},this.$1="mqttwsclient",this.$4=0,this.$5=!1,this.$9=l.getLoggerInstance()}var t=e.prototype;return t.connect=function(t){var e=this;if(this.$5)throw new Error("Invalid state: connect - already connected");this.$2=t,this.setConnected(!1),this.$7!=null&&(l.clearTimeout(this.$7),this.$7=null),this.$7=l.setTimeout(function(){e.$9.bumpCounter("protocol.error.connect.timeout"),e.$11(y.CONNECT_TIMEOUT)},g*1e3),this.$6=l.createSocket(this.$3),this.$6.binaryType="arraybuffer",this.$6.onopen=function(){e.setConnected(!0),e.$12(new u.Connect(e.$1,t)),t.onConnection()},this.$6.onmessage=function(t){var n=t.data;if(!(n instanceof ArrayBuffer)){e.$9.bumpCounter("protocol.error.onmessage.type"),e.$11(y.INVALID_DATA_TYPE);return}try{var r=new Uint8Array(n);e.$10!=null&&(r=p(e.$10,r),e.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete e.$10,e.$10=null);var o=d(r),a=o.messages;e.$10=o.remaining;for(var i=0;i<a.length;i++)e.handleMessage(a[i])}catch(t){e.$10=null,e.$9.logError(t,y.SOCKET_MESSAGE.errorMessage),e.$9.bumpCounter("protocol.error.onmessage.parse"),e.$11(y.SOCKET_MESSAGE)}},this.$6.onerror=function(t){e.$9.bumpCounter("protocol.error.socket"),e.$11(y.SOCKET_ERROR)},this.$6.onclose=function(t){e.$9.bumpCounter("protocol.socket.close"),e.$11(y.SOCKET_CLOSE)},this.$8!=null&&this.$8.cancel(),this.$8=new m(t.keepAliveInterval,this.$12.bind(this,new u.Ping("PINGREQ")),this.$11.bind(this,y.PING_TIMEOUT))},t.$13=function(){this.setConnected(!1),this.$8!=null&&this.$8.cancel(),this.$7!=null&&(l.clearTimeout(this.$7),this.$7=null),this.$6!=null&&(this.$6.onopen=function(e){},this.$6.onmessage=function(e){},this.$6.onerror=function(e){},this.$6.onclose=function(e){},this.$6.readyState===this.$6.OPEN&&this.$6.close(),delete this.$6,this.$6=null),this.$2.onConnectSuccess=function(){},this.$2.onConnectFailure=function(e){},this.$2.onConnection=function(){},this.$2.onConnectionError=function(e){},this.$2.onConnectionLost=function(e){},this.$2.onMessageArrived=function(e,t){},this.$2.onMessageDelivered=function(e){}},t.disconnect=function(){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$13();return}this.$12(new u.Disconnect),this.$9.bumpCounter("protocol.debug.disconnect"),this.$11(y.APP_DISCONNECT)},t.isConnected=function(){return this.$5},t.setConnected=function(t){this.$5=t},t.subscribe=function(t){if(!this.$5)throw this.$9.bumpCounter("protocol.error.subscribe.notconnected"),new Error("Invalid state: subscribe - not connected");this.$9.bumpCounter("protocol.subscribe."+t);var e=new u.Subscription("SUBSCRIBE",t,0,this.$14());this.$12(e)},t.unsubscribe=function(t){if(!this.$5)throw this.$9.bumpCounter("protocol.error.unsubscribe.notconnected"),new Error("Invalid state: unsubscribe - not connected");this.$9.bumpCounter("protocol.unsubscribe."+t);var e=new u.Subscription("UNSUBSCRIBE",t,0,this.$14());this.$12(e)},t.publish=function(t,n,r){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected"),this.$9.bumpCounter("protocol.publish."+t);var e=this.$14(),o=new u.Publish(t,c(n),r,e);return this.$12(o),e},t.$14=function(){return++this.$4===h&&(this.$4=1),this.$4},e})();a.exports=C}),null);
__d("PolarisMqttUserName",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t,n,r,o,a,i){this.$1=e,this.$2=t,this.$3=n,this.$4=r,this.$5=o,this.$6=a,this.$8=i,this.$7=typeof document=="object"&&document&&document.hasFocus()}var t=e.prototype;return t.gen=function(t,n,r){var e={a:navigator.userAgent,aid:this.$5,asi:void 0,chat_on:this.$6,cp:this.$3,ct:"cookie_auth",d:this.$4,dc:"",ecp:this.$2,fg:this.$7,mqtt_sid:"",no_auto_fg:!0,pm:r,s:t,st:n,u:this.$1};return this.$8&&this.$8.appSpecificInfo&&(e.asi=this.$8.appSpecificInfo),JSON.stringify(e)},t.setForegroundState=function(t){this.$7=t},t.setChatVisibility=function(t){this.$6=t},e})();i.default=e}),66);
__d("PolarisMqttConnection",["InstagramODS","PolarisMqttConnectionHookCollection","PolarisMqttEnv","PolarisMqttProtocolClient","PolarisMqttTypes","PolarisMqttUserName","PolarisMqttUtils","Promise","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=10,u="publish",c="subscribe",d="unsubscribe";function m(e){}var p=18e4,_=5*1e3,f=15,g=21,h=(function(){function t(e){this.$8=!1,this.$10=r("PolarisMqttEnv").Env.getLoggerInstance(),this.$11="Disconnected",this.$14=new Set,this.$15=new Map,this.$17=0,this.$18=0,this.$12=0,this.$13=0,this.$8=!1,this.$5="",this.$6=new(r("PolarisMqttUserName"))("0",0,1,"",0,!0),this.$9=0,this.$7=null;var t=function(){};this.$1=t,this.$2=t,this.$3=t,this.$19=new(r("PolarisMqttConnectionHookCollection")),this.$4=function(){return[]},this.$16=e}var o=t.prototype;return o.run=function(t){var e=this,n=t.endpoint,r=t.extraConnectMessageProvider,o=t.mqttUserName,a=t.onJSError,i=t.onMessageReceived,l=t.onStateChange,s=t.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=l,this.$3=i,this.$5=n,this.$6=o,this.$8=!0,this.$12=0,this.$2=a||m,s&&s.forEach(function(t){return e.$14.add(t)}),this.$4=r,this.$20()},o.shutdown=function(){this.$21(),this.$22("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")},o.subscribe=function(t){return this.$14.add(t),this.ensureConnected(c)&&this.$23(t),!0},o.publish=function(r,o,a){var t={reject:function(t){},resolve:function(){}},i=new(e||(e=n("Promise")))(function(e,n){t.resolve=e,t.reject=n}),l=this.ensureConnected(u),s="connection_unknown";if(!l)s="connection_not_connected",t.reject(new Error("Client disconnected"));else{var c=this.$24(r,o,a,t);s=c===!0?"connection_published":"connection_failed"}return this.$10.eventLogPublish({connectionStatus:l,publishStatus:s,sessionID:this.$9,topic:r}),i},o.unsubscribe=function(t){return this.$14.delete(t),this.ensureConnected(d)&&this.$25(t),!0},o.addHook=function(t){this.$19.addHook(t)},o.removeHook=function(t){this.$19.removeHook(t)},o.isRunning=function(){return this.$8},o.getSessionId=function(){return this.$9},o.ensureConnected=function(t){if(!this.$8)return this.$10.debugTrace("ensureConnected","Mqtt connection: "+t+" called when not running"),!1;if(this.$7==null)return this.$10.debugTrace("ensureConnected","Mqtt connection: "+t+" called when not connected, ignored"),!1;var e=this.$7.isConnected();return e?!0:(this.$10.debugTrace("ensureConnected","Mqtt connection: "+t+" called with client not connected"),!1)},o.connectionState=function(){return this.$11},o.testOnlyGetSubscribedTopics=function(){return this.$14},o.$21=function(){this.$8&&this.$7!=null&&(this.$26("Disconnected"),this.$7!=null&&this.$7.disconnect(),this.$7=null)},o.$26=function(t){t!==this.$11&&(this.$11=t,this.$1(t))},o.$20=function(){var e=this;if(this.$8){this.$26("Connecting");var t=Date.now();this.$9=r("PolarisMqttUtils").generateSessionId();var n=Array.from(this.$14),o=r("PolarisMqttUtils").endpointWithSessionId(this.$5,this.$9);try{this.$7=new(r("PolarisMqttProtocolClient"))(o);var a=this.$27(),i=a.map(function(e){return e.topic}),l=this.$6.gen(this.$9,n,a);this.$7!=null&&(this.$7.connect({ignoreSubProtocol:!0,keepAliveInterval:s,mqttVersion:3,onConnectFailure:function(o){return e.$28(o,t,n,i)},onConnection:function(){return e.$29(a,n)},onConnectionError:function(n){return e.$30(n)},onConnectionLost:function(n){return e.$31(n)},onConnectSuccess:function(){return e.$32(t,n,i)},onMessageArrived:function(n,r){return e.$33(n,r)},onMessageDelivered:function(n){return e.$34(n)},userName:l}),r("InstagramODS").incr("web.mqtt.protocol.connectattempt"),this.$19.onConnectAttempt())}catch(e){var u=r("getErrorSafe")(e);r("InstagramODS").incr("web.mqtt.js_error_in_init_exception"),this.$26("Disconnected"),this.$35(!1,t,n,[],14,u.message),u&&this.$10.logErrorWarn(u,"ws_js_error"),this.$19.onWSFatal(),this.$36(new(r("PolarisMqttTypes")).MqttChannelError(!1,"ws_js_error",u),"client_init")}}},o.$27=function(){var e=this.$4(),t=65536;return e.map(function(e){return e.messageId=t--,e})},o.$23=function(t){try{if(this.$7!=null)return this.$7.subscribe(t),this.$10.debugTrace("#doSubscribe","Subscribing to "+t),this.$19.onSubscribe(t),r("InstagramODS").incr("web.mqtt.protocol.subscribe"),!0}catch(t){var e=r("getErrorSafe")(t);this.$10.logError(e,"Exception subscribing"),r("InstagramODS").incr("web.mqtt.subscribe_exception"),r("InstagramODS").incr("web.mqtt.protocol.subscribe.error")}return!1},o.$25=function(t){try{if(this.$7!=null)return this.$7.unsubscribe(t),this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+t),this.$19.onUnsubscribe(t),r("InstagramODS").incr("web.mqtt.protocol.unsubscribe"),!0}catch(t){var e=r("getErrorSafe")(t);this.$10.logError(e,"Exception unsubscribing"),r("InstagramODS").incr("web.mqtt.unsubscribe_exception"),r("InstagramODS").incr("web.mqtt.protocol.unsubscribe.error")}return!1},o.$24=function(t,n,o,a){if(this.$7!=null)try{var e=this.$7.publish(t,n,o);r("InstagramODS").incr("web.mqtt.protocol.publish");var i=e!=null?e:"null";return this.$10.debugTrace("#doPublish","publish "+t+" with messageId:"+i+" qos:"+o),this.$19.onPublish(t),e!=null?this.$15.set(e,a):a.resolve(),!0}catch(e){var l=r("getErrorSafe")(e);return this.$10.logError(l,"Exception publishing"),r("InstagramODS").incr("web.mqtt.publish_exception"),a.reject(l),r("InstagramODS").incr("web.mqtt.protocol.publish.error"),!1}else return!1},o.$37=function(t){var e=this;if(t===void 0&&(t=null),!!this.$8){this.$21(),this.$22("reconnect"),this.$38(),this.$9=-1,this.$13=0;var n=t!=null?t:Math.pow(2,Math.min(this.$12,6))*(1e3+r("PolarisMqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+n+" ms"),r("PolarisMqttEnv").Env.setTimeout(function(){e.$20()},n),this.$12+=1}},o.$38=function(){if(r("PolarisMqttEnv").Env.genGk(r("PolarisMqttEnv").MqttGkNames.mqtt_ws_reconnect_reset)){var e=Date.now()-this.$13,t=this.$13!==0&&e>_,n=this.$12>f;(t||n)&&(this.$12=0),this.$13!==0&&e<=_&&r("InstagramODS").incr("web.mqtt.short_lived_session"),n&&r("InstagramODS").incr("web.mqtt.connection_attempt_limit")}},o.$35=function(t,n,r,o,a,i){t===!0?this.$18++:this.$17++,this.$10.eventLogConnect({attemptNumber:this.$12,connectionStatus:t,duration:Date.now()-n,errorCode:a,errorMessage:i,failTotal:this.$17,hostname:this.$5,publishes:o,sessionID:this.$9,subscribedTopics:r,successTotal:this.$18})},o.$28=function(t,n,o,a){var e=t.mqttError,i=e.errorMessage;if(this.$10.debugTrace("connect","Connect failed "+i),r("InstagramODS").incr("web.mqtt.protocol.onconnectfailure"),this.$19.onConnectFailure(),this.$35(!1,n,o,a,e.errorCode,i),t.connAck!=null&&(r("InstagramODS").incr("web.mqtt.protocol.connect_failure"),t.connAck===g)){this.$37(p);return}this.$37()},o.$29=function(t,n){var e=this;r("InstagramODS").incr("web.mqtt.protocol.onconnection"),this.$10.debugTrace("Connect","Socket established"),this.$19.onConnected(),n.forEach(function(t){e.$19.onSubscribe(t)}),t.forEach(function(t){e.$19.onPublish(t.topic)}),this.$26("TransportConnected")},o.$32=function(t,n,o){r("InstagramODS").incr("web.mqtt.protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$19.onConnectSuccess(),this.$35(!0,t,n,o),this.$26("Connected"),this.$39(n),r("PolarisMqttEnv").Env.genGk(r("PolarisMqttEnv").MqttGkNames.mqtt_ws_reconnect_reset)||(this.$12=0),this.$13=Date.now()},o.$31=function(t){r("InstagramODS").incr("web.mqtt.protocol.onconnectionlost"),t.errorCode&&this.$10.eventLogDisconnect({duration:Date.now()-this.$13,errorCode:t.errorCode,errorMessage:t.errorMessage,sessionID:this.$9}),this.$10.debugTrace("connect","connection lost"),this.$19.onConnectionLost(),this.$37()},o.$30=function(t){},o.$33=function(t,n){r("InstagramODS").incr("web.mqtt.protocol.onmessagearrived"),this.$10.debugTrace("onMessageArrived","Message received on "+t),this.$19.onMessage(t);try{this.$3(t,n)}catch(t){var e=r("getErrorSafe")(t);this.$10.logError(e,"Listener threw error"),r("InstagramODS").incr("web.mqtt.listener_error")}},o.$34=function(t){r("InstagramODS").incr("web.mqtt.protocol.onmessagedelivered");var e=t!=null?t:"null";if(this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+e+"}"),t!=null){var n=this.$15.get(t);n!=null&&(this.$15.delete(t),n.resolve())}},o.$22=function(t){this.$15.forEach(function(e,n,r){e.reject(new Error(t))}),this.$15.clear()},o.$39=function(t){var e=this,n=new Set(t);n.forEach(function(t){e.$14.has(t)||e.unsubscribe(t)});var r=new Set(this.$14);r.forEach(function(t){n.has(t)||e.subscribe(t)})},o.$36=function(t,n){try{r("InstagramODS").incr("web.mqtt.js_error_in_init");var e=t?t.message:"error";this.$10.debugTrace("onError",n+": "+e),this.$2(t)}catch(e){var o=r("getErrorSafe")(e);r("InstagramODS").incr("web.mqtt.js_error_in_error_logging"),this.$10.logError(o,"JS error while trying to log previous error")}},t})();l.default=h}),98);
__d("PolarisMqttChannel",["FBLogger","InstagramODS","PolarisChannelClientID","PolarisIrisSubscribeChecker","PolarisMqttAnalyticsHook","PolarisMqttConnection","PolarisMqttEnv","PolarisMqttUserName","PolarisMqttUtils","Promise","getErrorSafe","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=6e4,u=(function(){function t(e){var t=this,n=e.appId,o=e.capabilities,a=e.chatVisibility,i=a===void 0?!0:a,l=e.clientCapabilities,s=e.endpoint,u=e.igSpecificOptions,c=e.initialSubscribedTopics,d=e.observer,m=e.userFbid;this.$8=r("PolarisMqttEnv").Env.getLoggerInstance(),this.$8.setAppId(n),this.$9=new(r("PolarisMqttUserName"))(m,o,l,r("PolarisChannelClientID").getID(),n,i,u),this.$1=s,this.$5="Disconnected",this.$2=[d],this.$4=new Set,this.$6=new Map,this.$7=new(r("PolarisMqttConnection"))(u),(u==null?void 0:u.deviceId)!=null?this.$3=u.deviceId:this.$3=r("uuidv4")(),this.$13=new(r("PolarisMqttAnalyticsHook")),this.$7.addHook(this.$13),this.$7.addHook(new(r("PolarisIrisSubscribeChecker"))(function(){return t.$4.size>0})),this.$10=!1,this.$12=new Map,this.$11=[],this.$14(c)}var o=t.prototype;return o.$14=function(t){var e=this;if(this.$7.isRunning()){this.$15("run","Connection started calling run again");return}if(r("PolarisMqttEnv").Env.genGk(r("PolarisMqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){if(r("PolarisMqttEnv").Env.genGk(r("PolarisMqttEnv").MqttGkNames.mqtt_ws_forced_polling_only)){this.$15("MqttChannel","Websocket disabled, will do long polling only");return}else if(!r("PolarisMqttUtils").hasWSSupport()){this.$15("MqttChannel","Websocket Unavailable, will do long polling only"),r("InstagramODS").incr("web.mqtt.ws_unavailable_polling");return}}this.$7.run({endpoint:this.$1,extraConnectMessageProvider:function(){return e.$16()},mqttUserName:this.$9,onJSError:function(n){e.$17(n)},onMessageReceived:function(n,r){e.$18(n,r)},onStateChange:function(n){e.$19(n)},subscribedTopics:t})},o.shutdown=function(){this.$7&&this.$7.shutdown()},o.publish=function(t,n,r){return r===void 0&&(r={qos:1,skipBuffer:!1}),r.qos===0?this.$20(t,n):this.$21(t,n,r)},o.$20=function(t,n){return this.$7.publish(t,n,0)},o.$21=function(o,a,i){var t={reject:function(t){},resolve:function(){}},l=new(e||(e=n("Promise")))(function(e,n){t.resolve=e,t.reject=n}),s=r("PolarisMqttEnv").Env.random(),u={ack:t,options:i,payload:a,publishToken:s,timeoutId:null,topic:o};return i.skipBuffer?this.$7.connectionState()==="Connecting"?this.$11.push(u):this.$22(u):(u.timeoutId=this.$23(s),this.$12.set(s,u),this.$24(u)),l},o.$22=function(t){r("PolarisMqttUtils").promiseDone(this.$7.publish(t.topic,t.payload,t.options.qos),function(){t.ack.resolve()},function(e){t.ack.reject(e)})},o.$24=function(t){var e=this;r("PolarisMqttUtils").promiseDone(this.$7.publish(t.topic,t.payload,t.options.qos),function(){return e.$25(t)},function(){})},o.subscribe=function(t,n){this.$7.subscribe(t);var e=this.$6.get(t);e?e.push(n):(e=[n],this.$6.set(t,e))},o.subscribeChannelEvents=function(t){this.$2.push(t)},o.registerExtraConnectPayloadProvider=function(t){var e=this;if(this.$4.add(t),this.$7.isRunning()){var n=t.getPublishMessages();n.forEach(function(t){e.publish(t.topic,t.payload,{qos:t.qos,skipBuffer:!0}).catch(function(t){return e.$8.logError(t,t==null?void 0:t.message)})})}},o.unregisterExtraConnectPayloadProvider=function(t){this.$4.delete(t)},o.unsubscribe=function(t){this.$7.unsubscribe(t),this.$6.delete(t)},o.getConnectionState=function(){return this.$5},o.getEndpoint=function(){return this.$1},o.addHook=function(t){this.$7.addHook(t)},o.removeHook=function(t){this.$7.removeHook(t)},o.testOnlyMessageReceived=function(t,n){this.$18(t,n)},o.$26=function(t){var e=this.$12.get(t);e!=null&&e.timeoutId!=null&&r("PolarisMqttEnv").Env.clearTimeout(e.timeoutId),this.$12.delete(t)},o.$23=function(t){var e=this;return r("PolarisMqttEnv").Env.setTimeout(function(t){var n=e.$12.get(t);if(n){var o=n.topic;r("InstagramODS").incr("web.mqtt.publish_timeout"),e.$8.debugTrace("publish_timeout","Timeout publishing topic: "+o+" publishToken: "+t),e.$26(t),n.ack.reject(new Error("Publish Timed Out"))}},s,t)},o.$25=function(t){var e=t.publishToken,n=this.$12.get(e);n&&(this.$26(e),t.ack.resolve(),this.$8.debugTrace("publish_success","Topic: "+t.topic+" publishToken: "+t.publishToken),r("InstagramODS").incr("web.mqtt.publish_success"))},o.$18=function(t,n){var e=this.$6.get(t);if(!e)this.$8.debugTrace("_onMessageReceived",t+" being dropped, no listeners");else for(var o of e)try{o(n)}catch(e){var a=r("getErrorSafe")(e);this.$8.logError(a,"Listener exception"),r("InstagramODS").incr("web.mqtt.listener_error")}},o.$17=function(t){if(r("PolarisMqttEnv").Env.genGk(r("PolarisMqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){t.isRecoverable?r("InstagramODS").incr("web.mqtt.recoverable_error_skipped"):r("InstagramODS").incr("web.mqtt.unrecoverable_error_skipped");return}t.isRecoverable?r("InstagramODS").incr("web.mqtt.recoverable_error_not_skipped"):r("InstagramODS").incr("web.mqtt.unrecoverable_error_not_skipped"),t.isRecoverable||(this.$10=!0),this.$27(t)},o.$27=function(t){for(var e of this.$2)e.onJSError&&e.onJSError(t)},o.$19=function(t){var e=this;t==="Connecting"?(this.$11.forEach(function(e){e.ack.reject(new Error("Client Reconnecting"))}),this.$11=[]):t==="TransportConnected"&&(this.$11.forEach(function(t){e.$22(t)}),this.$11=[],this.$12.forEach(function(t,n,r){e.$24(t)})),this.$5=this.$28(t),this.$15("_changeState","Connection state = "+t),this.$29()},o.$28=function(t){switch(t){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw r("FBLogger")("ig_web").mustfixThrow("Unknown state "+t)},o.$29=function(){for(var e of this.$2)e.onMQTTStateChanged(this.$5)},o.$16=function(){var e=this,t=[];return this.$4.forEach(function(n){try{var o=n.getPublishMessages();Array.prototype.push.apply(t,o)}catch(t){var a=r("getErrorSafe")(t);e.$8.logError(a,"ConnectPayload provider exception"),r("InstagramODS").incr("web.mqtt.connectPayloadProvider_error")}}),t},o.$15=function(t,n){this.$8.debugTrace(t,"Mqtt channel: "+n)},o.setForegroundState=function(t){this.$9&&this.$9.setForegroundState(t)},o.setChatVisibility=function(t){this.$9&&this.$9.setChatVisibility(t)},t})();l.default=u}),98);
__d("PolarisMqttLogger",["InstagramODS","PolarisChannelClientID","PolarisDirectLogger","PolarisMqttEnv"],(function(t,n,r,o,a,i,l){"use strict";var e="mqtt_client",s=null,u=new(o("PolarisDirectLogger")).DirectLogger(e,r("PolarisChannelClientID").getID()),c={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish"},d=(function(){function e(){this.$1=0,this.$2=Date.now(),this.$3=r("PolarisChannelClientID").getID()}e.getInstance=function(){return s||(s=new e),s};var t=e.prototype;return t.setAppId=function(t){this.$1===0&&(this.$1=t)},t.eventLogConnect=function(t){var e=t.attemptNumber,n=t.connectionStatus,o=t.duration,a=t.errorCode,i=t.errorMessage,l=t.failTotal,s=t.hostname,u=t.publishes,d=t.sessionID,m=t.subscribedTopics,p=t.successTotal;n?r("InstagramODS").incr("web.mqtt.mqtt_client_connect.success"):r("InstagramODS").incr("web.mqtt.mqtt_client_connect.failed");var _={attempt_number:e,connection_status:n,device_id:this.$3,duration:o,error_code:a,error_message:i,hostname:s,href:window.location.hostname,logged_in:r("PolarisMqttEnv").Env.isUserLoggedInNow(),publishes:u,session_id:d,subscribed_topics:m};this.$4(c.CONNECT,_)},t.eventLogPull=function(t){var e=t.duration,n=t.errorMessage,o=t.hostname,a=t.pullEventName,i=t.sessionID,l=t.status,s={connection_status:l,device_id:this.$3,duration:e,error_message:n,hostname:o,href:window.location.hostname,logged_in:r("PolarisMqttEnv").Env.isUserLoggedInNow(),session_id:i};this.$4(a,s)},t.eventLogDisconnect=function(t){var e=t.duration,n=t.errorCode,o=t.errorMessage,a=t.sessionID;r("InstagramODS").incr("web.mqtt.mqtt_client_disconnect");var i={device_id:this.$3,duration:e,error_code:n,error_message:o,href:window.location.hostname,session_id:a};this.$4(c.DISCONNECT,i)},t.eventLogPublish=function(t){var e=t.connectionStatus,n=t.publishStatus,o=t.sessionID,a=t.topic;r("InstagramODS").incr("web.mqtt.mqtt_client_publish"),r("InstagramODS").incr_CAREFUL_WHEN_USE_DYNAMIC_KEY("web.mqtt.mqtt_client_publish."+a)},t.logError=function(t,n){r("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){u.logError(n,t)})},t.eventLogMiscellaneousError=function(t){var e=t.errorMessage,n={device_id:this.$3,error_message:e,href:window.location.hostname,logged_in:r("PolarisMqttEnv").Env.isUserLoggedInNow(),time_passed:Date.now()-this.$2};this.$4(c.CLIENT_ERROR,n)},t.logErrorWarn=function(t,n){r("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){u.logError(n,t)})},t.logWarn=function(t,n){},t.debugTrace=function(t,n){r("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){u.debugTrace(t,n)})},t.bumpCounter=function(t){},t.$4=function(t,n){var e=this;r("PolarisMqttEnv").Env.scheduleLoggingCallback(function(){n.event_type=t,n.app_id=e.$1,n.online=e.$5(),u.logDirectEvent(t,n)})},t.$5=function(){return window.navigator&&window.navigator.onLine!==void 0?window.navigator.onLine:!1},e})();l.default=d}),98);
__d("polarisSetTimeoutAcrossTransitions",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return setTimeout.apply(void 0,[e,t].concat(r))}i.default=e}),66);
__d("PolarisMqttEnvInitializer",["PolarisIsLoggedIn","PolarisMqttEnv","PolarisMqttLogger","PolarisWebStorage","polarisSetTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";var e="mqtt:",s={initialize:function(){r("PolarisMqttEnv").Env.initialize(null,o("PolarisIsLoggedIn").isLoggedIn,null,r("polarisSetTimeoutAcrossTransitions"),function(){return r("PolarisMqttLogger").getInstance()},null,null,null,null,function(t,n){var o=r("PolarisWebStorage").getLocalStorage();if(o){var a=o.getItem(e+t);if(a!=null)return a}return n},function(t,n){var o=r("PolarisWebStorage").getLocalStorage();o&&(n==null?o.removeItem(e+t):o.setItem(e+t,n))})}},u=s;l.default=u}),98);
__d("PolarisDirectMQTT",["InstagramODS","MercuryLocalIDs","PolarisCallGatingHelpers","PolarisConfig","PolarisDeviceOrMachineId","PolarisDirectConstants","PolarisDirectDeltaHandlers","PolarisDirectGraphQLSubscription","PolarisDirectIrisSubscription","PolarisDirectLogger","PolarisDirectSkywalkerSubscription","PolarisLiveDeltaHandler","PolarisLocales","PolarisMediaOverlayInfoTypes","PolarisMqttChannel","PolarisMqttEnvInitializer","PolarisReactRedux.react","nullthrows","polarisArraySplitChunks","polarisDeveloperSettings","polarisForEachAsync","randomInt"],(function(t,n,r,o,a,i,l){"use strict";var e=20,s=(function(){function t(t,n){var a=this;this.$8=0,this.$14=function(e){var t;try{t=JSON.parse(e.substr(0,e.length-1))}catch(e){a.$4.logError("Could not parse mqttMessages",e);return}var n=t.payload.header;if(n.type===4&&n.conferenceName.includes("ROOM")){var o,i,l=((o=t.payload.body)==null||(o=o.ringRequest)==null?void 0:o.ringType)%2===1,s=(i=t.payload.body)==null||(i=i.ringRequest)==null||(i=i.appMessages)==null?void 0:i.find(function(e){return e.body.genericMessage.topic==="ring_data"}),u="",c="",d="",m=[];if(s){var p,_=JSON.parse(s==null||(p=s.body)==null||(p=p.genericMessage)==null?void 0:p.data),f=_.display_name,g=_.display_uri,h=_.group_name,y=_.ig_thread_id,C=_.participant_usernames;if(u=y,d=f,m.push(g),h)c=h;else{var b=C;try{b=JSON.parse(C)}catch(e){}c=Array.isArray(b)?[f].concat(b).join(", "):f}}a.$6(n.type,n.serverInfoData,u,l,c,m,d),r("InstagramODS").incr("web.rtc.ack_ring_message"),a.$15(n.conferenceName,n.sequenceNumber,n.serverInfoData,n.transactionId,n.type,n.conferenceType)}else n.type===5&&n.conferenceName.includes("ROOM")?(a.$6(n.type,n.serverInfoData,"",!1,"",[],""),r("InstagramODS").incr("web.rtc.ack_dismiss_message"),a.$15(n.conferenceName,n.sequenceNumber,n.serverInfoData,n.transactionId,n.type,n.conferenceType)):r("InstagramODS").incr("web.rtc.rtc_message_ignored")},this.$16=function(t){var n=r("nullthrows")(a.$1),i;try{i=JSON.parse(t)}catch(e){a.$4.logError("Could not parse mqttMessages",e);return}if(!Array.isArray(i)){a.$4.debugTrace("parsed_message_not_array",typeof i);return}r("polarisForEachAsync")(r("polarisArraySplitChunks")(i,e),function(e){o("PolarisReactRedux.react").batch(function(){for(var t of e){var r=t.data,o=t.event,i=t.mutation_token,l=t.seq_id;if(a.$4.debugTrace("parsed_message",{event:o,mutation_token:i}),o!=="patch"){a.$4.debugTrace("skipped_message",{event:o});return}if(!Array.isArray(r)){a.$4.debugTrace("parsed_message_bad_operations",typeof r);return}for(var s of r)n.handleDelta(s,i);if(l){var u=a.$2.subscription_type;a.$4.debugTrace("seq_id",{seq_id:l,subscriptionType:u}),u==="message"&&n.onSeqIdUpdated(l)}}})})},this.$17=function(e){try{var t=JSON.parse(e);if(t.status==="ok"){var n;(t==null||(n=t.payload)==null?void 0:n.activity_status)==null?a.$4.logDirectEvent("send_message_response_success"):a.$4.logDirectEvent("send_activity_response_success")}else{var r;(t==null||(r=t.payload)==null?void 0:r.activity_status)==null?a.$4.logError("send_message_response_failed"):a.$4.logDirectEvent("send_activity_response_failed")}}catch(e){a.$4.logError("send_message_response_parse_failed",e)}},this.$18=function(e){a.$4.debugTrace("state_changed",e);var t=r("nullthrows")(a.$1);if(e==="Connected"){var n=r("nullthrows")(a.$5);n.subscribe("/ig_message_sync",a.$16),n.subscribe("/ig_send_message_response",a.$17),o("PolarisCallGatingHelpers").isIncomingCallEnabled()&&!o("PolarisCallGatingHelpers").isWebCallingEnabled()&&n.subscribe("/pubsub",a.$14),a.$3||(a.$3=new(o("PolarisDirectIrisSubscription")).DirectIrisSubscription(t,a.$2,n,a.$4.getDebugId())),a.$3.subscribe(),a.$10||(a.$10=new(o("PolarisDirectGraphQLSubscription")).DirectGraphQLSubscription(t,n,a.$4.getDebugId())),a.$2.subscription_type==="message"?(a.$9||(a.$9=new(o("PolarisDirectSkywalkerSubscription")).DirectSkywalkerSubscription(t,n,a.$4.getDebugId())),a.$9.subscribe()):a.$4.debugTrace("skip_skywalker",a.$2),a.$10&&a.$10.subscribe()}else if(e==="Disconnected"){a.$3&&(a.$3.unsubscribe(),a.$3=null),a.$9&&(a.$9.unsubscribe(),a.$9=null),a.$10&&(a.$10.unsubscribeGraphQL(),a.$10=null);var i=a.$5;i&&(i.unsubscribe("/ig_message_sync"),i.unsubscribe("/ig_send_message_response"),o("PolarisCallGatingHelpers").isIncomingCallEnabled()&&!o("PolarisCallGatingHelpers").isWebCallingEnabled()&&i.unsubscribe("/pubsub"))}t.onMqttConnectivityChanged(e)},this.$4=new(o("PolarisDirectLogger")).DirectLogger("DirectMQTT",n),this.$4.debugTrace("ctor",t),this.$1=null,this.$2=t,this.$3=null,this.$5=null,this.$9=null,this.$10=null}var n=t.prototype;return n.$11=function(){return r("nullthrows")(o("PolarisConfig").getViewerId())},n.$12=function(){return parseInt(o("PolarisConfig").getIGAppID(),10)},n.$13=function(){return o("PolarisDeviceOrMachineId").getDeviceOrMachineId()},n.$15=function(t,n,o,a,i,l){var e=this;if(this.$7==null){var s=r("randomInt")(0,4294967294)+1;this.$7=String(s)}var u={endpoint:{appId:this.$12(),deviceId:this.$13(),userId:this.$11()},jsonPayload:{body:{ringResponse:{deviceCapabilities:[],deviceStatus:0}},header:{clientSessionId:this.$7,clientStack:5,conferenceName:t,conferenceType:l,messageTags:[],responseStatusCode:200,retryCount:0,sequenceNumber:n,serverInfoData:o,transactionId:a,type:i}}};r("nullthrows")(this.$5).publish("/rtc_multi",JSON.stringify(u)).catch(function(t){var n,o;i===4?r("InstagramODS").incr("web.rtc.ack_ring_message_failed"):i===5?r("InstagramODS").incr("web.rtc.ack_dismiss_message_failed"):r("InstagramODS").incr("web.rtc.ack_message_failed");var a=(n=(o=e.$5)==null?void 0:o.getConnectionState())!=null?n:"Unknown";throw e.$4.logError("ack_rtc_message_failed",t,{conference_type:l,message_type:i,mqtt_state:a}),t})},n.$19=function(t){var e,n=this,a=(e=t.item_type)!=null?e:"";return this.$4.logDirectEvent("send_attempt",{action:t.action,type:a}),r("nullthrows")(this.$5).publish("/ig_send_message",JSON.stringify(babelHelpers.extends({client_context:o("MercuryLocalIDs").generateOfflineThreadingID(),device_id:this.$13()},t))).catch(function(e){throw n.$4.logError("send_message_failed",e),e})},n.sendRtcHangupRequest=function(t){var e=this,n={endpoint:{appId:this.$12(),deviceId:this.$13(),userId:this.$11()},jsonPayload:{body:{hangupRequest:{detailedReasonString:"",reason:0}},header:{clientSessionId:this.$7,clientStack:5,messageTags:[],retryCount:0,sequenceNumber:this.$8++,serverInfoData:t,transactionId:String(r("randomInt")(0,4294967294)+1),type:2}}};return r("nullthrows")(this.$5).publish("/rtc_multi",JSON.stringify(n)).catch(function(t){throw e.$4.logError("send_rtc_hangup_message_failed",t),t})},n.sendTextMessage=function(t,n,r,a,i){return this.$19({action:"send_item",item_type:o("PolarisDirectConstants").ThreadItemType.TEXT,mutation_token:r,replied_to_client_context:i,replied_to_item_id:a,text:n,thread_id:t})},n.sendMediaShare=function(t,n,r,a){var e=o("PolarisDirectConstants").ThreadItemType.MEDIA_SHARE;return a==="clips"&&(e=o("PolarisDirectConstants").ThreadItemType.CLIP_SHARE),(r==null?void 0:r.overlay_layout)===o("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_LAYOUTS.MEDIA_COVER||(r==null?void 0:r.overlay_layout)===o("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_LAYOUTS.MEDIA_COVER_WITH_BOTTOM_BANNER?this.$19({action:"send_item",item_type:e,media_id:n,share_treatment_title:o("PolarisDirectConstants").InformTreatmentTitleValues.FALLBACK,share_treatment_type:o("PolarisDirectConstants").InformTreatmentTypeValues.WARNING_SCREENS,thread_id:t}):this.$19({action:"send_item",item_type:e,media_id:n,thread_id:t})},n.sendClipShareWithSocialContext=function(t,n,r,a,i){return this.$19({action:"send_item",item_type:o("PolarisDirectConstants").ThreadItemType.CLIP_SHARE,media_id:n,recipient_users:i!=null?i:void 0,social_context_share_type:a,text:r,thread_id:t})},n.sendLike=function(t,n){return this.$19({action:"send_item",item_type:o("PolarisDirectConstants").ThreadItemType.LIKE,mutation_token:n,thread_id:t})},n.indicateTypingActivity=function(t,n){return this.$19({action:"indicate_activity",activity_status:t,thread_id:n})},n.markVisualItemSeen=function(t,n){return this.$19({action:"mark_visual_item_seen",item_ids:JSON.stringify([t]),target_item_type:"voice_media",thread_id:n})},n.modifyLikeReaction=function(t,n,r,o,a){return this.$19({action:"send_item",emoji:a!=null?a:"",item_id:t,item_type:"reaction",node_type:"item",reaction_status:o,reaction_type:"like",target_item_type:n,thread_id:r})},n.disconnect=function(){this.$4.debugTrace("disconnect_start"),this.$3?(this.$4.debugTrace("unsubscribe_iris"),r("nullthrows")(this.$3).unsubscribe(),this.$3=null):this.$4.debugTrace("no_iris"),this.$9?(this.$4.debugTrace("unsubscribe_skywalker"),this.$9=null):this.$4.debugTrace("no_skywalker"),this.$10?(this.$4.debugTrace("unsubscribe_graphql"),this.$10=null):this.$4.debugTrace("no_graphql"),this.$5?(this.$4.debugTrace("shutdown_channel"),r("nullthrows")(this.$5).shutdown(),this.$5=null):this.$4.debugTrace("no_channel"),this.$1&&(this.$1=null),this.$4.debugTrace("disconnect_end")},n.connect=function(t,n){var e=this;this.$4.debugTrace("connect_start"),this.disconnect(),this.$1=new(o("PolarisDirectDeltaHandlers")).DirectDeltaHandlers(t,this.$4.getDebugId()),this.$6=n;var a={onJSError:function(n){e.$4.logError("mqtt_js_error",n)},onMQTTStateChanged:this.$18},i={appSpecificInfo:{},deviceId:this.$13()},l=r("PolarisLocales").language_code;l!=null&&(i.appSpecificInfo["Accept-Language"]=l),r("PolarisMqttEnvInitializer").initialize();var s={appId:this.$12(),capabilities:0,chatVisibility:!0,clientCapabilities:1,endpoint:o("PolarisDirectConstants").PROD_MQTT_GATEWAY,igSpecificOptions:i,initialSubscribedTopics:[],observer:a,userFbid:this.$11()};this.$5=new(r("PolarisMqttChannel"))(s),this.$4.debugTrace("connect_end")},n.subscribeToLiveEvent=function(t,n,o){var e=this.$10;if(e!=null){var a=new(r("PolarisLiveDeltaHandler"))(n);e.enableLiveEventHandler(t,a,o),e.subscribe()}},n.unsubscribeToLiveEvent=function(t){var e=this.$10;e!=null&&(e.disableLiveEventHandler(t),e.subscribe())},n.getLogger=function(){return this.$4},t})();l.DirectMQTT=s}),98);
__d("ShareSheetImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5749"),s=o("FalcoLoggerInternal").create("share_sheet_impression",e),u=s;l.default=u}),98);/*FB_PKG_DELIM*/
/**
 *
 * This file is generated from fbsource. Please do not modify it directly.
 *
 *
 * @nolint
 * @generated
 * @nopackage
 * @fullSyntaxTransform
 * @preserve-whitespace
 */__d("ls_voprf_utils_v2",["Promise"],(function $module_ls_voprf_utils_v2(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;


var Module=function(){
var _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;

return(
function(moduleArg){if(moduleArg===void 0){moduleArg={};}

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new(_require_closure_Promise||(_require_closure_Promise=require("Promise")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});["_main","getExceptionMessage","___get_exception_message","_free","_memory","_curve_create","_curve_free","_curve_init_ristretto","_get_curve_element_bytes","_get_curve_scalar_bytes","_kdf_create","_kdf_free","_kdf_init_naor_reingold","_sodiumInit","_voprf_create","_voprf_free","_voprf_init_exp_twohashdh","_blind","_verifiable_unblind","_voprf_client_finalize","_voprf_setup","_voprf_evaluate","_voprf_server_finalize","_get_voprf_final_evaluation_bytes","___indirect_function_table","__embind_initialize_bindings","_fflush","___start_em_asm","___stop_em_asm","onRuntimeInitialized"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:function get(){return abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");},set:function set(){return abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1);}else{scriptDirectory="";}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.send(null);return xhr.responseText;};readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module["noExitRuntime"]||true;legacyModuleProp("noExitRuntime","noExitRuntime");if(typeof WebAssembly!="object"){abort("no native wasm support detected");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(max)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(cookie2)+" "+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:");}err("dependency: "+dep);}if(shown){err("(end of list)");}},1e4);}}else{err("warning: run dependency added without ID");}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err("warning: run dependency removed without ID");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what);}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith("file://");}function createExportWrapper(name){return function(){assert(runtimeInitialized,"native function `"+name+"` called before runtime initialization");var f=wasmExports[name];assert(f,"exported native function `"+name+"` not found");return f.apply(null,arguments);};}var _EmscriptenEH3=function(_Error){"use strict";function EmscriptenEH(){return _Error.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenEH,_Error);return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var _EmscriptenSjLj=function(_EmscriptenEH){"use strict";function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);return EmscriptenSjLj;}(_EmscriptenEH3);var _CppException=function(_EmscriptenEH2){"use strict";function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);return CppException;}(_EmscriptenEH3);var wasmBinaryFile;wasmBinaryFile="crypto_utils_v2.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw"both async and sync fetching of the wasm failed";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'";}return response["arrayBuffer"]();})["catch"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require("Promise"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports["memory"];Module["wasmMemory"]=wasmMemory;assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return exports;}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"]);}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance);}catch(e){err("Module.instantiateWasm callback failed with error: "+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)["catch"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort("`Module."+prop+"` has been replaced by `"+newName+"`"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort("`Module."+prop+"` was supplied but `"+prop+"` not included in INCOMING_MODULE_JS_API");}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency";}function missingGlobal(sym,msg){if(typeof globalThis!=="undefined"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){_warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg);return undefined;}});}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(sym){if(typeof globalThis!=="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym;}msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}_warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}abort(msg);}});}}var ASM_CONSTS={50356:function _(){return Module.getRandomValue();},50392:function _(){if(Module.getRandomValue===undefined){try{var window_="object"===typeof window?window:self;var crypto_=typeof window_.crypto!=="undefined"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw"No secure random number generator found";}}}}};function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)_warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr=="number");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module["getExceptionMessage"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type="i8";}if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0");};var _warnOnce=function warnOnce(text){if(!_warnOnce.shown)_warnOnce.shown={};if(!_warnOnce.shown[text]){_warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new _CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError("type \""+name+"\" must have a positive integer typeid pointer");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError("Cannot register type '"+name+"' twice");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(wt){return!!wt;},"toWireType":function toWireType(destructors,o){return o?trueValue:falseValue;},"argPackAdvance":8,"readValueFromPointer":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError("Unknown boolean type size: "+name);}return this["fromWireType"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,"invalid handle: "+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},"toWireType":function toWireType(destructors,value){return Emval.toHandle(value);},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return"null";}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString();}else{return""+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3]);};default:throw new TypeError("Unknown float type: "+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(value){return value;},"toWireType":function toWireType(destructors,value){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert "+embindRepr(value)+" to "+this.name);}return value;},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError("Unknown integer type: "+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes("unsigned");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert \""+embindRepr(value)+"\" to "+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError("Passing a number \""+embindRepr(value)+"\" from JS side to C/C++ side to an argument of type \""+name+"\", which is outside the valid range ["+minRange+", "+maxRange+"]!");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str==="string");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)_warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join("");}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(!(typeof value=="string")){throwBindingError("Cannot pass non-string to C++ string type "+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function fromWireType(){return undefined;},"toWireType":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort("native code called abort()");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=["d","f","i"];assert(validChars.includes(chr),"Invalid character "+ch+"(\""+chr+"\") in readEmAsmArgs! Use only ["+validChars+"], and do not specify \"v\" for void return argument.");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 1048576;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err("growMemory: Attempted to grow heap from "+b.byteLength+" bytes to "+size+" bytes, but got error: "+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module["BindingError"]=function(_Error2){"use strict";function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name="BindingError";return _this2;}babelHelpers.inheritsLoose(BindingError,_Error2);return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module["InternalError"]=function(_Error3){"use strict";function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name="InternalError";return _this3;}babelHelpers.inheritsLoose(InternalError,_Error3);return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors");var _curve_create=Module["_curve_create"]=createExportWrapper("curve_create");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _curve_free=Module["_curve_free"]=createExportWrapper("curve_free");var _free=Module["_free"]=createExportWrapper("free");var _curve_init_ristretto=Module["_curve_init_ristretto"]=createExportWrapper("curve_init_ristretto");var _get_curve_element_bytes=Module["_get_curve_element_bytes"]=createExportWrapper("get_curve_element_bytes");var _get_curve_scalar_bytes=Module["_get_curve_scalar_bytes"]=createExportWrapper("get_curve_scalar_bytes");var _kdf_create=Module["_kdf_create"]=createExportWrapper("kdf_create");var _kdf_free=Module["_kdf_free"]=createExportWrapper("kdf_free");var _kdf_init_naor_reingold=Module["_kdf_init_naor_reingold"]=createExportWrapper("kdf_init_naor_reingold");var _sodiumInit=Module["_sodiumInit"]=createExportWrapper("sodiumInit");var _voprf_create=Module["_voprf_create"]=createExportWrapper("voprf_create");var _voprf_free=Module["_voprf_free"]=createExportWrapper("voprf_free");var _voprf_init_exp_twohashdh=Module["_voprf_init_exp_twohashdh"]=createExportWrapper("voprf_init_exp_twohashdh");var _blind=Module["_blind"]=createExportWrapper("blind");var _verifiable_unblind=Module["_verifiable_unblind"]=createExportWrapper("verifiable_unblind");var _voprf_client_finalize=Module["_voprf_client_finalize"]=createExportWrapper("voprf_client_finalize");var _voprf_setup=Module["_voprf_setup"]=createExportWrapper("voprf_setup");var _voprf_evaluate=Module["_voprf_evaluate"]=createExportWrapper("voprf_evaluate");var _voprf_server_finalize=Module["_voprf_server_finalize"]=createExportWrapper("voprf_server_finalize");var _get_voprf_final_evaluation_bytes=Module["_get_voprf_final_evaluation_bytes"]=createExportWrapper("get_voprf_final_evaluation_bytes");var ___errno_location=createExportWrapper("__errno_location");var ___getTypeName=createExportWrapper("__getTypeName");var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=createExportWrapper("_embind_initialize_bindings");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _emscripten_builtin_memalign=createExportWrapper("emscripten_builtin_memalign");var _setThrew=createExportWrapper("setThrew");var setTempRet0=createExportWrapper("setTempRet0");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports["emscripten_stack_init"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports["emscripten_stack_get_free"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports["emscripten_stack_get_base"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports["emscripten_stack_get_end"])();};var stackSave=createExportWrapper("stackSave");var stackRestore=createExportWrapper("stackRestore");var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports["emscripten_stack_get_current"])();};var ___cxa_free_exception=createExportWrapper("__cxa_free_exception");var ___cxa_increment_exception_refcount=createExportWrapper("__cxa_increment_exception_refcount");var ___cxa_decrement_exception_refcount=createExportWrapper("__cxa_decrement_exception_refcount");var ___get_exception_message=Module["___get_exception_message"]=createExportWrapper("__get_exception_message");var ___cxa_can_catch=createExportWrapper("__cxa_can_catch");var ___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type");var dynCall_iiiji=Module["dynCall_iiiji"]=createExportWrapper("dynCall_iiiji");var dynCall_iiij=Module["dynCall_iiij"]=createExportWrapper("dynCall_iiij");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_iiijiji=Module["dynCall_iiijiji"]=createExportWrapper("dynCall_iiijiji");var dynCall_iiijiii=Module["dynCall_iiijiii"]=createExportWrapper("dynCall_iiijiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}Module["wasmMemory"]=wasmMemory;Module["getValue"]=getValue;Module["stringToUTF8"]=stringToUTF8;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["writeArrayToMemory"]=writeArrayToMemory;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getTypeName","heap32VectorToArray","requireRegisteredType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","keepRuntimeAlive","wasmTable","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getWasmTableEntry","handleAllocatorInit","HandleAllocator","freeTableIndexes","functionsInTableMap","setValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","GLFW","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","UnboundTypeError","PureVirtualError","embindRepr","registeredInstances","registeredPointers","registerType","getShiftFromSize","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers","emval_registeredMethods"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun();}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()();}}run();


return moduleArg.ready;
});


}();
if(typeof exports==='object'&&typeof module==='object')
module.exports=Module;else
if(typeof define==='function'&&define['amd'])
define([],function(){return Module;});}),null);/*FB_PKG_DELIM*/
__d("WebauthnAuthenticatorLoginFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744524"),s=o("FalcoLoggerInternal").create("webauthn_authenticator_login_failure",e),u=s;l.default=u}),98);
__d("WebauthnAuthenticatorLoginSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744525"),s=o("FalcoLoggerInternal").create("webauthn_authenticator_login_success",e),u=s;l.default=u}),98);
__d("WebauthnAuthenticatorRegisterFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744526"),s=o("FalcoLoggerInternal").create("webauthn_authenticator_register_failure",e),u=s;l.default=u}),98);
__d("WebauthnAuthenticatorRegisterSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744527"),s=o("FalcoLoggerInternal").create("webauthn_authenticator_register_success",e),u=s;l.default=u}),98);
__d("WebAuthN",["$InternalEnum","Promise","WebauthnAuthenticatorLoginFailureFalcoEvent","WebauthnAuthenticatorLoginSuccessFalcoEvent","WebauthnAuthenticatorRegisterFailureFalcoEvent","WebauthnAuthenticatorRegisterSuccessFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("$InternalEnum")({SECURITY_KEY:"security-key",CLIENT_DEVICE:"client-device",HYBRID:"hybrid"}),u=n("$InternalEnum")({USB:"usb",NFC:"nfc",BLE:"ble",INTERNAL:"internal"}),c=function(o,a){var t=a.publicKey,i={challenge:Uint8Array.from(t.challenge.split("").map(function(e){return e.charCodeAt(0)})),rpId:t.rpId,allowCredentials:p(t.allowCredentials),userVerification:"preferred",timeout:6e4};return t.extensions&&t.extensions.appid&&(i.extensions={appid:t.extensions.appid}),o.get({publicKey:i}).then(function(t){return(e||(e=n("Promise"))).resolve({credential_id:t.id,raw_id:_(t.rawId),type:t.type,response:{authenticator_data:y(t.response.authenticatorData),client_data_json:y(t.response.clientDataJSON),signature:y(t.response.signature),user_handle:y(t.response.userHandle)}})}).then(function(t){return r("WebauthnAuthenticatorLoginSuccessFalcoEvent").log(function(){return{key_handle_id:t.credential_id}}),(e||(e=n("Promise"))).resolve(t)}).catch(function(t){return r("WebauthnAuthenticatorLoginFailureFalcoEvent").log(function(){return{error_code:t.code,error_name:t.name,error_message:t.message}}),(e||(e=n("Promise"))).reject(t)})},d=function(t){return r("WebauthnAuthenticatorRegisterSuccessFalcoEvent").log(function(){return{key_handle_id:t.id}}),{credential_id:t.id,raw_id:_(t.rawId),type:t.type,client_data_json:y(t.response.clientDataJSON),attestation_object:y(t.response.attestationObject)}},m=function(o){var t=window.navigator.credentials;if(t==null){var a="The user agent  does not support WebAuthN";return r("WebauthnAuthenticatorRegisterFailureFalcoEvent").log(function(){return{error_code:-1,error_name:"NotSupportedError",error_message:a}}),(e||(e=n("Promise"))).reject(a)}try{var i=o.publicKey;return t.create({publicKey:{challenge:f(i.challenge),attestation:i.attestation,authenticatorSelection:babelHelpers.extends({},i.authSelection),hints:i.hints,rp:i.rp,timeout:i.timeout,pubKeyCredParams:i.pubKeyCredParams,excludeCredentials:p(i.excludeCredentials),user:babelHelpers.extends({},i.user,{id:f(i.user.id)})}})}catch(t){return r("WebauthnAuthenticatorRegisterFailureFalcoEvent").log(function(){return{error_code:t.code,error_name:t.name,error_message:t.message}}),(e||(e=n("Promise"))).reject(t)}},p=function(t){return t.map(function(e){return{type:e.type,id:g(e.id)}})},_=function(t){return y(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},f=function(t){return new Uint8Array(t.length).map(function(e,n){return t.charCodeAt(n)})},g=function(t){return f(atob(h(t)))},h=function(t){return(t+"===").slice(0,t.length+(4-t.length%4)%4).replace(/-/g,"+").replace(/_/g,"/")},y=function(t){var e=new Uint8Array(t),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=e.length%3;function o(e){return n.charAt(e>>18&63)+n.charAt(e>>12&63)+n.charAt(e>>6&63)+n.charAt(e&63)}for(var a="",i=0,l=e.length-r;i<l;i+=3){var s=(e[i]<<16)+(e[i+1]<<8)+e[i+2];a+=o(s)}var u;switch(r){case 1:u=e[e.length-1],a+=n.charAt(u>>2),a+=n.charAt(u<<4&63),a+="==";break;case 2:u=(e[e.length-2]<<8)+e[e.length-1],a+=n.charAt(u>>10),a+=n.charAt(u>>4&63),a+=n.charAt(u<<2&63),a+="=";break;default:break}return a};l.PublicKeyCredentialHint=s,l.AuthenticatorTransport=u,l.createLoginChallenge=c,l.createRegisterRequest=d,l.getKeyCredential=m,l.encodeCredentials=p,l.bufferEncode=_,l.string2buffer=f,l.base64ToBuffer=g,l.Base64DecodeUrl=h,l.encodeByteArray=y}),98);
__d("CAAWebBloksPasskeyUtils",["$InternalEnum","WebAuthN"],(function(t,n,r,o,a,i,l){"use strict";var e="Meta",s=6e5,u=n("$InternalEnum")({NOT_ALLOWED_ERROR:0,CONSTRAINT_ERROR:1,INVALID_STATE_ERROR:2,NOT_SUPPORTED_ERROR:3,SECURITY_ERROR:4,ABORT_ERROR:5,UNKNOWN_ERROR:6});function c(t,n){var r,a,i,l,u,c,d,p,_=n.getExpression("on_success"),g=n.getExpression("on_error"),h=n.getExpression("on_cancel"),y=JSON.parse((r=n.get("additional_params"))!=null?r:"{}");if(g==null)return null;if(_==null)return m(t,"on_success",g),null;if(h==null)return m(t,"on_cancel",g),null;var C=n.get("prf_input_first");if(C==null){var b=(a=n.get("rp_id"))!=null?a:(i=y.rp)==null?void 0:i.id;if(b==null)return m(t,"rp_id",g),null;var v=(l=n.get("challenge"))!=null?l:y.challenge;if(v==null)return m(t,"challenge",g),null;var S=n.get("userid");if(S==null)return m(t,"userid",g),null;var R=n.get("username");if(R==null)return m(t,"username",g),null;var L=o("WebAuthN").encodeCredentials(y.excludeCredentials),E=(u=(c=n.get("enable_device_key_signature_ext"))==null?void 0:c.valueOf())!=null?u:!1,k=(d=(p=n.get("prefer_immediately_available_credentials"))==null?void 0:p.valueOf())!=null?d:!1,I={challenge:f(v)},T=o("WebAuthN").string2buffer(JSON.stringify(I)),D={publicKey:{attestation:"none",authenticatorSelection:{residentKey:"preferred",userVerification:"required"},challenge:T,excludeCredentials:L,pubKeyCredParams:[{alg:-7,type:"public-key"},{alg:-257,type:"public-key"}],rp:{id:b,name:e},timeout:s,user:{displayName:R,id:o("WebAuthN").string2buffer(S.toString()),name:R}}};return{callbacks:{onCancel:h,onError:g,onSuccess:_},extensions:{enable_device_key_signature_ext:E,prefer_immediately_available_credentials:k},json:D}}}function d(e,t){var n,r,a,i,l,u,c,d,p,_=t.getExpression("on_success"),f=t.getExpression("on_error"),g=t.getExpression("on_cancel"),h=JSON.parse((n=t.get("additional_params"))!=null?n:"{}");if(f==null)return null;if(_==null)return m(e,"on_success",f),null;if(g==null)return m(e,"on_cancel",f),null;var y=(r=t.get("rpid"))!=null?r:(a=h.rp)==null?void 0:a.id;if(y==null)return m(e,"rpid",f),null;var C=(i=t.get("challenge"))!=null?i:h.challenge;if(C==null)return m(e,"challenge",f),null;var b=(l=(u=t.get("enable_device_key_signature_ext"))==null?void 0:u.valueOf())!=null?l:!1,v=(c=(d=t.get("prefer_immediately_available_credentials"))==null?void 0:d.valueOf())!=null?c:!1,S=h.mediation,R=o("WebAuthN").string2buffer(C),L=(p=h.userVerification)!=null?p:"preferred",E=o("WebAuthN").encodeCredentials(h.allowCredentials),k={publicKey:{challenge:R,timeout:s,rpId:y,userVerification:L,allowCredentials:E},mediation:S};return{callbacks:{onSuccess:_,onError:f,onCancel:g},json:k,extensions:{prefer_immediately_available_credentials:v,enable_device_key_signature_ext:b}}}function m(e,t,n){var r="Missing required parameter "+t;e.executeCatch(n.getValue(),[1,r])}function p(e){var t={authenticatorAttachment:e.authenticatorAttachment,id:e.id,raw_id:o("WebAuthN").bufferEncode(e.rawId),response:{attestationObject:o("WebAuthN").bufferEncode(e.response.attestationObject),clientDataJSON:o("WebAuthN").bufferEncode(e.response.clientDataJSON)},type:e.type},n=f(JSON.stringify(t));return{extension_results:f(JSON.stringify(e.clientExtensionResults)),passkey_id:e.id,payload:n,payload_version:"web"}}function _(e){var t=f(JSON.stringify(e.toJSON==null?void 0:e.toJSON())),n=f(JSON.stringify(e.getClientExtensionResults()));return{passkey_id:e.id,payload:t,payload_version:"web",extension_results:n}}function f(e){var t=btoa(e);return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g(e,t,n,r){var o=u.isValid(n)?n:u.UNKNOWN_ERROR;e.executeCatch(t.getValue(),[o,r])}l.PasskeyErrorCodes=u,l.getValidatedPasskeyRegistrationParams=c,l.getValidatedPasskeyAssertionParams=d,l.reportMissingParameter=m,l.buildBloksRegistrationArguments=p,l.buildBloksAssertionArguments=_,l.base64UrlEncode=f,l.onError=g}),98);
__d("FocusGroup.react",["FocusManager","Locale","ReactFocusEvent.react","ReactKeyboardEvent.react","focusKeyboardEventPropagation","react","setElementCanTab"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useRef,p=5;function _(e){return e.length===1}function f(e,t,n,r){o("focusKeyboardEventPropagation").stopFocusKeyboardEventPropagation(n);var a=t.DO_NOT_USE_queryFirstNode(e);a!==null&&(document.activeElement!=null&&o("setElementCanTab").setElementCanTab(document.activeElement,!1),o("setElementCanTab").setElementCanTab(a,!0),o("FocusManager").focusElement(a,{preventScroll:r}),n.preventDefault())}function g(e,t,n,r,o,a){var i=t.onNavigate;if(i&&r){var l=!1,s=h(r,o),u={currentIndex:s,event:n,focusItem:function(t,r){var e=t.scopeRef.current;e&&f(r||a,e,n)},getItem:function(t){return v(r,t)},getItemByTag:function(t){for(var e=r.length,n=s+1;;){if(n===s)return null;if(n>e-1){n=0;continue}var o=r[n];if(o){var a=o.disabled,i=o.scopeRef,l=o.tag,u=i.current;if(u&&a!==!0&&l===t)return o}n++}return null},preventDefault:function(){l=!0},type:e};if(i(u),l)return!0}return!1}function h(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r&&r.scopeRef.current===t)return n}return-1}function y(e,t,n){var r=e.scopeRef.current;if(r===null)return null;if(n!==null){var o=h(n,t),a=e.wrap,i=S(n,o-1);return!i&&a===!0?S(n,n.length-1):i}return null}function C(e,t,n){var r=e.scopeRef.current;if(r===null)return null;if(n.length>0){var o=h(n,t),a=e.wrap,i=b(n,o+1);return!i&&a===!0?b(n,0):i}return null}function b(e,t){var n=e.length;if(t>n)return null;for(var r=t;r<n;){var o=e[r];if(o!==null&&o.disabled!==!0)return o.scopeRef.current;r++}return null}function v(e,t){for(var n=t;n>=0;){var r=e[n];if(r!==null&&r.disabled!==!0)return r;n--}return null}function S(e,t){var n=v(e,t);return n?n.scopeRef.current:null}function R(e){var t=e.altKey,n=e.ctrlKey,r=e.metaKey,o=e.shiftKey;return t===!0||n===!0||r===!0||o===!0}function L(e){var t=s.unstable_Scope,n=s.createContext(null),r=s.createContext(null);function a(r){var a=r.allowModifiers,i=r.children,u=r.onNavigate,c=r.orientation,_=r.pageJumpSize,f=_===void 0?p:_,g=r.preventScrollOnFocus,h=g===void 0?!1:g,y=r.tabScopeQuery,C=r.wrap,b=m(null),v=d(function(){return{scopeRef:b,orientation:c,wrap:C,tabScopeQuery:y,allowModifiers:a,pageJumpSize:f,preventScrollOnFocus:h,onNavigate:u}},[c,C,y,a,f,h,u]),S=m(!1),R=o("ReactFocusEvent.react").useFocusWithin_DEPRECATED(b,d(function(){return{onFocusWithin:function(n){S.current||(S.current=!0,b.current&&e&&(l(b.current,e),o("setElementCanTab").setElementCanTab(n.target,!0)))}}},[S]));return s.jsx(n.Provider,{value:v,children:s.jsx(t,{ref:R,children:i})})}a.displayName=a.name+" [from "+i.id+"]";function l(e,t){var n=document.activeElement,r=e.DO_NOT_USE_queryAllNodes(t);if(r!==null)for(var a=0;a<r.length;a++){var i=r[a];i!==n?o("setElementCanTab").setElementCanTab(i,!1):o("setElementCanTab").setElementCanTab(i,!0)}}function u(a){var i=a.children,u=a.disabled,p=a.tag,v=m(null),L=c(n);o("ReactKeyboardEvent.react").useKeyboard(v,d(function(){return{onKeyDown:function(n){if(!o("focusKeyboardEventPropagation").hasFocusKeyboardEventPropagationStopped(n)){var t=v.current;if(t!==null&&L!==null){var a=L.orientation==="vertical"||L.orientation==="both",i=L.orientation==="horizontal"||L.orientation==="both",s=L.scopeRef.current,u=n.key,c=L.preventScrollOnFocus;if(u==="Tab"&&s!==null){var d=L.tabScopeQuery;if(d){if(L.onNavigate){var m=s.getChildContextValues(r);if(g("TAB",L,n,m,t,d))return}l(s,d)}return}if(R(n)){var p=L.allowModifiers;if(p!==!0)return}if(s===null)return;var E=u;switch(o("Locale").isRTL()&&(u==="ArrowRight"?E="ArrowLeft":u==="ArrowLeft"&&(E="ArrowRight")),E){case"Home":{var k=s.getChildContextValues(r);if(g("HOME",L,n,k,t,e))return;var I=b(k,0);if(I){f(e,I,n,c);return}break}case"End":{var T=s.getChildContextValues(r);if(g("END",L,n,T,t,e))return;var D=S(T,T.length-1);if(D){f(e,D,n,c);return}break}case"PageUp":{var x=s.getChildContextValues(r);if(g("PAGE_UP",L,n,x,t,e))return;var $=L.pageJumpSize,P=h(x,t),N=b(x,Math.max(0,P-$));if(N){f(e,N,n,c);return}break}case"PageDown":{var M=s.getChildContextValues(r);if(g("PAGE_DOWN",L,n,M,t,e))return;var w=L.pageJumpSize,A=h(M,t),F=S(M,Math.min(M.length-1,A+w));if(F){f(e,F,n,c);return}break}case"ArrowUp":{if(a){var O=s.getChildContextValues(r);if(g("PREV_ITEM",L,n,O,t,e))return;var B=n.metaKey||n.ctrlKey?b(O,0):y(L,t,O);if(B){f(e,B,n,c);return}}break}case"ArrowDown":{if(a){var W=s.getChildContextValues(r);if(g("NEXT_ITEM",L,n,W,t,e))return;var q=n.metaKey||n.ctrlKey?S(W,W.length-1):C(L,t,W);if(q){f(e,q,n,c);return}}break}case"ArrowLeft":{if(i){var U=s.getChildContextValues(r);if(g("PREV_ITEM",L,n,U,t,e))return;var V=n.metaKey||n.ctrlKey?b(U,0):y(L,t,U);if(V){f(e,V,n,c);return}}break}case"ArrowRight":{if(i){var H=s.getChildContextValues(r);if(g("NEXT_ITEM",L,n,H,t,e))return;var G=n.metaKey||n.ctrlKey?S(H,H.length-1):C(L,t,H);G&&f(e,G,n,c)}break}default:if(_(u)&&L.onNavigate){var z=s.getChildContextValues(r);g("PRINT_CHAR",L,n,z,t,e)}}}}}}},[L]));var E=o("ReactFocusEvent.react").useFocusWithin_DEPRECATED(v,d(function(){return{onFocusWithin:function(n){if(e!=null){var t,r=(t=v.current)==null?void 0:t.DO_NOT_USE_queryFirstNode(e),a=n.target===r;if(a&&r&&!o("setElementCanTab").canElementTab(r)){var i=L==null?void 0:L.scopeRef.current;i&&l(i,e)}}}}},[L==null?void 0:L.scopeRef])),k={scopeRef:v,disabled:u,tag:p};return s.jsx(r.Provider,{value:k,children:s.jsx(t,{ref:E,children:i})})}return u.displayName=u.name+" [from "+i.id+"]",[a,u]}l.createFocusGroup=L}),98);
__d("IGDSCheckPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("polyline",{fill:"none",points:"22 5 9.002 17.998 2.005 11.004",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDSDialogPage.react",["BaseHeadingContextWrapper.react","BaseScrollableArea.react","FocusInertRegion.react","focusScopeQueries","react","react-compiler-runtime","shouldUseIGDSPrismDialog","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={content:{paddingBottom:"x84yb8i",paddingInlineStart:"x7vhb2i",paddingInlineEnd:"xli2wwf",paddingLeft:null,paddingRight:null,"@media (max-width: 679px)_paddingInlineStart":"x1t4wfpm","@media (max-width: 679px)_paddingInlineEnd":"xnfz16y","@media (max-width: 679px)_paddingLeft":null,"@media (max-width: 679px)_paddingRight":null,$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"x1yr2tfi",position:"x1n2onr6",$$css:!0},rootFullAndMinHeight:{minHeight:"xw36ugu",$$css:!0},rootFullHeight:{minHeight:"xw36ugu",$$css:!0},scrollableArea:{flexGrow:"x1iyjqo2",overscrollBehaviorY:"xy5w88m",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(29),a=t.children,i=t.disablePageScroll,l=t.footer,s=t.header,d=t.isContentInert,m=t.isFullHeightByDefault,p=t.mobileFullHeight,_=t.pageXStyle,f=t.scrollAreaRef,g=i===void 0?!1:i,h=d===void 0?!1:d,y=m===void 0?!1:m,C=p===void 0?!0:p,b,v,S;if(n[0]!==a||n[1]!==g||n[2]!==l||n[3]!==s||n[4]!==h||n[5]!==y||n[6]!==C||n[7]!==_||n[8]!==f){var R=r("shouldUseIGDSPrismDialog")(),L=!h,E;n[12]!==h?(E={0:{className:"x78zum5 xdt5ytf x1iyjqo2 x7ywyr2"},1:{className:"x78zum5 xdt5ytf x1iyjqo2 x7ywyr2 x47corl x87ps6o"}}[!!h<<0],n[12]=h,n[13]=E):E=n[13];var k;n[14]!==a||n[15]!==E?(k=u.jsx("div",babelHelpers.extends({},E,{children:a})),n[14]=a,n[15]=E,n[16]=k):k=n[16];var I;n[17]!==k||n[18]!==L?(I=u.jsx(r("FocusInertRegion.react"),{disabled:L,focusQuery:o("focusScopeQueries").tabbableScopeQuery,children:k}),n[17]=k,n[18]=L,n[19]=I):I=n[19];var T=I;n[20]!==a||n[21]!==y||n[22]!==C||n[23]!==_?(b=(e||(e=r("stylex"))).props(c.root,y&&c.rootFullHeight,y&&C&&a!=null&&c.rootFullAndMinHeight,_),n[20]=a,n[21]=y,n[22]=C,n[23]=_,n[24]=b):b=n[24],v=s,S=(a!=null||l!=null)&&u.jsxs(u.Fragment,{children:[a!=null&&u.jsx(r("BaseHeadingContextWrapper.react"),{children:g?u.jsx("div",babelHelpers.extends({},{0:{},1:{className:"x84yb8i x7vhb2i xli2wwf x1t4wfpm xnfz16y"}}[!!R<<0],{children:T})):u.jsx(r("BaseScrollableArea.react"),{horizontal:!1,ref:f,vertical:!0,xstyle:[c.scrollableArea,R&&c.content],children:T})}),l&&u.jsx("div",babelHelpers.extends({},{0:{},1:{className:"x84yb8i x7vhb2i xli2wwf x1t4wfpm xnfz16y"}}[!!R<<0],{children:l}))]}),n[0]=a,n[1]=g,n[2]=l,n[3]=s,n[4]=h,n[5]=y,n[6]=C,n[7]=_,n[8]=f,n[9]=b,n[10]=v,n[11]=S}else b=n[9],v=n[10],S=n[11];var D;return n[25]!==b||n[26]!==v||n[27]!==S?(D=u.jsxs("div",babelHelpers.extends({},b,{children:[v,S]})),n[25]=b,n[26]=v,n[27]=S,n[28]=D):D=n[28],D}l.default=d}),98);
__d("InstagramChallengeRoutes",[],(function(t,n,r,o,a,i){"use strict";var e="/challenge/action",l="/challenge/v2/action";i.TAKE_CHALLENGE_BASE_PATH=e,i.TAKE_CHALLENGE_TOA_BASE_PATH=l}),66);
__d("PolarisCountryCallingCodes",[],(function(t,n,r,o,a,i){"use strict";var e=new Map([["AC","247"],["AD","376"],["AE","971"],["AF","93"],["AG","1"],["AI","1"],["AL","355"],["AM","374"],["AO","244"],["AR","54"],["AS","1"],["AT","43"],["AU","61"],["AW","297"],["AX","358"],["AZ","994"],["BA","387"],["BB","1"],["BD","880"],["BE","32"],["BF","226"],["BG","359"],["BH","973"],["BI","257"],["BJ","229"],["BL","590"],["BM","1"],["BN","673"],["BO","591"],["BQ","599"],["BR","55"],["BS","1"],["BT","975"],["BW","267"],["BY","375"],["BZ","501"],["CA","1"],["CC","61"],["CD","243"],["CF","236"],["CG","242"],["CH","41"],["CI","225"],["CK","682"],["CL","56"],["CM","237"],["CN","86"],["CO","57"],["CR","506"],["CU","53"],["CV","238"],["CW","599"],["CX","61"],["CY","357"],["CZ","420"],["DE","49"],["DJ","253"],["DK","45"],["DM","1"],["DO","1"],["DZ","213"],["EC","593"],["EE","372"],["EG","20"],["EH","212"],["ER","291"],["ES","34"],["ET","251"],["FI","358"],["FJ","679"],["FK","500"],["FM","691"],["FO","298"],["FR","33"],["GA","241"],["GB","44"],["GD","1"],["GE","995"],["GF","594"],["GG","44"],["GH","233"],["GI","350"],["GL","299"],["GM","220"],["GN","224"],["GP","590"],["GQ","240"],["GR","30"],["GT","502"],["GU","1"],["GW","245"],["GY","592"],["HK","852"],["HN","504"],["HR","385"],["HT","509"],["HU","36"],["ID","62"],["IE","353"],["IL","972"],["IM","44"],["IN","91"],["IO","246"],["IQ","964"],["IR","98"],["IS","354"],["IT","39"],["JE","44"],["JM","1"],["JO","962"],["JP","81"],["KE","254"],["KG","996"],["KH","855"],["KI","686"],["KM","269"],["KN","1"],["KP","850"],["KR","82"],["KW","965"],["KY","1"],["KZ","7"],["LA","856"],["LB","961"],["LC","1"],["LI","423"],["LK","94"],["LR","231"],["LS","266"],["LT","370"],["LU","352"],["LV","371"],["LY","218"],["MA","212"],["MC","377"],["MD","373"],["ME","382"],["MF","590"],["MG","261"],["MH","692"],["MK","389"],["ML","223"],["MM","95"],["MN","976"],["MO","853"],["MP","1"],["MQ","596"],["MR","222"],["MS","1"],["MT","356"],["MU","230"],["MV","960"],["MW","265"],["MX","52"],["MY","60"],["MZ","258"],["NA","264"],["NC","687"],["NE","227"],["NF","672"],["NG","234"],["NI","505"],["NL","31"],["NO","47"],["NP","977"],["NR","674"],["NU","683"],["NZ","64"],["OM","968"],["PA","507"],["PE","51"],["PF","689"],["PG","675"],["PH","63"],["PK","92"],["PL","48"],["PM","508"],["PR","1"],["PS","970"],["PT","351"],["PW","680"],["PY","595"],["QA","974"],["RE","262"],["RO","40"],["RS","381"],["RU","7"],["RW","250"],["SA","966"],["SB","677"],["SC","248"],["SD","249"],["SE","46"],["SG","65"],["SH","290"],["SI","386"],["SJ","47"],["SK","421"],["SL","232"],["SM","378"],["SN","221"],["SO","252"],["SR","597"],["SS","211"],["ST","239"],["SV","503"],["SX","1"],["SY","963"],["SZ","268"],["TA","290"],["TC","1"],["TD","235"],["TG","228"],["TH","66"],["TJ","992"],["TK","690"],["TL","670"],["TM","993"],["TN","216"],["TO","676"],["TR","90"],["TT","1"],["TV","688"],["TW","886"],["TZ","255"],["UA","380"],["UG","256"],["US","1"],["UY","598"],["UZ","998"],["VA","379"],["VC","1"],["VE","58"],["VG","1"],["VI","1"],["VN","84"],["VU","678"],["WF","681"],["WS","685"],["YE","967"],["YT","262"],["ZA","27"],["ZM","260"],["ZW","263"]]),l=e;i.default=l}),66);
__d("PolarisCountryCodeUtils",["PolarisConfig","PolarisCountryCallingCodes","memoize"],(function(t,n,r,o,a,i,l){"use strict";var e=r("memoize")(function(){var e=o("PolarisConfig").getCountryCode()==="internal"?"US":o("PolarisConfig").getCountryCode(),t=r("PolarisCountryCallingCodes").get(e!=null?e:"");return e!=null&&t!=null?{code:e,phoneCode:t}:null});function s(e){var t=r("PolarisCountryCallingCodes").get(e||"");return e!=null&&t!=null?{code:e,phoneCode:t}:{code:"US",phoneCode:"1"}}function u(e){return e.code+" +"+e.phoneCode}l.getInitialCountryCode=e,l.countryCodeFromCode=s,l.stringFromCountryCode=u}),98);
__d("PolarisIGCoreBox",["cx","FBLogger","IGDSBox.react","err","joinClasses","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["__filesource","color","dangerouslySetClassName","shape"],u,c=u||(u=o("react")),d=(function(t){function n(){return t.apply(this,arguments)||this}babelHelpers.inheritsLoose(n,t),n.toMargin=function(t){var e;switch(t){case 0:e=0;break;case 1:e=1;break;case 2:e=2;break;case 3:e=3;break;case 4:e=4;break;case 5:e=5;break;case 6:e=6;break;case 7:e=7;break;case 8:e=8;break;case 9:e=9;break;case 10:e=10;break;case 11:e=11;break;case 12:e=12;break;case 13:e=13;break;case 14:e=14;break;case 15:e=15;break;case 16:e=16;break;case 17:e=17;break;default:e="auto";break}return e};var o=n.prototype;return o.$1=function(t){var e=t.border,n=t.shape;return(e?"_ab8j":"")+(n==="circle"?" _ab8k":"")+(n==="rounded"?" _ab8l":"")+(n==="extra-rounded"?" _ab8m":"")},o.$2=function(t){var e=t.color;return(e==="ig-primary-button"?"_ab8n":"")+(e==="ig-highlight-background"?" _ab8o":"")+(e==="web-secondary-action"?" _ab8p":"")+(e==="ig-secondary-background"?" _ab8q":"")+(e==="docpen-red"?" _ab8r":"")+(e==="ig-primary-background"?" _ab8s":"")+(e==="ig-primary-text"?" _ab8t":"")+(e==="web-always-white"?" _ab8u":"")+(e==="web-overlay-on-media"?" _ab8v":"")},o.$3=function(t){var e=t.display;return(e==="flex"?"_ab8w":"")+(e==="block"?" _ab8x":"")+(e==="inlineBlock"?" _ab8y":"")+(e==="none"?" _ab8z":"")+(e==="visuallyHidden"?" _ab8-":"")},o.$4=function(t){var e=t.alignContent,n=t.alignItems,r=t.alignSelf,o=t.direction,a=t.flex,i=t.justifyContent,l=t.wrap;return(e==="start"?"_ab8_":"")+(e==="end"?" _ab90":"")+(e==="center"?" _ab91":"")+(e==="between"?" _ab92":"")+(e==="around"?" _ab93":"")+(e==="stretch"?" _ab94":"")+(n==="start"?" _ab95":"")+(n==="end"?" _ab96":"")+(n==="center"?" _ab97":"")+(n==="baseline"?" _ab98":"")+(n==="stretch"?" _ab99":"")+(r==="start"?" _ab9a":"")+(r==="end"?" _ab9b":"")+(r==="center"?" _ab9c":"")+(r==="baseline"?" _ab9d":"")+(r==="stretch"?" _ab9e":"")+(i==="start"?" _ab9f":"")+(i==="end"?" _ab9g":"")+(i==="center"?" _ab9h":"")+(i==="between"?" _ab9i":"")+(i==="around"?" _ab9j":"")+(o==="row"?" _ab9k":"")+(o==="rowReverse"?" _ab9l":"")+(o==="column"?" _ab9m":"")+(o==="columnReverse"?" _ab9n":"")+(a==="grow"?" _ab9o":"")+(a==="none"?" _ab9p":"")+(a==="shrink"?" _ab9q":"")+(l?" _ab9r":"")},o.$5=function(t){var e=t.height,n=t.maxHeight,r=t.maxWidth,o=t.minHeight,a=t.minWidth,i=t.width,l={};for(var s in arguments[0])arguments[0][s]!==void 0&&(l[s]=arguments[0][s]);return l},o.$6=function(t){var e=t.overflow;return(e==="hidden"?"_ab9s":"")+(e==="scroll"?" _ab9t":"")+(e==="scrollX"?" _ab9u":"")+(e==="scrollY"?" _ab9v":"")+(e==="auto"?" _ab9w":"")},o.$7=function(t){var e=t.padding,n=t.paddingX,r=t.paddingY,o=n!==void 0?n:e,a=r!==void 0?r:e;return(o===1?"_ab9x":"")+(o===2?" _ab9y":"")+(o===3?" _ab9z":"")+(o===4?" _ab9-":"")+(o===5?" _ab9_":"")+(o===6?" _aba0":"")+(o===7?" _aba1":"")+(o===8?" _aba2":"")+(o===9?" _aba3":"")+(o===10?" _aba4":"")+(o===11?" _aba5":"")+(o===12?" _aba6":"")+(a===1?" _aba7":"")+(a===2?" _aba8":"")+(a===3?" _aba9":"")+(a===4?" _abaa":"")+(a===5?" _abab":"")+(a===6?" _abac":"")+(a===7?" _abad":"")+(a===8?" _abae":"")+(a===9?" _abaf":"")+(a===10?" _abag":"")+(a===11?" _abah":"")+(a===12?" _abai":"")},o.$8=function(t){var e=t.margin,n=t.marginBottom,r=t.marginEnd,o=t.marginStart,a=t.marginTop,i=n!==void 0?n:e,l=a!==void 0?a:e,s=o!==void 0?o:e,u=r!==void 0?r:e;return(i===1?"_abaj":"")+(i===2?" _abak":"")+(i===3?" _abal":"")+(i===4?" _abam":"")+(i===5?" _aban":"")+(i===6?" _abao":"")+(i===7?" _abap":"")+(i===8?" _abaq":"")+(i===9?" _abar":"")+(i===10?" _abas":"")+(i===11?" _abat":"")+(i===12?" _abau":"")+(i===13?" _abav":"")+(i===14?" _abaw":"")+(i===15?" _abax":"")+(i===16?" _abay":"")+(i===17?" _abaz":"")+(i==="auto"?" _aba-":"")+(s===1?" _aba_":"")+(s===2?" _abb0":"")+(s===3?" _abb1":"")+(s===4?" _abb2":"")+(s===5?" _abb3":"")+(s===6?" _abb4":"")+(s===7?" _abb5":"")+(s===8?" _abb6":"")+(s===9?" _abb7":"")+(s===10?" _abb8":"")+(s===11?" _abb9":"")+(s===12?" _abba":"")+(s===13?" _abbb":"")+(s===14?" _abbc":"")+(s===15?" _abbd":"")+(s===16?" _abbe":"")+(s===17?" _abbf":"")+(s==="auto"?" _abbg":"")+(u===1?" _abbh":"")+(u===2?" _abbi":"")+(u===3?" _abbj":"")+(u===4?" _abbk":"")+(u===5?" _abbl":"")+(u===6?" _abbm":"")+(u===7?" _abbn":"")+(u===8?" _abbo":"")+(u===9?" _abbp":"")+(u===10?" _abbq":"")+(u===11?" _abbr":"")+(u===12?" _abbs":"")+(u===13?" _abbt":"")+(u===14?" _abbu":"")+(u===15?" _abbv":"")+(u===16?" _abbw":"")+(u===17?" _abbx":"")+(u==="auto"?" _abby":"")+(l===1?" _abbz":"")+(l===2?" _abb-":"")+(l===3?" _abb_":"")+(l===4?" _abc0":"")+(l===5?" _abc1":"")+(l===6?" _abc2":"")+(l===7?" _abc3":"")+(l===8?" _abc4":"")+(l===9?" _abc5":"")+(l===10?" _abc6":"")+(l===11?" _abc7":"")+(l===12?" _abc8":"")+(l===13?" _abc9":"")+(l===14?" _abca":"")+(l===15?" _abcb":"")+(l===16?" _abcc":"")+(l===17?" _abcd":"")+(l==="auto"?" _abce":"")},o.$9=function(t){var e=t.bottom,n=t.left,r=t.position,o=t.right,a=t.top;return(e?"_abcf":"")+(n?" _abcg":"")+(r==="absolute"?" _abch":"")+(r==="fixed"?" _abci":"")+(r==="relative"?" _abcj":"")+(o?" _abck":"")+(a?" _abcl":"")},o.render=function(){if(m(this.props)){var t=this.props,n=t.__filesource,o=t.color,a=t.dangerouslySetClassName,i=t.shape,l=babelHelpers.objectWithoutPropertiesLoose(t,e);return c.jsx(r("IGDSBox.react"),babelHelpers.extends({},l,{color:p(o),shape:_(i)}))}var s=this.props,u=s.accessibilityLabel,d=s.accessibilityLabelledBy,f=s.alignContent,g=s.alignItems,h=s.alignSelf,y=s.border,C=s.bottom,b=s.children,v=s.color,S=s.containerRef,R=s.dangerouslySetClassName,L=s["data-testid"],E=s["data-visualcompletion"],k=s.direction,I=s.display,T=s.flex,D=s.height,x=s.id,$=s.justifyContent,P=s.left,N=s.margin,M=s.marginBottom,w=s.marginEnd,A=s.marginStart,F=s.marginTop,O=s.maxHeight,B=s.maxWidth,W=s.minHeight,q=s.minWidth,U=s.overflow,V=s.padding,H=s.paddingX,G=s.paddingY,z=s.position,j=s.right,K=s.shape,Q=s.top,X=s.width,Y=s.wrap,J=this.$1({border:y,shape:K}),Z=this.$2({color:v}),ee=this.$3({display:I}),te=this.$4({alignContent:f,alignItems:g,alignSelf:h,direction:k,flex:T,justifyContent:$,wrap:Y}),ne=this.$8({margin:N,marginBottom:M,marginEnd:w,marginStart:A,marginTop:F}),re=this.$6({overflow:U}),oe=this.$7({padding:V,paddingX:H,paddingY:G}),ae=this.$9({bottom:C,left:P,position:z,right:j,top:Q}),ie=r("joinClasses")(J,Z,ee,te,ne,re,oe,ae),le=r("joinClasses")(ie,R==null?void 0:R.__className,"_abcm");return c.jsx("div",babelHelpers.extends({},{},{"aria-label":u,"aria-labelledby":d,className:le,"data-testid":void 0,"data-visualcompletion":E,id:x,ref:S,style:this.$5({height:D,maxHeight:O,maxWidth:B,minHeight:W,minWidth:q,width:X}),children:b}))},n})(c.PureComponent);d.defaultProps={alignContent:"stretch",alignItems:"stretch",alignSelf:"auto",border:!1,bottom:!1,color:"transparent",direction:"column",display:"flex",flex:"none",justifyContent:"start",left:!1,margin:0,overflow:"visible",padding:0,position:"static",right:!1,shape:"square",top:!1,wrap:!1};function m(e){return e.dangerouslySetClassName==null}function p(e){switch(e){case"ig-primary-background":return"primaryBackground";case"ig-secondary-background":return"secondaryBackground";case"ig-highlight-background":return"highlightBackground";case"ig-primary-button":return"primaryButton";case"web-secondary-action":return"secondaryAction";case"transparent":return"transparent";case"ig-primary-text":return"primaryText";case"web-always-white":return"alwaysWhite";default:return r("FBLogger")("ig_web").catching(r("err")('Attempted to map PolarisIGCoreBox color "%s" which has no IGDS equivalent',e)),"transparent"}}function _(e){switch(e){case"square":case"rounded":case"circle":return e;case"extra-rounded":return"extraRounded";default:return r("FBLogger")("ig_web").catching(r("err")('Attempted to map PolarisIGCoreBox shape "%s" which has no IGDS equivalent',e)),"square"}}l.default=d}),98);
__d("PolarisIGCorePhoneNumberInput.react",["cx","fbt","IGCoreModal.react","IGDSBox.react","IGDSChevronDownPanoOutline24Icon.react","IGDSDivider.react","IGDSText.react","ISOCountryCode","PolarisAssetManagerGlyphMapping","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCoreButton.react","PolarisIGCoreIconButton.react","PolarisIGCoreModalHeader.react","PolarisIGCoreTextInput.react","PolarisIGVirtualList.react","gkx","memoizeWithArgs","react"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=r("memoizeWithArgs")(function(e,t,n){return Array.from(t.entries()).filter(function(t){var o=t[0],a=t[1],i=n[r("ISOCountryCode")[o]];return i?!!(e===""||o.toUpperCase().includes(e)||i.toUpperCase().includes(e)):!1})},function(e){return e}),m=c.memo(function(t){return c.jsx(r("PolarisIGCoreBox"),{dangerouslySetClassName:t.isFirst?void 0:{__className:"_aa89"},height:p,marginEnd:4,marginStart:4,children:c.jsx("button",{className:"_aa8a",onClick:t.onChangeCountryCode,type:"button",children:c.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",position:"relative",children:[c.jsx(r("IGDSText.react"),{zeroMargin:!1,children:t.countryName}),c.jsx(r("IGDSText.react"),{color:"secondaryText",zeroMargin:!1,children:"+"+t.phoneCode})]})})})}),p=54,_=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={filterText:"",showCountryCodeSelector:!1},t.$1=function(e){var n=t.props.onBlur;n&&n(e)},t.$2=function(e){var n=t.props.onFocus;n&&n(e)},t.$3=function(e){var n=t.props.onFocusCountryCode;n&&n(e)},t.onCloseModal=function(){t.setState({showCountryCodeSelector:!1})},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.displayPhoneCode=function(t){return t==null?"":t.code+" +"+t.phoneCode},n.getListOption=function(t){var e=this;return function(n){var o=n.index,a=t[o],i=a[0],l=a[1];return c.jsx(m,{countryCodeValue:i,countryName:e.props.countryNamesMap[r("ISOCountryCode")[i]],isFirst:o===0,onChangeCountryCode:function(){e.props.onChangeCountryCode({code:i,phoneCode:l}),e.onCloseModal()},phoneCode:l},i)}},n.render=function(){var e=this,t,n,a,i,l=this.props,s=l["aria-describedby"],m=l["aria-label"],_=l["aria-labelledby"],f=l.backgroundColor,g=l.disabled,h=l.endAdornment,y=l.hasError,C=l.maxLength,b=l.onChange,v=l.onKeyDown,S=l.placeholder,R=l.readOnly,L=l.required,E=l.style,k=l.value,I=r("gkx")("19881"),T=this.props.isNuxStepV2===!0?c.jsx("div",{className:"_aa8b",children:c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){return e.setState({showCountryCodeSelector:!0})},children:c.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",minWidth:75,children:[c.jsx(r("IGDSBox.react"),{marginEnd:1,children:c.jsxs(r("IGDSText.react"),{color:"primaryText",weight:"normal",zeroMargin:!0,children:[(t=(n=this.props.countryCode)==null?void 0:n.code)!=null?t:""," +",(a=(i=this.props.countryCode)==null?void 0:i.phoneCode)!=null?a:""]})}),c.jsx(r("IGDSBox.react"),{alignItems:"end",flex:"grow",justifyContent:"end",children:c.jsx(r("IGDSChevronDownPanoOutline24Icon.react"),{alt:o("PolarisGenericStrings").DOWN_CHEVRON_ALT,color:"ig-primary-icon",size:12})})]})})}):c.jsx("div",{className:"_aa8b",children:I?c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){return e.setState({showCountryCodeSelector:!0})},children:c.jsx(r("IGDSText.react"),{color:"primaryButtonText",weight:"normal",zeroMargin:!0,children:this.displayPhoneCode(this.props.countryCode)})}):c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,color:"ig-secondary-button",onClick:function(){return e.setState({showCountryCodeSelector:!0})},children:c.jsx(r("IGDSText.react"),{color:"primaryButton",weight:"semibold",zeroMargin:!0,children:this.displayPhoneCode(this.props.countryCode)})})}),D=d(this.state.filterText.toUpperCase(),this.props.countryCodesMap,this.props.countryNamesMap),x=u._(/*BTDS*/"Select country");return c.jsxs(c.Fragment,{children:[this.state.showCountryCodeSelector&&c.jsxs(r("IGCoreModal.react"),{"aria-label":x,dangerouslySetClassName:{__className:"_aa8c"},onClose:this.onCloseModal,size:"large",children:[" ",c.jsx(r("PolarisIGCoreModalHeader.react"),{onClose:this.onCloseModal,children:x}),c.jsxs(r("IGDSBox.react"),{position:"relative",children:[c.jsx(r("IGDSBox.react"),{marginEnd:2,marginStart:2,position:"relative",children:c.jsx(r("PolarisIGCoreTextInput.react"),{backgroundColor:"transparent",name:"filter",onChange:function(n){return e.setState({filterText:n.target.value})},onFocus:this.$3,placeholder:u._(/*BTDS*/"Country name or code"),startAdornment:c.jsx(r("PolarisIGCoreIconButton.react"),{alt:o("PolarisGenericStrings").SEARCH_TEXT,icon:o("PolarisAssetManagerGlyphMapping").ICONS.SEARCH_OUTLINE_24_GREY9}),style:"borderless",type:"search",value:this.state.filterText})}),c.jsx(r("IGDSDivider.react"),{}),c.jsx(r("PolarisIGVirtualList.react"),{className:"_aa8d",containerSize:"auto",estimatedItemSize:p,itemCount:D.length,renderer:this.getListOption(D)})]})]}),c.jsx(r("PolarisIGCoreTextInput.react"),{"aria-describedby":s,"aria-label":m,"aria-labelledby":_,autoComplete:"tel",backgroundColor:f,dangerouslySetClassName:{__className:this.props.isNuxStepV2===!0?"_aup2":"_aa8e"},disabled:g,endAdornment:h,hasError:y,maxLength:C,name:"phone",onBlur:this.$1,onChange:b,onFocus:this.$2,onKeyDown:v,placeholder:S,readOnly:R,required:L,startAdornment:T,style:E,type:"tel",value:k})]})},t})(c.Component);l.default=_}),226);
__d("PolarisPhoneCommonStrings",["fbt","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"Add phone number"),d=s._(/*BTDS*/"You may receive SMS updates from Instagram and can opt out at any time."),m=s._(/*BTDS*/"Phone number"),p=s._(/*BTDS*/"Adding your number will help you log in more easily, recover your account and find people to follow."),_=s._(/*BTDS*/"Change it"),f=s._(/*BTDS*/"Didn't enter the correct phone number?"),g=s._(/*BTDS*/"Done"),h=s._(/*BTDS*/"Enter confirmation code"),y=s._(/*BTDS*/"Confirmation code");function C(e){return s._(/*BTDS*/"Enter the confirmation code we sent to {phoneNumber}.",[s._param("phoneNumber",e)])}function b(e){return s._(/*BTDS*/"If you haven't received it, we can {resendCode}.",[s._param("resendCode",e)])}l.ADD_PHONE_NUMBER_LABEL=c,l.PHONE_NUMBER_CAPTION=d,l.PHONE_NUMBER_LABEL=m,l.PHONE_NUMBER_VALUE_PROP=p,l.CONFIRMATION_CODE_CHANGE_CODE=_,l.CONFIRMATION_CODE_CHANGE_CODE_QUESTION=f,l.CONFIRMATION_CODE_DONE=g,l.ENTER_CONFIRMATION_CODE_LABEL=h,l.CONFIRMATION_CODE_TITLE=y,l.confirmationCodeBodyText=C,l.confirmationCodeResendCode=b}),226);
__d("PolarisPhoneNumberCountryCodeInput.react",["CountryNames","PolarisCountryCallingCodes","PolarisIGCorePhoneNumberInput.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("PolarisIGCorePhoneNumberInput.react"),babelHelpers.extends({countryCodesMap:r("PolarisCountryCallingCodes"),countryNamesMap:r("CountryNames")},e)),t[0]=e,t[1]=n):n=t[1],n}l.default=u}),98);
__d("XMDSListCell.react",["BaseIsDecorativeContext","XMDSListCellImpl.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["addOnEnd","ref"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(8),a,i,l;n[0]!==t?(a=t.addOnEnd,l=t.ref,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s;return n[4]!==a||n[5]!==i||n[6]!==l?(s=u.jsx(r("BaseIsDecorativeContext").Provider,{value:!0,children:u.jsx(r("XMDSListCellImpl.react"),babelHelpers.extends({ref:l},i,{addOnEnd:a}))}),n[4]=a,n[5]=i,n[6]=l,n[7]=s):s=n[7],s}l.default=c}),98);
__d("getViewportDimensions",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){var e=null;return function(){var t=document.body;return t==null?null:((e==null||!t.contains(e))&&(e=document.createElement("div"),e.style.left=Number.MAX_SAFE_INTEGER+"px",e.style.width="100%",e.style.height="100%",e.style.position="fixed",t.appendChild(e)),e)}})();function s(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),e==null&&document.body&&(e=document.body.clientWidth),e||0}function u(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),e==null&&document.body&&(e=document.body.clientHeight),e||0}function c(){return{width:window.innerWidth||s(),height:window.innerHeight||u()}}c.withoutScrollbars=function(){return r("UserAgent").isPlatform("Android")?c():{width:s(),height:u()}},c.layout=function(){var t,n,r=e();return{width:(t=r==null?void 0:r.clientWidth)!=null?t:s(),height:(n=r==null?void 0:r.clientHeight)!=null?n:u()}},l.default=c}),98);
__d("useBaseDynamicEntryPointDialog",["CometDialogContext","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","react-compiler-runtime","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useContext,m=u.useEffect,p=u.useRef;function _(e){var t=o("react-compiler-runtime").c(17),n=e.entryPoint,a=e.environmentProvider,i=e.onClose,l=e.otherProps,u=e.overrideRelayEnv,c=e.preloadedEntryPoint,d=e.preloadParams,_=o("CometRelay").useEntryPointLoader(a,n),f=_[0],g=_[1],h=_[2],y=f!=null?f:c,C=p(null),b,v;t[0]!==h||t[1]!==y.isDisposed||t[2]!==d||t[3]!==c||t[4]!==g||t[5]!==f?(b=function(){return C.current!=null&&(r("clearTimeout")(C.current),C.current=null),y.isDisposed&&g(d),(function(){C.current=r("setTimeout")(function(){f?h():c.dispose(),C.current=null},6e4)})},v=[h,y.isDisposed,c,d,g,f],t[0]=h,t[1]=y.isDisposed,t[2]=d,t[3]=c,t[4]=g,t[5]=f,t[6]=b,t[7]=v):(b=t[6],v=t[7]),m(b,v);var S;t[8]!==i||t[9]!==l?(S=babelHelpers.extends({},l,{onClose:i}),t[8]=i,t[9]=l,t[10]=S):S=t[10];var R=S,L;t[11]!==c||t[12]!==R?(L=s.jsx(o("CometRelay").EntryPointContainer,{entryPointReference:c,props:R}),t[11]=c,t[12]=R,t[13]=L):L=t[13];var E=L,k;return t[14]!==E||t[15]!==u?(k=u!=null?s.jsx(o("CometRelay").RelayEnvironmentProvider,{environment:u,children:E}):E,t[14]=E,t[15]=u,t[16]=k):k=t[16],k}function f(e,t,n,a){var i=o("react-compiler-runtime").c(7),l=r("useCometRelayEntrypointContextualEnvironmentProvider")(a),s=d(r("CometDialogContext")),u;return i[0]!==s||i[1]!==e||i[2]!==l||i[3]!==n||i[4]!==a||i[5]!==t?(u=function(u,c,d,m,p){var i=o("CometRelay").loadEntryPoint(l,e,u),f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t;d&&d.apply(void 0,r),i.dispose()};s(r("CometSuspendedDialogImpl.react"),{dialog:_,dialogProps:{entryPoint:e,environmentProvider:l,otherProps:c,overrideRelayEnv:a,preloadedEntryPoint:i,preloadParams:u},fallback:n},{loadType:"entrypoint",preloadTrigger:t,tracePolicy:m!=null?m:r("tracePolicyFromResource")("comet.dialog",e.root)},f,{replaceCurrentDialog:p})},i[0]=s,i[1]=e,i[2]=l,i[3]=n,i[4]=a,i[5]=t,i[6]=u):u=i[6],u}l.default=f}),98);/*FB_PKG_DELIM*/
__d("BadgeCheckmarkFilled12.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("g",{fillRule:"evenodd",transform:"translate(-98 -917)",children:s.jsx("path",{d:"m106.853 922.354-3.5 3.5a.499.499 0 0 1-.706 0l-1.5-1.5a.5.5 0 1 1 .706-.708l1.147 1.147 3.147-3.147a.5.5 0 1 1 .706.708m3.078 2.295-.589-1.149.588-1.15a.633.633 0 0 0-.219-.82l-1.085-.7-.065-1.287a.627.627 0 0 0-.6-.603l-1.29-.066-.703-1.087a.636.636 0 0 0-.82-.217l-1.148.588-1.15-.588a.631.631 0 0 0-.82.22l-.701 1.085-1.289.065a.626.626 0 0 0-.6.6l-.066 1.29-1.088.702a.634.634 0 0 0-.216.82l.588 1.149-.588 1.15a.632.632 0 0 0 .219.819l1.085.701.065 1.286c.014.33.274.59.6.604l1.29.065.703 1.088c.177.27.53.362.82.216l1.148-.588 1.15.589a.629.629 0 0 0 .82-.22l.701-1.085 1.286-.064a.627.627 0 0 0 .604-.601l.065-1.29 1.088-.703a.633.633 0 0 0 .216-.819"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("baseTextWithEntitiesApplyRenderers",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.Fragment;function c(e,t,n,r,o,a,i,l,c){var d=e.__typename,m=Object.prototype.hasOwnProperty.call(l,d)?l[d].concat(c):c;return s.jsx(u,{children:m&&m.length>0?m.reduce(function(r,a){return a(r,e,n,o,t)},a):r},i)}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("baseTextWithEntitiesApplyTextTransforms",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return t!=null?t.reduce(function(e,t){return t(e)},e):e}e.displayName=e.name+" [from "+a.id+"]",i.default=e}),66);
__d("baseTextWithEntitiesProcessRange",["UnicodeUtils","baseTextWithEntitiesApplyRenderers","baseTextWithEntitiesApplyTextTransforms","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.Fragment;function d(e,t,n,a,i,l,d,m,p,_,f,g){var h=(s||(s=o("UnicodeUtils"))).substr(e,t,n-t),y=p.length;h.length>0&&m.push(u.jsx(c,{children:r("baseTextWithEntitiesApplyTextTransforms")(h,_)},"c"+t+"_"+y+"_"+g));var C=p.pop();return p[p.length-1].subElements.push(r("baseTextWithEntitiesApplyRenderers")(a,i,l,m,h,m,t+"_"+y+"_"+g,d,f)),C}l.default=d}),98);
__d("baseTextWithEntitiesSortRanges",[],(function(t,n,r,o,a,i){"use strict";function e(e){return Array.from(e).sort(function(e,t){return e.offset-t.offset||t.length-e.length})}i.default=e}),66);
__d("BaseCometTextWithEntitiesBase.react",["UnicodeUtils","baseTextWithEntitiesApplyRenderers","baseTextWithEntitiesApplyTextTransforms","baseTextWithEntitiesProcessRange","baseTextWithEntitiesSortRanges","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.Fragment;function d(e){var t=o("react-compiler-runtime").c(8),n=e.ranges,a=e.renderers,i=e.transforms,l=e.text,d=e.disableRangeSort,m;if(t[0]!==a||t[1]!==l||t[2]!==n||t[3]!==i||t[4]!==d){var p,_=n===void 0?[]:n,f=i===void 0?[]:i,g=d===void 0?!1:d,h=a!=null?a:{},y=0,C=(p=Object.prototype.hasOwnProperty.call(h,"*")?h["*"]:[])!=null?p:[],b=g?_:r("baseTextWithEntitiesSortRanges")(_);m=[{entity:{__typename:""},entity_is_weak_reference:!1,entityType:"",length:l.length,offset:0,subElements:[]}];for(var v=0;v<b.length;++v){var S=b[v],R=S.entity,L=S.entity_is_weak_reference,E=S.entity_type,k=S.length,I=S.offset;if(y>=l.length||I>l.length)break;for(var T=m[m.length-1],D=T.entity,x=T.entity_is_weak_reference,$=T.entityType,P=T.length,N=T.offset,M=T.subElements,w=N+P;w<=I&&m.length>1;){r("baseTextWithEntitiesProcessRange")(l,y,w,D,x,$,h,M,m,f,C,v),y=w;var A=m[m.length-1];D=A.entity,x=A.entity_is_weak_reference,$=A.entityType,P=A.length,N=A.offset,M=A.subElements,w=N+P}if(y<I&&(m[m.length-1].subElements.push(u.jsx(c,{children:r("baseTextWithEntitiesApplyTextTransforms")((s||(s=o("UnicodeUtils"))).substr(l,y,I-y),f)},"c"+y+"_"+m.length)),y=I),N<=I&&w>=I+k)m.push({entity:R,entity_is_weak_reference:L!=null?L:null,entityType:E!=null?E:null,length:k,offset:I,subElements:[]});else{var F=(s||(s=o("UnicodeUtils"))).substr(l,I,k),O=r("baseTextWithEntitiesApplyTextTransforms")(F,f);m[m.length-1].subElements.push(r("baseTextWithEntitiesApplyRenderers")(R,L!=null?L:null,E!=null?E:null,F,F,O,y+"_"+m.length,h,C)),y=I+k}}for(;m.length>1;){var B=m[m.length-1],W=B.entity,q=B.entity_is_weak_reference,U=B.entityType,V=B.length,H=B.offset,G=B.subElements,z=H+V;r("baseTextWithEntitiesProcessRange")(l,y,z,W,q,U,h,G,m,f,C,m.length),y=z}if(y<l.length){var j=m[m.length-1].subElements;j.push(u.jsx(c,{children:r("baseTextWithEntitiesApplyTextTransforms")((s||(s=o("UnicodeUtils"))).substr(l,y),f)},"c"+y))}t[0]=a,t[1]=l,t[2]=n,t[3]=i,t[4]=d,t[5]=m}else m=t[5];var K=m[m.length-1],Q;return t[6]!==K.subElements?(Q=u.jsx(u.Fragment,{children:K.subElements}),t[6]=K.subElements,t[7]=Q):Q=t[7],Q}l.default=d}),98);
__d("CometPageVerificationIcon.react",["fbt","BadgeCheckmarkFilled12.svg.react","FDSIcon.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d={verifiedIconContainer:{display:"x3nfvp2",verticalAlign:"x11njtxf",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(10),a=t.isInverted,i=t.size,l=t.verificationBadge,u=t.xstyle,m=null,p;n[0]===Symbol.for("react.memo_cache_sentinel")?(p=s._(/*BTDS*/"Verified account"),n[0]=p):p=n[0];var _=p,f=12;if(i==="large"?f=16:i==="xsmall"&&(f=10),a===!0){var g;n[1]!==f?(g=c.jsx(r("FDSIcon.react"),{alt:_,color:"white",icon:r("BadgeCheckmarkFilled12.svg.react"),size:f}),n[1]=f,n[2]=g):g=n[2],m=g}else e:switch(l){case"BLUE_VERIFIED":{var h;n[3]!==f?(h=c.jsx(r("FDSIcon.react"),{alt:_,color:"highlight",icon:r("BadgeCheckmarkFilled12.svg.react"),size:f}),n[3]=f,n[4]=h):h=n[4],m=h;break e}case"GRAY_VERIFIED":{var y;n[5]!==f?(y=c.jsx(r("FDSIcon.react"),{alt:_,color:"secondary",icon:r("BadgeCheckmarkFilled12.svg.react"),size:f}),n[5]=f,n[6]=y):y=n[6],m=y}}var C;return n[7]!==m||n[8]!==u?(C=m!=null?c.jsx("span",babelHelpers.extends({},(e||(e=r("stylex"))).props(u,d.verifiedIconContainer),{children:m})):null,n[7]=m,n[8]=u,n[9]=C):C=n[9],C}l.default=m}),226);
__d("IGDAvatarGlimmer.react",["IGDSGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={glimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function c(e,t){return t==="tiny"?"32px":t==="small"||t==="medium"?e?"32px":"44px":t==="XXL"?e?"56px":"96px":t==="micro"?"14px":"56px"}function d(e){var t=o("react-compiler-runtime").c(9),n=e.isMobile,a=e.size,i=n===void 0?!1:n,l;t[0]!==i||t[1]!==a?(l=c(i,a),t[0]=i,t[1]=a,t[2]=l):l=t[2];var d=l,m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m="x1n2onr6",t[3]=m):m=t[3];var p;t[4]!==d?(p={height:d,width:d},t[4]=d,t[5]=p):p=t[5];var _;t[6]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(r("IGDSGlimmer.react"),{index:1,xstyle:u.glimmer}),t[6]=_):_=t[6];var f;return t[7]!==p?(f=s.jsx("div",{className:m,style:p,children:_}),t[7]=p,t[8]=f):f=t[8],f}l.default=d}),98);
__d("WmiMediaStagingManagerClient",["uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new Map,this.$2=new Map,this.$3=new Map}var t=e.prototype;return t.$4=function(){this.$2.forEach(function(e){e.listener()})},t.$5=function(t){this.$2.forEach(function(e){e.threadFbid===t&&e.listener()})},t.getMediaStagingsForThread=function(t){var e,n,r=this.$3.get(t);if(r!=null)return r;var o=Array.from((e=(n=this.$1.get(t))==null?void 0:n.values())!=null?e:[]);return this.$3.set(t,o),o},t.getMediaStaging=function(t,n){var e,r;return(e=(r=this.$1.get(t))==null?void 0:r.get(n))!=null?e:null},t.setMediaStaging=function(t,n){var e,r=new Map((e=this.$1.get(t))!=null?e:[]);r.set(n.offlineAttachmentId,n),this.$1.set(t,r),this.$3.delete(t),this.$5(t)},t.updateMediaStaging=function(t,n,r){var e=this.getMediaStaging(t,n);if(e==null)return"no-staging";this.setMediaStaging(t,babelHelpers.extends({},e,r))},t.removeMediaStaging=function(t,n){var e;(e=this.$1.get(t))==null||e.delete(n),this.$3.delete(t),this.$5(t)},t.subscribe=function(t,n){var e=this,o=r("uuidv4")();return this.$2.set(o,{listener:n,threadFbid:t}),function(){e.$2.delete(o)}},t.cleanup=function(){this.$4(),this.$3.clear(),this.$1.clear()},e})();l.WmiMediaStagingManagerClient=e}),98);
__d("IGDMediaStagingContext",["WmiMediaStagingManagerClient","react","react-compiler-runtime","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useEffect,m=c(null);function p(e){var t=o("react-compiler-runtime").c(6),n=e.children,a=r("useStable")(_),i,l;t[0]!==a?(i=function(){return(function(){a==null||a.cleanup()})},l=[a],t[0]=a,t[1]=i,t[2]=l):(i=t[1],l=t[2]),d(i,l);var u;return t[3]!==n||t[4]!==a?(u=s.jsx(m.Provider,{value:a,children:n}),t[3]=n,t[4]=a,t[5]=u):u=t[5],u}function _(){return new(o("WmiMediaStagingManagerClient")).WmiMediaStagingManagerClient}l.IGDMediaStagingClientContext=m,l.IGDMediaStagingContextProvider=p}),98);
__d("IGDMobileNavigationButton.react",["fbt","IGDSArrowLeftPanoOutlineIcon.react","IGDSIconButton.react","Locale","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"Back"),d={root:{marginInlineEnd:"xbmvrgn",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(3),n=e.onClick,a=n,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx("span",babelHelpers.extends({},{0:{},1:{className:"x19jd1h0"}}[!!o("Locale").isRTL()<<0],{children:u.jsx(r("IGDSArrowLeftPanoOutlineIcon.react"),{alt:c,color:"ig-primary-text",size:24})})),t[0]=i):i=t[0];var l;return t[1]!==a?(l=u.jsx(r("IGDSIconButton.react"),{onClick:a,padding:8,xstyle:d.root,children:i}),t[1]=a,t[2]=l):l=t[2],l}l.default=m}),226);
__d("IGDSVideoChatFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M21.259 5.935q-.401.404-.877.88a2.998 2.998 0 0 0-.88 2.121v6.18a3 3 0 0 0 .878 2.121l.879.881A1.653 1.653 0 0 0 24 16.953V7.101a1.653 1.653 0 0 0-2.742-1.166Zm-7.075-3.408H3.818A3.823 3.823 0 0 0-.001 6.345v11.364a3.823 3.823 0 0 0 3.819 3.818h10.366a3.823 3.823 0 0 0 3.818-3.818V6.345a3.823 3.823 0 0 0-3.818-3.818Z",fillRule:"evenodd"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDSectionHeaderLayout.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={noBottomBorder:{borderBottomWidth:"x1qhh985",height:"x14z7g9a",minHeight:"xzbw6zd",$$css:!0},root:{alignItems:"x6s0dn4",borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",boxSizing:"x9f619",display:"x78zum5",flexDirection:"x1q0g3np",height:"xr931m4",marginBottom:"xat24cr",minHeight:"x4lt0of",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",width:"xh8yej3",$$css:!0},rootMobile:{height:"xn3w4p2",minHeight:"x1gg8mnh",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(7),a=t.children,i=t.isMobile,l=t.noBottomBorder,s=t.xstyle,d=i===void 0?!1:i,m=l===void 0?!1:l,p;n[0]!==d||n[1]!==m||n[2]!==s?(p=(e||(e=r("stylex"))).props(c.root,m?c.noBottomBorder:!1,d?c.rootMobile:!1,s),n[0]=d,n[1]=m,n[2]=s,n[3]=p):p=n[3];var _;return n[4]!==a||n[5]!==p?(_=u.jsx("div",babelHelpers.extends({},p,{children:a})),n[4]=a,n[5]=p,n[6]=_):_=n[6],_}function m(e){var t=o("react-compiler-runtime").c(3),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r={className:"x78zum5"},t[0]=r):r=t[0];var a;return t[1]!==n?(a=u.jsx("div",babelHelpers.extends({},r,{children:n})),t[1]=n,t[2]=a):a=t[2],a}function p(e){var t=o("react-compiler-runtime").c(3),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r={className:"x78zum5 x13a6bvl x1g0dm76"},t[0]=r):r=t[0];var a;return t[1]!==n?(a=u.jsx("div",babelHelpers.extends({},r,{children:n})),t[1]=n,t[2]=a):a=t[2],a}l.Container=d,l.StartAdornment=m,l.EndAdornment=p}),98);
__d("IGDSectionHeader.react",["IGDSectionHeaderLayout.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(11),n=e.children,r=e.endAdornment,a=e.isMobile,i=e.noBottomBorder,l=e.startAdornment,u=e.xstyle,c=i===void 0?!1:i,d;t[0]!==l?(d=l!=null?s.jsx(o("IGDSectionHeaderLayout.react").StartAdornment,{children:l}):null,t[0]=l,t[1]=d):d=t[1];var m=d,p;t[2]!==r?(p=r!=null?s.jsx(o("IGDSectionHeaderLayout.react").EndAdornment,{children:r}):null,t[2]=r,t[3]=p):p=t[3];var _=p,f;return t[4]!==n||t[5]!==_||t[6]!==a||t[7]!==c||t[8]!==m||t[9]!==u?(f=s.jsxs(o("IGDSectionHeaderLayout.react").Container,{isMobile:a,noBottomBorder:c,xstyle:u,children:[m,n,_]}),t[4]=n,t[5]=_,t[6]=a,t[7]=c,t[8]=m,t[9]=u,t[10]=f):f=t[10],f}l.default=u}),98);
__d("IGDTypingIndicatorClientSubscription_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24482572748042449"}),null);
__d("IGDTypingIndicatorClientSubscription.graphql",["IGDTypingIndicatorClientSubscription_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input_data"}],t=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input_data"}],concreteType:"XDTDirectRealtimeEventResponse",kind:"LinkedField",name:"xdt_direct_realtime_event",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"event",storageKey:null},{alias:null,args:null,concreteType:"XDTDirectRealtimeOperation",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"op",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"IGDTypingIndicatorClientSubscription",selections:t,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"IGDTypingIndicatorClientSubscription",selections:t},params:{id:n("IGDTypingIndicatorClientSubscription_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_direct_realtime_event"],subscriptionName:"xdt_direct_realtime_event"},name:"IGDTypingIndicatorClientSubscription",operationKind:"subscription",text:null}}})();a.exports=e}),null);
__d("IGDTypingIndicatorTransformer",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,o,a=e==null||(t=e.xdt_direct_realtime_event)==null||(t=t.data)==null?void 0:t[0],i=(n=a==null?void 0:a.path)!=null?n:"",l=(o=a==null?void 0:a.value)!=null?o:"{}";try{var s=JSON.parse(l,function(e,t){if(e==="sender_id"&&typeof t=="number"){var n=/\"sender_id\":(\d+)/,r=l.match(n);return r?r[1]:null}return t}),u=/threads\/(\d+)\/activity_indicator_id/,c=i.match(u),d=c?c[1]:null,m=Math.floor(Number(s.timestamp)/1e3);if(d!=null)return{activityStatus:s.activity_status,senderIgId:s.sender_id,threadIgId:d,timestamp:m,ttl:s.ttl}}catch(e){r("FBLogger")("igd_web").catching(e instanceof Error?e:new Error(String(e))).warn("IGD typing indicator: typing event could not be parsed")}return null}l.transformIGDTypingPayload=e}),98);
__d("IGDTypingIndicatorTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({TYPING:1,STOPPED_TYPING:0}),l=1e3,s=11e3;i.IGDTypingStatus=e,i.ONE_SECOND_IN_MILLISECONDS=l,i.IGD_WEB_TYPING_INDICATOR_TTL=s}),66);
__d("IGDTypingIndicatorClient",["CometRelay","FBLogger","IGDTypingIndicatorClientSubscription.graphql","IGDTypingIndicatorTransformer","IGDTypingIndicatorTypes","clearInterval","setInterval","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("IGDTypingIndicatorClientSubscription.graphql"),u=(function(){function e(e,t){this.$3=new Map,this.$4=new Map,this.$5=new Map,this.$6=null,this.$1=e,this.$2=t}var t=e.prototype;return t.cleanup=function(){var e;(e=this.$6)==null||e.dispose(),this.$6=null;for(var t of this.$4.values())r("clearInterval")(t);this.$4.clear(),this.$3.clear(),this.$7()},t.$7=function(){for(var e of this.$5.values()){var t=e.listener,n=e.threadIgId;t(this.getTypingEvents(n))}},t.$8=function(t){for(var e of this.$5.values()){var n=e.listener,r=e.threadIgId;t===r&&n(this.getTypingEvents(r))}},t.$9=function(t,n,a){var e=this;a===void 0&&(a=o("IGDTypingIndicatorTypes").IGD_WEB_TYPING_INDICATOR_TTL),this.$10(t,n);var i=t+":"+n;this.$4.set(i,r("setInterval")(function(){e.removeTypingEvent(t,n)},a))},t.$10=function(t,n){var e=t+":"+n,o=this.$4.get(e);o!=null&&(r("clearInterval")(o),this.$4.delete(e))},t.$11=function(t){var e=t.activityStatus,n=t.senderIgId,r=t.threadIgId;e:{if(e===o("IGDTypingIndicatorTypes").IGDTypingStatus.TYPING){this.addTypingEvent(r,n,t);break e}if(e===o("IGDTypingIndicatorTypes").IGDTypingStatus.STOPPED_TYPING){this.removeTypingEvent(r,n);break e}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)}},t.setupRealtimeSubscription=function(){var e=this;this.$6==null&&(this.$6=o("CometRelay").requestSubscription(this.$1,{onError:function(t){r("FBLogger")("igd_web").catching(t).warn("IGD typing indicator: Error with subscription setup")},onNext:function(n){if(n!=null){var t=o("IGDTypingIndicatorTransformer").transformIGDTypingPayload(n);t!=null&&e.$11(t)}},subscription:s,variables:{input_data:{user_id:this.$2}}}))},t.getTypingEvents=function(t){var e;return(e=this.$3.get(t))!=null?e:[]},t.getTypingEventIntervals_FOR_TESTING_ONLY=function(){return Array.from(this.$4.values())},t.getTypingEventInterval_FOR_TESTING_ONLY=function(t,n){return this.$4.get(t+":"+n)},t.addTypingEvent=function(t,n,r){var e=this.getTypingEvents(t).filter(function(e){return e.senderIgId!==n});this.$3.set(t,[].concat(e,[r])),this.$9(t,n),this.$8(t)},t.removeTypingEvent=function(t,n){var e=this.getTypingEvents(t),r=e.filter(function(e){return e.senderIgId!==n});e.length!==r.length&&(this.$3.set(t,r),this.$10(t,n),this.$8(t))},t.registerListener=function(t,n){var e=this,o=r("uuidv4")();return this.$5.set(o,{listener:n,threadIgId:t}),function(){e.$5.delete(o)}},e})();l.IGDTypingIndicatorClient=u}),98);
__d("IGDTypingIndicatorClientContextProvider",["IGDTypingIndicatorClient","PolarisViewer","RelayHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useEffect,p=u.useMemo,_=c(null);function f(e){var t=o("react-compiler-runtime").c(8),n=e.children,a=o("RelayHooks").useRelayEnvironment(),i;if(t[0]!==a){var l;i=new(o("IGDTypingIndicatorClient")).IGDTypingIndicatorClient(a,(l=r("PolarisViewer").id)!=null?l:""),t[0]=a,t[1]=i}else i=t[1];var u=i,c,d;t[2]!==u?(c=function(){return u==null||u.setupRealtimeSubscription(),(function(){u==null||u.cleanup()})},d=[u],t[2]=u,t[3]=c,t[4]=d):(c=t[3],d=t[4]),m(c,d);var p;return t[5]!==n||t[6]!==u?(p=s.jsx(_.Provider,{value:u,children:n}),t[5]=n,t[6]=u,t[7]=p):p=t[7],p}function g(){return d(_)}l.IGDTypingIndicatorClientContext=_,l.IGDTypingIndicatorClientContextProvider=f,l.useIGDTypingIndicatorClientContext=g}),98);
__d("LSContactVerificationBadge.react",["CometPageVerificationIcon.react","LSContactBitOffset","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.contact,a=e.icon,i=e.size,l=o("LSContactBitOffset").has(23,n);if(!l)return null;if(a!=null){var u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u={className:"xmzvs34"},t[0]=u):u=t[0];var c;return t[1]!==a?(c=s.jsx("span",babelHelpers.extends({},u,{children:a})),t[1]=a,t[2]=c):c=t[2],c}if(i!=null){var d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d={className:"xmzvs34"},t[3]=d):d=t[3];var m;return t[4]!==i?(m=s.jsx("span",babelHelpers.extends({},d,{children:s.jsx(r("CometPageVerificationIcon.react"),{size:i,verificationBadge:"BLUE_VERIFIED"})})),t[4]=i,t[5]=m):m=t[5],m}return null}l.default=u}),98);
__d("LSIssueMessagesRangeQuery",["LSGetCursor","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[2]=t.i64.eq(e[2],t.i64.cast([-1,4294967295]))?t.i64.cast([0,0]):e[2],t.islc(t.filter(t.db.table(13).fetchDesc([[[e[0]]]]),function(n){return t.i64.eq(n.threadKey,e[0])&&(t.i64.eq(n.minTimestampMs,void 0)||t.i64.le(n.minTimestampMs,e[1]))}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(o,a){var i=o.done,l=o.value;return i?r[0]=!1:(a=l.item,t.sequence([function(o){return r[5]=a.threadKey,r[6]=t.i64.cast([0,0]),r[7]=a.minTimestampMs,r[8]=a.minMessageId,t.i64.eq(r[2],t.i64.cast([0,1]))?r[3]=!a.isLoadingAfter:r[3]=!a.isLoadingBefore,r[3]?t.sequence([function(o){return t.i64.eq(r[2],t.i64.cast([0,1]))?r[9]=a.hasMoreAfter:r[9]=a.hasMoreBefore,r[9]?t.sequence([function(e){return t.i64.eq(r[2],t.i64.cast([0,1]))?t.sequence([function(e){return t.forEach(t.filter(t.db.table(13).fetch([[[r[5],r[7],r[8]]]]),function(e){return t.i64.eq(e.threadKey,r[5])&&t.i64.eq(t.i64.cast([0,0]),r[6])&&t.i64.eq(e.minTimestampMs,r[7])&&e.minMessageId===r[8]}),function(e){var t=e.update,n=e.item;return t({isLoadingAfter:!0})})},function(e){var t;return t=[a.maxTimestampMs,a.maxMessageId],r[10]=t[0],r[11]=t[1],t}]):t.sequence([function(e){return t.forEach(t.filter(t.db.table(13).fetch([[[r[5],r[7],r[8]]]]),function(e){return t.i64.eq(e.threadKey,r[5])&&t.i64.eq(t.i64.cast([0,0]),r[6])&&t.i64.eq(e.minTimestampMs,r[7])&&e.minMessageId===r[8]}),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:!0})})},function(e){var t;return t=[r[7],r[8]],r[10]=t[0],r[11]=t[1],t}])},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[12]=t.i64.cast([0,1]):(n=a.item,r[19]=n.syncGroup,t.i64.neq(r[19],void 0)?r[18]=r[19]:r[18]=t.i64.cast([0,1]),r[12]=r[18])})},function(e){return t.storedProcedure(n("LSGetCursor"),r[12]).then(function(e){var t;return t=e,r[14]=t[0],t})},function(o){return r[15]=new t.Map,r[15].set("thread_key",e[0]),r[15].set("direction",r[2]),r[15].set("reference_timestamp_ms",r[10]),r[15].set("reference_message_id",r[11]),r[15].set("sync_group",r[12]),r[15].set("cursor",r[14]),r[16]=r[15].get("thread_key"),r[17]=t.toJSON(r[15]),t.storedProcedure(n("LSIssueNewTask"),"mrq.{}".split("{}").join(t.i64.to_string(r[16])),t.i64.cast([0,228]),r[17],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}]):t.resolve()},function(e){return r[4]=!0}]):t.resolve(r[4]=!1)},function(e){return r[0]=r[4]}]))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxIssueMessagesRangeQueryStoredProcedure",e.__tables__=["messages_ranges_v2__generated","threads"],a.exports=e}),null);
__d("LSIssueMessagesRangeQueryStoredProcedure",["LSIssueMessagesRangeQuery","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueMessagesRangeQuery"),a.threadKey,a.referenceTimestampMs,a.direction);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMailboxMessagesRangeQueryDirection",[],(function(t,n,r,o,a,i){var e=Object.freeze({BEFORE_LEGACY:-1,BEFORE:0,AFTER:1});i.default=e}),66);
__d("LSVerifyThreadRowExists",["LSVerifyThreadExists"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(r){return t.storedProcedure(n("LSVerifyThreadExists"),e[0],e[1]==null?t.i64.cast([0,1]):e[1],"inbox",t.i64.cast([0,0]),t.i64.cast([0,40])==null?t.i64.cast([0,40]):t.i64.cast([0,40]),e[2])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxVerifyThreadRowExistsStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSVerifyThreadRowExistsStoredProcedure",["LSSynchronousPromise","LSVerifyThreadRowExists","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSVerifyThreadRowExists"),a.threadKey,a.threadType,a.syncGroup);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWTimedJob",["FBLogger","MAWBridgeLoggingUtils","MAWMaybeWithTimeout","MAWTimedBridge","MAWUIJob","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MAWWorkerEvent","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e={fireAndForget:function(t,n){n===void 0&&(n=o("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1;return o("MAWMaybeWithTimeout").maybeWithTimeout(o("MAWWaitForBackendSetup").waitForBackendSetup(t.type).then(function(){return e=!0,o("MAWUIJob").UIJobStarters.fireAndForget(t)}),n,function(){return o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(n){throw r("FBLogger")("maw_core_lla").mustfixThrow("Failed to ack execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",t.type,e,n.tag)})},t.type)},waitUntilCompleted:function(t,n){n===void 0&&(n=o("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1,a=o("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(t.type);return o("MAWMaybeWithTimeout").maybeWithTimeout(o("MAWWaitForBackendSetup").waitForBackendSetup(t.type).then(function(){return o("MAWWorkerEvent").logStart("waitUntilCompleted",t.type,a),e=!0,o("MAWUIJob").UIJobStarters.waitUntilCompleted(t,{onAck:function(n){o("MAWWorkerEvent").logAck(a,t.type,n)},onSend:function(n){var e=n.queueMsgs,r=n.queueSize;o("MAWWorkerEvent").logSend(a,t.type,"waitUntilCompleted"),o("MAWWorkerEvent").logAnnotations(a,{int:{bridgeSize:r},string_array:{bridgeMsgs:e}})}},{bridgeQPLInstanceKey:a}).then(function(e){return o("MAWWorkerEvent").logSuccess(a),e},function(e){var t=r("getErrorSafe")(e);throw o("MAWWorkerEvent").logFailure(a,t.message),t})}),n,function(){return o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(n){throw o("MAWWorkerEvent").logTimeoutFailure(a,"Failed to complete execution of job",n),r("FBLogger")("maw_core_lla").mustfixThrow("Failed to complete execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",t.type,e,n.tag)})},t.type)},waitUntilPersisted:function(t,n){n===void 0&&(n=o("MAWTimedBridge").DEFAULT_MAW_BRIDGE_TIMEOUT_MS);var e=!1,a=o("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(t.type);return o("MAWMaybeWithTimeout").maybeWithTimeout(o("MAWWaitForBackendSetup").waitForBackendSetup(t.type).then(function(){return e=!0,o("MAWWorkerEvent").logStart("waitUntilPersisted",t.type,a),o("MAWUIJob").UIJobStarters.waitUntilPersisted(t,{onAck:function(n){o("MAWWorkerEvent").logAck(a,t.type,n)},onSend:function(n){var e=n.queueMsgs,r=n.queueSize;o("MAWWorkerEvent").logSend(a,t.type,"waitUntilPersisted"),o("MAWWorkerEvent").logAnnotations(a,{int:{bridgeSize:r},string_array:{bridgeMsgs:e}})}},{bridgeQPLInstanceKey:a}).then(function(e){return o("MAWWorkerEvent").logSuccess(a),e},function(e){var t=r("getErrorSafe")(e);throw o("MAWWorkerEvent").logFailure(a,t.message),t})}),n,function(){return o("MAWWebWorkerSingleton").getWorkerHealthStatus().then(function(n){throw o("MAWWorkerEvent").logTimeoutFailure(a,"Failed to persist execution of job",n),r("FBLogger")("maw_core_lla").mustfixThrow("Failed to persist execution of job %s in time. Backend setup: %s, workerHealthStatus: %s",t.type,e,n.tag)})},t.type)}};l.TimedUIJobStarters=e}),98);
__d("MWJumpToMessageLogger",["CometHeroLogging","I64","LSIntEnum","LSMessagingInitiatingSource","MWChatInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,i){var l=r("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(t.getTraceId());return o("MWChatInteraction").set(n,l),a!=null&&((e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessagingInitiatingSource").FACEBOOK_CHAT))?t.addMetadata("entrypoint","chat"):(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessagingInitiatingSource").FACEBOOK_INBOX))&&t.addMetadata("entrypoint","inbox")),t.addMetadata("mw_version",(e||(e=o("I64"))).to_string(i)),t.onComplete(function(){delete o("MWChatInteraction").interactions[n]})}l.startHeroInteractionTrace=u}),98);
__d("MWPMessageAuthor.react",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MWPContactContext.react","ReQL","ReQLSuspense","mwCMIsCMSubthread","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useMemo;function p(t){var n=o("react-compiler-runtime").c(16),a=t.children,l=t.contactId,u=(e||(e=r("useReStore")))(),c;n[0]!==l||n[1]!==u.tables.contacts?(c=function(){return o("ReQL").fromTableAscending(u.tables.contacts).getKeyRange(l)},n[0]=l,n[1]=u.tables.contacts,n[2]=c):c=n[2];var m;n[3]!==l||n[4]!==u?(m=[u,l],n[3]=l,n[4]=u,n[5]=m):m=n[5];var p=o("ReQLSuspense").useFirst(c,m,i.id+":51"),_;n[6]!==p?(_={contact:p,nickname:void 0},n[6]=p,n[7]=_):_=n[7];var f=_,g,h;n[8]!==l||n[9]!==u?(g=function(){r("promiseDone")(u.runInTransaction(function(e){return r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(e),{authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:s.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:s.ofNumber(r("LSContactIdType").FBID),contactType:s.ofNumber(r("LSContactType").USER),contactViewerRelationship:s.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:s.ofNumber(r("LSContactGender").UNKNOWN),id:l,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:s.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)})},"readwrite",void 0,void 0,i.id+":65"))},h=[u,l],n[8]=l,n[9]=u,n[10]=g,n[11]=h):(g=n[10],h=n[11]),o("Int64Hooks").useEffectInt64(g,h);var y;return n[12]!==a||n[13]!==f.contact||n[14]!==f.nickname?(y=d.jsx(o("MWPContactContext.react").MWPContactContextProvider,{contact:f.contact,nickname:f.nickname,children:a}),n[12]=a,n[13]=f.contact,n[14]=f.nickname,n[15]=y):y=n[15],y}function _(e){var t=o("react-compiler-runtime").c(7),n=e.children,r=e.contact,a=e.nickname,i;t[0]!==r||t[1]!==a?(i={contact:r,nickname:a},t[0]=r,t[1]=a,t[2]=i):i=t[2];var l=i,s;return t[3]!==n||t[4]!==l.contact||t[5]!==l.nickname?(s=d.jsx(o("MWPContactContext.react").MWPContactContextProvider,{contact:l.contact,nickname:l.nickname,children:n}),t[3]=n,t[4]=l.contact,t[5]=l.nickname,t[6]=s):s=t[6],s}function f(t){var n,a=o("react-compiler-runtime").c(25),l=t.children,c=t.contactId,m=t.threadKey,f=(e||(e=r("useReStore")))(),g;a[0]!==c||a[1]!==f.tables.contacts?(g=function(){return o("ReQL").fromTableAscending(f.tables.contacts).getKeyRange(c)},a[0]=c,a[1]=f.tables.contacts,a[2]=g):g=a[2];var h;a[3]!==c||a[4]!==f?(h=[c,f],a[3]=c,a[4]=f,a[5]=h):h=a[5];var y=o("ReQLSuspense").useFirst(g,h,i.id+":126"),C=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(f.tables.participants,["nickname"]).getKeyRange(m,c)},[c,f,m],i.id+":130"))==null?void 0:n.nickname,b;a[6]!==c||a[7]!==f.tables.contextual_profile_v1||a[8]!==f.tables.threads||a[9]!==m?(b=function(){return o("ReQL").fromTableAscending(f.tables.threads,["parentThreadKey","secondaryParentThreadKey","threadType"]).getKeyRange(m).map(function(e){var t=e.parentThreadKey,n=e.secondaryParentThreadKey,a=e.threadType,l=o("ReQLSuspense").first(o("ReQL").fromTableAscending(f.tables.contextual_profile_v1,["profileName"]).getKeyRange(c,r("mwCMIsCMSubthread")(a)&&n!=null?n:t),i.id+":155");return l==null?void 0:l.profileName})},a[6]=c,a[7]=f.tables.contextual_profile_v1,a[8]=f.tables.threads,a[9]=m,a[10]=b):b=a[10];var v;a[11]!==c||a[12]!==f||a[13]!==m?(v=[f,m,c],a[11]=c,a[12]=f,a[13]=m,a[14]=v):v=a[14];var S=o("ReQLSuspense").useFirst(b,v,i.id+":146"),R=S!=null?S:C;if(y!=null)if((u||(u=o("I64"))).ge(y.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT))){var L;return a[15]!==l||a[16]!==y||a[17]!==R?(L=d.jsx(_,{contact:y,nickname:R,children:l}),a[15]=l,a[16]=y,a[17]=R,a[18]=L):L=a[18],L}else{var E;return a[19]!==l||a[20]!==c?(E=d.jsx(p,{contactId:c,children:l}),a[19]=l,a[20]=c,a[21]=E):E=a[21],E}else{var k;return a[22]!==l||a[23]!==c?(k=d.jsx(p,{contactId:c,children:l}),a[22]=l,a[23]=c,a[24]=k):k=a[24],k}}var g=d.memo(f,function(e,t){return e!=null&&t!=null&&(u||(u=o("I64"))).equal(e.contactId,t.contactId)&&(u||(u=o("I64"))).equal(e.threadKey,t.threadKey)?e.children===t.children:!1});function h(){var e=o("react-compiler-runtime").c(2),t=o("MWPContactContext.react").useMWPContactStableContext(),n=t.authorName,r;return e[0]!==n?(r=[n],e[0]=n,e[1]=r):r=e[1],r}function y(){var e=o("react-compiler-runtime").c(3),t=o("MWPContactContext.react").useMWPContactFullContext(),n=t.contact,r=n!=null?n.name:void 0,a;return e[0]!==n||e[1]!==r?(a=[r,n],e[0]=n,e[1]=r,e[2]=a):a=e[2],a}l.MissingContactProvider=p,l.Provider=_,l.MWPMessageAuthor=g,l.useAuthorName=h,l.useAuthorFullName=y}),98);
__d("MWPVisibleMessageContext.react",["ReQL","ReQLSuspense","emptyFunction","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.createContext,m=c.useContext,p=c.useEffect,_=c.useMemo,f=c.useState,g={setVisibleMessage:r("emptyFunction"),visibleMessage:void 0},h=d(g);function y(t){var n,a=o("react-compiler-runtime").c(9),l=t.children,s=f(),c=s[0],d=s[1],m=(e||(e=r("useReStore")))(),_=c==null?void 0:c.messageOtid,g=c==null?void 0:c.messageId,y=(n=o("ReQLSuspense").useFirst(function(){return _!=null?o("ReQL").fromTableAscending(m.tables.messages.index("optimistic")).getKeyRange(_):o("ReQL").empty()},[m,_],i.id+":65"))==null?void 0:n.messageId,C,b;a[0]!==g||a[1]!==y?(C=function(){y!=null&&g==null&&d(function(e){return e==null?null:babelHelpers.extends({},e,{messageId:y})})},b=[d,g,y],a[0]=g,a[1]=y,a[2]=C,a[3]=b):(C=a[2],b=a[3]),p(C,b);var v;a[4]!==c?(v={setVisibleMessage:d,visibleMessage:c},a[4]=c,a[5]=v):v=a[5];var S=v,R;return a[6]!==l||a[7]!==S?(R=u.jsx(h.Provider,{value:S,children:l}),a[6]=l,a[7]=S,a[8]=R):R=a[8],R}function C(){return m(h)}l.MWPVisibleMessageContext=h,l.MWPVisibleMessageContextProvider=y,l.useMWPVisibleMessageContext=C}),98);
__d("XPolarisCallControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/call/",Object.freeze({has_video:!0,is_e2ee_mandated:!1,hide_e2ee_attributions:!1,users_to_ring:[]}),void 0),s=e;l.default=s}),98);
__d("PolarisCallNavigator",["PolarisAPIHelpers","PolarisCallGatingHelpers","PolarisNavigationUtils","XPolarisCallControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e="https://call.instagram.com";function s(t,n,a){a===void 0&&(a=null);var i=a===""?null:a,l;o("PolarisCallGatingHelpers").isCallsPathMigrationEnabled()?i!=null?l=r("XPolarisCallControllerRouteBuilder").buildURL({has_video:n,ig_thread_id:t,server_info_data:i}):l=r("XPolarisCallControllerRouteBuilder").buildURL({has_video:n,ig_thread_id:t}):l=o("PolarisAPIHelpers").appendQueryParameters(e,{has_video:n,ig_thread_id:t,server_info_data:i}),o("PolarisNavigationUtils").openURLWithFullPageReload(l,{openInNewTab:!0})}l.launchCall=s}),98);
__d("PresenceCommonPresenceCommonTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({Active:2,Inactive:0}),l=n("$InternalEnum")({Facebook:1,Messenger:2,Instagram:3,Threads:4}),s=n("$InternalEnum")({StreamControllerConnectionIds:"streamControllerConnectionIds"});a.exports={AppFamily:l,PresenceStatus:e,StreamControllerSessionId$Types:s}}),null);
__d("SecureMessageListener",["SecurePostMessage","URI","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t){var n=this;this.$3=null,this.$4=!1,this.$1=e,this.$6=t,this.$5=function(e){n.run(e)}}var n=t.prototype;return n.setEventHandler=function(t){return this.$2=t,this},n.setSupportedOrigins=function(t){return this.$3=t,this},n.skipOriginCheck_UNSAFE=function(){return this.$4=!0,this},n.beginListening=function(){return this.$1.addEventListener("message",this.$5),this},n.stopListening=function(){try{this.$1.removeEventListener("message",this.$5)}catch(t){var e=r("getErrorSafe")(t);if(!(e instanceof TypeError))throw e}return this},n.run=function(t){if(this.$3==null||this.$3.length===0){if(!this.$4&&t.origin!==this.$1.location.origin)return}else if(!this.isSupportedOrigin(this.$3,t.origin))return;if(this.$2){var e=function(n){o("SecurePostMessage").sendMessageToSpecificOrigin(t.source,n,t.origin)};this.$2(t,e)}},n.isSupportedOrigin=function(n,o){if(!new RegExp("^https://").test(o))return!1;var t=new(e||(e=r("URI")))(o);return n.some(function(e){return t.isSubdomainOfDomain(e)})},t})();l.default=s}),98);
__d("baseTextWithEntitiesAdjustRanges",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){return e.map(function(e){return babelHelpers.extends({},e,{offset:e.offset-t})}).filter(function(e){return e.offset>=0&&e.offset<n})}i.default=e}),66);
__d("baseTextWithEntitiesFilterRanges",[],(function(t,n,r,o,a,i){"use strict";function e(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r!=null&&r.offset!=null&&r.length!=null&&r.entity!=null&&r.entity.__typename!=null){var o;t.push({entity:r.entity,entity_is_weak_reference:(o=r.entity_is_weak_reference)!=null?o:null,length:r.length,offset:r.offset})}}return t}i.default=e}),66);
__d("baseTextWithEntitiesSplitRangesAndTextIntoParagraphs",["UnicodeUtils","baseTextWithEntitiesAdjustRanges"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.ranges,a=t.text,i=0;return a.split("\n").map(function(t){var a=r("baseTextWithEntitiesAdjustRanges")(n,i,(e||(e=o("UnicodeUtils"))).strlen(t));return i+=e.strlen(t)+1,{ranges:a,text:t}}).filter(function(e){return e.text.trim()!==""})}function u(t,n){var a=t.ranges,i=t.text,l=0;return i.split(/(?=\n\s*\n)/).map(function(t){var i,u,c,d=(i=t.match(/(^\n\s*\n)?([^]*$)/))!=null?i:[],m=(u=d[1])!=null?u:"",p=(c=d[2])!=null?c:t,_=r("baseTextWithEntitiesAdjustRanges")(a,l+m.length,(e||(e=o("UnicodeUtils"))).strlen(p));return l+=e.strlen(t),n?s({ranges:_,text:p}):{ranges:_,text:p}})}l.default=u}),98);
__d("getRequestConstUri",["ConstUriUtils","FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("ConstUriUtils").getUri(window.location.href);if(e==null)throw r("FBLogger")("comet_infra").mustfixThrow("Cannot create ConstUriImpl of current request");return e}l.default=e}),98);
__d("getTextDirectionAttribute",["cr:1080422"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t="auto";return n("cr:1080422")!=null&&window!=null&&(t=n("cr:1080422").isDirectionRTL(e)?"rtl":"ltr"),t}l.default=e}),98);
__d("isIGDBroadcastChannelPartnership",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e==="IGD_BC_PARTNERSHIP"}i.default=e}),66);
__d("useMWJumpToMessage",["MWJumpToMessageLogger","MWPVisibleMessageContext.react","MWVersion","qpl","react","react-compiler-runtime","useCometInteractionTracing","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(6),n=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),a=n.setVisibleMessage,i=r("useLSMessagingInitiatingSource")(),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=r("qpl")._(25301087,"7779"),t[0]=l):l=t[0];var s=r("useCometInteractionTracing")(l,"fast","INTERACTION"),u;return t[1]!==i||t[2]!==a||t[3]!==e||t[4]!==s?(u=function(n,r,l,u){var t=l!=null?l:"",c=u!=null?u:[];s(function(l){return a({contextLine:t,highlights:c,messageId:n,source:e,timestamp:r}),o("MWJumpToMessageLogger").startHeroInteractionTrace(l,n,i,o("MWVersion").v2)})},t[1]=i,t[2]=a,t[3]=e,t[4]=s,t[5]=u):u=t[5],u}l.default=u}),98);
__d("usePresenceUnifiedClientContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext,c=s.useContext,d=u(null);function m(){return c(d)}l.PresenceUnifiedClientContext=d,l.usePresenceUnifiedClientContext=m}),98);
__d("usePresenceUnifiedMapContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext,c=s.useContext,d=u(new Map);function m(){return c(d)}l.PresenceUnifiedMapContext=d,l.usePresenceUnifiedMapContext=m}),98);/*FB_PKG_DELIM*/
__d("LSAddMessengerContact",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("contact_id",e[0]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"add_messenger_contact",t.i64.cast([0,308]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSContactAddMessengerContactStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSAddMessengerContactStoredProcedure",["LSAddMessengerContact","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSAddMessengerContact"),a.contactId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSCoreClientFolderType",[],(function(t,n,r,o,a,i){var e=Object.freeze({INBOX:0,PENDING:1,OTHER:2,SPAM:3,ARCHIVED:4,HIDDEN:5,MARKETPLACE:12,RESTRICTED:15,INTEROP:19,INTEROP_PENDING:29});i.default=e}),66);
__d("LSDeleteThread",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return t.sequence([function(r){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,r){var o,a,i=e.done,l=e.value;return i?(o=[t.i64.cast([0,0]),void 0],n[0]=o[0],n[1]=o[1],o):(r=l.item,a=[r.parentThreadKey,r.disappearingThreadKey],n[0]=a[0],n[1]=a[1])})},function(e){return t.count(t.db.table(9).fetch([[[n[0]]],"parentThreadKeyLastActivityTimestampMs"])).then(function(e){return n[3]=e})},function(r){return e[1]&&t.i64.neq(n[0],t.i64.cast([0,0]))&&t.i64.eq(n[3],t.i64.cast([0,1]))?t.sequence([function(r){return t.forEach(t.db.table(9).fetch([[[e[0]],[n[0]]]]),function(e){return e.delete()})},function(e){return t.i64.neq(n[1],void 0),0}]):t.sequence([function(n){return t.forEach(t.db.table(9).fetch([[[e[0]]]]),function(e){return e.delete()})},function(e){return t.i64.neq(n[1],void 0),0}])}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxDeleteThreadStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSMoveThreadToArchivedFolder",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(n,r){var o=n.done,a=n.value;return o?0:(r=a.item,t.forEach(t.db.table(9).fetch([[[e[0]]]]),function(e){var n=e.update,r=e.item;return n({folderName:"",parentThreadKey:t.i64.cast([-1,4294967286]),capabilities2:t.i64.or_(r.capabilities2,t.i64.cast([0,2]))})}))})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxMoveThreadToArchivedFolderStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSOptimisticRemoveThread",["LSDeleteThread","LSIssueNewTaskAndGetTaskID","LSMoveThreadToArchivedFolder"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[4]=n.syncGroup,t.i64.neq(r[4],void 0)?r[3]=r[4]:r[3]=t.i64.cast([0,1]),r[0]=r[3])})},function(r){return[t.i64.cast([0,1]),t.i64.cast([0,2])].some(function(n){return t.i64.eq(e[1],n)})?t.storedProcedure(n("LSMoveThreadToArchivedFolder"),e[0]):t.storedProcedure(n("LSDeleteThread"),e[0],!1)},function(o){return t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),t.i64.to_string(e[0]),t.i64.cast([0,146]),"",void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),r[0],void 0,t.i64.cast([0,0]),t.i64.cast([0,0])).then(function(e){var t;return t=e,r[2]=t[0],t})},function(n){return t.db.table(32).add({taskId:r[2],threadKey:e[0],removeType:e[1],syncGroup:r[0]})}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticRemoveThreadStoredProcedure",e.__tables__=["threads","threads_optimistic_context"],a.exports=e}),null);
__d("LSOptimisticRemoveThreadStoredProcedure",["LSOptimisticRemoveThread","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticRemoveThread"),a.threadKey,a.removeType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSOptimisticUpdateThreadDisappearingSetting",["LSIssueNewError","LSIssueNewTask","LSLocalize"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.sortBy(t.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[0]=!1:(t=o.item,r[0]=t.errorShouldBeShown)})},function(e){return r[0]===!0?t.sequence([function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,2285622730]),void 0).then(function(e){return r[4]=e})},function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,1919524925]),void 0).then(function(e){return r[5]=e})},function(e){return t.storedProcedure(n("LSIssueNewError"),void 0,t.i64.cast([0,1545093]),r[4],r[5],void 0,void 0)}]):t.resolve()},function(o){return r[2]=new t.Map,r[2].set("wa_jid",void 0),r[2].set("thread_key",e[0]),r[2].set("disappearing_ttl",e[1]),r[2].set("updated_timestamp",e[2]),r[2].set("updated_by",e[3]),r[2].set("sync_group",t.i64.cast([0,95])),r[2].set("ephemerality_type",void 0),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),"disappearing_setting",t.i64.cast([0,714]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticUpdateThreadDisappearingSettingStoredProcedure",e.__tables__=["user_visible_network_connectivity_error"],a.exports=e}),null);
__d("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure",["LSOptimisticUpdateThreadDisappearingSetting","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){a===void 0&&(a={});var i=t.storedProcedure(r("LSOptimisticUpdateThreadDisappearingSetting"),a.threadKey,a.disappearingTtl,a.updatedTimestamp,a.updatedBy);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithJID",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSQplAnnotateInt.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return r[0]=t.i64.of_float(Date.now()),(function(e){t.logger(e).info(e)})("[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] Beginning execution."),r[1]=t.i64.of_float(Date.now()),t.islc(t.filter(t.db.table(168).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))||!1}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,n){var o,a,i=e.done,l=e.value;return i?(r[19]=new t.Map,r[19].set("error_msg","Expected a nonempty query result"),r[19].set("code",t.i64.cast([0,3])),r[19].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),r[20]=t.createArray(),r[21]=(r[20].push(r[19]),r[20]),o=[void 0,r[20]],r[2]=o[0],r[3]=o[1]):(n=l.item,r[19]=new t.Map,r[19].set("backup_id",n.backupId),r[19].set("device_public_key_blob",n.devicePublicKeyBlob),r[19].set("device_private_key_blob",n.devicePrivateKeyBlob),r[19].set("epoch_storage_public_key_blob",n.epochStoragePublicKeyBlob),r[19].set("epoch_storage_private_key_blob",n.epochStoragePrivateKeyBlob),r[19].set("epoch_auth_public_key_blob",n.epochAuthPublicKeyBlob),r[19].set("epoch_auth_private_key_blob",n.epochAuthPrivateKeyBlob),r[19].set("mailbox_root_key_blob",n.mailboxRootKeyBlob),r[19].set("ocmf_client_state_blob",n.ocmfClientStateBlob),r[19].set("orf_client_state_v2_blob",void 0),r[19].set("orf_v2_authority_level",void 0),r[19].set("oblivious_validation_token_blob",n.obliviousValidationTokenBlob),r[19].set("device_id",n.deviceId),r[19].set("backup_tenancy",n.backupTenancy),r[19].set("encryption_version",n.encryptionVersion),r[19].set("revision_version",n.revisionVersion),r[19].set("initialize_restore_result",void 0),r[19].set("device_creation_timestamp_sec",void 0),r[19].set("authority_level",n.authorityLevel),a=[r[19],void 0],r[2]=a[0],r[3]=a[1])})},function(e){return r[5]=new t.Map,r[5].set("value",r[2]),r[5].set("errors",r[3]),r[6]=r[5].get("value"),r[6]!==void 0?t.sequence([function(e){return r[19]=r[6].get("backup_id"),r[20]=r[6].get("device_public_key_blob"),r[21]=r[6].get("device_private_key_blob"),r[22]=r[6].get("epoch_storage_public_key_blob"),r[23]=r[6].get("epoch_storage_private_key_blob"),r[24]=r[6].get("epoch_auth_public_key_blob"),r[25]=r[6].get("epoch_auth_private_key_blob"),r[26]=r[6].get("mailbox_root_key_blob"),r[27]=r[6].get("ocmf_client_state_blob"),r[28]=r[6].get("orf_client_state_v2_blob"),r[29]=r[6].get("orf_v2_authority_level"),r[30]=r[6].get("oblivious_validation_token_blob"),r[31]=r[6].get("device_id"),r[32]=r[6].get("backup_tenancy"),r[33]=r[6].get("encryption_version"),r[34]=r[6].get("revision_version"),r[35]=r[6].get("initialize_restore_result"),r[36]=r[6].get("device_creation_timestamp_sec"),r[37]=r[6].get("authority_level"),t.i64.neq(r[31],void 0)?t.sequence([function(e){return r[39]=void 0,t.i64.neq(r[39],void 0)?t.resolve(r[40]=r[39]):t.sequence([function(e){return r[52]=t.createArray(),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,0])).then(function(e){var t;return t=e,r[53]=t[0],t})},function(e){return r[53]&&(r[62]=(r[52].push(t.i64.cast([0,0])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,2])).then(function(e){var t;return t=e,r[54]=t[0],t})},function(e){return r[54]&&(r[62]=(r[52].push(t.i64.cast([0,2])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,3])).then(function(e){var t;return t=e,r[55]=t[0],t})},function(e){return r[55]&&(r[62]=(r[52].push(t.i64.cast([0,3])),r[52])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,4])).then(function(e){var t;return t=e,r[56]=t[0],t})},function(e){return r[56]&&(r[62]=(r[52].push(t.i64.cast([0,4])),r[52])),r[57]=t.createArray(),r[58]=t.i64.of_int32(r[52].length),t.i64.gt(r[58],t.i64.cast([0,0]))?t.loopAsync(r[58],function(e){return r[62]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[52],r[62]).then(function(e){var t;return t=e,r[63]=t[0],r[64]=t[1],t})},function(e){return r[65]=(r[57].push(r[63]),r[57])}])}):t.resolve()},function(e){return t.sequence([function(e){return r[62]=t.createArray(),r[63]=t.i64.of_int32(r[57].length),t.i64.gt(r[63],t.i64.cast([0,0]))?t.loopAsync(r[63],function(e){return r[65]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[57],r[65]).then(function(e){var t;return t=e,r[66]=t[0],r[67]=t[1],t})},function(e){return r[68]=(r[62].push(t.i64.to_string(r[66])),r[62])}])}):t.resolve()},function(e){return r[64]=r[62].join(","),r[59]=r[64]}])},function(e){return r[57].some(function(e){return t.i64.eq(r[33],e)})?r[60]=r[33]:r[60]=void 0,t.i64.neq(r[60],void 0)?r[61]=r[60]:r[61]=void 0,r[40]=r[61]}])},function(e){return t.i64.neq(r[40],void 0)?r[41]=r[40]:r[41]=t.i64.cast([0,0]),t.i64.neq(r[32],void 0)?r[42]=r[32]:r[42]=t.i64.cast([0,1]),t.nativeOperation(n("LSBase64Encode.nop"),r[27]).then(function(e){var t;return t=e,r[43]=t[0],t})},function(e){return t.nativeOperation(n("LSBase64Encode.nop"),r[26]).then(function(e){var t;return t=e,r[44]=t[0],t})},function(e){return r[45]=new t.Map,r[45].set("ocmf_client_state_blob",r[43]==null?"":r[43]),r[45].set("mailbox_root_key",r[44]==null?"":r[44]),r[46]=t.createArray(),t.forEach(t.filter(t.db.table(169).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))}),function(e){var t=e.item;return r[52]=(r[46].push(t.epochId),r[46])})},function(e){return r[50]="Queried locally available epochs. Count: ",r[47]=t.i64.of_int32(r[46].length),r[51]=t.i64.to_string(r[47]),r[48]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][MEBEpochClientUtils] ",r[48],r[50],r[48],r[51]].join("")),t.resolve()},function(e){return r[49]=new t.Map,r[49].set("device_id",r[31]),r[49].set("raw_tokens",r[45]),r[49].set("locally_available_epochs",r[46]),r[38]=r[49]}]):t.resolve(r[38]=void 0)},function(e){return r[7]=r[38]}]):t.resolve((r[19]=r[5].get("errors"),r[20]=r[5].get("errors"),r[7]=void 0))},function(e){return r[8]=t.i64.random(),r[9]=t.i64.to_string(r[8]),r[9]!==void 0?t.nativeOperation(n("LSQplStartTrace.nop"),t.i64.cast([0,679677570]),r[9],!0,void 0):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplMarkPoint.nop"),t.i64.cast([0,679677570]),r[9],"issue_task"):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplAnnotateString.nop"),t.i64.cast([0,679677570]),r[9],"request_type","THREAD_POINT_QUERY"):t.resolve()},function(e){return r[9]!==void 0?t.nativeOperation(n("LSQplAnnotateInt.nop"),t.i64.cast([0,679677570]),r[9],"task_creation_source",t.i64.cast([0,76])==null?t.i64.cast([-1,4294967295]):t.i64.cast([0,76])):t.resolve()},function(o){return r[10]=new t.Map,r[10].set("wa_jid",e[0]),r[10].set("tam_thread_subtype",t.i64.cast([0,0])),r[10].set("enable_logging_for_tpq",!1),r[10].set("device_context",r[7]),r[10].set("qpl_instance_key",r[9]),r[11]=r[10].get("wa_jid"),r[12]=t.toJSON(r[10]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[11]),t.i64.cast([0,556]),r[12],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return r[13]=t.i64.of_float(Date.now()),r[14]=t.i64.random(),r[16]="Finishing execution. Execution time: ",r[17]=t.i64.to_string(t.i64.sub(r[13],r[0])),r[18]=" ms",r[15]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][ThreadPointQueryAndRestoreMessagesWithJID] ",r[15],r[16],r[15],r[17],r[15],r[18]].join("")),t.i64.eq(t.i64.mod_(r[14],t.i64.cast([0,1e3])),t.i64.cast([0,0]))?(r[19]=",",r[20]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"ThreadPointQueryAndRestoreMessagesWithJID",[r[16],r[19],r[17],r[19],r[18]].join(""),r[20],t.i64.cast([0,4]))):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure",e.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"],a.exports=e}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithJID","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSThreadPointQueryAndRestoreMessagesWithJID"),a.waJid);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSThreadRemoveType",[],(function(t,n,r,o,a,i){var e=Object.freeze({DELETE_THREAD:0,ARCHIVE_THREAD:1,IGNORE_THREAD:2});i.default=e}),66);
__d("MAWBridgeGroupInviteLoadedHandler",["fbt","I64","LSMessagingThreadTypeUtil","MAWMiActMappingTableAPI","Promise","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(e,t,n){return m(e,n,t.actorId)}function d(e,t,r){return o("MAWMiActMappingTableAPI").getThreadKeyForChatJid(e,t).then(function(t){return t==null?(u||(u=n("Promise"))).resolve():m(e,t,r)})}function m(e,t,n){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r){var a=t.threads,i=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(a).getKeyRange(n));if(i!=null){var l=o("LSMessagingThreadTypeUtil").isGroup(i.threadType);if(l){var u=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.group_invites).getKeyRange(n));if(u==null){yield a.put(babelHelpers.extends({},i,{additionalThreadContext:void 0}));return}var c=(e||(e=o("I64"))).equal((e||(e=o("I64"))).of_string(r),u.inviterId)?null:yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.contacts,["name"]).getKeyRange(u.inviterId));if(c!=null){var d=s._(/*BTDS*/"{Inviter Name} invited you to join",[s._param("Inviter Name",c.name)]).toString(),m=i.folderName==="inbox"?s._(/*BTDS*/"Message request").toString():i.additionalThreadContext;yield a.put(babelHelpers.extends({},i,{additionalThreadContext:m,snippet:d}))}}}}),p.apply(this,arguments)}function _(e,t){return d(e,t.threadJid,t.actorId)}function f(e,t,n){return d(e,t,n)}l.callForOneDb=c,l.call=_,l.callFromMainThread=f}),226);
__d("MAWBridgeOneToOneMessageRequestLoadedHandler",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWContactRelationshipType","MAWJids","MAWMessageRequestUtil","MAWMiActMappingTableAPI","MAWUserJidWrapper","ODS","Promise","ReQL","WADbContact","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d;function m(e,t){var n=t.threadJid;return _(e,n)}function p(e,t){return _(e,t)}function _(e,t){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){if(o("MAWUserJidWrapper").getMyUserJid()!==t){var r=o("MAWJids").convertChatJidToIntJid(t),a=yield o("MAWMiActMappingTableAPI").getThreadKeyForChatJid(e,t);if(a!=null){var i=yield(d||(d=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange(a)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.contacts).getKeyRange(r))]),l=i[0],u=i[1];if(!(l==null||u==null||!o("LSMessagingThreadTypeUtil").isOneToOne(l.threadType))){var c=g(l,u),m=l.folderName==="pending"||l.folderName==="other"||l.folderName==="spam"||c;if(m){var p=l.folderName==="inbox"?s._(/*BTDS*/"Message request").toString():void 0,_=babelHelpers.extends({},l,{additionalThreadContext:p},h(l));yield e.threads.put(_)}}}}}),f.apply(this,arguments)}function g(t,n){var a=o("MAWContactRelationshipType").getContactRelationshipType(n),i=t.folderName==="inbox"&&a===o("WADbContact").REVERSED_ONE_WAY_CONTACT&&!(e||(e=o("I64"))).equal(t.lastActivityTimestampMs,(e||(e=o("I64"))).zero),l=(e||(e=o("I64"))).equal(n.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE));return i&&!l&&(c||(c=o("ODS"))).bumpEntityKey(3185,"e2ee.message_request_loaded_failure","contacts_not_yet_loaded",1),i&&l}function h(e){var t=o("LSThreadBitOffset").clear(o("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest,e.capabilities,e.capabilities2,e.capabilities3,e.capabilities4,e.capabilities5),n=o("LSThreadBitOffset").set(o("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,t[0],t[1],t[2],t[3],t[4]);return{capabilities:n[0],capabilities2:n[1],capabilities3:n[2],capabilities4:n[3],capabilities5:n[4]}}l.call=m,l.callFromMainThread=p}),226);
__d("MAWFolderUtils",["FBLogger","I64","LSCoreClientFolderType","LSIntEnum","MAWFolderTypes","MessagingFolderTag"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){switch(e){case o("MAWFolderTypes").PENDING:return r("MessagingFolderTag").PENDING;case o("MAWFolderTypes").OTHER:return r("MessagingFolderTag").OTHER;case o("MAWFolderTypes").SPAM:return r("MessagingFolderTag").SPAM;case o("MAWFolderTypes").ARCHIVED:return r("MessagingFolderTag").UNKNOWN;default:return r("MessagingFolderTag").INBOX}}function c(t){switch(t){case o("MAWFolderTypes").PENDING:return(e||(e=o("LSIntEnum"))).ofNumber(-101);case o("MAWFolderTypes").OTHER:return(e||(e=o("LSIntEnum"))).ofNumber(-102);case o("MAWFolderTypes").SPAM:return(e||(e=o("LSIntEnum"))).ofNumber(-103);case o("MAWFolderTypes").ARCHIVED:return(e||(e=o("LSIntEnum"))).ofNumber(-110);default:return(e||(e=o("LSIntEnum"))).ofNumber(-100)}}function d(t){switch(t){case o("MAWFolderTypes").ARCHIVED:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").ARCHIVED);case o("MAWFolderTypes").INBOX:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").INBOX);case o("MAWFolderTypes").OTHER:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").SPAM);case o("MAWFolderTypes").PENDING:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").OTHER);case o("MAWFolderTypes").RESTRICTED:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").RESTRICTED);case o("MAWFolderTypes").SPAM:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSCoreClientFolderType").PENDING);default:throw r("FBLogger")("messenger_web").mustfixThrow("Unhandled folder ID: "+t)}}function m(t){switch(t){case(e||(e=o("LSIntEnum"))).ofNumber(-1):return(e||(e=o("LSIntEnum"))).ofNumber(-101);case(e||(e=o("LSIntEnum"))).ofNumber(-2):return(e||(e=o("LSIntEnum"))).ofNumber(-102);case(e||(e=o("LSIntEnum"))).ofNumber(-3):return(e||(e=o("LSIntEnum"))).ofNumber(-103);case(e||(e=o("LSIntEnum"))).ofNumber(-10):return(e||(e=o("LSIntEnum"))).ofNumber(-110);default:return(e||(e=o("LSIntEnum"))).ofNumber(-100)}}function p(e){switch(e){case"inbox":return o("MAWFolderTypes").FOLDER_ID.INBOX;case"pending":return o("MAWFolderTypes").FOLDER_ID.PENDING;case"spam":return o("MAWFolderTypes").FOLDER_ID.SPAM;case"archived":return o("MAWFolderTypes").FOLDER_ID.ARCHIVED;case"other":return o("MAWFolderTypes").FOLDER_ID.OTHER;case"restricted":return o("MAWFolderTypes").FOLDER_ID.RESTRICTED;default:return null}}function _(e){switch((s||(s=o("I64"))).to_int32(e)){case o("MAWFolderTypes").FOLDER_ID.INBOX:return 0;case o("MAWFolderTypes").FOLDER_ID.PENDING:return-1;case o("MAWFolderTypes").FOLDER_ID.SPAM:return-3;case o("MAWFolderTypes").FOLDER_ID.ARCHIVED:return-10;case o("MAWFolderTypes").FOLDER_ID.OTHER:return-2;default:return null}}l.getMessagingFolderTag=u,l.getClientSystemFolder=c,l.systemFolderToLSCoreClientFolder=d,l.systemFolderToClientSystemFolder=m,l.folderTagToFolderId=p,l.parentThreadKeyToLsSystemFolder=_}),98);
__d("MAWRemoveCorruptedParticipantsFromOneToOneChat",["I64","Promise","ReQL","WAJids","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n,r){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a,i){var l=o("WAJids").extractUserId(a),u=[l];i!==l&&u.push(i);var c=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.participants).getKeyRange(r)),d=c.filter(function(e){return!u.includes((s||(s=o("I64"))).to_string(e.contactId))}).map(function(e){return e.contactId});yield(e||(e=n("Promise"))).all(d.map(function(e){return t.participants.delete(r,e)}))}),c.apply(this,arguments)}l.default=u}),98);
__d("MAWActThreadMapping",["FBLogger","I64","JSResourceForInteraction","MAWBridgeGroupInviteLoadedHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeSendAndReceive","MAWFolderTypes","MAWFolderUtils","MAWHandleActThread","MAWJids","MAWMiActMappingTableAPI","MAWMiActOnActThreadReadyQueue","MAWRemoveCorruptedParticipantsFromOneToOneChat","MAWThreadMappingQPL","MAWUserJidWrapper","MWFBLogger","Promise","ReQL","WAArrayZip","WAJids","asyncToGeneratorRuntime","emptyFunction","getErrorSafe","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=r("JSResourceForInteraction")("MAWSyncThreadDescriptionAdminMsg").__setRef("MAWActThreadMapping"),m=new Map,p=null;function _(e,t,n,a){var l=a.then(function(a){r("promiseDone")(e.runInTransaction(function(e){return C(e,g(a),n)},"readwrite",void 0,void 0,i.id+":81").catch(function(e){t.forEach(function(e){return m.delete(e)}),o("MWFBLogger").MWLogger().warn("MAWActThreadMapping","Post processing transaction not committed due to error "+e.message)}));for(var l of a)l.status==="rejected"&&m.delete(l.jid);return a},function(e){return t.forEach(function(e){return m.delete(e)}),t.map(function(t){return{jid:t,reason:r("getErrorSafe")(e).message,status:"rejected"}})});t.forEach(function(e){return m.set(e,l.then(function(t){var n=t.find(function(t){var n;return((n=t.value)==null?void 0:n.chatJid)===e||t.jid===e});if(n==null)throw o("MWFBLogger").MWLogger().tags(["MiActMapping","Occam"]).mustfixThrow("Should have thread creation result for every thread");return n}))})}function f(e){var t=new Map,n=[];return e.threads.forEach(function(e){var r=m.get(e.chatJid),a=e.instanceKey;r!=null?(a!=null&&(o("MAWThreadMappingQPL").addPoint("reuse_existing_promise_for_act_mapping",a),o("MAWThreadMappingQPL").endCancel("act_mapping_is_already_in_progress",a)),n.push(r)):t.set(e.chatJid,e)}),{cachedPromises:n,threadsToVerifyByJid:t}}function g(e){var t=new Map;return e.forEach(function(e){if(e.status==="fulfilled"){var n;t.set(e.value.chatJid,babelHelpers.extends({},e.value,{adminMsgParams:(n=e.value.adminMsgParams)!=null?n:null}))}}),t}function h(t,a){r("FBLogger")("wmi").tags(["ThreadMapping"]).INFO(e||(e=babelHelpers.taggedTemplateLiteralLoose(["MaybeCreateOrUpdateThread: ","; ",""])),a.reason,a.threads.map(function(e){return"JID: "+e.chatJid+", key: "+e.authoritativeThreadKey+";"}).join(" ")),p==null&&(p=v(t));var i=f(a),l=i.cachedPromises,s=i.threadsToVerifyByJid;if(s.size===0)return(c||(c=n("Promise"))).all(l);var u=o("MAWBridgeSendAndReceive").sendAndReceive("backend","bulkMaybeCreateOrUpdateThread",babelHelpers.extends({},a,{threads:Array.from(s.values())}));return _(t,Array.from(s.keys()),a,u),(c||(c=n("Promise"))).all([u].concat(l)).then(function(e){return e.flat(1)})}function y(e){var t=e.authoritativeThreadKey,n=e.description,a=e.instanceKey,i=e.jid,l=e.optimisticThreadKey;a!=null&&o("MAWMiActOnActThreadReadyQueue").logOnFlushQueue(l,t,a,n),l!=null&&r("promiseDone")(o("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((u||(u=o("I64"))).of_string(l),i,n,"clientThreadKey")),t!=null&&r("promiseDone")(o("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady((u||(u=o("I64"))).of_string(t),i,n,"authoritativeThreadKey"))}function C(e,t,n){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a){if(a.threads.length!==0){var i=[],l=o("WAJids").extractUserId(o("MAWUserJidWrapper").getMyUserJid());yield(c||(c=n("Promise"))).all(a.threads.map(function(m){var p=m.authoritativeThreadKey,_=m.chatJid,f=m.instanceKey,g=t.get(_);if(g==null)return(c||(c=n("Promise"))).resolve();var h=[],y=g.adminMsgParams,C=g.clientThreadKey,b=g.folder,v=g.isCreated,S=g.participants;r("FBLogger")("wmi").tags(["ThreadMapping"]).INFO(s||(s=babelHelpers.taggedTemplateLiteralLoose(["runPostProcessing: JID: ",", clientThreadKey ",", folder: ",", isCreated: ",", participants: ",""])),g.chatJid,C,b,v,S.length),S.forEach(function(e){i.push(babelHelpers.extends({},e,{chatJid:_}))});var L=o("WAJids").switchOnMsgrChatJidType(_,{group:function(t){return!0},user:function(t){return!1}});h.push(L?o("MAWBridgeGroupInviteLoadedHandler").callFromMainThread(e,_,l):o("MAWBridgeOneToOneMessageRequestLoadedHandler").callFromMainThread(e,_));var E=o("WAJids").interpretAsUserJid(_);return E!=null&&h.push(r("MAWRemoveCorruptedParticipantsFromOneToOneChat")(e,(u||(u=o("I64"))).of_string(p),E,l)),v||h.push(R(e,p,b!=null?b:o("MAWFolderTypes").FOLDER_ID.INBOX)),y!=null&&h.push(d.load().then(function(t){return t(e,_,p,y)})),(c||(c=n("Promise"))).all(h).then(function(){var t;return o("MAWHandleActThread").handleActThreadWhenAuthoritativeInMI(e,{authoritativeThreadKey:p,description:(t=a.reason)!=null?t:"bulkCreateThreadWithoutAfterTxn",instanceKey:f,jid:_,optimisticThreadKey:C})})})),yield o("MAWBridgeParticipantsUpdatedHandler").callFromMainThread(e,i)}}),b.apply(this,arguments)}function v(e){return o("MAWMiActMappingTableAPI").subscribeToMappingDeletion(e,function(e,t){var n=o("MAWJids").convertIntJidToOneToOneChatJid(e);m.has(n)&&m.delete(n);var r=o("MAWJids").convertIntJidToGroupJid(e);m.has(r)&&m.delete(r)})}function S(e,t){m.clear(),o("WAArrayZip").zip(e,t).forEach(function(e){var t=e[0],r=e[1];return m.set(t,new(c||(c=n("Promise")))(function(e,t){return e(r)}))})}function R(e,t,n){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange((u||(u=o("I64"))).of_string(t))).then(function(t){if(t!=null){var r=o("MAWFolderUtils").getMessagingFolderTag(n),a=r==="inbox"?void 0:t.cannotReplyReason;return e.threads.put(babelHelpers.extends({},t,{cannotReplyReason:a}))}}).then(r("emptyFunction"))}l.bulkVerifyThreadExistsInWorker=h,l.executePromisesBlockedOnActThreadMapping=y,l.setCache_TEST_ONLY=S}),98);
__d("MAWLoadThreadFromMI",["LSAuthorityLevel","LSFactory","LSIntEnum","MAWThreadMappingQPL","MAWVerifyThreadExistsUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a,i,l){var s=r("LSAuthorityLevel").AUTHORITATIVE;return i!=null&&o("MAWThreadMappingQPL").addAnnotations({int:{sprocAuthLevel:s,sprocThreadType:a}},i),o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("verify_thread_exists",i,function(){return o("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(r("LSFactory")(t),{authorityLevel:(e||(e=o("LSIntEnum"))).ofNumber(s),threadKey:n,threadType:e.ofNumber(a)},l).then(function(e){var t=e[0];return t})})}l.default=s}),98);
__d("MAWHandleActThread",["FBLogger","I64","LSFactory","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWActThreadMapping","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWJids","MAWLoadThreadFromMI","MAWThreadLoadingState","MAWThreadMappingQPL","Promise","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n){return o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("thread_point_query_sproc",n,function(){return r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(e),{waJid:o("MAWJids").convertChatJidToIntJid(t)})})}function c(e,t){var n=t.description,o=t.instanceKey,a=t.isGroup,i=t.threadKey,l=a?16:15;return r("MAWLoadThreadFromMI")(e,i,l,o,n).then(function(e){e!==i&&r("FBLogger")("messenger_web").warn("[MAWLoadThreadFromMI] Unexpected thread key change when loading from MI")})}function d(t,r){var a=r.description,i=r.instanceKey,l=r.jid,c=r.optimisticThreadKey;i!=null&&o("MAWThreadMappingQPL").addPoint("handle_act_thread_optimistic_start",i),o("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:null,description:a,instanceKey:i,jid:l,optimisticThreadKey:c});var d=(s||(s=o("I64"))).of_string(c);return(e||(e=n("Promise"))).all([u(t,l,i),o("MAWThreadLoadingState").markActThreadLoadingAsCompletedForJid(t,{jid:l,threadKey:d},i),o("MAWBridgeOccamadilloVerifyThreadExistsHandler").insertEphemeralCache(t,d,l,i)]).then(function(){if(i!=null)return o("MAWThreadMappingQPL").addPoint("handle_act_thread_optimistic_end",i),o("MAWThreadMappingQPL").end({instanceKey:i,intJid:o("MAWJids").convertChatJidToIntJid(l),tables:t,threadKey:d})})}function m(t,r){var a=r.authoritativeThreadKey,i=r.description,l=r.instanceKey,u=r.jid,d=r.optimisticThreadKey;l!=null&&o("MAWThreadMappingQPL").addPoint("handle_act_thread_authoritative_start",l);var m=o("WAJids").switchOnMsgrChatJidType(u,{group:function(t){return!0},user:function(t){return!1}});o("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:a,description:i,instanceKey:l,jid:u,optimisticThreadKey:d});var p=(s||(s=o("I64"))).of_string(a);return o("MAWThreadLoadingState").genLoadingStateFromJid(t,u).then(function(r){return(e||(e=n("Promise"))).all([!o("MAWThreadLoadingState").isMiReady(r)&&c(t,{description:i,instanceKey:l,isGroup:m,threadKey:p}),o("MAWBridgeOccamadilloVerifyThreadExistsHandler").attachLocalMetadata(t,p,{clientThreadKey:d,isGroup:m}),d!=null&&o("MAWBridgeOccamadilloVerifyThreadExistsHandler").ensureOptimisticThreadIsHidden(t,p,(s||(s=o("I64"))).of_string(d)),o("MAWBridgeOccamadilloVerifyThreadExistsHandler").insertEphemeralCache(t,p,u,l),o("MAWThreadLoadingState").markActThreadLoadingAsCompletedForJid(t,{jid:u,threadKey:p},l)])}).then(function(){if(l!=null)return o("MAWThreadMappingQPL").addPoint("handle_act_thread_authoritative_end",l),o("MAWThreadMappingQPL").end({instanceKey:l,intJid:o("MAWJids").convertChatJidToIntJid(u),tables:t,threadKey:p})})}l.handleActThreadWhenOptimisticInMI=d,l.handleActThreadWhenAuthoritativeInMI=m}),98);
__d("MAWThreadDefaults",["fbt","I64","LSBitOffset","LSIntEnum","qex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(){return r("qex")._("327")===!0?!0:r("qex")._("121")===!0}function m(e){return d()?o("LSBitOffset").set((c||(c=o("LSIntEnum"))).ofNumber(42),e):e}function p(e){return o("LSBitOffset").set((c||(c=o("LSIntEnum"))).ofNumber(4),e)}var _=(e=o("LSBitOffset")).set((c||(c=o("LSIntEnum"))).ofNumber(18),o("LSBitOffset").set(c.ofNumber(56),o("LSBitOffset").set(c.ofNumber(14),o("LSBitOffset").set(c.ofNumber(23),o("LSBitOffset").set(c.ofNumber(8),o("LSBitOffset").set(c.ofNumber(15),o("LSBitOffset").set(c.ofNumber(2),o("LSBitOffset").empty))))))),f=m(p(o("LSBitOffset").set(c.ofNumber(7),o("LSBitOffset").set(c.ofNumber(6),o("LSBitOffset").set(c.ofNumber(9),o("LSBitOffset").set(c.ofNumber(10),o("LSBitOffset").set(c.ofNumber(19),o("LSBitOffset").set(c.ofNumber(35),o("LSBitOffset").set(c.ofNumber(3),o("LSBitOffset").set(c.ofNumber(43),_)))))))))),g=o("LSBitOffset").set(c.ofNumber(17),o("LSBitOffset").set(c.ofNumber(60),o("LSBitOffset").set(c.ofNumber(16),o("LSBitOffset").set(c.ofNumber(26),o("LSBitOffset").set(c.ofNumber(28),o("LSBitOffset").clear(c.ofNumber(27),f)))))),h=o("LSBitOffset").set((u||(u=o("I64"))).sub(c.ofNumber(103),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(85),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(109),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(74),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(65),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(64),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(106),u.of_string("64")),o("LSBitOffset").empty))))))),y=s._(/*BTDS*/"Messages are secured with end-to-end encryption.").toString(),C=o("LSBitOffset").set(u.sub(c.ofNumber(172),u.of_string("64")),o("LSBitOffset").set(u.sub(c.ofNumber(170),u.of_string("64")),o("LSBitOffset").empty));l.defaultThreadCapabilities=f,l.defaultGroupThreadCapabilities=g,l.defaultThreadCapabilities_2=h,l.nullstateDescriptionText1=y,l.defaultThreadCapabilities_3=C,l.defaultThreadCapabilities_4=o("LSBitOffset").empty,l.defaultThreadCapabilities_5=o("LSBitOffset").empty}),226);
__d("MAWBridgeOccamadilloVerifyThreadExistsHandler",["I64","LSAuthorityLevel","LSFactory","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWActThreadMapping","MAWBridgeFireAndForget","MAWJids","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MAWMiActThreadLifecycleState__DO_NOT_USE","MAWThreadDefaults","MAWThreadLoadingState","MAWThreadMappingQPL","MWFBLogger","Promise","WATimeUtils","asyncToGeneratorRuntime","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=["cannotReplyReason","folder","lastReadTs"],s,u,c,d=o("MWFBLogger").MWLogger().tags(["Occam","VerifyThreadExists"]),m=r("gkx")("16094")?[105,17,25,24,61,267,27]:[105,17,25,24,61,267];function p(e,t){var n=m.filter(function(t){return o("LSThreadBitOffset").has(t,e)});return o("LSThreadBitOffset").set(n,t?o("MAWThreadDefaults").defaultGroupThreadCapabilities:o("MAWThreadDefaults").defaultThreadCapabilities,o("MAWThreadDefaults").defaultThreadCapabilities_2,o("MAWThreadDefaults").defaultThreadCapabilities_3,o("MAWThreadDefaults").defaultThreadCapabilities_4,o("MAWThreadDefaults").defaultThreadCapabilities_5)}function _(e,t,n){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,r){var a=yield e.threads.get(t);if(a==null)return d.mustfix("Thread missing in verify thread exists"),(c||(c=n("Promise"))).resolve();var i=r.clientThreadKey!=null?(u||(u=o("I64"))).of_string(r.clientThreadKey):a.clientThreadKey,l=p(a,r.isGroup);return e.threads.upsert([t],babelHelpers.extends({},a,{capabilities:l[0],capabilities2:l[1],capabilities3:l[2],capabilities4:l[3],capabilities5:l[4],clientThreadKey:i}))}),f.apply(this,arguments)}function g(e,t,n,r){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,r,a){yield(c||(c=n("Promise"))).all([o("MAWThreadLoadingState").markActThreadLoadingAsCompleted(e,{intJid:r,threadKey:t},a.instanceKey),b(e,t,a)])}),h.apply(this,arguments)}function y(e,t,n){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){(u||(u=o("I64"))).equal(t,n)||(yield e.threads.delete(n))}),C.apply(this,arguments)}function b(e,t,n){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,r){var a=r.clientThreadKey,i=r.instanceKey,l=r.isGroup;yield o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("handle_existing_thread",i,function(){return(c||(c=n("Promise"))).all([_(e,t,{clientThreadKey:a,isGroup:l}),a!=null&&y(e,t,(u||(u=o("I64"))).of_string(a))])})}),v.apply(this,arguments)}function S(e,t){return R.apply(this,arguments)}function R(){return R=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=t.authoritativeThreadKey,a=t.clientThreadKey,i=t.instanceKey,l=t.intJid;i!=null&&o("MAWThreadMappingQPL").allowToSkipUpgradingOptimisticThreadInMI(i);var s=n!=null?n:a;s!=null&&(yield o("MAWThreadLoadingState").markActThreadLoadingAsCompleted(e,{intJid:l,threadKey:(u||(u=o("I64"))).of_string(s)},i),yield o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("thread_point_query_sproc",i,function(){return r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(e),{waJid:l})}))}),R.apply(this,arguments)}function L(e,t,n){return E.apply(this,arguments)}function E(){return E=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=yield e.threads.get(t);a!=null&&(u||(u=o("I64"))).to_int32(a.authorityLevel)===r("LSAuthorityLevel").AUTHORITATIVE?yield b(e,t,n):n.instanceKey!=null&&o("MAWThreadMappingQPL").handleExistingThreadFail(n.instanceKey,a),a==null&&d.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Authoritative thread not found for clientThreadKey: ",""])),n.clientThreadKey)}),E.apply(this,arguments)}function k(e,t){return I.apply(this,arguments)}function I(){return I=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=t.authoritativeThreadKey,r=t.clientThreadKey,a=t.description,i=t.instanceKey,l=t.isGroup,s=t.jid,u=o("MAWJids").convertChatJidToIntJid(s),c=yield o("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJidOrThreadKey(e,u,n,"MAWBridgeOccamadilloVerifyThreadExistsHandler");switch(i!=null&&o("MAWThreadMappingQPL").addAnnotations({string:{threadStateInOccamVTE:c.type.toString()}},i),c.type){case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.THREAD_KEY_ONLY:return S(e,{authoritativeThreadKey:n,clientThreadKey:r,instanceKey:i,intJid:u}).then(function(){return{previousState:c.type}});case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:return g(e,c.serverThreadKey,u,{clientThreadKey:r,instanceKey:i,isGroup:l}).then(function(){return{previousState:c.type}});case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:return L(e,c.serverThreadKey,{clientThreadKey:r,instanceKey:i,isGroup:l}).then(function(){return{previousState:c.type}});case o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:throw d.mustfixThrow("[Unimplemented VerifyThreadExists state: %s for JID: %s, from %s",c.type,s,a);default:throw c.type,d.mustfixThrow("Unhandled VerifyThreadExists state: %s for JID: %s, from %s",c.type,s,a)}}),I.apply(this,arguments)}function T(e,t,n,r){return D.apply(this,arguments)}function D(){return D=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,r,a){yield o("MAWThreadMappingQPL").measurePerformanceForNullableInstanceKey("insert_ephemeral_cache",a,n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n=yield e.threads.get(t);if(n!=null){var a,i,l={ephemeralExpirationInSec:(u||(u=o("I64"))).to_int32((a=n.disappearingSettingTtl)!=null?a:(u||(u=o("I64"))).zero),ephemeralLastUpdatedOrSetTimestamp:o("WATimeUtils").castMilliSecondsToUnixTime(u.to_float((i=n.disappearingSettingUpdatedTs)!=null?i:(u||(u=o("I64"))).zero))};o("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingCache",{jid:r,settings:l})}}))}),D.apply(this,arguments)}function x(e,t){return $.apply(this,arguments)}function $(){return $=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var r=n.cannotReplyReason,a=n.folder,i=n.lastReadTs,l=babelHelpers.objectWithoutPropertiesLoose(n,e),s=l.authoritativeThreadKey,c=l.clientThreadKey,d=l.description,m=l.instanceKey,p=l.jid;m!=null&&o("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_start",m);var _=yield k(t,l),f=_.previousState;o("MAWActThreadMapping").executePromisesBlockedOnActThreadMapping({authoritativeThreadKey:s,description:d,instanceKey:m,jid:p,optimisticThreadKey:c});var g=s!=null?s:c,h=g!=null?(u||(u=o("I64"))).of_string(g):null;if(h!=null&&f!==o("MAWMiActThreadLifecycleState__DO_NOT_USE").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE&&(yield T(t,h,p,m)),m!=null){o("MAWThreadMappingQPL").addPoint("occam_verify_thread_exists_end",m);var y=o("MAWJids").convertChatJidToIntJid(l.jid);o("MAWThreadMappingQPL").pendingThreadCreationOnServer.has((u||(u=o("I64"))).to_string(y))||(yield o("MAWThreadMappingQPL").end({instanceKey:m,intJid:y,tables:t,threadKey:h}))}}),$.apply(this,arguments)}l.attachLocalMetadata=_,l.ensureOptimisticThreadIsHidden=y,l.genUpdatesForAuthoritativeThread=b,l.insertEphemeralCache=T,l.call=x}),98);
__d("MAWEphemeralSettingsUpdate",["FBLogger","I64","LSOptimisticUpdateThreadDisappearingSettingStoredProcedure","MAWChatJid","MAWCurrentUser","MAWEphemeralMsgAutoResetSystemId","Promise","asyncToGeneratorRuntime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWEphemeralSettingsUpdate"),c=r("requireDeferred")("LSFactory").__setRef("MAWEphemeralSettingsUpdate"),d=r("requireDeferred")("WATimeUtils").__setRef("MAWEphemeralSettingsUpdate");function m(e,t,n,r){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a=yield e.threads.get(r);if(a!=null){var i=a.disappearingSettingUpdatedTs,l=a.disappearingSettingTtl;if(i==null||l==null||(s||(s=o("I64"))).lt(i,(s||(s=o("I64"))).of_float(n))&&!(s||(s=o("I64"))).equal(l,(s||(s=o("I64"))).of_int32(t)))return!0}return!1}),p.apply(this,arguments)}function _(e,t,n,r,o,a,i){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,u,d,p){var _=yield m(t,a,i,u);if(!_)return(e||(e=n("Promise"))).resolve();d&&r("FBLogger")("wmi_eb").addMetadata("LABYRINTH_WEB","APP_VERSION","OCCAM_EPHEMERAL_SETTINGS_UPDATE").info("[Occam][Web] Ephemeral Settings Updated.");var f=yield c.load();return r("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure")(f(t),{disappearingTtl:(s||(s=o("I64"))).of_int32(a),threadKey:u,updatedBy:s.of_string(l?r("MAWEphemeralMsgAutoResetSystemId"):p!=null?p:o("MAWCurrentUser").getID()),updatedTimestamp:s.of_float(i)})}),f.apply(this,arguments)}function g(e,t,n,r){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var o=yield u.load(),a=yield o();return a.runInTransaction(function(o){return _(o,e,t,n,r,!1)},"readwrite")}),h.apply(this,arguments)}function y(e,t,n,r,o){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a,i,l){var s=yield u.load(),c=yield s(),m=(yield d.load()).castUnixTimeToMillisTime(r);return c.runInTransaction((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(r){var s=yield o("MAWChatJid").toThreadKeyMaybe(r,i);return s!=null?_(r,t,m,a,s,l):(e||(e=n("Promise"))).resolve()});return function(e){return r.apply(this,arguments)}})(),"readwrite")}),C.apply(this,arguments)}l.updateEphemeralSettingsWithTxn=_,l.updateEphemeralSettings=g,l.updateEphemeralSettingsByChatJid=y}),98);
__d("MAWGetEphemeralSettings",["I64","MAWBridgeSendAndReceive","MAWChatJid","ReQL","WAJids","WALogger","WATimeUtils","asyncToGeneratorRuntime","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWGetEphemeralSettings"),c=r("requireDeferred")("MAWEphemeralSettingsUpdate").__setRef("MAWGetEphemeralSettings");function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){if(o("WAJids").switchOnMsgrChatJidType(t,{group:function(){return!1},user:function(){return!0}})){var a=yield u.load(),i=yield a(),l=n!=null?n:yield o("MAWChatJid").toThreadKeyMaybe(i.tables,t);if(l!=null){var d=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.threads).getKeyRange(l));if(d!=null&&d.disappearingSettingTtl!=null){var m={ephemeralExpirationInSec:(s||(s=o("I64"))).to_int32(d.disappearingSettingTtl),ephemeralLastUpdatedOrSetTimestamp:d.disappearingSettingUpdatedTs!=null?o("WATimeUtils").castMilliSecondsToUnixTime((s||(s=o("I64"))).to_float(d.disappearingSettingUpdatedTs)):o("WATimeUtils").unixTime()};return m}return}return o("MAWBridgeSendAndReceive").sendAndReceive("backend","getEphemeralSettings",{threadId:t}).then(function(n){if(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""])),t,n),n!=null)return r("promiseDone")(c.load().then(function(e){return e.updateEphemeralSettingsByChatJid(n.ephemeralExpirationInSec,n.ephemeralLastUpdatedOrSetTimestamp,!1,t,!0)})),n})}}),m.apply(this,arguments)}l.getEphemeralSetting=d}),98);
__d("WMIWABridgeApi",["MAWBridgeSendAndReceive"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o("MAWBridgeSendAndReceive").sendAndReceive("backend","waapi",{args:n,type:e})}}var s={debugGetSignalDbDump:e("debugGetSignalDbDump"),getCurrentUserDeviceList:e("getCurrentUserDeviceList"),getDevices:e("getDevices"),getIdentityKeys:e("getIdentityKeys"),queryGroups:e("queryGroups"),removeCurrentDevice:e("removeCurrentDevice"),removeDevice:e("removeDevice")},u=s;l.default=u}),98);/*FB_PKG_DELIM*/
__d("E2eeStateTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e,l=(e=n("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2}),s=e({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1}),u=e({SENDER_KEY:0,SESSION_KEY:1}),c=e({NOT_SET:0,CONTROL:1,TEST:2}),d=e({NOT_SET:0,CONTROL:1,TEST:2}),m=e({ENABLED:0,DISABLED:1,FALLBACK:2});a.exports={E2eeKeyNegotiationProtocolEnum:u,E2eeStateCapabilitiesEnum:s,E2eeStateP2PSFrameExpStatus:d,InfraMandatedExpStatus:c,KeyNegotiationModeEnum:l,SignalingKeyMessageProtocolEnum:m}}),null);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744337"),s=o("FalcoLoggerInternal").create("rtc_web_user_actions_debug",e),u=s;l.default=u}),98);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744338"),s=o("FalcoLoggerInternal").create("rtc_web_user_actions",e),u=s;l.default=u}),98);
__d("ZenonBrowsers",["UserAgent","UserAgentData"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("UserAgent").isBrowser("Chrome")}function s(){return!!navigator.webkitGetUserMedia}function u(){return r("UserAgent").isBrowser("Edge (Chromium Based)")||r("UserAgent").isBrowser("Edge PWA (Chromium Based)")}function c(){return r("UserAgent").isBrowser("Safari")}function d(){return r("UserAgent").isBrowser("Firefox")}function m(){return r("UserAgent").isBrowser("Opera")}function p(){return r("UserAgent").isBrowser("Mobile Safari")}function _(){return r("UserAgent").isBrowser("Oculus Browser")}function f(){return r("UserAgent").isBrowser("Samsung Browser")}function g(){return p()||r("UserAgent").isPlatform("Android")||f()}function h(){return r("UserAgent").isPlatform("Android")||r("UserAgent").isPlatform("iOS")}function y(){if(d()){var e;return(e=r("UserAgentData").browserVersion)!=null?e:0}if(s()){var t=navigator.userAgent.match(/Chrom(e|ium)\/(\d+)\./);return t!=null?parseInt(t[2],10):999}return 0}function C(){return r("UserAgent").isBrowser("FBLite")||r("UserAgent").isBrowser("Facebook for Android")}function b(){return d()}function v(){return!_()}function S(){return!_()}function R(){return!p()&&!c()&&!((s()||e())&&y()<80)&&!(d()&&y()<70)}function L(){return(s()||e())&&y()>=77||r("UserAgent").isBrowser("Firefox >= 70")||r("UserAgent").isBrowser("Safari >= 14.1")}function E(){return!(r("UserAgent").isBrowser("Chrome > 105")&&r("UserAgent").isBrowser("Chrome < 115"))}function k(){return r("UserAgent").isBrowser("Chrome >= 89")||r("UserAgent").isBrowser("Opera >= 75")||r("UserAgent").isBrowser("Edge (Chromium Based) >= 89")||r("UserAgent").isBrowser("Edge PWA (Chromium Based) >= 89")}function I(){var e=r("UserAgent").isBrowser("Chrome >= 113")&&r("UserAgent").isBrowser("Chrome < 114"),t=(r("UserAgent").isBrowser("Edge (Chromium Based) >= 113")||r("UserAgent").isBrowser("Edge PWA (Chromium Based) >= 113"))&&(r("UserAgent").isBrowser("Edge (Chromium Based) < 114")||r("UserAgent").isBrowser("Edge PWA (Chromium Based) < 114")),n=r("UserAgent").isBrowser("Safari >= 16")&&r("UserAgent").isBrowser("Safari < 17");return e||t||n}function T(){return!(r("UserAgent").isBrowser("Chrome <= 113")||r("UserAgent").isBrowser("Edge (Chromium Based) <= 113")||r("UserAgent").isBrowser("Edge PWA (Chromium Based) <= 113"))}l.isChrome=e,l.isChromium=s,l.isChromiumBasedEdge=u,l.isDesktopSafari=c,l.isFirefox=d,l.isOpera=m,l.isMobileSafari=p,l.isOculusBrowser=_,l.isSamsung=f,l.isSupportedMobileBrowser=g,l.isMobileDevice=h,l.webrtcVersion=y,l.isFBWebview=C,l.noTransceiverForNegotiations=b,l.supportsMWAVEscalation=v,l.supportsVideoCalls=S,l.supportsRollback=R,l.supportsIceRestart=L,l.supportsPranswer=E,l.isVideoLayersAllocationSupported=k,l.isSctpdataChannelDisabled=I,l.isMidCallSCTPSupported=T}),98);
__d("ZenonIGMediaUtil",["ZenonAppProvider","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={shouldUseSFUOnly:function(){return o("ZenonAppProvider").isInstagramApp()&&!r("gkx")("2274")}},s=e;l.default=s}),98);
__d("ZenonJoiningContext",[],(function(t,n,r,o,a,i){"use strict";var e="joining_context";function l(e){var t=e.callablePostID,n=e.callingTags,r=e.callTrigger,o=e.conferenceName,a=e.groupThreadID,i=e.igThreadID,l=e.immersiveModeDoorID,s=e.isMetaAiCall,u=e.linkUrl,c=e.liveBroadcastID,d=e.meetingID,m=e.peerID,p=e.rtcDoorID,_=e.serverInfoData;return{call_trigger:r,callable_post_id:t,calling_tags:n,conference_name:o,group_thread_id:a,ig_thread_id:i,immersive_mode_door_id:l,is_meta_ai_call:s,link_url:u,live_broadcast_id:c,meeting_id:d,peer_id:m,rtc_door_id:p,server_info_data:_}}i.JOINING_CONTEXT_TOPIC=e,i.convertCollisionToJoiningContext=l}),66);
__d("ZenonMWCommonUtils",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.split("\n");if(t.length<2)throw r("FBLogger")("rtc_www").mustfixThrow("Expected SDP string with two or more lines, but got %s",t.length);var n=t[1].trim(),o=n.split(" ");if(o.length<3)throw r("FBLogger")("rtc_www").mustfixThrow("Session line should have at least 3 tokens, but got %s",o.length);var a=parseInt(o[2],10);if(isNaN(a))throw r("FBLogger")("rtc_www").mustfixThrow("SDP version could not be parsed as number.");return a}function s(e){return e.includes("BUNDLE 0")}l.getSdpVersion=e,l.isUnifiedPlan=s}),98);
__d("shouldUseSFUMediaPath",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return!!r("UserAgent").isBrowser("Chrome <= 88")}l.default=e}),98);
__d("ZenonMWJoinUtils",["ZenonActorHooks","ZenonBrowsers","ZenonIGMediaUtil","shouldUseSFUMediaPath"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("ZenonBrowsers").isFirefox()&&e!=="answer"?!1:!r("ZenonIGMediaUtil").shouldUseSFUOnly()}function s(){return r("shouldUseSFUMediaPath")(!1)?!1:!o("ZenonBrowsers").isMobileSafari()&&!o("ZenonBrowsers").isDesktopSafari()&&!o("ZenonBrowsers").isFirefox()&&!o("ZenonBrowsers").isFBWebview()&&!o("ZenonActorHooks").ZenonActor.isInstagramUser()}l.canUseMwpp=e,l.canDeescalate=s}),98);
__d("ZenonMWThriftAddParticipantsTranslator",["MultiwayCommonTypes","RequestStreamBodyUtils","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e="new_room_context";function s(t,n){var r={usersToInvite:new Set(n.participants)};if(n.groupThreadId!=null){var a={calling_tags:2,group_thread_id:n.groupThreadId};if(a){var i=[{body:{genericMessage:{data:o("RequestStreamBodyUtils").stringToUint8Array(JSON.stringify(a)),topic:e}},header:{topic_DEPRECATED:e}}];r.appMessages=i}}return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:t,rtcMessageBody:{addParticipantsRequest:r},type:o("MultiwayCommonTypes").MessageType.ADD_PARTICIPANTS})}l.NEW_ROOM_CONTEXT=e,l.toThriftAddParticipantsRequest=s}),98);
__d("ZenonMWThriftApprovalTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=t.approvalStatus,r=t.targetUsers,a={approvalStatus:n===0?o("MultiwayCommonTypes").ApprovalStatus.DENIED:o("MultiwayCommonTypes").ApprovalStatus.APPROVED,targetUsers:new Set(r)};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{approvalRequest:a},type:o("MultiwayCommonTypes").MessageType.APPROVAL})}l.toThriftApprovalRequest=e}),98);
__d("ZenonMWThriftClientEventTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n={clientEvents:[{type:t.clientEventType===0?o("MultiwayCommonTypes").ClientEventType.UNKNOWN:o("MultiwayCommonTypes").ClientEventType.MEDIA_CONNECTED}]};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{clientEventRequest:n},type:o("MultiwayCommonTypes").MessageType.CLIENT_EVENT})}l.toThriftClientEventRequest=e}),98);
__d("ZenonMWThriftClientMediaUpdateTranslator",["MultiwayCommonTypes","ZenonMWCommonUtils","ZenonMWThriftResponseStatusCodeUtils","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageBody,r=e.messageHeader,a=n.clientMediaUpdateResponse,i=r.responseStatusCode,l=r.responseSubCode,s=r.retryAfterMsec;if(a){var u=a.answer,c=a.mediaStatus,d=u!=null&&c!=null;o("ZenonMWThriftTranslatorUtils").addThriftStateStoreSignalingEvents(a.stateStore,t,!1,d);var m=o("ZenonMWThriftTranslatorUtils").fetchE2eeServerState(a.stateStore);if(d){var p,_=(p=u==null?void 0:u.sdpString)!=null?p:"",f=o("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(c),g={ackMessageId:r.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:!1,source:"clientMediaUpdate"},h=a.renegotiationOffer,y=null;h!=null&&h.sdpString!=null&&(y={sdp:h.sdpString,type:"offer",version:o("ZenonMWCommonUtils").getSdpVersion(h.sdpString)});var C={e2eeServerState:m,eventName:"remoteSdpRequest",mediaPath:o("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(a.mediaPath),mediaStates:f,negotiateType:!1,renegotiationOffer:y,sdp:{sdp:_,type:"answer",version:o("ZenonMWCommonUtils").getSdpVersion(_)},sdpOriginLocalId:a.sdpOriginLocalId,source:"clientMediaUpdateResponse"};t.push(g),t.push(C)}var b={ackMessageId:r.transactionId,acknowledgedVersion:Number(a.currentVersion),eventName:"mediaUpdateResponse",retryAfter:s!=null?s:0};i!=null&&(b.responseStatusCode=o("ZenonMWThriftResponseStatusCodeUtils").getResponseStatusCodeFromThrift(i)),l!=null&&(b.responseSubCode=o("ZenonMWThriftResponseStatusCodeUtils").getResponseSubCodeFromThrift(l)),t.push(b)}return t}function s(e,t,n){var r={fromVersion:String(t.version),mediaUpdates:[{mediaStatus:o("ZenonMWThriftTranslatorUtils").toMWThriftMediaStatus(t),mediaStatusEx:o("ZenonMWThriftTranslatorUtils").toThriftMWMediaStatusEx(t)}],toVersion:String(t.version)};return n!==void 0&&(r.offer={sdpString:n.sdp}),o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{clientMediaUpdateRequest:r},type:o("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE})}l.fromThriftClientMediaUpdateResponse=e,l.toThriftClientMediaUpdateRequest=s}),98);
__d("ZenonMWThriftConferenceStateTranslator",["MultiwayCommonTypes","RequestStreamBodyUtils","ZenonMWMessageTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageBody.conferenceStateRequest;if(n){var r=n.appMessages,a=n.participantStates,i={eventName:"participantUpdateRequest",participantStates:new Map,sctpUserIdNodeIdMap:new Map,versionId:+n.version},l={actorRepresentatives:new Map,eventName:"clientInfoRequest",mediaPath:o("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN,userCapabilities:new Map};Object.keys(a).forEach(function(e){var t=a[e],n=t.sctpNodeId,r=t.state,s=t.userCapabilities;i.participantStates.set(e,o("ZenonMWThriftTranslatorUtils").fromThriftParticipantState(r)),n!=null&&i.sctpUserIdNodeIdMap.set(e,+n),l.userCapabilities.set(e,s?o("RequestStreamBodyUtils").uint8ArrayToString(s):"")}),t.push(i),t.push(l);var s=o("ZenonMWThriftTranslatorUtils").getCollisionContextFromThriftAppMessages(r);if(s){s.serverInfoData=e.messageHeader.serverInfoData;var u={context:s,eventName:"roomContextUpdateRequest"};t.push(u)}}return t}function s(e,t){var n={currentVersion:String(t.requestVersionId)};return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{conferenceStateResponse:n},type:o("MultiwayCommonTypes").MessageType.CONFERENCE_STATE})}l.fromThriftConferenceStateRequest=e,l.toThriftConferenceStateResponse=s}),98);
__d("ZenonMWThriftDataMessageTranslator",["MultiwayCommonTypes","RequestStreamBodyUtils","ZenonActorHooks","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageBody.dataMessageRequest;if(n){var r=n.message.header,a=o("ZenonMWThriftTranslatorUtils").getGenericMWThriftDataMessageData(n),i=o("ZenonMWThriftTranslatorUtils").getGenericMWThriftDataMessageTopic(n),l=c(r.serviceRecipients);if(a!=null&&i!=null){var s,u={data:a,eventName:"genericDataMessageRequest",recipientIDs:Array.from((s=r.recipients)!=null?s:[]),serviceRecipients:l,topic:i};t.push(u)}}return t}function s(e,t){var n={data:o("RequestStreamBodyUtils").stringToUint8Array(t.data),topic:t.topic},r=new Set(t.serviceRecipients.map(o("ZenonMWThriftTranslatorUtils").toThriftServiceRecipient));return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{dataMessageRequest:{message:{body:{genericMessage:n},header:{recipients:new Set(t.recipientIDs),sender:o("ZenonActorHooks").ZenonActor.getID(),serviceRecipients:r,topic_DEPRECATED:""}}}},type:o("MultiwayCommonTypes").MessageType.DATA_MESSAGE})}function u(e){return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{dataMessageResponse:{deliveryResult:{}}},type:o("MultiwayCommonTypes").MessageType.DATA_MESSAGE})}function c(e){var t=[];return e==null||e.forEach(function(e){return t.push(o("ZenonMWThriftTranslatorUtils").toServiceRecipientType(e))}),t}l.fromThriftDataMessageRequest=e,l.toThriftDataMessageRequest=s,l.toThriftDataMessageResponse=u}),98);
__d("ZenonMWThriftDismissTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageBody.dismissRequest;if(n){var r=n.detailedReasonString,a=n.reason,i={eventName:"terminateRequest",fromJoinResponse:!1,reason:o("ZenonMWThriftTranslatorUtils").fromMWThriftDismissReason(a),shouldInformPeer:!0,subreason:r};t.push(i)}return t}function s(e){return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{},type:o("MultiwayCommonTypes").MessageType.DISMISS})}l.fromThriftDismissRequest=e,l.toThriftDismissResponse=s}),98);
__d("ZenonMWThriftHangupTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageHeader,r={ackMessageId:n.transactionId,eventName:"hangupResponse"};return t.push(r),t}function s(e,t){var n=t.reason,r={detailedReasonString:"",reason:o("ZenonMWThriftTranslatorUtils").toMWThriftHangupReason(n)};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{hangupRequest:r},type:o("MultiwayCommonTypes").MessageType.HANGUP})}l.fromThriftHangupResponse=e,l.toThriftHangupRequest=s}),98);
__d("ZenonMWThriftIceCandidateTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageBody.iceCandidateRequest;if(n){var r={eventName:"iceCandidateRequest",iceCandidates:n.iceCandidateSdps.map(function(e){var t;return{candidateSdpString:(t=e.candidateSdpString)!=null?t:"",sdpMid:e.sdpMid,sdpMLineIndex:parseInt(e.sdpMLineIndex,10)}})};t.push(r)}return t}function s(e){var t=[],n=e.messageHeader,r={ackMessageId:n.transactionId,eventName:"iceCandidateResponse"};return t.push(r),t}function u(e){return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{},type:o("MultiwayCommonTypes").MessageType.ICE_CANDIDATE})}function c(e,t){var n=t.iceCandidates,r=n.map(function(e){return{candidateSdpString:e.candidateSdpString,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex.toString()}}),a={iceCandidateSdps:r};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{iceCandidateRequest:a},type:o("MultiwayCommonTypes").MessageType.ICE_CANDIDATE})}l.fromThriftIceCandidateRequest=e,l.fromThriftIceCandidateResponse=s,l.toThriftIceCandidateResponse=u,l.toThriftIceCandidateRequest=c}),98);
__d("ZenonMWThriftJoinTranslator",["FBLogger","MultiwayCommonTypes","MultiwaySharedTypes","RequestStreamBodyUtils","RoboticsPermission","ZenonAuditedCheckpointLogId","ZenonBrowsers","ZenonDismissReason","ZenonInfraActionsLogger","ZenonJoiningContext","ZenonMWCommonUtils","ZenonMWJoinUtils","ZenonMWThriftTranslatorUtils","ZenonScreenShare"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,a=[],i=e.messageHeader,l=i.responseStatusCode,s=i.responseSubCode;if(l&&l!==o("MultiwayCommonTypes").RtcResponseStatusCode.OK){var c,d="JOIN response status code: "+String(l)+" subcode "+String(s!=null?s:"[undefined]");r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",checkpoint:"[ZP] Got non-OK "+d,errorDomain:"ZenonMWThriftMessageTranslator.fromThriftJoinResponse"});var m={detailedReasonFromMW:(c=i.responseStatusMessage)!=null?c:"",eventName:"terminateRequest",fromJoinResponse:!0,reason:u(l,i.responseSubCode),shouldInformPeer:!1,subreason:d};return a.push(m),a}var p=e.messageBody.joinResponse;if(!p)return a;var _=(t=(n=p.answer)==null?void 0:n.sdpString)!=null?t:"",f=_!=="";o("ZenonMWThriftTranslatorUtils").addThriftStateStoreSignalingEvents(p.stateStore,a,!1,f),o("ZenonMWThriftTranslatorUtils").maybeAddOverlayConfigServerUpdateRequestFromThrift(a,i);var g=o("ZenonMWThriftTranslatorUtils").fetchE2eeServerState(p.stateStore),h={ackMessageId:i.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:f,source:"joinResponse"};if(a.push(h),f){var y={sdp:_,type:"answer",version:o("ZenonMWCommonUtils").getSdpVersion(_)},C=o("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(p.mediaStatusEx),b=p.renegotiationOffer,v=null;b!=null&&b.sdpString!=null&&(v={sdp:b.sdpString,type:"offer",version:o("ZenonMWCommonUtils").getSdpVersion(b.sdpString)});var S={e2eeServerState:g,eventName:"remoteSdpRequest",mediaPath:o("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(p.mediaPath),mediaStates:C,negotiateType:!1,renegotiationOffer:v,sdp:y,sdpOriginLocalId:p.sdpOriginLocalId,source:"joinResponse"};a.push(S)}var R={capabilities:{addParticipantEnabled:!0,cowatchEnabled:!0,cowatchGroupEnabled:!0,multipleVideoStreamsAllowed:p.multipleVideoStreamsAllowed},eventName:"capabilitiesRequest"};if(a.push(R),p.isPendingApproval){var L={eventName:"pendingApprovalRequest"};a.push(L)}var E=p.groupsOfUsers,k=new Map;E.forEach(function(e){var t=e.aliasId,n=e.users;t!=null&&n.forEach(function(e){k.set(e,t)})});var I={actorRepresentatives:k,eventName:"clientInfoRequest",mediaPath:o("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(p.mediaPath),userCapabilities:new Map};return a.push(I),a}function s(e,t,n,a){var i,l,s=t.initialSyncStates,u=t.isSecondaryJoinRole,d=t.userCapabilities,m={clientMediaMode:n.mediaMode==="p2p"?o("MultiwaySharedTypes").MediaPath.P2P:o("MultiwaySharedTypes").MediaPath.SFU,deviceCapabilities:new Set([o("MultiwayCommonTypes").Capability.SUPPORT_NEW_PARTICIPANT_STATES,o("MultiwayCommonTypes").Capability.REQUIRE_FULL_SDP_IN_SMU,o("MultiwayCommonTypes").Capability.SUPPORT_SDP_RENEGOTIATION,o("MultiwayCommonTypes").Capability.REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED,o("MultiwayCommonTypes").Capability.SUPPORT_DELTA_SMU].concat(o("ZenonBrowsers").supportsPranswer()?[o("MultiwayCommonTypes").Capability.SUPPORT_PRECONNECT]:[])),mediaStatus:o("ZenonMWThriftTranslatorUtils").toMWThriftMediaStatus(n.mediaStates),mediaStatusEx:o("ZenonMWThriftTranslatorUtils").toThriftMWMediaStatusEx(n.mediaStates),offer:{},syncPayload:s?{stateStore:o("ZenonMWThriftTranslatorUtils").toThriftMWSyncStateStore(s),stateStoreV2:{}}:void 0,userCapabilities:o("RequestStreamBodyUtils").stringToUint8Array((i=d.get(e.userInfo.userID))!=null?i:"")};u!=null&&(m.endpointSettings={joinMode:u?o("MultiwayCommonTypes").JoinMode.SECONDARY:o("MultiwayCommonTypes").JoinMode.PRIMARY});var p=t.isE2eeMandated===!0;m.e2eeEnforcement={infraMandatedExpStatus:t.e2eeInfraMandatedExpStatus,mode:p?o("MultiwaySharedTypes").E2eeMode.E2EE_MANDATED:o("MultiwaySharedTypes").E2eeMode.E2EE_NOT_MANDATED,p2pSFrameExpStatus:o("MultiwaySharedTypes").P2PSFrameExpStatus.NOT_SET,preventSfuMode:!1},n.sdp.type==="offer"&&(m.offer={sdpString:n.sdp.sdp}),o("ZenonMWJoinUtils").canUseMwpp(n.sdp.type)&&(m.deviceCapabilities.add(o("MultiwayCommonTypes").Capability.SUPPORT_MWPP),n.sdp.type==="answer"&&(m.answer={sdpString:n.sdp.sdp}),o("ZenonMWJoinUtils").canDeescalate()&&m.deviceCapabilities.add(o("MultiwayCommonTypes").Capability.SUPPORT_MWPP_DEESCALATION)),(!o("ZenonScreenShare").screenShareWithReplaceTrack()||r("RoboticsPermission").is_authorized_robot)&&m.deviceCapabilities.add(o("MultiwayCommonTypes").Capability.SUPPORT_MULTIPLE_VIDEO_STREAMS);var _=a==null?void 0:a.otherParticipants;_&&(m.usersToCall=new Set(_));var f=[],g=(l=a==null?void 0:a.roomInfo.context)!=null?l:e.roomInfo.context;if(g!=null){var h=o("ZenonJoiningContext").convertCollisionToJoiningContext(g);p&&(h.calling_tags=2),f=[].concat(f,[{body:{genericMessage:{data:o("RequestStreamBodyUtils").stringToUint8Array(JSON.stringify(h)),topic:o("ZenonJoiningContext").JOINING_CONTEXT_TOPIC}},header:{topic_DEPRECATED:o("ZenonJoiningContext").JOINING_CONTEXT_TOPIC}}])}(a==null?void 0:a.appMessages)!=null&&(f=[].concat(f,o("ZenonMWThriftTranslatorUtils").signalingMessageAppMessagesToThriftMWAppMessages(a.appMessages,_))),m.appMessages=f;var y=o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{joinRequest:m},type:o("MultiwayCommonTypes").MessageType.JOIN});return g&&g.serverInfoData!=null&&(y.messageHeader.serverInfoData=g.serverInfoData),c(g,y.messageHeader)&&(y.messageHeader.conferenceType=o("MultiwaySharedTypes").ConferenceType.ROOM),y}function u(e,t){if(t===o("MultiwayCommonTypes").RtcResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS)return o("ZenonDismissReason").ZenonDismissReason.MaxAllowedParticipantsReached;if(t===o("MultiwayCommonTypes").RtcResponseSubCode.PRODUCT_SERVER_DEFINED_END_REASON)return o("ZenonDismissReason").ZenonDismissReason.ProductServerDefinedEndReason;if(t===o("MultiwayCommonTypes").RtcResponseSubCode.CALLER_HAS_APPEALABLE_CALLING_RESTRICTION)return o("ZenonDismissReason").ZenonDismissReason.CallerHasAppealableCallingRestriction;switch(e){case o("MultiwayCommonTypes").RtcResponseStatusCode.METHOD_NOT_ALLOWED:case o("MultiwayCommonTypes").RtcResponseStatusCode.UNAUTHORIZED:return o("ZenonDismissReason").ZenonDismissReason.NoPermission;case o("MultiwayCommonTypes").RtcResponseStatusCode.SERVICE_UNAVAILABLE:return o("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed;case o("MultiwayCommonTypes").RtcResponseStatusCode.OK:throw r("FBLogger")("rtc_www").mustfixThrow("Response status code is OK; should not return a dismiss reason");default:return r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,callType:"mw",error:"[ZP] Got unexpected JOIN response status: "+String(e)+" subcode "+String(t!=null?t:"[undefined]"),errorDomain:"fromMWThriftJoinResponseStatusToDismissReason"}),o("ZenonDismissReason").ZenonDismissReason.UnexpectedEndOfCall}}function c(e,t){return((e==null?void 0:e.peerID)!=null||(e==null?void 0:e.groupThreadID)!=null)&&t.conferenceName===""}l.fromThriftJoinResponse=e,l.toThriftJoinRequest=s}),98);
__d("ZenonMWThriftPingTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageHeader,r={ackMessageId:n.transactionId,eventName:"pingResponse"};return t.push(r),t}function s(e){return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{},type:o("MultiwayCommonTypes").MessageType.PING})}l.fromThriftPingResponse=e,l.toThriftPingRequest=s}),98);
__d("ZenonMWThriftRemoveParticipantsTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n={usersToRemove:new Set(t.participants)};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{removeParticipantsRequest:n},type:o("MultiwayCommonTypes").MessageType.REMOVE_PARTICIPANTS})}l.toThriftRemoveParticipantsRequest=e}),98);
__d("ZenonMWThriftRingTranslator",["MultiwayCommonTypes","MultiwaySharedTypes","ZenonMWCommonUtils","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){if(t)return{groupThreadID:t.groupThreadId,peerID:t.peerId,serverInfoData:n};var r=o("ZenonMWThriftTranslatorUtils").getCollisionContextFromThriftAppMessages(e);return r&&(r.serverInfoData=n),r!=null?r:{groupThreadID:null,peerID:null,serverInfoData:n}}function s(t,n){var r=[],a=t.messageBody,i=t.messageHeader,l=a.ringRequest;if(l){var s,u,c,d=l.appMessages,m=l.caller,p=l.e2eeEnforcement,_=l.otherParticipants,f=l.ringType,g=l.sdpOriginLocalId,h=l.threadIdInfo,y=m,C=f===o("MultiwayCommonTypes").RingType.PEER_VIDEO_CALL||f===o("MultiwayCommonTypes").RingType.GROUP_VIDEO_CALL||f===o("MultiwayCommonTypes").RingType.LIVE_STREAM||f===o("MultiwayCommonTypes").RingType.PEER_ESCALATED_AUDIO_CALL,b=i.conferenceName,v=i.serverInfoData,S=e(d,h,v),R=o("ZenonMWThriftTranslatorUtils").getRoomMetadataFromThriftAppMessages(d),L={actorID:n.actorID,e2eeInfraMandatedExpStatus:p==null?void 0:p.infraMandatedExpStatus,eventName:"inviteRequest",inviterID:y,isE2eeMandated:(p==null?void 0:p.mode)===o("MultiwaySharedTypes").E2eeMode.E2EE_MANDATED,isRemoteOfferer:!1,otherParticipants:Array.from(_),requestingVideo:C,roomInfo:babelHelpers.extends({context:S,name:b},R==null?{}:{room:R,sender:R.sender}),userID:n.userInfo.userID};v!=null&&(L.serverInfoData=v),d!=null&&(L.appMessages=o("ZenonMWThriftTranslatorUtils").mwThriftAppMessagesToSignalingAppMessages(d)),r.push(L);var E=(s=(u=l.offer)==null?void 0:u.sdpString)!=null?s:"",k=(c=l.mediaStatusEx)!=null?c:null;if(E!==""&&k!=null){var I={sdp:E,type:"offer",version:o("ZenonMWCommonUtils").getSdpVersion(E)},T=o("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(k),D={eventName:"remoteSdpRequest",mediaPath:o("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(l.mediaPath),mediaStates:T,negotiateType:!1,sdp:I,sdpOriginLocalId:g,source:"ringRequest"};r.push(D)}}return r}function u(e,t){var n=t.status;n==="IN_ANOTHER_CALL"&&(e.signalingID=null);var r=o("ZenonMWThriftTranslatorUtils").toMWThriftDeviceStatus(n),a={deviceStatus:r};return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{ringResponse:a},type:o("MultiwayCommonTypes").MessageType.RING})}l.fromThriftRingRequest=s,l.toThriftRingResponse=u}),98);
__d("ZenonMWThriftServerMediaUpdateTranslator",["FBLogger","MultiwayCommonTypes","ZenonAuditedCheckpointLogId","ZenonBrowsers","ZenonInfraActionsLogger","ZenonMWCommonUtils","ZenonMWThriftMessageReliabilityLogger","ZenonMWThriftMessageTagUtils","ZenonMWThriftTranslatorUtils","ZenonODSLogger","ZenonScreenShare"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,a,i=[],l=e.messageBody.serverMediaUpdateRequest,u=e.messageHeader,c=u.messageTags,d=u.transactionId;if(!l)return i;var m=l.answer,p=l.fromVersion,_=l.mediaPath,f=l.mediaStatus,g=l.multipleVideoStreamsAllowed,h=l.offer,y=l.prAnswer,C=l.renegotiationRequested,b=l.sdpOriginLocalId,v=l.stateStore,S=l.toVersion,R=l.update,L=[h,m,y].some(function(e){return(e==null?void 0:e.sdpCompressionVersion)!=null});if(L){r("ZenonODSLogger").logCounter("compressed_sdp_received");var E="Compressed SDP is not supported;";r("FBLogger")("rpweb").warn(E+" TXID = %s",d),r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:E+" TXID = "+d,errorDomain:"ZenonMWThriftServerMediaUpdateTranslator"})}var k=(t=h==null?void 0:h.sdpString)!=null?t:"",I=(n=m==null?void 0:m.sdpString)!=null?n:"",T=(a=y==null?void 0:y.sdpString)!=null?a:"",D=+p,x=+S,$=o("ZenonMWThriftTranslatorUtils").fromThriftMediaPath(_),P=o("ZenonMWThriftMessageTagUtils").fromThriftMessageTags(c),N=function(){o("ZenonMWThriftMessageReliabilityLogger").logProcessedMessage(e)},M=k!=="",w=I!=="",A=o("ZenonBrowsers").supportsPranswer()&&T!=="",F=R!==null,O=M||w||A||F;o("ZenonMWThriftTranslatorUtils").addThriftStateStoreSignalingEvents(v,i,!1,O);var B=o("ZenonMWThriftTranslatorUtils").fetchE2eeServerState(v);if(C){r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 1: renegotationRequested"});var W={ackMessageId:d,eventName:"initiateRenegotiationRequest",fromVersion:D,hasRemoteOffer:k!=="",mediaPath:$,messageTags:P!=null?P:[],onProcessed:N,version:x};if(i.push(W),M){var q=s(d,D,$,f,{sdp:k,type:"offer",version:o("ZenonMWCommonUtils").getSdpVersion(k)},b,N,P,B);i.push(q)}}else if(w){r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 2: answer SDP"});var U=s(d,D,$,f,{sdp:I,type:"answer",version:o("ZenonMWCommonUtils").getSdpVersion(I)},b,N,P,B);if(U.sdp.sdp!=null&&o("ZenonMWCommonUtils").isUnifiedPlan(U.sdp.sdp)){var V={sdp:I,type:"offer",version:o("ZenonMWCommonUtils").getSdpVersion(I)};U.renegotiationOffer=V}i.push(U)}else if(M){r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 3: offer SDP"});var H=s(d,D,$,f,{sdp:k,type:"offer",version:o("ZenonMWCommonUtils").getSdpVersion(k)},b,N,P,B);i.push(H)}else if(R){r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 4: delta SDP"});var G=s(d,D,$,f,{type:"offer",update:R,version:x},b,N,P,B);i.push(G)}else if(A){r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 5: prAnswer SDP"});var z=s(d,D,$,f,{sdp:T,type:"pranswer",version:o("ZenonMWCommonUtils").getSdpVersion(T)},b,N,P,B);i.push(z)}else if(f){r("ZenonInfraActionsLogger").logCheckpoint({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__PLATFORM,checkpoint:"SMU type 6: media update"});var j={ackMessageId:d,eventName:"mediaUpdateRequest",mediaStates:o("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(f,D,x),messageTags:P!=null?P:[],onProcessed:N};i.push(j)}else{var K="Warning: unsupported SMU type. TXID: "+d;r("FBLogger")("rpweb").warn(K),r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:K,errorDomain:"ZenonMWThriftServerMediaUpdateTranslator"})}o("ZenonMWThriftTranslatorUtils").maybeAddOverlayConfigServerUpdateRequestFromThrift(i,u);var Q={capabilities:{multipleVideoStreamsAllowed:g},eventName:"capabilitiesRequest",messageTags:P!=null?P:[]};return i.push(Q),i}function s(e,t,n,r,a,i,l,s,u){return{ackMessageId:e,e2eeServerState:u,eventName:"remoteSdpRequest",fromVersion:t,mediaPath:n,mediaStates:o("ZenonMWThriftTranslatorUtils").toZenonMediaStatesFromThrift(r),messageTags:s!=null?s:[],negotiateType:!1,onProcessed:l,sdp:a,sdpOriginLocalId:i,source:"serverMediaUpdateRequest"}}function u(e,t,n,r){var a;return m({acknowledgedVersion:t.acknowledgedVersion,answer:r,header:e,mediaStates:n,statusCode:o("ZenonMWThriftTranslatorUtils").toMWThriftResponseStatusCode(t.statusCode),subCode:(a=o("ZenonMWThriftTranslatorUtils").toMWThriftResponseStatusSubCode(t.subCode))!=null?a:void 0})}function c(e,t){var n;return m({acknowledgedVersion:t.acknowledgedVersion,header:e,statusCode:o("ZenonMWThriftTranslatorUtils").toMWThriftResponseStatusCode(t.statusCode),subCode:(n=o("ZenonMWThriftTranslatorUtils").toMWThriftResponseStatusSubCode(t.subCode))!=null?n:void 0})}function d(e,t){var n;return m({acknowledgedVersion:t.acknowledgedVersion,header:e,statusCode:(n=o("MultiwayCommonTypes").RtcResponseStatusCode.cast(t.responseStatusCode))!=null?n:o("MultiwayCommonTypes").RtcResponseStatusCode.CONDITIONAL_REQUEST_FAILED,subCode:o("MultiwayCommonTypes").RtcResponseSubCode.cast(t.responseSubCode)})}function m(e){var t=e.acknowledgedVersion,n=e.answer,r=e.header,a=e.mediaStates,i=e.statusCode,l=e.subCode,s={currentVersion:String(t)};return a&&(s.mediaStatus=p(a)),n&&(s.answer={sdpString:n.sdp}),o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:r,rtcMessageBody:{serverMediaUpdateResponse:s},statusCode:i,subCode:l,type:o("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE})}function p(e){var t={tracks:{}},n=!o("ZenonScreenShare").screenShareWithReplaceTrack();return e.tracks.forEach(function(e){var r={customAudioContentType:void 0,customVideoContentType:void 0,enabled:e.enabled,name:e.name,owner:e.participantID},a=n?o("ZenonMWThriftTranslatorUtils").toMWThriftTrackLabel(e.type):null;a!=null&&(r.label=a),t.tracks[e.trackID]=r}),t}l.fromThriftServerMediaUpdateRequest=e,l.toThriftServerMediaUpdateResponse=u,l.toThriftServerMediaUpdateRenegotiationResponse=c,l.toThriftServerMediaUpdateNoSdpResponse=d}),98);
__d("ZenonMWThriftStateSyncTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.messageBody.updateResponse,n=e.messageHeader.transactionId;if(!t)return[];var r=t.topic,o=t.version,a={ackMessageId:n,eventName:"stateSyncUpdateResponse",topic:r,version:o};return[a]}function s(e){var t=e.messageBody.notifyRequest;if(!t)return[];var n=[];if(t.syncPayload!=null)o("ZenonMWThriftTranslatorUtils").addThriftStateStoreSignalingEvents(t.syncPayload.stateStore,n,!0,!1);else{var r=t.data,a=t.topic,i=t.version,l={data:r,eventName:"stateSyncNotifyRequest",responseRequired:!0,topic:a,version:i};n.push(l)}return n}function u(e){var t=e.messageBody.unsubscribeResponse,n=e.messageHeader.transactionId;if(!t)return[];var r=t.topic,o=t.version,a={ackMessageId:n,eventName:"stateSyncUnsubscribeResponse",topic:r,version:o};return[a]}function c(e,t){var n=t.data,r=t.topic,a=t.version,i={data:n,syncPayload:{stateStore:{},stateStoreV2:{}},topic:r,topicId:null,version:a};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{updateRequest:i},type:o("MultiwayCommonTypes").MessageType.UPDATE})}function d(e,t){var n=t.topic,r=t.version,a={topic:n,version:r};return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{notifyResponse:a},type:o("MultiwayCommonTypes").MessageType.NOTIFY})}function m(e,t){var n=t.topic,r=t.version,a={topic:n,topicId:null,version:r};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{unsubscribeRequest:a},type:o("MultiwayCommonTypes").MessageType.UNSUBSCRIBE})}l.fromThriftUpdateResponse=e,l.fromThriftNotifyRequest=s,l.fromThriftUnsubscribeResponse=u,l.toThriftUpdateRequest=c,l.toThriftNotifyResponse=d,l.toThriftUnsubscribeRequest=m}),98);
__d("ZenonMWThriftSubscriptionTranslator",["MultiwayCommonTypes","MultiwaySharedTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=t.subscriptions,r={subscriptions:n.map(function(e){var t;return{cname:"",options:{videoQuality:o("MultiwaySharedTypes").VideoQuality.cast((t=e.options)==null?void 0:t.videoQuality)},trackId:e.trackId,type:o("MultiwaySharedTypes").SubscriptionType.cast(e.type)}})};return o("ZenonMWThriftTranslatorUtils").createMWThriftRequest({header:e,rtcMessageBody:{subscriptionRequest:r},type:o("MultiwayCommonTypes").MessageType.SUBSCRIPTION})}l.toThriftSubscriptionRequest=e}),98);
__d("ZenonMWThriftWakeupTranslator",["MultiwayCommonTypes","ZenonMWThriftTranslatorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=[],n=e.messageHeader,r={ackMessageId:n.transactionId,eventName:"wakeupRequest"};return t.push(r),t}function s(e){return o("ZenonMWThriftTranslatorUtils").createMWThriftResponse({header:e,rtcMessageBody:{},type:o("MultiwayCommonTypes").MessageType.WAKEUP})}l.fromThriftWakeupRequest=e,l.toThriftWakeupResponse=s}),98);
__d("ZenonSignalingMessage",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.getHeader=function(){return this.$1},t.getEvents=function(){return this.$2},t.setSignalingID=function(t){this.$1.signalingID=t},t.setRetryCount=function(t){this.$1.retryCount=t},e})();i.default=e}),66);
__d("ZenonMWThriftMessageTranslator",["DGWWebConfig","FBLogger","MultiwayCommonTypes","ZenonActorHooks","ZenonMWThriftAddParticipantsTranslator","ZenonMWThriftApprovalTranslator","ZenonMWThriftClientEventTranslator","ZenonMWThriftClientMediaUpdateTranslator","ZenonMWThriftConferenceStateTranslator","ZenonMWThriftDataMessageTranslator","ZenonMWThriftDismissTranslator","ZenonMWThriftHangupTranslator","ZenonMWThriftIceCandidateTranslator","ZenonMWThriftJoinTranslator","ZenonMWThriftPingTranslator","ZenonMWThriftRemoveParticipantsTranslator","ZenonMWThriftRingTranslator","ZenonMWThriftServerMediaUpdateTranslator","ZenonMWThriftStateSyncTranslator","ZenonMWThriftSubscriptionTranslator","ZenonMWThriftTranslatorUtils","ZenonMWThriftWakeupTranslator","ZenonSignalingMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.getHeader(),n=e.getEvents();if(n.length===0)throw r("FBLogger")("rtc_www").mustfixThrow("Unexpected Translation: called toMWThriftMessage with empty signaling events");var a=n[0];switch(a.eventName){case"addParticipantsRequest":return o("ZenonMWThriftAddParticipantsTranslator").toThriftAddParticipantsRequest(t,a);case"clientEventRequest":return o("ZenonMWThriftClientEventTranslator").toThriftClientEventRequest(t,a);case"clientInfoRequest":if(n.length>=2&&n[1].eventName==="localSdpRequest"&&(n[1].sdp.type==="offer"||n[1].sdp.type==="answer"))return o("ZenonMWThriftJoinTranslator").toThriftJoinRequest(t,a,n[1]);break;case"dismissResponse":return o("ZenonMWThriftDismissTranslator").toThriftDismissResponse(t);case"genericDataMessageRequest":return o("ZenonMWThriftDataMessageTranslator").toThriftDataMessageRequest(t,a);case"genericDataMessageResponse":return o("ZenonMWThriftDataMessageTranslator").toThriftDataMessageResponse(t);case"terminateRequest":return o("ZenonMWThriftHangupTranslator").toThriftHangupRequest(t,a);case"initiateRenegotiationResponse":return n.length>=3&&n[1].eventName==="remoteSdpResponse"&&n[2].eventName==="localSdpRequest"&&n[2].sdp.type==="answer"?o("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateResponse(t,n[1],n[2].mediaStates,n[2].sdp):o("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateRenegotiationResponse(t,a);case"inviteRequest":if(n.length>=3&&n[1].eventName==="clientInfoRequest"&&n[2].eventName==="localSdpRequest"&&n[2].sdp.type==="offer")return o("ZenonMWThriftJoinTranslator").toThriftJoinRequest(t,n[1],n[2],a);break;case"inviteResponse":return o("ZenonMWThriftRingTranslator").toThriftRingResponse(t,a);case"iceCandidateRequest":return o("ZenonMWThriftIceCandidateTranslator").toThriftIceCandidateRequest(t,a);case"iceCandidateResponse":return o("ZenonMWThriftIceCandidateTranslator").toThriftIceCandidateResponse(t);case"participantUpdateResponse":return o("ZenonMWThriftConferenceStateTranslator").toThriftConferenceStateResponse(t,a);case"localSdpRequest":return o("ZenonMWThriftClientMediaUpdateTranslator").toThriftClientMediaUpdateRequest(t,a.mediaStates,a.sdp);case"mediaUpdateRequest":return o("ZenonMWThriftClientMediaUpdateTranslator").toThriftClientMediaUpdateRequest(t,a.mediaStates);case"mediaUpdateResponse":return o("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateNoSdpResponse(t,a);case"pingRequest":return o("ZenonMWThriftPingTranslator").toThriftPingRequest(t);case"remoteSdpResponse":return a.type==="offer"&&n.length>=2&&n[1].eventName==="localSdpRequest"&&n[1].sdp.type==="answer"?n[1].mediaMode!=="p2p"?o("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateResponse(t,a,n[1].mediaStates):o("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateResponse(t,a,n[1].mediaStates,n[1].sdp):o("ZenonMWThriftServerMediaUpdateTranslator").toThriftServerMediaUpdateResponse(t,a);case"removeParticipantsRequest":return o("ZenonMWThriftRemoveParticipantsTranslator").toThriftRemoveParticipantsRequest(t,a);case"subscriptionRequest":return o("ZenonMWThriftSubscriptionTranslator").toThriftSubscriptionRequest(t,a);case"stateSyncNotifyResponse":return o("ZenonMWThriftStateSyncTranslator").toThriftNotifyResponse(t,a);case"stateSyncUpdateRequest":return o("ZenonMWThriftStateSyncTranslator").toThriftUpdateRequest(t,a);case"stateSyncUnsubscribeRequest":return o("ZenonMWThriftStateSyncTranslator").toThriftUnsubscribeRequest(t,a);case"usersApprovalRequest":return o("ZenonMWThriftApprovalTranslator").toThriftApprovalRequest(t,a);case"wakeupResponse":return o("ZenonMWThriftWakeupTranslator").toThriftWakeupResponse(t)}return null}function s(e){var t=e.messageHeader;if(!u(t))return r("FBLogger")("rtc_www").info("Ignoring Thrift MW message; receiver does not match self ID","rtc_www"),null;var n=t.type,a=t.responseStatusCode==null,i=o("ZenonMWThriftTranslatorUtils").mwThriftMessageHeaderToSignalingMessageHeader(t),l=[];if(n==null)return new(r("ZenonSignalingMessage"))(i,l);switch(n){case o("MultiwayCommonTypes").MessageType.RING:a&&(l=o("ZenonMWThriftRingTranslator").fromThriftRingRequest(e,i));break;case o("MultiwayCommonTypes").MessageType.JOIN:a||(l=o("ZenonMWThriftJoinTranslator").fromThriftJoinResponse(e));break;case o("MultiwayCommonTypes").MessageType.CONFERENCE_STATE:a&&(l=o("ZenonMWThriftConferenceStateTranslator").fromThriftConferenceStateRequest(e));break;case o("MultiwayCommonTypes").MessageType.CLIENT_MEDIA_UPDATE:a||(l=o("ZenonMWThriftClientMediaUpdateTranslator").fromThriftClientMediaUpdateResponse(e));break;case o("MultiwayCommonTypes").MessageType.HANGUP:a||(l=o("ZenonMWThriftHangupTranslator").fromThriftHangupResponse(e));break;case o("MultiwayCommonTypes").MessageType.PING:a||(l=o("ZenonMWThriftPingTranslator").fromThriftPingResponse(e));break;case o("MultiwayCommonTypes").MessageType.ICE_CANDIDATE:a?l=o("ZenonMWThriftIceCandidateTranslator").fromThriftIceCandidateRequest(e):l=o("ZenonMWThriftIceCandidateTranslator").fromThriftIceCandidateResponse(e);break;case o("MultiwayCommonTypes").MessageType.DATA_MESSAGE:a&&(l=o("ZenonMWThriftDataMessageTranslator").fromThriftDataMessageRequest(e));break;case o("MultiwayCommonTypes").MessageType.DISMISS:a&&(l=o("ZenonMWThriftDismissTranslator").fromThriftDismissRequest(e));break;case o("MultiwayCommonTypes").MessageType.SERVER_MEDIA_UPDATE:a&&(l=o("ZenonMWThriftServerMediaUpdateTranslator").fromThriftServerMediaUpdateRequest(e));break;case o("MultiwayCommonTypes").MessageType.NOTIFY:a&&(l=o("ZenonMWThriftStateSyncTranslator").fromThriftNotifyRequest(e));break;case o("MultiwayCommonTypes").MessageType.UPDATE:a||(l=o("ZenonMWThriftStateSyncTranslator").fromThriftUpdateResponse(e));break;case o("MultiwayCommonTypes").MessageType.UNSUBSCRIBE:a||(l=o("ZenonMWThriftStateSyncTranslator").fromThriftUnsubscribeResponse(e));break;case o("MultiwayCommonTypes").MessageType.WAKEUP:a&&(l=o("ZenonMWThriftWakeupTranslator").fromThriftWakeupRequest(e));break;default:break}return new(r("ZenonSignalingMessage"))(i,l)}function u(e){var t;return o("ZenonActorHooks").ZenonActor.isInstagramUser()||o("ZenonActorHooks").ZenonActor.isOculusUser()||o("ZenonActorHooks").ZenonActor.isKadabraUser()||o("ZenonActorHooks").ZenonActor.isLiveChatOnlyPerson()||o("ZenonActorHooks").ZenonActor.isManagedMetaAccount()||o("ZenonActorHooks").ZenonActor.isMDCUser()||e.receiverUserId==null||e.receiverUserId===o("ZenonActorHooks").ZenonActor.getID()||((t=e.receiver)==null?void 0:t.baseId)===o("ZenonActorHooks").ZenonActor.getAccountID()||e.receiverUserId===r("DGWWebConfig").fbId}l.toMWThriftMessage=e,l.toSignalingMessage=s}),98);
__d("ZenonProductConnectFunnel",["FBLogger","performanceNow","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return Math.trunc((e||(e=r("performanceNow")))())},u=(function(){function e(){this.$6=null,this.$7=null,this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$8=new Map,this.$9=new Map}var t=e.prototype;return t.$10=function(t){var e=this.$8.get(t);if(e!=null)return e;e={acceptedTs:this.$3,connectedTs:null,connectingTs:null,contactingTs:null,endCallTs:null,permissionsReceivedTs:this.$5,permissionsRequestTs:this.$4,ringingTs:this.$2,triggeredTs:this.$1};var n={cameraPermission:this.$6,microphonePermission:this.$7};return this.clearPreJoinTimings(),this.$8.set(t,e),this.$9.set(t,n),e},t.$11=function(t,n){var e,o=t==null||(e=t.getLogIdentifiers())==null?void 0:e.clientSessionID;if(o==null){r("FBLogger")("rtc_www").warn("ProductConnectFunnel: could not record UI event due to missing signaling ID");return}var a=this.$10(o);a[n]==null&&(a[n]=s())},t.getTimings=function(t){return this.$8.get(t)},t.getPreJoinTimings=function(){return{acceptedTs:this.$3,ringingTs:this.$2,triggeredTs:this.$1}},t.clearPreJoinTimings=function(){this.$3=null,this.$2=null,this.$1=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null},t.setPreJoinTimings=function(t){this.$3=t.acceptedTs,this.$2=t.ringingTs,this.$1=t.triggeredTs},t.getAnnotations=function(t){return this.$9.get(t)},t.remove=function(t){this.clearPreJoinTimings(),this.$8.delete(t),this.$9.delete(t)},t.setUITriggered=function(){var e;(e=this.$1)!=null||(this.$1=s())},t.setUIPermissionsRequest=function(){var e=this;if(!(this.$4!=null||!navigator.permissions)){this.$4=s();var t=navigator.permissions;r("promiseDone")(t.query({name:"microphone"}).then(function(t){e.$7=t.state})),r("promiseDone")(t.query({name:"camera"}).then(function(t){e.$6=t.state}))}},t.setUIPermissionsReceived=function(){var e;this.$4!=null&&((e=this.$5)!=null||(this.$5=s()))},t.setUIAccepted=function(){var e;(e=this.$3)!=null||(this.$3=s())},t.setUIConnected=function(t){this.$11(t,"connectedTs")},t.setUIConnecting=function(t){this.$11(t,"connectingTs")},t.setUIRinging=function(){var e;(e=this.$2)!=null||(this.$2=s())},t.setUIContacting=function(t){this.$11(t,"contactingTs")},t.setUIEnded=function(t){this.$11(t,"endCallTs")},e})(),c=new u;l.default=c}),98);
__d("ZenonSDESKeyDetector",[],(function(t,n,r,o,a,i){"use strict";var e=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function l(t){return e.test(JSON.stringify(t))}i.default=l}),66);
__d("ZenonUserActionLogger",["FBLogger","RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonDebugLogger","ZenonLoggingUtils","ZenonSDESKeyDetector"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map,s=window.location.hostname.search("facebook")!==-1?"facebook":window.location.hostname.search("messenger")!==-1?"messenger_dot_com":null,u={logCheckpoint:function(t){u.logEvent(babelHelpers.extends({},t,{event:"checkpoint"}))},logClick:function(t){u.logEvent(babelHelpers.extends({},t,{event:"tap"}))},logError:function(t){u.logEvent(babelHelpers.extends({},t,{event:"error"}))},logEvent:function(t){var e,n;if(r("ZenonSDESKeyDetector")(t))throw r("FBLogger")("rtc_www").mustfixThrow("ZenonUserActionLogger event contains SDES crypto key! This log entry must be removed!");if(o("ZenonLoggingUtils").shouldAllowLogging()){var a=babelHelpers.extends({},t,{page:(e=t.page)!=null?e:s}),i=babelHelpers.extends({},a,{client_time:Date.now().toString()});r("RtcWebUserActionsDebugFalcoEvent").log(function(){return i}),r("RtcWebUserActionsFalcoEvent").log(function(){return i}),r("ZenonDebugLogger").getInstance().getLogHistory().log((n=t.event)!=null?n:"null",JSON.stringify(a))}},logImpression:function(t){u.logEvent(babelHelpers.extends({},t,{event:"impression"}))},logPreCallClick:function(t){u.logEvent(babelHelpers.extends({},t,{event:"tap"}))},logPreCallImpression:function(t){u.logEvent(babelHelpers.extends({},t,{event:"impression"}))},startTimer:function(n){var t=Date.now();e=e.set(n,t),u.logCheckpoint({checkpoint:n+"_timerStart"})},stopTimer:function(n){var t=n.checkpointName===void 0?n.timerName:n.checkpointName,r=n.event||{},o=function(n){var t=e.get(n);return t!=null?(e.delete(n),parseInt(Date.now()-t,10)):null},a=o(n.timerName);return u.logCheckpoint(babelHelpers.extends({},r,{checkpoint:t+"_timerEnd",event_time_elapsed:a==null?void 0:a.toString()})),parseInt(a,10)}};i.exports=u}),34);/*FB_PKG_DELIM*/
__d("IGDComposerRichContentTray_AvatarAvailableQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25158406990458787"}),null);
__d("IGDCreateSlideMessageUpdateQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25899962999669525"}),null);
__d("IGDCreateSlideMessageUpdateQuery.graphql",["IGDCreateSlideMessageUpdateQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"enable_off_msys_messages_list"},t={defaultValue:null,kind:"LocalArgument",name:"message_id"},r=[{kind:"Variable",name:"id",variableName:"message_id"}],o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"sender_fbid",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"text_body",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"is_reported",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},m={kind:"TypeDiscriminator",abstractKey:"__isSlideMessageContent"},p={kind:"InlineFragment",selections:[s],type:"SlideMessageText",abstractKey:null},_={alias:null,args:null,kind:"ScalarField",name:"is_sticker",storageKey:null},f=[d],g=[{alias:null,args:null,kind:"ScalarField",name:"eyebrow_text",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"attachment_fbid",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"attachment_cdn_url",storageKey:null},C={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAudioAttachment",kind:"LinkedField",name:"audio_attachments",plural:!0,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"waveform_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration_ms",storageKey:null},y],storageKey:null}],type:"SlideMessageAudiosContent",abstractKey:null},b={alias:null,args:null,kind:"ScalarField",name:"preview_cdn_url",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"preview_height",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"preview_width",storageKey:null},R={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAnimatedMediaAttachment",kind:"LinkedField",name:"animated_media",plural:!0,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"attachment_webp_url",storageKey:null},b,v,S,_,{alias:null,args:null,kind:"ScalarField",name:"attachment_mp4_url",storageKey:null}],storageKey:null}],type:"SlideMessageAnimatedMediaContent",abstractKey:null},L={alias:null,args:null,kind:"ScalarField",name:"attachment_type",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"preview_cdn_fallback_url",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"attachment_cdn_fallback_url",storageKey:null},I=[h,L,{kind:"InlineFragment",selections:[b,E,v,S,y,k],type:"SlideMessagingMediaAttachment",abstractKey:"__isSlideMessagingMediaAttachment"}],T={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:I,storageKey:null}],type:"SlideMessageImageContent",abstractKey:null},D={alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},x=[D,v,S],$={kind:"InlineFragment",selections:x,type:"SlideMessageCutoutStickerXMAContent",abstractKey:null},P={kind:"InlineFragment",selections:x,type:"SlideMessageAIStickerXMAContent",abstractKey:null},N={kind:"InlineFragment",selections:x,type:"SlideMessageStoreStickerContent",abstractKey:null},M={kind:"InlineFragment",selections:x,type:"SlideMessageAvatarStickerXMAContent",abstractKey:null},w={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideVideoAttachment",kind:"LinkedField",name:"videos",plural:!0,selections:I,storageKey:null}],type:"SlideMessageVideosContent",abstractKey:null},A={alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},O={alias:null,args:null,concreteType:"XFBSlideMessageXMAPreviewImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:[A,F,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_image_decoration_type",storageKey:null}],storageKey:null},B={alias:null,args:null,concreteType:"XFBSlideMessageXMASingleHeaderIcon",kind:"LinkedField",name:"header_icon",plural:!1,selections:[F],storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"header_subtitle_text",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"header_title_text",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"verified_type",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null},G=[F,A],z={alias:null,args:null,concreteType:"XFBSlideMessageFavicon",kind:"LinkedField",name:"favicon",plural:!1,selections:G,storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"title_text",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"caption_body_text",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"subtitle_text",storageKey:null},X={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"xma_text_body",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"xma",plural:!1,selections:[d,{kind:"InlineFragment",selections:[O,B,W,q,U,V,H,z,{alias:null,args:null,kind:"ScalarField",name:"is_quoted",storageKey:null}],type:"SlideMessagePortraitXMA",abstractKey:null},{kind:"InlineFragment",selections:[V,H,B,W,q,U,j,K,Q,{alias:null,args:null,kind:"ScalarField",name:"subtitle_decoration_type",storageKey:null},O,{alias:null,args:null,kind:"ScalarField",name:"preview_layout_type",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideMessageXMAPreviewImage",kind:"LinkedField",name:"preview_extra_urls_info",plural:!0,selections:G,storageKey:null},z],type:"SlideMessageStandardXMA",abstractKey:null},{kind:"InlineFragment",selections:[K],type:"SlideMessageExpiredPlaceholderXMA",abstractKey:null},{kind:"InlineFragment",selections:[j,K],type:"SlideMessagePlaceholderXMA",abstractKey:null},{kind:"InlineFragment",selections:[O,H,Q,j,z],type:"SlideMessageLayeredXMA",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"title_icon_type",storageKey:null},j,Q,K,{alias:null,args:null,kind:"ScalarField",name:"overlay_icon_glyph",storageKey:null},z],type:"SlideMessageNoteXMA",abstractKey:null}],storageKey:null}],type:"SlideMessageXMAContent",abstractKey:null},Y={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"messasge_text_body",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideMessageGenAISearchPluginSource",kind:"LinkedField",name:"search_sources",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"source_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_url",storageKey:null}],storageKey:null}],type:"SlideMessageGenAISearchPluginResponseXMAContent",abstractKey:null},J={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"unified_response",storageKey:null}],type:"SlideMessageGenAIRichResponseXMAContent",abstractKey:null},Z={kind:"TypeDiscriminator",abstractKey:"__isSlideMessagingMediaAttachment"},ee=[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"view_mode",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachment",plural:!1,selections:[d,Z,b,E,v,S,y,k,h],storageKey:null}],type:"SlideMessageRavenContent",abstractKey:"__isSlideMessageRavenContent"}],te={kind:"InlineFragment",selections:ee,type:"SlideMessageRavenImageContent",abstractKey:null},ne={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ordered_photo_video_attachments",plural:!0,selections:[d,h,L,Z,b,E,v,S,y,k],storageKey:null}],type:"SlideMessageMultiMediaContent",abstractKey:null},re={kind:"InlineFragment",selections:ee,type:"SlideMessageRavenVideoContent",abstractKey:null},oe={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"media_content_fbid",storageKey:null},{alias:null,args:null,concreteType:"XDTTrackData",kind:"LinkedField",name:"audio_track",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"web_30s_preview_download_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_artist",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_asset_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_link",storageKey:null},D],type:"SlideMessageMusicStickerXMAContent",abstractKey:null},ae={alias:null,args:null,concreteType:"SlideMentionedUserWithoutId",kind:"LinkedField",name:"mentioned_users_without_id",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_range_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"igd_is_forwarded",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"client__send_status",storageKey:null};return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"IGDCreateSlideMessageUpdateQuery",selections:[{alias:null,args:r,concreteType:"SlideMessage",kind:"LinkedField",name:"fetch__SlideMessage",plural:!1,selections:[{args:[{kind:"Variable",name:"enable_off_msys_messages_list",variableName:"enable_off_msys_messages_list"}],kind:"FragmentSpread",name:"IGDCreateSlideMessage_SlideMessage"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"IGDCreateSlideMessageUpdateQuery",selections:[{alias:null,args:r,concreteType:"SlideMessage",kind:"LinkedField",name:"fetch__SlideMessage",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},a,i,{alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"igd_snippet",storageKey:null},l,s,{condition:"enable_off_msys_messages_list",kind:"Condition",passingValue:!0,selections:[u,c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[d,m,p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAnimatedMediaAttachment",kind:"LinkedField",name:"animated_media",plural:!0,selections:[_],storageKey:null}],type:"SlideMessageAnimatedMediaContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:f,storageKey:null}],type:"SlideMessageImageContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideVideoAttachment",kind:"LinkedField",name:"videos",plural:!0,selections:f,storageKey:null}],type:"SlideMessageVideosContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"xma",plural:!1,selections:[d,{kind:"InlineFragment",selections:g,type:"SlideMessagePortraitXMA",abstractKey:null},{kind:"InlineFragment",selections:g,type:"SlideMessageExpiredPlaceholderXMA",abstractKey:null},{kind:"InlineFragment",selections:g,type:"SlideMessageStandardXMA",abstractKey:null}],storageKey:null}],type:"SlideMessageXMAContent",abstractKey:null},p,C,R,T,$,P,N,M,w,X,Y,J,te,ne,re,oe,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_reaction_action_log",storageKey:null},{alias:null,args:null,concreteType:"XFBTextAppTextFragmentInWWW",kind:"LinkedField",name:"text_fragments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"plaintext",storageKey:null},{alias:null,args:null,concreteType:"XFBTextAppLinkTextFragmentInWWW",kind:"LinkedField",name:"link_fragment",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"SlideMessageAdminText",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBSlideReaction",kind:"LinkedField",name:"reactions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bot_response_id",storageKey:null},ae,ie,{alias:null,args:null,kind:"ScalarField",name:"replied_to_message_id",storageKey:null},{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[c,{alias:null,args:null,concreteType:"SlideUser",kind:"LinkedField",name:"sender",plural:!1,selections:[le,o],storageKey:null},a,o,u,i,s,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[d,m,p,C,R,T,$,P,N,M,w,X,Y,J,te,ne,re,oe],storageKey:null},ae,ie],storageKey:null},{alias:null,args:null,concreteType:"SlideUser",kind:"LinkedField",name:"sender",plural:!1,selections:[le,o,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user_dict",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"ai_agent_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBSlideMessageEdit",kind:"LinkedField",name:"slide_edit_history",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"igd_wearables_attribution_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"igd_wearables_attribution_type",storageKey:null},{kind:"ClientExtension",selections:[se]}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client__timestamp_ms",storageKey:null},se]}],storageKey:null}]},params:{id:n("IGDCreateSlideMessageUpdateQuery_instagramRelayOperation"),metadata:{},name:"IGDCreateSlideMessageUpdateQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("IGDCreateSlideMessage_SlideMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"enable_off_msys_messages_list"}],kind:"Fragment",metadata:null,name:"IGDCreateSlideMessage_SlideMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"IGDThreadLatestMessageSnippet_SlideMessage"},{args:null,kind:"FragmentSpread",name:"XFBIGDirectViewerThreadUnreadMessagesCountResolver_SlideMessage"},{condition:"enable_off_msys_messages_list",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDMessageListRowOffMsys_SlideMessage"}],type:"SlideMessage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"message_list_slide_message"}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client__timestamp_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client__send_status",storageKey:null}]}],type:"SlideMessage",abstractKey:null};a.exports=e}),null);
__d("react-relay",["react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","react-relay/relay-hooks/EntryPointContainer.react","react-relay/relay-hooks/ProfilerContext","react-relay/relay-hooks/RelayEnvironmentProvider","react-relay/relay-hooks/loadEntryPoint","react-relay/relay-hooks/loadQuery","react-relay/relay-hooks/useClientQuery","react-relay/relay-hooks/useEntryPointLoader","react-relay/relay-hooks/useFragment","react-relay/relay-hooks/useLazyLoadQuery","react-relay/relay-hooks/useMutation","react-relay/relay-hooks/usePaginationFragment","react-relay/relay-hooks/usePrefetchableForwardPaginationFragment","react-relay/relay-hooks/usePreloadedQuery","react-relay/relay-hooks/useQueryLoader","react-relay/relay-hooks/useRefetchableFragment","react-relay/relay-hooks/useRelayEnvironment","react-relay/relay-hooks/useSubscribeToInvalidationState","react-relay/relay-hooks/useSubscription","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e,l=n("react-relay/relay-hooks/loadQuery").loadQuery;a.exports={ConnectionHandler:(e=n("relay-runtime")).ConnectionHandler,QueryRenderer:n("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:n("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:e.MutationTypes,RangeOperations:e.RangeOperations,ReactRelayContext:n("react-relay/ReactRelayContext"),applyOptimisticMutation:e.applyOptimisticMutation,commitLocalUpdate:e.commitLocalUpdate,commitMutation:e.commitMutation,createFragmentContainer:n("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:n("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:n("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:e.fetchQuery_DEPRECATED,graphql:e.graphql,readInlineData:e.readInlineData,requestSubscription:e.requestSubscription,EntryPointContainer:n("react-relay/relay-hooks/EntryPointContainer.react"),RelayEnvironmentProvider:n("react-relay/relay-hooks/RelayEnvironmentProvider"),ProfilerContext:n("react-relay/relay-hooks/ProfilerContext"),fetchQuery:e.fetchQuery,loadQuery:l,loadEntryPoint:n("react-relay/relay-hooks/loadEntryPoint"),useClientQuery:n("react-relay/relay-hooks/useClientQuery"),useFragment:n("react-relay/relay-hooks/useFragment"),useLazyLoadQuery:n("react-relay/relay-hooks/useLazyLoadQuery"),useEntryPointLoader:n("react-relay/relay-hooks/useEntryPointLoader"),useQueryLoader:n("react-relay/relay-hooks/useQueryLoader"),useMutation:n("react-relay/relay-hooks/useMutation"),usePaginationFragment:n("react-relay/relay-hooks/usePaginationFragment"),usePreloadedQuery:n("react-relay/relay-hooks/usePreloadedQuery"),useRefetchableFragment:n("react-relay/relay-hooks/useRefetchableFragment"),usePrefetchableForwardPaginationFragment:n("react-relay/relay-hooks/usePrefetchableForwardPaginationFragment"),useRelayEnvironment:n("react-relay/relay-hooks/useRelayEnvironment"),useSubscribeToInvalidationState:n("react-relay/relay-hooks/useSubscribeToInvalidationState"),useSubscription:n("react-relay/relay-hooks/useSubscription")}}),null);
__d("IGDCreateSlideMessage",["IGDCreateSlideMessageUpdateQuery.graphql","IGDCreateSlideMessage_SlideMessage.graphql","qex","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;e!==void 0||(e=n("IGDCreateSlideMessage_SlideMessage.graphql"));var u=s!==void 0?s:s=n("IGDCreateSlideMessageUpdateQuery.graphql");function c(e,t,n){var a=o("relay-runtime").createOperationDescriptor(u,{enable_off_msys_messages_list:r("qex")._("2197"),id:t});e.commitPayload(a,{fetch__SlideMessage:babelHelpers.extends({},n)})}l.createSlideMessageRecord=c}),98);
__d("IGDGetThread",[],(function(t,n,r,o,a,i){"use strict";function e(e){return"SlideThread:"+e}function l(e){return"XFBIGDirectViewerThread:"+e}function s(t,n){return t.get(e(n))}function u(e,t){return e.get(l(t))}i.GetSlideThreadDataID=e,i.GetXFBIGDirectViewerThreadDataID=l,i.getSlideThreadNullable=s,i.getIGDirectViewerThreadNullable=u}),66);
__d("IGDInboxSlideMessagesConnection",["CometRelay","FBLogger","IGDGetThread"],(function(t,n,r,o,a,i,l){"use strict";var e="IGDInbox__slide_messages";function s(t){return o("CometRelay").ConnectionHandler.getConnectionID(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(t),e)}function u(t){var n=o("CometRelay").ConnectionHandler.getConnection(t,e);return n==null&&r("FBLogger")("igd_web").warn("IGDInboxSlideMessagesConnection: Messages connection record is null"),n}l.IGD_INBOX_SLIDE_MESSAGES_CONNECTION_KEY=e,l.getConnectionID=s,l.getConnectionNullable=u}),98);
__d("IGDInsertSlideMessageToMessagesConnection",["CometRelay","FBLogger","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=t.get(n);if(i==null)return r("FBLogger")("igd_web").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["IGDInsertSlideMessageToMessagesConnection: "," record doesn't exist"])),n),o("WAResultOrError").makeResult("skip");o("CometRelay").ConnectionHandler.deleteNode(i,a.getDataID());var l=o("CometRelay").ConnectionHandler.createEdge(t,i,a,"XFBIGDirectViewerThreadSlideMessagesEdge");return o("CometRelay").ConnectionHandler.insertEdgeBefore(i,l),o("WAResultOrError").makeResult("success")}l.default=s}),98);
__d("IGDMessagesListSlideMessagesConnection",["CometRelay","FBLogger","IGDGetThread"],(function(t,n,r,o,a,i,l){"use strict";var e="IGDMessagesList_slide_messages";function s(t){return o("CometRelay").ConnectionHandler.getConnectionID(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(t),e)}function u(t){var n=o("CometRelay").ConnectionHandler.getConnection(t,e);return n==null&&r("FBLogger")("igd_web").warn("IGDMessagesListSlideMessagesConnection: Messages connection record is null"),n}l.IGD_MESSAGES_LIST_SLIDE_MESSAGES_CONNECTION_KEY=e,l.getConnectionID=s,l.getConnectionNullable=u}),98);
__d("IGDSlideBumpThread",["IGDGetThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=e.get(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(t));r==null||r.setValue(n,"last_activity_timestamp_ms")}l.default=e}),98);
__d("IGDSlideUpdateReadReceipt",["CometRelay","IGDGetThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){var a,i=e.get(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(t)),l=(a=i==null?void 0:i.getLinkedRecords("slide_read_receipts"))!=null?a:[],s=l.find(function(e){return(e==null?void 0:e.getValue("participant_fbid"))===n});if(s==null){var u=e.create(o("CometRelay").generateUniqueClientID(),"XFBSlideReadReceipt");u.setValue(n,"participant_fbid"),u.setValue(r,"watermark_timestamp_ms"),i==null||i.setLinkedRecords([].concat(l,[u]),"slide_read_receipts");return}if(s.getValue("watermark_timestamp_ms")==null)s.setValue(r,"watermark_timestamp_ms");else{var c=s.getValue("watermark_timestamp_ms"),d=parseInt(c,10),m=parseInt(r,10);m>d&&s.setValue(r,"watermark_timestamp_ms")}}l.default=e}),98);
__d("IGDInsertSlideMessage",["IGDCreateSlideMessage","IGDGetSlideMessage","IGDInboxSlideMessagesConnection","IGDInsertSlideMessageToMessagesConnection","IGDMessagesListSlideMessagesConnection","IGDSlideBumpThread","IGDSlideUpdateReadReceipt","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){o("IGDCreateSlideMessage").createSlideMessageRecord(e,n.id,n);var i=o("WAResultOrError").makeResult("skip");return e.commitUpdate(function(e){var l=o("IGDGetSlideMessage").GetSlideMessageNullable(e,n.id);l!=null&&(i=r("IGDInsertSlideMessageToMessagesConnection")(e,t,l),r("IGDSlideUpdateReadReceipt")(e,n.thread_fbid,n.sender_fbid,n.timestamp_ms),a==null||a(e))}),i}function s(e,t,n){var o=u(e,t,function(e){r("IGDSlideBumpThread")(e,t.thread_fbid,t.timestamp_ms),n==null||n(e)});return o}function u(t,n,r){var a=o("IGDInboxSlideMessagesConnection").getConnectionID(n.thread_fbid);return e(t,a,n,r)}function c(t,n,r){var a=o("IGDMessagesListSlideMessagesConnection").getConnectionID(n.thread_fbid);return e(t,a,n,r)}l.IGDInsertSlideMessageToInbox=s,l.IGDInsertSlideMessageToInboxWithoutBumpThread=u,l.IGDInsertSlideMessageToMessagesList=c}),98);
__d("IGDReplyContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.createContext,m=u.useCallback,p=u.useContext,_=u.useMemo,f=u.useState,g=d({clearReply:r("emptyFunction"),setReply:r("emptyFunction")}),h=d();function y(e){var t=o("react-compiler-runtime").c(10),n=e.children,r=f(void 0),a=r[0],i=r[1],l;t[0]!==a?(l=function(){a!=null&&i()},t[0]=a,t[1]=l):l=t[1];var s=l,u;t[2]!==s?(u={clearReply:s,setReply:i},t[2]=s,t[3]=u):u=t[3];var d=u,m;t[4]!==n||t[5]!==d?(m=c.jsx(g.Provider,{value:d,children:n}),t[4]=n,t[5]=d,t[6]=m):m=t[6];var p;return t[7]!==a||t[8]!==m?(p=c.jsx(h.Provider,{value:a,children:m}),t[7]=a,t[8]=m,t[9]=p):p=t[9],p}function C(){return p(h)}function b(){return p(g)}l.IGDReplySetterContext=g,l.IGDReplyContext=h,l.IGDReplyContextProvider=y,l.useIGDReplyContext=C,l.useIGDReplySetterContext=b}),98);
__d("MWPAttachmentUploadQplFlow",["QPLFlow","WAGetStorageQplAnnotations","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.attachmentType,n=e.entryPoint,a=e.fileSize,i=e.platform,l=o("QPLFlow").startQPLFlow(r("qpl")._(521485957,"3292"),{annotations:{int:{fileSize:a},string:{attachmentType:t,entryPoint:n,platform:i}}});return r("promiseDone")(o("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(e){l.addAnnotations(e)})),l}function s(t){return new Map(t.map(function(t){var n=e({attachmentType:t.attachmentType,entryPoint:t.entryPoint,fileSize:t.fileSize,platform:t.platform});return[t.uploadId,n]}))}l.startAttachmentUploadQplFlow=e,l.createAttachmentUploadIdToQplFlowMap=s}),98);
__d("MqttBypassClientDataModelsTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({Unknown:0,Timeout:1}),l=n("$InternalEnum")({ConnectRequest:"connectRequest",PublishRequest:"publishRequest",SubscribeRequest:"subscribeRequest",UnsubscribeRequest:"unsubscribeRequest"}),s=n("$InternalEnum")({PublishResponse:"publishResponse",ErrorResponse:"errorResponse"});a.exports={ErrorCode:e,RequestPayload$Types:l,ResponsePayload$Types:s}}),null);
__d("MqttBypassClientDataModelsSerializers",["MqttBypassClientDataModelsTypes","ThriftTypes"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{sessionId:"0",clientCapabilities:"0",userAgent:"",deviceId:"",familyDeviceId:"",subscription:d()}}function u(){return{payload:Uint8Array.of(),mqttTopic:""}}function c(){return{payload:Uint8Array.of(),mqttTopic:""}}function d(){return{topics:[]}}function m(){return{topics:[]}}function p(){return{code:o("MqttBypassClientDataModelsTypes").ErrorCode.cast(0),message:""}}function _(){return{}}function f(){return{}}function g(t,n){if(n.writeStructBegin("ConnectRequest"),n.writeFieldBegin({fname:"sessionId",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),t.sessionId!=null)n.writeI64(BigInt(t.sessionId));else{var o="0";n.writeI64(BigInt(o))}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"clientCapabilities",ftype:e.I64,fid:2}),t.clientCapabilities!=null)n.writeI64(BigInt(t.clientCapabilities));else{var a="0";n.writeI64(BigInt(a))}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"userAgent",ftype:e.STRING,fid:3}),t.userAgent!=null)n.writeString(t.userAgent);else{var i="";n.writeString(i)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"deviceId",ftype:e.STRING,fid:4}),t.deviceId!=null)n.writeString(t.deviceId);else{var l="";n.writeString(l)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"familyDeviceId",ftype:e.STRING,fid:5}),t.familyDeviceId!=null)n.writeString(t.familyDeviceId);else{var s="";n.writeString(s)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"subscription",ftype:e.STRUCT,fid:6}),t.subscription!=null)C(t.subscription,n);else{var u=d();C(u,n)}if(n.writeFieldEnd(),t.appSpecificInfo!=null&&(n.writeFieldBegin({fname:"appSpecificInfo",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:7}),n.writeString(t.appSpecificInfo),n.writeFieldEnd()),t.publishes!=null){n.writeFieldBegin({fname:"publishes",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:8}),n.writeListBegin({etype:e.STRUCT,size:t.publishes.length});for(var c of t.publishes)h(c,n);n.writeListEnd(),n.writeFieldEnd()}n.writeFieldStop(),n.writeStructEnd()}function h(t,n){if(n.writeStructBegin("PublishRequest"),n.writeFieldBegin({fname:"payload",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.payload!=null)n.writeBinary(t.payload);else{var o=Uint8Array.of();n.writeBinary(o)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"mqttTopic",ftype:e.STRING,fid:2}),t.mqttTopic!=null)n.writeString(t.mqttTopic);else{var a="";n.writeString(a)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function y(t,n){if(n.writeStructBegin("PublishResponse"),n.writeFieldBegin({fname:"payload",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.payload!=null)n.writeBinary(t.payload);else{var o=Uint8Array.of();n.writeBinary(o)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"mqttTopic",ftype:e.STRING,fid:2}),t.mqttTopic!=null)n.writeString(t.mqttTopic);else{var a="";n.writeString(a)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function C(t,n){if(n.writeStructBegin("SubscribeRequest"),n.writeFieldBegin({fname:"topics",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:1}),t.topics!=null){n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRING,size:t.topics.length});for(var o of t.topics)n.writeString(o);n.writeListEnd()}else{var a=[];n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRING,size:a.length});for(var i of a)n.writeString(i);n.writeListEnd()}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function b(t,n){if(n.writeStructBegin("UnsubscribeRequest"),n.writeFieldBegin({fname:"topics",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:1}),t.topics!=null){n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRING,size:t.topics.length});for(var o of t.topics)n.writeString(o);n.writeListEnd()}else{var a=[];n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRING,size:a.length});for(var i of a)n.writeString(i);n.writeListEnd()}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function v(t,n){if(n.writeStructBegin("ErrorResponse"),n.writeFieldBegin({fname:"code",ftype:(e||(e=r("ThriftTypes"))).I32,fid:1}),t.code!=null){var a;n.writeI32((a=t.code)!=null?a:0)}else{var i=o("MqttBypassClientDataModelsTypes").ErrorCode.cast(0);n.writeI32(i!=null?i:0)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"message",ftype:e.STRING,fid:2}),t.message!=null)n.writeString(t.message);else{var l="";n.writeString(l)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function S(t,n){if(n.writeStructBegin("RequestPayload"),t.connectRequest!=null){n.writeFieldBegin({fname:"connectRequest",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:1}),g(t.connectRequest,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.publishRequest!=null){n.writeFieldBegin({fname:"publishRequest",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:2}),h(t.publishRequest,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.subscribeRequest!=null){n.writeFieldBegin({fname:"subscribeRequest",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:3}),C(t.subscribeRequest,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.unsubscribeRequest!=null){n.writeFieldBegin({fname:"unsubscribeRequest",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:4}),b(t.unsubscribeRequest,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}n.writeFieldStop(),n.writeStructEnd()}function R(t,n){if(n.writeStructBegin("ResponsePayload"),t.publishResponse!=null){n.writeFieldBegin({fname:"publishResponse",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:1}),y(t.publishResponse,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.errorResponse!=null){n.writeFieldBegin({fname:"errorResponse",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:2}),v(t.errorResponse,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}n.writeFieldStop(),n.writeStructEnd()}function L(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.sessionId=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).I64?n.clientCapabilities=t.readI64().toString():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).STRING?n.userAgent=t.readString():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).STRING?n.deviceId=t.readString():t.skip(a);break;case 5:a===(e||(e=r("ThriftTypes"))).STRING?n.familyDeviceId=t.readString():t.skip(a);break;case 6:a===(e||(e=r("ThriftTypes"))).STRUCT?n.subscription=I(t):t.skip(a);break;case 7:a===(e||(e=r("ThriftTypes"))).STRING?n.appSpecificInfo=t.readString():t.skip(a);break;case 8:if(a===(e||(e=r("ThriftTypes"))).LIST){n.publishes=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=E(t);n.publishes.push(u)}}else t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.sessionId===void 0&&(n.sessionId="0"),n.clientCapabilities===void 0&&(n.clientCapabilities="0"),n.userAgent===void 0&&(n.userAgent=""),n.deviceId===void 0&&(n.deviceId=""),n.familyDeviceId===void 0&&(n.familyDeviceId=""),n.subscription===void 0&&(n.subscription=d()),n}function E(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.payload=t.readBinary():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.mqttTopic=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.payload===void 0&&(n.payload=Uint8Array.of()),n.mqttTopic===void 0&&(n.mqttTopic=""),n}function k(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.payload=t.readBinary():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.mqttTopic=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.payload===void 0&&(n.payload=Uint8Array.of()),n.mqttTopic===void 0&&(n.mqttTopic=""),n}function I(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:if(a===(e||(e=r("ThriftTypes"))).LIST){n.topics=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readString();n.topics.push(u)}}else t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.topics===void 0&&(n.topics=[]),n}function T(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:if(a===(e||(e=r("ThriftTypes"))).LIST){n.topics=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readString();n.topics.push(u)}}else t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.topics===void 0&&(n.topics=[]),n}function D(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I32?n.code=o("MqttBypassClientDataModelsTypes").ErrorCode.cast(t.readI32()):t.skip(i);break;case 2:i===(e||(e=r("ThriftTypes"))).STRING?n.message=t.readString():t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.code===void 0&&(n.code=o("MqttBypassClientDataModelsTypes").ErrorCode.cast(0)),n.message===void 0&&(n.message=""),n}function x(t){var n,o={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:if(i===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)o.connectRequest=L(t),n="connectRequest";else throw new Error("more than one field have been deserialized in union type: RequestPayload; current field: connectRequest, previous deserialized field: "+n);else t.skip(i);break;case 2:if(i===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)o.publishRequest=E(t),n="publishRequest";else throw new Error("more than one field have been deserialized in union type: RequestPayload; current field: publishRequest, previous deserialized field: "+n);else t.skip(i);break;case 3:if(i===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)o.subscribeRequest=I(t),n="subscribeRequest";else throw new Error("more than one field have been deserialized in union type: RequestPayload; current field: subscribeRequest, previous deserialized field: "+n);else t.skip(i);break;case 4:if(i===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)o.unsubscribeRequest=T(t),n="unsubscribeRequest";else throw new Error("more than one field have been deserialized in union type: RequestPayload; current field: unsubscribeRequest, previous deserialized field: "+n);else t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),o}function $(t){var n,o={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:if(i===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)o.publishResponse=k(t),n="publishResponse";else throw new Error("more than one field have been deserialized in union type: ResponsePayload; current field: publishResponse, previous deserialized field: "+n);else t.skip(i);break;case 2:if(i===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)o.errorResponse=D(t),n="errorResponse";else throw new Error("more than one field have been deserialized in union type: ResponsePayload; current field: errorResponse, previous deserialized field: "+n);else t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),o}l.ConnectRequest$DefaultConstructor=s,l.PublishRequest$DefaultConstructor=u,l.PublishResponse$DefaultConstructor=c,l.SubscribeRequest$DefaultConstructor=d,l.UnsubscribeRequest$DefaultConstructor=m,l.ErrorResponse$DefaultConstructor=p,l.RequestPayload$DefaultConstructor=_,l.ResponsePayload$DefaultConstructor=f,l.serializeConnectRequest=g,l.serializePublishRequest=h,l.serializePublishResponse=y,l.serializeSubscribeRequest=C,l.serializeUnsubscribeRequest=b,l.serializeErrorResponse=v,l.serializeRequestPayload=S,l.serializeResponsePayload=R,l.deserializeConnectRequest=L,l.deserializePublishRequest=E,l.deserializePublishResponse=k,l.deserializeSubscribeRequest=I,l.deserializeUnsubscribeRequest=T,l.deserializeErrorResponse=D,l.deserializeRequestPayload=x,l.deserializeResponsePayload=$}),98);
__d("MqttBypassDGWClient",["ChannelClientID","CompactSerializer","DGWClient","DGWStream","DGWStreamGroupCallbacks","DGWStreamGroupHandler","DGWStreamHandler","LSPlatformDGWHostnameOverride","MqttBypassClientDataModelsSerializers","ODS","Promise","asyncToGeneratorRuntime","err","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=1.2,c=1e4,d="mqttbypass_web_client",m=1,p={CONNECT_ATTEMPT:"connect.attempt",CONNECT_SUCCESS:"connect.success",CONNECT_FAILURE:"connect.failure",SEND_ATTEMPT:"send.attempt",SEND_SUCCESS:"send.success",SEND_FAILURE:"send.failure",SEND_TIMEOUT:"send.timeout",SEND_AND_FORGET_ATTEMPT:"send_and_forget.attempt",SEND_AND_FORGET_SUCCESS:"send_and_forget.success",SEND_AND_FORGET_FAILURE:"send_and_forget.failure",SEND_AND_FORGET_TIMEOUT:"send_and_forget.timeout",SEND_WITH_ACK_ATTEMPT:"send_with_ack.attempt",SEND_WITH_ACK_SUCCESS:"send_with_ack.success",SEND_WITH_ACK_FAILURE:"send_with_ack.failure",SEND_WITH_ACK_TIMEOUT:"send_with_ack.timeout",RETRY_SUCCESS:"retry.success",RETRY_SUCCESS_COUNT_1:"retry.success.count.1",RETRY_SUCCESS_COUNT_2_3:"retry.success.count.2_3",RETRY_SUCCESS_COUNT_4_5:"retry.success.count.4_5",RETRY_SUCCESS_COUNT_OVER_5:"retry.success.count.over_5",RETRY_ATTEMPT:"retry.attempt",RETRY_COUNT_1:"retry.count.1",RETRY_COUNT_2_3:"retry.count.2_3",RETRY_COUNT_4_5:"retry.count.4_5",RETRY_COUNT_OVER_5:"retry.count.over_5",CONNECT_LATENCY_UNDER_100MS:"connect.latency.under_100ms",CONNECT_LATENCY_100_500MS:"connect.latency.100_500ms",CONNECT_LATENCY_500_1000MS:"connect.latency.500_1000ms",CONNECT_LATENCY_1_5S:"connect.latency.1_5s",CONNECT_LATENCY_OVER_5S:"connect.latency.over_5s",SEND_LATENCY_UNDER_50MS:"send.latency.under_50ms",SEND_LATENCY_50_100MS:"send.latency.50_100ms",SEND_LATENCY_100_500MS:"send.latency.100_500ms",SEND_LATENCY_500_1000MS:"send.latency.500_1000ms",SEND_LATENCY_OVER_1S:"send.latency.over_1s",SEND_WITH_ACK_SUCCESS_LATENCY_UNDER_50MS:"send_with_ack.success.latency.under_50ms",SEND_WITH_ACK_SUCCESS_LATENCY_50_100MS:"send_with_ack.success.latency.50_100ms",SEND_WITH_ACK_SUCCESS_LATENCY_100_500MS:"send_with_ack.success.latency.100_500ms",SEND_WITH_ACK_SUCCESS_LATENCY_500_1000MS:"send_with_ack.success.latency.500_1000ms",SEND_WITH_ACK_SUCCESS_LATENCY_OVER_1S:"send_with_ack.success.latency.over_1s",SEND_WITH_ACK_FAILURE_LATENCY_UNDER_50MS:"send_with_ack.failure.latency.under_50ms",SEND_WITH_ACK_FAILURE_LATENCY_50_100MS:"send_with_ack.failure.latency.50_100ms",SEND_WITH_ACK_FAILURE_LATENCY_100_500MS:"send_with_ack.failure.latency.100_500ms",SEND_WITH_ACK_FAILURE_LATENCY_500_1000MS:"send_with_ack.failure.latency.500_1000ms",SEND_WITH_ACK_FAILURE_LATENCY_OVER_1S:"send_with_ack.failure.latency.over_1s",SEND_AND_FORGET_SUCCESS_LATENCY_UNDER_50MS:"send_and_forget.success.latency.under_50ms",SEND_AND_FORGET_SUCCESS_LATENCY_50_100MS:"send_and_forget.success.latency.50_100ms",SEND_AND_FORGET_SUCCESS_LATENCY_100_500MS:"send_and_forget.success.latency.100_500ms",SEND_AND_FORGET_SUCCESS_LATENCY_500_1000MS:"send_and_forget.success.latency.500_1000ms",SEND_AND_FORGET_SUCCESS_LATENCY_OVER_1S:"send_and_forget.success.latency.over_1s",SEND_AND_FORGET_FAILURE_LATENCY_UNDER_50MS:"send_and_forget.failure.latency.under_50ms",SEND_AND_FORGET_FAILURE_LATENCY_50_100MS:"send_and_forget.failure.latency.50_100ms",SEND_AND_FORGET_FAILURE_LATENCY_100_500MS:"send_and_forget.failure.latency.100_500ms",SEND_AND_FORGET_FAILURE_LATENCY_500_1000MS:"send_and_forget.failure.latency.500_1000ms",SEND_AND_FORGET_FAILURE_LATENCY_OVER_1S:"send_and_forget.failure.latency.over_1s",STREAM_GROUP_ERROR:"stream_group.error",STREAM_GROUP_DRAIN:"stream_group.drain",STREAM_GROUP_TRANSPORT_CLOSE:"stream_group.transport_close",STREAM_CLOSE:"stream.close",STREAM_DATA_RECEIVED:"stream.data_received",STREAM_ERROR:"stream.error",STREAM_SERVER_FINISHED:"stream.server_finished",STREAM_DRAIN:"stream.drain",PUBLISH_RESPONSE_RECEIVED:"publish_response.received",PUBLISH_RESPONSE_CALLBACK_FOUND:"publish_response.callback_found",PUBLISH_RESPONSE_CALLBACK_NOT_FOUND:"publish_response.callback_not_found",STATE_CONNECTING:"state.connecting",STATE_CONNECTED:"state.connected",STATE_DISCONNECTED:"state.disconnected",RECONNECT_ATTEMPT:"reconnect.attempt",RECONNECT_RETRYABLE:"reconnect.retryable",RECONNECT_NON_RETRYABLE:"reconnect.non_retryable"};function _(e,t){t===void 0&&(t=m),(s||(s=o("ODS"))).bumpEntityKey(3589,d,e,t)}function f(e){e<100?_(p.CONNECT_LATENCY_UNDER_100MS):e<500?_(p.CONNECT_LATENCY_100_500MS):e<1e3?_(p.CONNECT_LATENCY_500_1000MS):e<5e3?_(p.CONNECT_LATENCY_1_5S):_(p.CONNECT_LATENCY_OVER_5S)}function g(e){e<50?_(p.SEND_LATENCY_UNDER_50MS):e<100?_(p.SEND_LATENCY_50_100MS):e<500?_(p.SEND_LATENCY_100_500MS):e<1e3?_(p.SEND_LATENCY_500_1000MS):_(p.SEND_LATENCY_OVER_1S)}var h=(function(){function t(){this.$4=0,this.$5="Disconnected",this.$6=new Set,this.$1=new Map,this.$1.set("/ig_send_message_response",function(e){}),this.$8()}t.getInstance=function(){return t.$7};var a=t.prototype;return a.addHook=function(t){},a.removeHook=function(t){},a.getConnectionState=function(){return this.$5},a.subscribeStateChange=function(t){var e=this;return this.$6.add(t),function(){e.$6.delete(t)}},a.$9=function(t){if(this.$5!==t){switch(this.$5=t,t){case"Connecting":_(p.STATE_CONNECTING);break;case"Connected":_(p.STATE_CONNECTED);break;case"Disconnected":_(p.STATE_DISCONNECTED);break}for(var e of this.$6)e()}},a.subscribe=function(t,n){return this.$1.set(t,function(e){n(new TextDecoder().decode(e))}),function(){}},a.publish=function(t,n,r){return this.send(t,new TextEncoder().encode(n)).then(function(){})},a.$8=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(this.$3)return(e||(e=n("Promise"))).resolve(this.$3);this.$9("Connecting"),_(p.CONNECT_ATTEMPT);var t=Date.now(),a=this.$2;a||(a=r("DGWClient")().createStreamGroup(this.$10(),{serviceId:"mqttbypass",streamGroupAppHeaders:{}})),this.$2=a;var i=Array.from(this.$1.keys()),l=o("MqttBypassClientDataModelsSerializers").ConnectRequest$DefaultConstructor();l.subscription={topics:i},l.deviceId=r("ChannelClientID").getID();var s={connectRequest:l},u=o("CompactSerializer").serializeNoThrow(s,o("MqttBypassClientDataModelsSerializers").serializeRequestPayload);try{var c={};o("LSPlatformDGWHostnameOverride").useHostNameOverride&&o("LSPlatformDGWHostnameOverride").hostNameOverride!=null&&(c["www-sandbox"]=o("LSPlatformDGWHostnameOverride").hostNameOverride);var d=yield a.establishStream({groupedStreamHeaders:c},this.$11(),u!=null?u:new Uint8Array(0));this.$3=d;var m=Date.now()-t;return f(m),_(p.CONNECT_SUCCESS),this.$4>0&&this.$12(this.$4),this.$4=0,this.$9("Connected"),(e||(e=n("Promise"))).resolve(d)}catch(e){return _(p.CONNECT_FAILURE),this.$13("failed to create stream: "+e)}});function a(){return t.apply(this,arguments)}return a})(),a.$12=function(t){_(p.RETRY_SUCCESS),t===1?_(p.RETRY_SUCCESS_COUNT_1):t<=3?_(p.RETRY_SUCCESS_COUNT_2_3):t<=5?_(p.RETRY_SUCCESS_COUNT_4_5):_(p.RETRY_SUCCESS_COUNT_OVER_5)},a.triggerSendLatencyMetrics=function(t,n,r){n?t?r<50?_(p.SEND_WITH_ACK_SUCCESS_LATENCY_UNDER_50MS):r<100?_(p.SEND_WITH_ACK_SUCCESS_LATENCY_50_100MS):r<500?_(p.SEND_WITH_ACK_SUCCESS_LATENCY_100_500MS):r<1e3?_(p.SEND_WITH_ACK_SUCCESS_LATENCY_500_1000MS):_(p.SEND_WITH_ACK_SUCCESS_LATENCY_OVER_1S):r<50?_(p.SEND_WITH_ACK_FAILURE_LATENCY_UNDER_50MS):r<100?_(p.SEND_WITH_ACK_FAILURE_LATENCY_50_100MS):r<500?_(p.SEND_WITH_ACK_FAILURE_LATENCY_100_500MS):r<1e3?_(p.SEND_WITH_ACK_FAILURE_LATENCY_500_1000MS):_(p.SEND_WITH_ACK_FAILURE_LATENCY_OVER_1S):t?r<50?_(p.SEND_AND_FORGET_SUCCESS_LATENCY_UNDER_50MS):r<100?_(p.SEND_AND_FORGET_SUCCESS_LATENCY_50_100MS):r<500?_(p.SEND_AND_FORGET_SUCCESS_LATENCY_100_500MS):r<1e3?_(p.SEND_AND_FORGET_SUCCESS_LATENCY_500_1000MS):_(p.SEND_AND_FORGET_SUCCESS_LATENCY_OVER_1S):r<50?_(p.SEND_AND_FORGET_FAILURE_LATENCY_UNDER_50MS):r<100?_(p.SEND_AND_FORGET_FAILURE_LATENCY_50_100MS):r<500?_(p.SEND_AND_FORGET_FAILURE_LATENCY_100_500MS):r<1e3?_(p.SEND_AND_FORGET_FAILURE_LATENCY_500_1000MS):_(p.SEND_AND_FORGET_FAILURE_LATENCY_OVER_1S)},a.recordSendOutcome=function(t,n,r){r===void 0&&(r=!1),t?(_(p.SEND_SUCCESS),_(n?p.SEND_WITH_ACK_SUCCESS:p.SEND_AND_FORGET_SUCCESS)):(_(p.SEND_FAILURE),r&&_(p.SEND_TIMEOUT),n?(_(p.SEND_WITH_ACK_FAILURE),r&&_(p.SEND_WITH_ACK_TIMEOUT)):(_(p.SEND_AND_FORGET_FAILURE),r&&_(p.SEND_AND_FORGET_TIMEOUT)))},a.send=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i){i===void 0&&(i=!0),_(p.SEND_ATTEMPT);var l=Date.now();try{var s,u=yield(e||(e=n("Promise"))).race([this.$8(),new e(function(e,t){return r("setTimeout")(function(){return t(r("err")("dgw send timeout"))},c)})]);if(u===null)return this.recordSendOutcome(!1,i,!0),(e||(e=n("Promise"))).resolve(!1);var d=(s=o("CompactSerializer").serializeNoThrow({publishRequest:{payload:a,mqttTopic:t}},o("MqttBypassClientDataModelsSerializers").serializeRequestPayload))!=null?s:new Uint8Array(0),m;if(i)_(p.SEND_WITH_ACK_ATTEMPT),m=yield u==null?void 0:u.send(d);else{var f;_(p.SEND_AND_FORGET_ATTEMPT),m=(f=u==null?void 0:u.sendAndForget(d))!=null?f:!1}var h=Date.now()-l;return this.triggerSendLatencyMetrics(m,i,h),g(h),this.recordSendOutcome(m,i),m}catch(t){return this.recordSendOutcome(!1,i,!0),(e||(e=n("Promise"))).resolve(!1)}});function a(e,n,r){return t.apply(this,arguments)}return a})(),a.sendAndForget=function(t,n){var e,r,a;_(p.SEND_AND_FORGET_ATTEMPT);var i=(e=o("CompactSerializer").serializeNoThrow({publishRequest:{payload:n,mqttTopic:t}},o("MqttBypassClientDataModelsSerializers").serializeRequestPayload))!=null?e:new Uint8Array(0),l=(r=(a=this.$3)==null?void 0:a.sendAndForget(i))!=null?r:!1;return this.recordSendOutcome(l,!1),l},a.$14=function(t,n){n===void 0&&(n=!0),n?(_(p.RECONNECT_RETRYABLE),this.$13(t)):_(p.RECONNECT_NON_RETRYABLE)},a.$13=function(o){var t,a,i=this;return(t=this.$3)==null||t.close(),(a=this.$2)==null||a.close(),this.$3=null,this.$2=null,this.$9("Disconnected"),this.$4++,_(p.RETRY_ATTEMPT),this.$4===1?_(p.RETRY_COUNT_1):this.$4<=3?_(p.RETRY_COUNT_2_3):this.$4<=5?_(p.RETRY_COUNT_4_5):_(p.RETRY_COUNT_OVER_5),_(p.RECONNECT_ATTEMPT),new(e||(e=n("Promise")))(function(e){return r("setTimeout")(function(){return i.$8()},1e3*(i.$4*u))})},a.$10=function(){var e=this;return new(r("DGWStreamGroupHandler"))(function(t){_(p.STREAM_GROUP_ERROR),e.$14("onStreamGroupError: "+String(t),o("DGWStreamGroupCallbacks").isRetryableError(t))},function(t){_(p.STREAM_GROUP_DRAIN),e.$14("onStreamGroupMustDrain: "+String(t))},function(){_(p.STREAM_GROUP_TRANSPORT_CLOSE),e.$14("onStreamGroupTransportClose")})},a.$11=function(){var e=this;return new(r("DGWStreamHandler"))(function(e){_(p.STREAM_CLOSE)},function(t){_(p.STREAM_DATA_RECEIVED);var n=o("CompactSerializer").deserializeNoThrow(t,o("MqttBypassClientDataModelsSerializers").deserializeResponsePayload);if(n!=null&&n.publishResponse){var r=n==null?void 0:n.publishResponse.mqttTopic,a=n==null?void 0:n.publishResponse.payload,i=e.$1.get(r);_(p.PUBLISH_RESPONSE_RECEIVED),_(p.PUBLISH_RESPONSE_RECEIVED+r),i!=null?(_(p.PUBLISH_RESPONSE_CALLBACK_FOUND),_(p.PUBLISH_RESPONSE_CALLBACK_FOUND+r),i(a)):(_(p.PUBLISH_RESPONSE_CALLBACK_NOT_FOUND),_(p.PUBLISH_RESPONSE_CALLBACK_NOT_FOUND+r))}},function(t){_(p.STREAM_ERROR),e.$14("onError: "+String(t),o("DGWStream").isRetryableError(t))},function(t){_(p.STREAM_SERVER_FINISHED),e.$14("onServerHasFinishedSendingData")},function(t,n){_(p.STREAM_DRAIN),e.$14("onStreamMustDrain: "+String(n))})},t})();h.$7=new h,l.default=h}),98);
__d("getIGDFetchThreadEventEmitter",["EventEmitter"],(function(t,n,r,o,a,i,l){"use strict";var e=null;function s(){return e==null&&(e=new(r("EventEmitter"))),e}l.default=s}),98);/*FB_PKG_DELIM*/
__d("LSPlatformClientMaybeEagerly",["LSEagerlyLoadOnMessenger","cr:12301"],(function(t,n,r,o,a,i,l){"use strict";var e=o("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(n("cr:12301"));l.default=e}),98);
__d("LSPlatformArmadilloUtils",["MAWMIC","MAWMICSchema","Promise","cr:6998","cr:7349","promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("MAWThreadConsistencyLogger").__setRef("LSPlatformArmadilloUtils"),c=(e=n("cr:6998"))!=null?e:n("cr:7349"),d=[];function m(e){d.push(e)}function p(){if(c==null||c.completeSync(),u.load().then(function(e){return e.startMAWThreadConsistencyLogger()}),d.length===0){c==null||c.maybeEndOccamadilloThreadMapping();return}r("promiseDone")((s||(s=n("Promise"))).allSettled(d.map(function(e){return e()})),function(){return c==null?void 0:c.maybeEndOccamadilloThreadMapping()})}function _(){o("MAWMIC").addPoint("ls_init_end")}function f(){o("MAWMIC").addPoint("ls_init_start")}function g(){o("MAWMIC").addPoint("ls_sync_start")}function h(){o("MAWMIC").addPoint(o("MAWMICSchema").POINTS.ls_sync_end)}function y(e){o("MAWMIC").fail("init_sync_failure",e)}l.executeOnThreadMappingEnd=m,l.occamadilloInitEnd=p,l.reportInitEnd=_,l.reportInitStart=f,l.reportSyncStart=g,l.reportSyncEnd=h,l.reportInitSyncFailure=y}),98);
__d("LSPlatformClientSingleton",[],(function(t,n,r,o,a,i){"use strict";var e={contents:void 0};function l(t){e.contents=t}i.saveInstance=l}),66);
__d("LSClearEpochBeforeResumeSync",["Promise","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return t.runInTransaction(function(t){var r;return(r=o("ReQL")).toArrayAsync(r.mergeJoin(r.fromTableAscending(t.sync_groups),r.fromTableAscending(t.network_requests).getKeyRange(""))).then(function(r){return(e||(e=n("Promise"))).all(r.map(function(e){var n=e[1];return t.network_requests.put({epochId:void 0,failureCount:n.failureCount,lastDelayedRequestTimestampMs:n.lastDelayedRequestTimestampMs,lastSentTimestampMs:n.lastSentTimestampMs,lastSyncRequestTimestampMs:n.lastSyncRequestTimestampMs,networkTaskIdentifier:n.networkTaskIdentifier,syncDatabaseId:n.syncDatabaseId,taskQueueName:n.taskQueueName})}))}).then(function(){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.network_requests).filter(function(e){return e.taskQueueName!==""})).then(function(r){return(e||(e=n("Promise"))).all(r.map(function(e){return t.network_requests.put({epochId:void 0,failureCount:e.failureCount,lastDelayedRequestTimestampMs:e.lastDelayedRequestTimestampMs,lastSentTimestampMs:e.lastSentTimestampMs,lastSyncRequestTimestampMs:e.lastSyncRequestTimestampMs,networkTaskIdentifier:e.networkTaskIdentifier,syncDatabaseId:e.syncDatabaseId,taskQueueName:e.taskQueueName})}))})})},"readwrite","ui",void 0,i.id+":17").then(function(){return(e||(e=n("Promise"))).resolve()})}l.call=s}),98);
__d("LSDatabaseAfterInitSyncSingleton",["Deferred","PromiseAnnotate"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new(r("Deferred")),u=function(t){t.then(function(e){return s.resolve(e)})},c=(e||(e=o("PromiseAnnotate"))).setDisplayName(s.getPromise(),"LSDatabaseSingletonAfterInitSync"),d=function(){return s.isSettled()};l.resolveInitSync=u,l.LSDatabaseAfterInitSyncSingleton=c,l.isInitSyncResolved=d}),98);
__d("LSPlatformHardcodedInitSync",["CurrentMessengerUser","FBLogger","I64","IGDWebUtils","LSDatabaseAfterInitSyncSingleton","LSDatabaseProviderType","LSDict","LSIntEnum","LSJson","LSPlatformArmadilloUtils","LSPlatformGraphQLTransport","LSPlatformLsInitLog","LSSyncError","MWPBumpEntityKey","MetaConfig","Promise","QuickPerformanceLogger","ReQL","WAPromiseDelays","asyncToGeneratorRuntime","err","getErrorSafe","gkx","isArmadillo","isInstamadillo","isRegisterArmadilloOnIgEnabled","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=5,m=r("isArmadillo")()||r("isRegisterArmadilloOnIgEnabled")()&&!r("isInstamadillo")(),p=r("gkx")("20017")?r("gkx")("22843"):!0,_=!o("CurrentMessengerUser").isWorkUser()&&!o("IGDWebUtils").isOnInstagramWeb()?p:!1,f=[1,m?95:null,_?104:null].filter(Boolean);function g(e){return e.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return(c||(c=n("Promise"))).all(f.map(function(t){return e.network_requests.put({epochId:void 0,failureCount:(s||(s=o("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:s.zero,lastSyncRequestTimestampMs:s.zero,networkTaskIdentifier:void 0,syncDatabaseId:(u||(u=o("LSIntEnum"))).ofNumber(t),taskQueueName:""})}))});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":76").then(function(){return(c||(c=n("Promise"))).resolve()})}function h(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.network_requests).getKeyRange("",(u||(u=o("LSIntEnum"))).ofNumber(t)))}function y(e){return e.runInTransaction(function(e){return(c||(c=n("Promise"))).all(f.map(function(t){return h(e,t).then(function(t){return t!=null?e.network_requests.put({epochId:(s||(s=o("I64"))).zero,failureCount:t.failureCount,lastDelayedRequestTimestampMs:t.lastDelayedRequestTimestampMs,lastSentTimestampMs:t.lastSentTimestampMs,lastSyncRequestTimestampMs:t.lastSyncRequestTimestampMs,networkTaskIdentifier:t.networkTaskIdentifier,syncDatabaseId:t.syncDatabaseId,taskQueueName:t.taskQueueName}):(c||(c=n("Promise"))).resolve()})})).then(function(){})},"readwrite","ui",void 0,i.id+":111")}function C(e){return o("LSDatabaseProviderType").isProviderPersisted(e)&&r("MetaConfig")._("76")?e.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield h(e,1);t!=null&&(yield e.network_requests.put({epochId:void 0,failureCount:t.failureCount,lastDelayedRequestTimestampMs:t.lastDelayedRequestTimestampMs,lastSentTimestampMs:t.lastSentTimestampMs,lastSyncRequestTimestampMs:t.lastSyncRequestTimestampMs,networkTaskIdentifier:t.networkTaskIdentifier,syncDatabaseId:t.syncDatabaseId,taskQueueName:t.taskQueueName}))});return function(t){return e.apply(this,arguments)}})(),"readwrite","ui",void 0,i.id+":144"):(c||(c=n("Promise"))).resolve()}function b(t){o("CurrentMessengerUser").isWorkUser()&&(e||(e=r("QuickPerformanceLogger"))).markerPoint(r("qpl")._(1036588047,"310"),t)}function v(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.sync_groups).getKeyRange((u||(u=o("LSIntEnum"))).ofNumber(t)))}function S(e,t,n,a){return new(r("LSDict"))().set("database",(u||(u=o("LSIntEnum"))).ofNumber(e)).set("epoch_id",(s||(s=o("I64"))).zero).set("last_applied_cursor",n).set("sync_params",a!=null?a:"{}").set("version",s.of_string(t))}function R(e){var t=0,n=0,r=function(a){return n++,n===e&&o("LSPlatformLsInitLog").addPoint("gql_fetch_end"),t===0&&o("LSPlatformLsInitLog").addPoint("gql_deps_start"),a.then(function(){t===0&&(o("LSPlatformLsInitLog").addPoint("ls_sync_execute_start"),o("LSPlatformLsInitLog").LsSync.markStart()),t++,t===e&&o("LSPlatformLsInitLog").addPoint("gql_deps_end")})};return r}var L=function(){return[(c||(c=n("Promise"))).resolve(),"",void 0,void 0]},E=[],k=[];function I(e,t,n,r,o){return T.apply(this,arguments)}function T(){return T=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,p){p===void 0&&(p=0);try{var f=o("CurrentMessengerUser").isWorkUser();yield y(i);var h=[1,m?95:void 0,_?104:void 0],T=yield(c||(c=n("Promise"))).all(h.map(function(e){return e!=null?v(i,e):void 0})),D=T[0],x=T[1],$=T[2],P=D==null?void 0:D.currentCursor,N=x==null?void 0:x.currentCursor,M=$==null?void 0:$.currentCursor,w=S(1,t.schemaVersion,P,t.syncParams.mailbox),A=S(95,t.schemaVersion,N,t.syncParams.e2ee),F=S(104,t.schemaVersion,M,t.syncParams.communityExclusive),O={string:{mailboxSync:P!=null?"resume":"init"}};f&&(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(r("qpl")._(1036588047,"310"),O),o("LSPlatformLsInitLog").addPoint("ls_sync_start",O),o("LSPlatformArmadilloUtils").reportSyncStart(),o("LSPlatformLsInitLog").addPoint("gql_fetch_start"),b("start_contact"),b("start_mailbox");var B=R(1+(m?1:0)+(_?1:0)),W=p===0?void 0:{fetchPolicy:"network-only"},q=P!=null?(u||(u=o("LSIntEnum"))).ofNumber(2):(u||(u=o("LSIntEnum"))).ofNumber(1),U=o("LSPlatformGraphQLTransport").publish(l,0,q,o("LSJson").stringify(w),t.executeGraphQLLightSpeedRequest,W).then((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return b("mailbox_synced"),o("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_end"),yield B(e[0]),e});return function(t){return e.apply(this,arguments)}})()).catch(function(e){var t;return o("LSPlatformArmadilloUtils").reportInitSyncFailure(e),o("LSPlatformLsInitLog").addPoint("gql_mailbox_fetch_failed",{string:{gql_mailbox_fetch_fail_reason:(t=e.message)!=null?t:"unknown"}}),r("FBLogger")("messenger_web").catching(e).mustfix("Failed to sync mailbox"),L()});o("LSPlatformLsInitLog").addAnnotations({int:{mailbox_sync_request_type:(s||(s=o("I64"))).to_int32(q)}});var V=m?o("LSPlatformGraphQLTransport").publish(l,2,N!=null?(u||(u=o("LSIntEnum"))).ofNumber(2):(u||(u=o("LSIntEnum"))).ofNumber(1),o("LSJson").stringify(A),t.executeGraphQLLightSpeedRequest,W).then((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return o("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_end"),yield B(e[0]),e});return function(t){return e.apply(this,arguments)}})()).catch(function(e){var t;return o("LSPlatformArmadilloUtils").reportInitSyncFailure(e),o("LSPlatformLsInitLog").addPoint("gql_e2ee_fetch_failed",{string:{gql_e2ee_fetch_fail_reason:(t=e.message)!=null?t:"unknown"}}),r("FBLogger")("messenger_web").catching(e).mustfix("Failed to sync e2ee mailbox"),L()}):(c||(c=n("Promise"))).resolve(L()),H=_?o("LSPlatformGraphQLTransport").publish(l,3,M!=null?(u||(u=o("LSIntEnum"))).ofNumber(2):(u||(u=o("LSIntEnum"))).ofNumber(1),o("LSJson").stringify(F),t.executeGraphQLLightSpeedRequest).then((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return o("LSPlatformLsInitLog").addPoint("gql_cm_fetch_end"),yield B(e[0]),e});return function(t){return e.apply(this,arguments)}})()).catch(function(e){var t;return o("LSPlatformArmadilloUtils").reportInitSyncFailure(e),o("LSPlatformLsInitLog").addPoint("gql_cm_fetch_failed",{string:{gql_cm_fetch_fail_reason:(t=e.message)!=null?t:"unknown"}}),r("FBLogger")("messenger_web").catching(e).mustfix("Failed to sync Community Exclusive mailbox"),L()}):(c||(c=n("Promise"))).resolve(L()),G=yield c.all([U,V,H]);o("LSPlatformLsInitLog").addPoint("ls_sync_eval_start");for(var z of G){var j=z[0],K=z[1],Q=z[2],X=z[3];K!==""&&(yield a({experiments:Q,priority:"ui",syncScript:K,target:X}))}o("LSPlatformLsInitLog").addPoint("ls_sync_eval_end");var Y=[];r("gkx")("20016")&&(Y.push({name:"mailbox",syncError:o("LSSyncError").getLastSyncError(1)}),Y.push({name:"communityExclusive",syncError:o("LSSyncError").getLastSyncError(104)}),Y.push({name:"e2ee",syncError:o("LSSyncError").getLastSyncError(95)}));for(var J of Y){var Z,ee=(Z=J.syncError)==null?void 0:Z.get("error_msg");if(ee!=null)throw E.push(J.name),o("LSPlatformLsInitLog").addAnnotations({string_array:{failedGqlQuery:E}}),r("err")(String(ee))}P!=null&&(yield C(i)),o("LSPlatformLsInitLog").LsSync.markEnd(),b("sync_completed"),o("LSPlatformLsInitLog").addPoint("ls_sync_execute_end"),o("LSPlatformArmadilloUtils").reportSyncEnd(),o("LSPlatformLsInitLog").addPoint("ls_sync_end"),m&&o("LSPlatformArmadilloUtils").occamadilloInitEnd(),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_graphql","init_sync.success"),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.success"),o("LSDatabaseAfterInitSyncSingleton").resolveInitSync(c.resolve(i))}catch(e){var te,ne=r("getErrorSafe")(e);if(k.push((te=ne.message)!=null?te:"unknown"),p<=d&&r("gkx")("20017"))return o("LSPlatformLsInitLog").addPoint("ls_sync_retry_"+p,{int:{retryCount:p},string_array:{retryReasons:k}}),o("LSSyncError").clearSyncErrors(),o("WAPromiseDelays").delayMs(p*1e3).then(function(){return I(t,a,i,l,p+1)});o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_ls","init_sync.fail"),b("sync_failed"),o("LSPlatformLsInitLog").fail("init_sync_failure",ne);try{o("LSPlatformArmadilloUtils").reportInitSyncFailure(ne)}catch(e){}return r("FBLogger")("messenger_web").catching(ne).mustfix("Encountered an error while performining preloaded init sync request via graphql"),g(i)}}),T.apply(this,arguments)}l.sendHardcodedInitSync=I}),98);
__d("LSPlatformEvaluateInitSyncEagerly",["ExecutionEnvironment","FBLogger","LSClearEpochBeforeResumeSync","LSDatabaseProviderType","LSPlatformDeviceId","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","asyncToGeneratorRuntime","cr:3411","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){o("LSPlatformLsInitLog").addPoint("ds_eval_registration");var a=yield t(),i;try{i=n("cr:3411")!=null?n("cr:3411").registerEval(a)()(e):a()(e)}catch(t){var l=r("getErrorSafe")(t);r("FBLogger")("ls_web_init").catching(l).mustfix("fail to register datascriptEvaluator"),i=a()(e)}return o("LSPlatformLsInitLog").addPoint("ds_eval_registration_end"),i});return function(n,r){return e.apply(this,arguments)}})();function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){if(!(e||(e=r("ExecutionEnvironment"))).canUseDOM||!t.sendHardcodedInitSync)return!1;var n=t.eagerEvaluatorForInitSync;if(n==null)return!1;var a=yield t.getDb();if(o("LSDatabaseProviderType").isProviderPersisted(a))return!1;o("LSPlatformLsInitLog").addPoint("evaluate_init_sync_start");var i=o("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral"),l=yield s(a,n);return yield o("LSClearEpochBeforeResumeSync").call(a),yield o("LSPlatformHardcodedInitSync").sendHardcodedInitSync(t,l,a,i),o("LSPlatformLsInitLog").addPoint("evaluate_init_sync_end"),!0}),c.apply(this,arguments)}l.getDatascriptEvaluator=s,l.maybeEvaluateInitSyncEagerly=u}),98);
__d("maybeSetupMAWMainThreadLogger",["MessengerLogHistory","cr:6999","cr:7350","isArmadillo","isRegisterArmadilloOnIgEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("MessengerLogHistory").getInstance("client_init"),u=(e=n("cr:6999"))!=null?e:n("cr:7350"),c=function(){u!=null&&(r("isArmadillo")()||r("isRegisterArmadilloOnIgEnabled")())&&(s.debug("Starting MAW main thread logger setup..."),u.setupMainWaLogger(),s.debug("Starting MAW main thread logger setup success"))};l.maybeSetupMAWMainThreadLogger=c}),98);
__d("LSPlatformClientInstances",["ExecutionEnvironment","FBLogger","LSLocalize","LSPlatformArmadilloUtils","LSPlatformClientSingleton","LSPlatformEvaluateInitSyncEagerly","LSPlatformLsInitLog","LSSuspense","MAWLoggerUtils","MAWMIC","MessengerLogHistory","PromiseAnnotate","asyncToGeneratorRuntime","getErrorSafe","maybeSetupMAWMainThreadLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;n("LSLocalize"),o("MAWLoggerUtils").initMessengerWebLogging();var c=o("MessengerLogHistory").getInstance("client_init"),d=(u||(u=r("LSSuspense"))).makeCollection(),m=!1;function p(t,a,i){o("MAWMIC").startMAWMICFlow(),m||(c.debug("[Occamadillo] Beginning hardcoded init sync"),m=!0,o("maybeSetupMAWMainThreadLogger").maybeSetupMAWMainThreadLogger()),o("LSPlatformArmadilloUtils").reportInitStart();var l=function(t){var e=r("getErrorSafe")(t);throw c.debug("Initializing LSPlatformClient failed"),o("LSPlatformLsInitLog").fail("client_setup_failure",e),o("MAWMIC").fail("client_setup_failure",e),r("FBLogger")("messenger_web").catching(e).warn("[LS] LSPlatformClient initialization failure"),e};return(u||(u=r("LSSuspense"))).getFromCollection(d,t,function(){return(e||(e=o("PromiseAnnotate"))).setDisplayName(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("LSPlatformLsInitLog").addAnnotations({bool:{canUseDOM:(s||(s=r("ExecutionEnvironment"))).canUseDOM,fromReact:i==null?void 0:i.fromReact},string:{configAppId:t.appId,configPlatformName:t.platformName}}),c.debug("Messenger loading UI suspending");try{var e=yield o("LSPlatformEvaluateInitSyncEagerly").maybeEvaluateInitSyncEagerly(t);if(!(s||(s=r("ExecutionEnvironment"))).isInBrowser)return yield t.getDb();var n=a(t,{didEvaluateInitSyncEagerly:e}).then(function(e){return o("LSPlatformLsInitLog").addPoint("start_client"),e.start().then(function(){return c.debug("Initializing LSPlatformClient success"),o("LSPlatformClientSingleton").saveInstance(e),o("LSPlatformArmadilloUtils").reportInitEnd(),e.db})});return yield n}catch(e){l(e)}finally{c.debug("Messenger loading UI unsuspending")}})(),"InitLSPlatformClient")})}var _={getOrInit:p};l.default=_}),98);
__d("LSPlatformLogTooManyPendingTasksForS337085.react",["FBLogger","MWPBumpEntityKey","ReQL","clearTimeout","gkx","justknobx","promiseDone","react","react-compiler-runtime","setTimeout","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useRef,m=r("justknobx")._("1134"),p=r("justknobx")._("1135"),_=r("gkx")("24156");function f(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a=d(null),i=d(!1),l;t[0]!==n.tables.pending_tasks?(l=function(){var e=n.tables.pending_tasks.subscribe(function(){r("promiseDone")(o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.tables.pending_tasks).take(m)),function(e){var t=e.length;if(t===m){if(a.current!=null)return;a.current=r("setTimeout")(function(){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","tasks_table_above_threshold"),i.current=!0,_&&r("FBLogger")("lsplatform_tasks","tasks_table_above_threshold").warn("pending tasks table is above threshold. It has %s tasks after %s ms",t,p)},p)}else r("clearTimeout")(a.current),i.current&&_&&r("FBLogger")("lsplatform_tasks","tasks_table_cleared").warn("pending tasks table is now cleared"),i.current=!1})});return(function(){e()})},t[0]=n.tables.pending_tasks,t[1]=l):l=t[1];var s;return t[2]!==n?(s=[n],t[2]=n,t[3]=s):s=t[3],c(l,s),null}l.default=f}),98);
__d("LSPlatformClientProviderAddons.react",["CometPlaceholder.react","LSPlatformLogTooManyPendingTasksForS337085.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"LSPlatformClientProviderAddons",children:r("LSPlatformLogTooManyPendingTasksForS337085.react")!=null&&s.jsx(r("LSPlatformLogTooManyPendingTasksForS337085.react"),{})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("LSPlatformErrorsCatcher.react",["MetaConfig","cr:7070","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(7),a=e.children,i=e.fallback,l=d(null),s=l[0],u=l[1],m,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=function(){var e=n("cr:7070")&&n("cr:7070").subscribe(function(e){u(e)});return(function(){e&&e()})},p=[],t[0]=m,t[1]=p):(m=t[0],p=t[1]),c(m,p);var _;if(t[2]!==s){var f;_=(f=n("cr:7070")==null?void 0:n("cr:7070").lastError())!=null?f:s,t[2]=s,t[3]=_}else _=t[3];var g=_;if(r("MetaConfig")._("66")&&g!=null&&i!=null){var h;return t[4]!==g||t[5]!==i?(h=i(g),t[4]=g,t[5]=i,t[6]=h):h=t[6],h}else return a}l.default=m}),98);
__d("MAWCondSetup.react",["cr:3921","gkx","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("gkx")("20836")?u.Fragment:(e=n("cr:3921"))!=null?e:u.Fragment,d=c;l.default=d}),98);
__d("MAWSetupWrapperOnce.react",["CometPlaceholder.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(!1);function d(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.setupComponent,i=u(c);if(i)return n;var l;t[0]!==a?(l=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWSetupWrapperOnce",children:a}),t[0]=a,t[1]=l):l=t[1];var d;return t[2]!==n||t[3]!==l?(d=s.jsxs(c.Provider,{value:!0,children:[n,l]}),t[2]=n,t[3]=l,t[4]=d):d=t[4],d}l.default=d}),98);
__d("MAWCondWrapper.react",["MAWCondSetup.react","MAWSetupWrapperOnce.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(r("MAWCondSetup.react"),{}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx(r("MAWSetupWrapperOnce.react"),{setupComponent:a,children:n}),t[1]=n,t[2]=i):i=t[2],i}l.default=u}),98);
__d("LSPlatformClientProvider.react",["CometDOMOnlyBoundary.react","CometPlaceholder.react","LSPlatformClientInstances","LSPlatformClientProviderAddons.react","LSPlatformErrorsCatcher.react","LSPlatformLsInitLog","LSSuspense","MAWCondWrapper.react","ReStoreProvider.react","react","react-compiler-runtime","useCurrentRoute"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useLayoutEffect;function m(t,n){var a=o("react-compiler-runtime").c(3),i;if(a[0]!==t||a[1]!==n){var l=(e||(e=r("LSSuspense"))).getOrSuspend(t);i=r("LSPlatformClientInstances").getOrInit(l,n,{fromReact:!0}),a[0]=t,a[1]=n,a[2]=i}else i=a[2];return i}function p(e){var t=o("react-compiler-runtime").c(6),n=e.children,a=e.config,i=e.loadLSPlatformClient,l=r("useCurrentRoute")(),u=m(a,i),p,_;t[0]!==l?(p=function(){(l==null?void 0:l.routePath)!=null&&o("LSPlatformLsInitLog").addAnnotations({string:{routePath:l.routePath}})},_=[l],t[0]=l,t[1]=p,t[2]=_):(p=t[1],_=t[2]),d(p,_);var f;return t[3]!==n||t[4]!==u?(f=u!=null?c.jsx((s||(s=o("ReStoreProvider.react"))).ReStoreProvider,{db:u,children:n}):n,t[3]=n,t[4]=u,t[5]=f):f=t[5],f}function _(e){var t=o("react-compiler-runtime").c(14),n=e.children,a=e.config,i=e.errorFallback,l=e.loadLSPlatformClient,s=e.placeholder,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(r("LSPlatformClientProviderAddons.react"),{}),t[0]=u):u=t[0];var d;t[1]!==n||t[2]!==s?(d=c.jsx(r("CometPlaceholder.react"),{fallback:s,name:"LSPlatformClientProvider.UISuspense",children:n}),t[1]=n,t[2]=s,t[3]=d):d=t[3];var m;t[4]!==a||t[5]!==l||t[6]!==d?(m=c.jsxs(p,{config:a,loadLSPlatformClient:l,children:[u,d]}),t[4]=a,t[5]=l,t[6]=d,t[7]=m):m=t[7];var _;t[8]!==s||t[9]!==m?(_=c.jsx(r("MAWCondWrapper.react"),{children:c.jsx(r("CometPlaceholder.react"),{fallback:s,name:"LSPlatformClientProvider.ClientProvider",children:m})}),t[8]=s,t[9]=m,t[10]=_):_=t[10];var f;if(t[11]!==i||t[12]!==_){var g=c.jsx(r("LSPlatformErrorsCatcher.react"),{fallback:i,children:_});f=c.jsx(r("CometDOMOnlyBoundary.react"),{children:g}),t[11]=i,t[12]=_,t[13]=f}else f=t[13];return f}l.default=_}),98);
__d("LSPlatformClientProviderWithDeferredLoadingStrategy.react",["LSPlatformClientMaybeEagerly","LSPlatformClientProvider.react","LSPlatformLsInitLog","asyncToGeneratorRuntime","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){o("LSPlatformLsInitLog").addPoint("load_ls_platform_client");var n=yield r("LSPlatformClientMaybeEagerly").load();return o("LSPlatformLsInitLog").addPoint("load_ls_platform_client_loaded"),n.make(e,t)}),c.apply(this,arguments)}function d(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.config,i=e.errorFallback,l=e.placeholder,c;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l?(c=s.jsx(r("LSPlatformClientProvider.react"),{config:a,errorFallback:i,loadLSPlatformClient:u,placeholder:l,children:n}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=c):c=t[4],c}l.default=d}),98);
__d("LSPlatformSyncSystemMaybeEagerly",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSPlatformSyncSystem").__setRef("LSPlatformSyncSystemMaybeEagerly");function s(){return o("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(e).load()}l.default=s}),98);
__d("LSPlatformClientInit",["FBLogger","LSClearEpochBeforeResumeSync","LSDataTraceFlushDeferred","LSDatabaseAfterInitSyncSingleton","LSDeleteAllAndInsertConnectivityStatusStoredProcedure","LSFactory","LSIntEnum","LSInternetConnectionState","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","LSPlatformSyncSystemMaybeEagerly","MessengerLogHistory","Promise","asyncToGeneratorRuntime","cr:3411","cr:5083","cr:6044","cr:7528","cr:8131","emptyFunction","getErrorSafe","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MessengerLogHistory").getInstance("client_init");function c(e){var t=r("emptyFunction");return n("cr:8131")!=null&&r("gkx")("23914")&&(t=n("cr:8131").listenForChangesToBackupState(e)),function(){t&&t()}}function d(e,t){var n=t==="Connected"?(s||(s=o("LSIntEnum"))).ofNumber(r("LSInternetConnectionState").CONNECTED):(s||(s=o("LSIntEnum"))).ofNumber(r("LSInternetConnectionState").NOT_CONNECTED);u.debug("Platform client sync connection status: ",t),r("promiseDone")(e.runInTransaction(function(e){return r("LSDeleteAllAndInsertConnectivityStatusStoredProcedure")(r("LSFactory")(e),{internetConnectionState:n})},"readwrite",void 0,void 0,i.id+":77"),function(){u.debug("Platform client sync connection status set successfully")},function(e){throw u.error("Platform client sync connection status set failed: "+(e==null?void 0:e.message)),e})}function m(e,t,n,r,o,a){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i,l,s,m){var p;u.debug("Platform client sync starting..."),(p=o("LSPlatformLsInitLog")).addPoint("onstart_callback"),l(),p.addPoint("onstart_callback_end"),u.debug("Getting datascript evaluator..."),p.addPoint("ds_eval_registration");var _=yield a.getEval();u.debug("Getting datascript evaluator success");var f;try{f=n("cr:3411")!=null?n("cr:3411").registerEval(_)()(t):_()(t)}catch(e){r("FBLogger")("ls_web_init").catching(r("getErrorSafe")(e)).mustfix("fail to register datascriptEvaluator"),f=_()(t)}o("LSPlatformLsInitLog").addPoint("ds_eval_registration_end"),u.debug("Clearing epoch before resume sync..."),m.didEvaluateInitSyncEagerly||(o("LSPlatformLsInitLog").addPoint("ls_clear_epoch"),yield o("LSClearEpochBeforeResumeSync").call(t),o("LSPlatformLsInitLog").addPoint("ls_clear_epoch_end"),u.debug("Clearing epoch before resume sync success"),o("LSPlatformLsInitLog").addPoint("create_client_end"),a.sendHardcodedInitSync&&(u.debug("Starting hard-coded init sync..."),yield o("LSPlatformHardcodedInitSync").sendHardcodedInitSync(a,f,t,i),u.debug("Starting hard-coded init sync success"))),o("LSDatabaseAfterInitSyncSingleton").resolveInitSync((e||(e=n("Promise"))).resolve(t)),u.debug("Starting realtime transport"),o("LSPlatformLsInitLog").addPoint("realtime_underlying_transport_start");var g=yield a.realtimeUnderylingTransport();o("LSPlatformLsInitLog").addPoint("realtime_underlying_transport_end");var h=yield e.all([n("cr:5083").load().then(function(e){return e.LSPlatformRealtimeTransport}),n("cr:7528").load(),n("cr:6044").load()]).catch(function(e){throw r("FBLogger")("ls_web_init").catching(e).mustfix("Error loading transport modules"),e}),y=h[0],C=h[1],b=h[2],v=y(g,a.appId,i);o("LSPlatformLsInitLog").addPoint("platform_realtime_transport_end"),u.debug("Starting task system");var S=new C(t,new b(t,v,f,a.schemaVersion));o("LSPlatformLsInitLog").addPoint("platform_task_system_end"),u.debug("Starting sync system");var R=null;r("promiseDone")(r("LSPlatformSyncSystemMaybeEagerly")(),function(e){R=e(t,v,f,a.schemaVersion,i,a.executeGraphQLLightSpeedRequest)}),u.debug("Starting backup state listeners");var L=c(t);o("LSPlatformLsInitLog").addPoint("init_listeners_backup_state_end");var E;return u.debug("Watching for expired traces"),r("promiseDone")(o("LSDataTraceFlushDeferred").watchForExpiredTraces(t).then(function(e){E=e})),u.debug("Subscribing to mqtt sync status change events"),v.onConnectionStatusChange(function(e){d(t,e)}),u.debug("Platform client sync starting sucess"),o("LSPlatformLsInitLog").endSuccess(),{cleanup:function(){var e;u.debug("Platform client sync cleaning up"),s(t),S==null||S.cleanup(),(e=R)==null||e.cleanup(),v.cleanup(),L(),E==null||E()},db:t}}),p.apply(this,arguments)}l.init=m}),98);
__d("LSPlatformClient",["ExecutionEnvironment","FBLogger","LSDatabaseProviderType","LSPlatformClientInit","LSPlatformDeviceId","LSPlatformLsInitLog","MAWMIC","MAWMICSchema","Promise","asyncToGeneratorRuntime","cr:10018","cr:7305","emptyFunction","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("emptyFunction").thatReturns((s||(s=n("Promise"))).resolve());function c(e,t,a){var i,l=(function(){var l=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n=o("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");i=yield o("LSPlatformClientInit").init(e,t,n,r("emptyFunction"),r("emptyFunction"),a)});return function(){return l.apply(this,arguments)}})();return{cleanup:function(){var e;(e=i)==null||e.cleanup()},db:e,start:l}}function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a){if(n("cr:10018")==null)throw r("FBLogger")("messenger_web").mustfixThrow("LSPlatformClientWithLock is null for PDB enabled");var i=yield n("cr:10018").make(e,t,a);return i.isTabWithoutClient()===!0&&(o("MAWMIC").addPoint("ls_init_end"),o("MAWMIC").addPoint(o("MAWMICSchema").POINTS.thread_mapping_end),o("MAWMIC").addBoolAnnotation("LsInitSkipped",!0),o("LSPlatformLsInitLog").addPoint("no_ls_sync"),o("LSPlatformLsInitLog").endSuccess()),{cleanup:r("emptyFunction"),db:e,start:u}}),m.apply(this,arguments)}function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a){if(o("LSPlatformLsInitLog").addPoint("make_client"),(e||(e=r("ExecutionEnvironment"))).canUseDOM){o("LSPlatformLsInitLog").addPoint("create_client_get_db");var i=yield t.getDb();if(o("LSPlatformLsInitLog").addPoint("create_client_start"),o("LSDatabaseProviderType").isProviderPersisted(i)&&n("cr:10018")!==null)try{return d(i,t,a)}catch(e){throw o("LSPlatformLsInitLog").addAnnotations({string:{client_for_pdb_error:r("getErrorSafe")(e).message}}),o("LSPlatformLsInitLog").fail("client_for_pdb_error"),e}return c(i,t,a)}if(o("LSPlatformLsInitLog").addPoint("make_client_ssr_mode"),n("cr:7305")==null)throw r("err")("LSCometSSRDatabase null, unexpected");return{cleanup:r("emptyFunction"),db:n("cr:7305"),start:u}}),_.apply(this,arguments)}l.make=p}),98);
__d("LSPlatformClientProviderWithImmediateLoadingStrategy.react",["LSPlatformClient","LSPlatformClientProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.config,i=e.errorFallback,l=e.placeholder,u;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l?(u=s.jsx(r("LSPlatformClientProvider.react"),{config:a,errorFallback:i,loadLSPlatformClient:o("LSPlatformClient").make,placeholder:l,children:n}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=u):u=t[4],u}l.default=u}),98);
__d("LSPlatformGraphQLLightspeedRequestForIGDQuery.graphql",["relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"deviceId"},{defaultValue:null,kind:"LocalArgument",name:"requestId"},{defaultValue:null,kind:"LocalArgument",name:"requestPayload"},{defaultValue:null,kind:"LocalArgument",name:"requestType"}],t=[{alias:null,args:[{kind:"Variable",name:"device_id",variableName:"deviceId"},{kind:"Variable",name:"request_id",variableName:"requestId"},{kind:"Variable",name:"request_payload",variableName:"requestPayload"},{kind:"Variable",name:"request_type",variableName:"requestType"}],concreteType:"LightspeedWebResponse",kind:"LinkedField",name:"lightspeed_web_request_for_igd",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},{alias:null,args:null,concreteType:"LightspeedWebRequestDependency",kind:"LinkedField",name:"dependencies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"experiments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"LSPlatformGraphQLLightspeedRequestForIGDQuery",selections:t,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"LSPlatformGraphQLLightspeedRequestForIGDQuery",selections:t},params:{id:"9859601450795492",metadata:{},name:"LSPlatformGraphQLLightspeedRequestForIGDQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("LSPlatformGraphQLLightspeedRequestForIGD",["CometRelay","LSPlatformGraphQLLightspeedRequestForIGDQuery.graphql","XPlatRelayEnvironment"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r,a,i,l){return o("CometRelay").fetchQuery(o("XPlatRelayEnvironment").getRelayEnvironment(),e!==void 0?e:e=n("LSPlatformGraphQLLightspeedRequestForIGDQuery.graphql"),{deviceId:t,requestId:r,requestPayload:a,requestType:i}).toPromise().then(function(e){return e==null?void 0:e.lightspeed_web_request_for_igd})}l.default=s}),98);
__d("LSPlatformInstagramConfig",["CurrentAppID","IGDOverLSMqttChannel","LSDatabaseSingleton","LSDatascriptEvaluatorMaybeDeferred","LSPlatformGraphQLLightspeedRequestForIGD","LSPlatformMessengerSyncParams","LSPlatformMqttRealtimeTransport","LSSuspense","LSVersion","Promise","getMWLSRegion"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("CurrentAppID").getAppID(),d=r("getMWLSRegion")(),m=c==null?"1217981644879628":c;function p(){return(u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton}function _(e,t){return r("LSPlatformMqttRealtimeTransport")(r("LSVersion"),t,{getInstance:o("IGDOverLSMqttChannel").getInstance,shutdownAndClear:o("IGDOverLSMqttChannel").shutdownAndClear})}function f(){return r("LSDatascriptEvaluatorMaybeDeferred")()}var g={appId:m,executeGraphQLLightSpeedRequest:r("LSPlatformGraphQLLightspeedRequestForIGD"),getDb:p,getEval:f,platformName:"Instagram",realtimeUnderylingTransport:function(){return(s||(s=n("Promise"))).resolve(_)},region:d,schemaVersion:r("LSVersion"),sendHardcodedInitSync:!0,syncParams:r("LSPlatformMessengerSyncParams")},h=(e||(e=r("LSSuspense"))).makeWithValue(g);l.configEagerlyLoaded=h}),98);
__d("IGDPageSetup.react",["CometErrorBoundary.react","CometPlaceholder.react","CurrentUser","I64","IGDRouteProvider.react","LSPlatformClientProviderWithDeferredLoadingStrategy.react","LSPlatformClientProviderWithImmediateLoadingStrategy.react","LSPlatformInstagramConfig","MWLSThreadDisplayContext","MWPActor.react","cr:497","cr:6180","cr:7347","deferredLoadComponent","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.Fragment,m=(e=n("cr:497"))!=null?e:n("cr:7347"),p=r("deferredLoadComponent")(r("requireDeferred")("IGDInboxErrorState.react").__setRef("IGDPageSetup.react")),_=function(t){if(!t)return function(e){return c.jsx(p,{error:e})}},f=(u||(u=o("I64"))).of_string(r("CurrentUser").getEIMU());function g(e){var t=o("react-compiler-runtime").c(18),a=e.children,l=e.disableRouteProvider,s=e.placeholder,u=e.shouldUseDeferredLoadingStrategy,p=e.threadDisplayType,g=l===void 0?!1:l,h=s===void 0?null:s,y=u===void 0?!1:u,C=r(y?"LSPlatformClientProviderWithDeferredLoadingStrategy.react":"LSPlatformClientProviderWithImmediateLoadingStrategy.react"),b=g?d:o("IGDRouteProvider.react").IGDRouteContextProvider,v;t[0]!==y?(v=_(y),t[0]=y,t[1]=v):v=t[1];var S;t[2]!==a?(S=m==null?a:c.jsx(m,{children:a}),t[2]=a,t[3]=S):S=t[3];var R;t[4]!==S||t[5]!==p?(R=c.jsx(o("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:p,children:S}),t[4]=S,t[5]=p,t[6]=R):R=t[6];var L;t[7]!==b||t[8]!==R?(L=c.jsx(o("MWPActor.react").MWPActorProvider,{actorId:f,children:c.jsx(b,{children:R})}),t[7]=b,t[8]=R,t[9]=L):L=t[9];var E;t[10]!==C||t[11]!==h||t[12]!==v||t[13]!==L?(E=c.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:c.jsx(C,{config:o("LSPlatformInstagramConfig").configEagerlyLoaded,errorFallback:v,placeholder:h,children:L})}),t[10]=C,t[11]=h,t[12]=v,t[13]=L,t[14]=E):E=t[14];var k;t[15]===Symbol.for("react.memo_cache_sentinel")?(k=n("cr:6180")!=null&&c.jsx(n("cr:6180"),{}),t[15]=k):k=t[15];var I;return t[16]!==E?(I=c.jsxs(r("CometErrorBoundary.react"),{fallback:void 0,children:[E,k]}),t[16]=E,t[17]=I):I=t[17],I}l.default=g}),98);
__d("LSCometSSRDatabase",["LSJSInMemoryStorage","LSMetadata"],(function(t,n,r,o,a,i,l){"use strict";var e=r("LSJSInMemoryStorage")(o("LSMetadata").schema);l.default=e}),98);
__d("LSPlatformClientDeferred",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("LSPlatformClient").__setRef("LSPlatformClientDeferred"),s=o("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(e);l.default=s}),98);
__d("LSPlatformRealtimeTransportEager",["LSPlatformRealtimeTransport","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return(e||(e=n("Promise"))).resolve({LSPlatformRealtimeTransport:o("LSPlatformRealtimeTransport").LSPlatformRealtimeTransport})};l.load=s}),98);
__d("LSPlatformTaskSystemTransportEager",["LSPlatformTaskSystemTransport","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return(e||(e=n("Promise"))).resolve(r("LSPlatformTaskSystemTransport"))};l.load=s}),98);
__d("MWPlatformTaskSystemEager",["MWPlatformTaskSystem","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return(e||(e=n("Promise"))).resolve(r("MWPlatformTaskSystem"))};l.load=s}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("file-saver-2.0.2",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){(function(t,n){typeof e!="undefined"?n():(n(),t.FileSaver={})})(this,function(){function e(e,t){return typeof t=="undefined"?t={autoBom:!1}:typeof t!="object"&&(t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\uFEFF",e],{type:e.type}):e}function n(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){i(r.response,t,n)},r.onerror=function(){},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof t=="object"&&t.global===t?t:void 0,i=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,i){var l=a.URL||a.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin===location.origin?o(s):r(s.href)?n(e,t,i):o(s,s.target="_blank")):(s.href=l.createObjectURL(e),setTimeout(function(){l.revokeObjectURL(s.href)},4e4),setTimeout(function(){o(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,a,i){if(a=a||t.name||"download",typeof t!="string")navigator.msSaveOrOpenBlob(e(t,i),a);else if(r(t))n(t,a,i);else{var l=document.createElement("a");l.href=t,l.target="_blank",setTimeout(function(){o(l)})}}:function(e,t,r,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof e=="string")return n(e,t,r);var i=e.type==="application/octet-stream",l=/constructor/i.test(a.HTMLElement)||a.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&l)&&typeof FileReader=="object"){var u=new FileReader;u.onloadend=function(){var e=u.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var c=a.URL||a.webkitURL,d=c.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});a.saveAs=i.saveAs=i,typeof l!="undefined"&&(l.exports=i)})}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("file-saver",["file-saver-2.0.2"],(function(t,n,r,o,a,i){a.exports=n("file-saver-2.0.2")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){var e=function(t,n){this.key=t,(n==="ecb"||n==="cbc")&&(this.mode=n),this.sBox0=e.sBox0.slice(),this.sBox1=e.sBox1.slice(),this.sBox2=e.sBox2.slice(),this.sBox3=e.sBox3.slice(),this.pArray=e.pArray.slice(),this.generateSubkeys(t)};e.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(e,t){if(this.mode==="ecb")return this.encryptECB(e);if(this.mode==="cbc")return this.encryptCBC(e,t);throw new Error("\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C \u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u0438\u044F.")},decrypt:function(e,t){if(this.mode==="ecb")return this.decryptECB(e);if(this.mode==="cbc")return this.decryptCBC(e,t);throw new Error("\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C \u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u0438\u044F.")},encryptECB:function(e){e=this.utf8Decode(e);for(var t=Math.ceil(e.length/8),n="",r=0;r<t;r++){var o=e.substr(r*8,8);if(o.length<8)for(var a=8-o.length;0<a--;)o+="\0";var i,l,s=this.split64by32(o);i=s[0],l=s[1],s=this.encipher(i,l),i=s[0],l=s[1],n+=this.num2block32(i)+this.num2block32(l)}return n},encryptCBC:function(e,t){e=this.utf8Decode(e);var n=Math.ceil(e.length/8),r,o,a;a=this.split64by32(t),r=a[0],o=a[1];for(var i="",l=0;l<n;l++){var s=e.substr(l*8,8);if(s.length<8)for(var u=8-s.length;0<u--;)s+="\0";var c,d,m;m=this.split64by32(s),c=m[0],d=m[1],c=this.xor(c,r),d=this.xor(d,o),m=this.encipher(c,d),c=m[0],d=m[1],r=c,o=d,i+=this.num2block32(c)+this.num2block32(d)}return i},decryptECB:function(e){for(var t=Math.ceil(e.length/8),n="",r=0;r<t;r++){var o=e.substr(r*8,8);if(o.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430 \u043F\u043E\u0432\u0440\u0435\u0436\u0434\u0435\u043D\u0430: \u0434\u043B\u0438\u043D\u043D\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u0438 \u0434\u043E\u043B\u0436\u043D\u0430 \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u0430 8 \u0431\u0430\u044B\u0439\u0442\u0430\u043C.");var a,i,l;l=this.split64by32(o),a=l[0],i=l[1],l=this.decipher(a,i),a=l[0],i=l[1],n+=this.num2block32(a)+this.num2block32(i)}return n=this.utf8Encode(n),n},decryptCBC:function(e,t){var n=Math.ceil(e.length/8),r,o,a,i,l;l=this.split64by32(t),r=l[0],o=l[1];for(var s="",u=0;u<n;u++){var c=e.substr(u*8,8);if(c.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430 \u043F\u043E\u0432\u0440\u0435\u0436\u0434\u0435\u043D\u0430: \u0434\u043B\u0438\u043D\u043D\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u0438 \u0434\u043E\u043B\u0436\u043D\u0430 \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043C.");var d,m,p;p=this.split64by32(c),d=p[0],m=p[1],a=d,i=m,p=this.decipher(d,m),d=p[0],m=p[1],d=this.xor(d,r),m=this.xor(m,o),r=a,o=i,s+=this.num2block32(d)+this.num2block32(m)}return s=this.utf8Encode(s),s},F:function(e){var t=e>>>24,n=e<<8>>>24,r=e<<16>>>24,o=e<<24>>>24,a=this.addMod32(this.sBox0[t],this.sBox1[n]);return a=this.xor(a,this.sBox2[r]),a=this.addMod32(a,this.sBox3[o]),a},encipher:function(e,t){for(var n,r=0;r<16;r++)e=this.xor(e,this.pArray[r]),t=this.xor(this.F(e),t),n=e,e=t,t=n;return n=e,e=t,t=n,t=this.xor(t,this.pArray[16]),e=this.xor(e,this.pArray[17]),[e,t]},decipher:function(e,t){var n;e=this.xor(e,this.pArray[17]),t=this.xor(t,this.pArray[16]),n=e,e=t,t=n;for(var r=15;r>=0;r--)n=e,e=t,t=n,t=this.xor(this.F(e),t),e=this.xor(e,this.pArray[r]);return[e,t]},generateSubkeys:function(e){var t=0,n=0,r,o;for(r=0;r<18;r++){for(o=4;o>0;o--)t=this.fixNegative(t<<8|e.charCodeAt(n)),n=(n+1)%e.length;this.pArray[r]=this.xor(this.pArray[r],t),t=0}var a=[0,0];for(r=0;r<18;r+=2)a=this.encipher(a[0],a[1]),this.pArray[r]=a[0],this.pArray[r+1]=a[1];for(r=0;r<256;r+=2)a=this.encipher(a[0],a[1]),this.sBox0[r]=a[0],this.sBox0[r+1]=a[1];for(r=0;r<256;r+=2)a=this.encipher(a[0],a[1]),this.sBox1[r]=a[0],this.sBox1[r+1]=a[1];for(r=0;r<256;r+=2)a=this.encipher(a[0],a[1]),this.sBox2[r]=a[0],this.sBox2[r+1]=a[1];for(r=0;r<256;r+=2)a=this.encipher(a[0],a[1]),this.sBox3[r]=a[0],this.sBox3[r+1]=a[1]},block32toNum:function(e){return this.fixNegative(e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3))},num2block32:function(e){return String.fromCharCode(e>>>24)+String.fromCharCode(e<<8>>>24)+String.fromCharCode(e<<16>>>24)+String.fromCharCode(e<<24>>>24)},xor:function(e,t){return this.fixNegative(e^t)},addMod32:function(e,t){return this.fixNegative(e+t|0)},fixNegative:function(e){return e>>>0},split64by32:function(e){var t=e.substring(0,4),n=e.substring(4,8);return[this.block32toNum(t),this.block32toNum(n)]},utf8Decode:function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},utf8Encode:function(e){for(var t="",n=0,r=0,o=0,a=0;n<e.length;)r=e.charCodeAt(n),r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((r&31)<<6|o&63),n+=2):(o=e.charCodeAt(n+1),a=e.charCodeAt(n+2),t+=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63),n+=3);return t},base64Encode:function(e){for(var t="",n,r,o,a,i,l,s,u=0;u<e.length;)n=e.charCodeAt(u++),r=e.charCodeAt(u++),o=e.charCodeAt(u++),a=n>>2,i=(n&3)<<4|r>>4,l=(r&15)<<2|o>>6,s=o&63,isNaN(r)?l=s=64:isNaN(o)&&(s=64),t=t+this.keyStr.charAt(a)+this.keyStr.charAt(i)+this.keyStr.charAt(l)+this.keyStr.charAt(s);return t},base64Decode:function(e){var t="",n,r,o,a,i,l,s,u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)a=this.keyStr.indexOf(e.charAt(u++)),i=this.keyStr.indexOf(e.charAt(u++)),l=this.keyStr.indexOf(e.charAt(u++)),s=this.keyStr.indexOf(e.charAt(u++)),n=a<<2|i>>4,r=(i&15)<<4|l>>2,o=(l&3)<<6|s,t=t+String.fromCharCode(n),l!=64&&(t=t+String.fromCharCode(r)),s!=64&&(t=t+String.fromCharCode(o));return t},trimZeros:function(e){return e.replace(/\0+$/g,"")}},e.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],e.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],e.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],e.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],e.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],l.exports=e}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(t,n,r,o,a,i){a.exports=n("javascript-blowfish-1.0.5")()}),null);/*FB_PKG_DELIM*/
__d("DocumentTitle",["Arbiter"],(function(t,n,r,o,a,i,l){var e=1500,s=null,u=!1,c=0,d=[],m=null,p=document.title,_=0;function f(){d.length>0?u?h():(g(d[c].title),c=++c%d.length):(clearInterval(s),s=null,h())}function g(e){document.title=e,u=!0}function h(){y.set(m||p,!0),u=!1}var y=(function(){function t(e){this.$1=e}t.get=function(){return p},t.set=function(t,n){var e=t.toString();document.title=e,n?m=e:(p=e,m=null,r("Arbiter").inform("update_title",t))},t.blink=function(r){var n={title:r.toString()};return d.push(n),s===null&&(s=setInterval(f,e)),new t(n)};var n=t.prototype;return n.stop=function(){var e=d.indexOf(this.$1);e>=0&&(d.splice(e,1),c>e?c--:c==e&&c==d.length&&(c=0))},t.badge=function(n){var e=t.get(),o=n?"("+n+") "+e:e;t.set(o,!0),r("Arbiter").inform("update_title_badge",n,"state"),_=n},t.preserveBadgeAndSet=function(n){t.set(n,!1),r("Arbiter").inform("update_title",n),t.badge(_)},t})();l.default=y}),98);
__d("IGDSCallFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M4.9 24.002q-.2 0-.4-.008a3.319 3.319 0 0 1-2.161-.92A18.862 18.862 0 0 1 .454 21.02a2.223 2.223 0 0 1 .171-2.893 14.91 14.91 0 0 1 5.829-4.014 2.5 2.5 0 0 1 1.896.186l.96.512a.888.888 0 0 0 .75.044 8.653 8.653 0 0 0 2.872-1.922 8.66 8.66 0 0 0 1.922-2.871.889.889 0 0 0-.044-.75l-.512-.962a2.495 2.495 0 0 1-.186-1.895 14.906 14.906 0 0 1 4.014-5.83 2.22 2.22 0 0 1 2.893-.17 18.89 18.89 0 0 1 2.056 1.884 3.323 3.323 0 0 1 .92 2.16c.206 5.552-3.946 10.564-6.44 13.057-2.432 2.433-7.264 6.446-12.654 6.446Z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9685249484907022"}),null);
__d("MessengerCreateVideoMeetupLinkMutation.graphql",["MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CreateVideoMeetupLinkResponsePayload",kind:"LinkedField",name:"create_video_meetup_link",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"meetup_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_audio_only",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MessengerCreateVideoMeetupLinkMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MessengerCreateVideoMeetupLinkMutation",selections:t},params:{id:n("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"),metadata:{},name:"MessengerCreateVideoMeetupLinkMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("MessengerCreateVideoMeetupLinkMutation",["MessengerCreateVideoMeetupLinkMutation.graphql","Promise","cr:1012418","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,o,a){return new(s||(s=n("Promise")))(function(i,l){var s,u,c,d,m,p,_,f,g,h,y;n("cr:1012418").commitMutation(t,{mutation:e!==void 0?e:e=n("MessengerCreateVideoMeetupLinkMutation.graphql"),onCompleted:function(t){var e,n,r,o,a=t==null||(e=t.create_video_meetup_link)==null||(e=e.meetup_link)==null?void 0:e.is_audio_only,s=t==null||(n=t.create_video_meetup_link)==null||(n=n.meetup_link)==null?void 0:n.link_url,u=t==null||(r=t.create_video_meetup_link)==null||(r=r.meetup_link)==null?void 0:r.link_hash,c=t==null||(o=t.create_video_meetup_link)==null||(o=o.meetup_link)==null?void 0:o.id;return s!=null&&u!=null&&a!=null?i({isAudioOnly:a,linkHash:u,linkId:c,linkUrl:s}):l({error:"Failed to create linkurl."})},onError:function(t){l(t)},optimisticUpdater:null,variables:{input:{client_mutation_id:"",funnel_session_id:a,link_options:{availability_settings_options:(o==null?void 0:o.linkSurface)==="MESSENGER_V2"?{join_permission:o==null?void 0:o.joinPermission,visibility_mode:(s=o==null?void 0:o.visibilityMode)!=null?s:"NONE"}:void 0,chat_mode:(u=o==null?void 0:o.chatMode)!=null?u:null,is_audio_only:(c=o==null?void 0:o.isAudioOnly)!=null?c:null,is_live_enabled:(d=o==null?void 0:o.isLiveEnabled)!=null?d:null,is_room_join_requestable:(m=o==null?void 0:o.joinRequestable)!=null?m:null,link_surface:(p=o==null?void 0:o.linkSurface)!=null?p:r("gkx")("20836")?"WORKPLACE":void 0,revocation_behavior:(_=o==null?void 0:o.revocationBehavior)!=null?_:null,should_allow_anonymous_guests:(f=o==null?void 0:o.allowAnonymousGuests)!=null?f:!0,supports_pages:(g=o==null?void 0:o.supportsPages)!=null?g:!1,supports_profile_plus:(h=o==null?void 0:o.supportsProfilePlus)!=null?h:!1,visibility_mode:(o==null?void 0:o.linkSurface)==="MESSENGER_V2"?void 0:(y=o==null?void 0:o.visibilityMode)!=null?y:"NONE"}}}})})}l.default=u}),98);
__d("RoomsLinkUtils",["ConstUriUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=o("ConstUriUtils").getUri(e),r=n==null?void 0:n.getDomain(),a=n==null||(t=n.stripTrailingSlash())==null?void 0:t.getPath();if(a==null)return null;if(r==="msngr.com")return a.substring(1);var i=/^\/v(id)?\//;if(r==="m.me"&&i.test(a))return a.replace(i,"");var l=/^\/groupcall\/LINK:/;return l.test(a)?a.replace(l,""):null}l.getRoomsLinkHash=e}),98);
__d("VideoChatLinksUserActionsMultiplexLogger",["cr:1443591"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1443591")}),98);
__d("XGroupCallControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/groupcall/{?call_context}/",Object.freeze({users_to_ring:[],has_video:!0,initialize_video:!0,auto_join:!1,use_joining_context:!1,has_seen_interstitial:!1,use_dapp:!1,is_e2ee_mandated:!1,use_www:!1}),void 0),s=e;l.default=s}),98);
__d("ZenonCallIdentifiersUtil",["Random"],(function(t,n,r,o,a,i,l){"use strict";function e(){return String(o("Random").uint32()+1)}l.generateZenonClientSessionID=e}),98);
__d("randomZenonNonce",["Random"],(function(t,n,r,o,a,i,l){"use strict";var e=2,s=6,u=36,c=2176782336;function d(){for(var t="",n=0;n<e;n++){for(var r=Math.floor(o("Random").random()*c).toString(u);r.length<s;)r="0"+r;t+=r}return t}l.default=d}),98);
__d("ZenonPreCallHookBuilderHelper",["ConstUriUtils","FBLogger","MessengerCreateVideoMeetupLinkMutation","Promise","RoomsLinkUtils","VideoChatLinksUserActionsMultiplexLogger","XGroupCallControllerRouteBuilder","ZenonActorHooks","ZenonCallIdentifiersUtil","ZenonCallWindowErrors","ZenonPeerID","ZenonSignalingProtocol","asyncToGeneratorRuntime","getErrorSafe","gkx","nullthrows","randomZenonNonce"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){if(e===null)throw new(o("ZenonCallWindowErrors")).UninitializedError;var n=e.callInviteModel,a=e.callWindowController,i=n.getCurrentInvite();if(i===null)throw new(o("ZenonCallWindowErrors")).InviteNotFoundError;if(i.type!=="ringing"||i.context.type!=="thread")throw new(o("ZenonCallWindowErrors")).CannotAcceptInviteError;var l=r("randomZenonNonce")(),s=i.context.thread,u=a.initCall({context:{controllerParams:i.controllerParams,intent:"accept invite"},hideE2eeAttributions:t,isE2eeMandated:i.isE2eeMandated,joinContext:{thread:s!=null?s:{id:"0",type:2},type:"thread"},mediaType:i.requestingVideo?"video":"audio",nonce:l,representedID:i.receiverUserId}),c=u[0],d=u[1];n.accept(l,{isPopupBlocked:c===null}),yield d}),u.apply(this,arguments)}function c(e,t,n,r,o,a){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a,i,l){if(l===void 0&&(l={allowAnonymousGuests:!r("gkx")("20836")}),e===null)throw new(o("ZenonCallWindowErrors")).UninitializedError;y(i,n,a).setEvent("meetup_attempt_create_meetup").log();try{var s=yield r("MessengerCreateVideoMeetupLinkMutation")(t,l,i),u=s.linkUrl;return u!=null?(y(i,n,a).setEvent("meetup_create_success").setVideoCallLinkURLRaw(u).log(),u):(y(i,n,a).setEvent("meetup_create_failed").log(),u)}catch(e){var c=r("getErrorSafe")(e);throw y(i,n,a).setEvent("meetup_create_failed").log(),y(i,n,a).setEvent("error").setErrorType("LinkCreationError "+c.name).setErrorDetails(c.message).log(),c}}),d.apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.actorID,i=t.callback_users,l=t.context,s=t.forceSkipChildLobby,u=s===void 0?!1:s,c=t.funnelSessionID,d=c===void 0?null:c,m=t.hasVideo,p=m===void 0?!0:m,_=t.linkUrl,f=t.referrerContext,y=f===void 0?null:f,C=t.skipLinkUrlRewrite,b=C===void 0?!1:C,v=t.startCallImmediately,S=v===void 0?!1:v,R=t.trigger;if(l===null)throw new(o("ZenonCallWindowErrors")).UninitializedError;var L=l.callWindowController,E=l.incomingRingSDK,k=r("randomZenonNonce")(),I=o("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),T=_;if(!b){var D,x=(D=o("ConstUriUtils").getUri(_))==null?void 0:D.getQueryParam("funnel_session_id"),$=g(_);T=h($,S?k:null,i,x!=null?String(x):d,u,y,a,R,p)}if(T==null)return(e||(e=n("Promise"))).reject("An invalid URI was provided");var P=L.initCall({context:{existingCall:null,intent:"start or join",invitees:[],signalingID:I},joinContext:{linkUrl:T,type:"link"},mediaType:"video",nonce:k,representedID:o("ZenonActorHooks").ZenonActor.getID()}),N=P[0],M=P[1];E.startCallIntent(k,{callTrigger:R!=null?R:"meetup_join",isE2eeMandated:!1,isPopupBlocked:N===null,isVideo:p,peerID:o("ZenonPeerID").ZenonMWPeerID,protocol:r("ZenonSignalingProtocol").MW,signalingID:I}),yield M}),p.apply(this,arguments)}function _(e,t){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=t.existingCall,a=t.extra,i=t.hideE2eeAttributions,l=t.invitees,s=t.isE2eeMandated,u=t.mediaType,c=t.representedID,d=t.thread,m=t.trigger;if(e===null)throw new(o("ZenonCallWindowErrors")).UninitializedError;var p=e.callWindowController,_=e.incomingRingSDK,f=o("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),g=r("randomZenonNonce")(),h=p.initCall({context:{existingCall:n,intent:"start or join",invitees:l,signalingID:f},extra:a,hideE2eeAttributions:i,isE2eeMandated:s,joinContext:{thread:d,type:"thread"},mediaType:u,nonce:g,representedID:c!=null?c:o("ZenonActorHooks").ZenonActor.getID()}),y=h[0],C=h[1];_.startCallIntent(g,{callTrigger:m,isE2eeMandated:s!=null?s:!1,isPopupBlocked:y===null,isVideo:u==="video",peerID:d.type===1?d.id:o("ZenonPeerID").ZenonMWPeerID,protocol:r("ZenonSignalingProtocol").MW,signalingID:f}),yield C}),f.apply(this,arguments)}function g(e){var t=o("RoomsLinkUtils").getRoomsLinkHash(e);return t==null&&r("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',e),t}function h(e,t,n,o,a,i,l,s,u){if(e==null)return"";var c={call_context:"LINK:"+e,call_trigger:s!=null?s:"",has_video:u,users_to_ring:n!=null?n:[]};return t!=null&&(c.nonce=t),o!=null&&(c.funnel_session_id=o),a===!0&&(c.auto_join=!0),i!=null&&(c.referrer_context=i),l!=null&&(c.av=l),r("nullthrows")(r("XGroupCallControllerRouteBuilder").buildUri(c).getQualifiedUri()).toString()}function y(e,t,n){return new(r("VideoChatLinksUserActionsMultiplexLogger"))().setFunnelSessionIDRaw(e).setSurface(t).setComponent(n)}l.acceptCall=s,l.createMeetup=c,l.joinMeetup=m,l.startCall=_}),98);
__d("useZenonCallInvite",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e){var t=o("react-compiler-runtime").c(5),n;t[0]!==e?(n=function(){return e?e.getCurrentInvite():null},t[0]=e,t[1]=n):n=t[1];var r=c(n),a=r[0],i=r[1],l,s;return t[2]!==e?(l=function(){if(e){var t=e.addListener("callInvite",i);return(function(){t.remove()})}else i(null)},s=[e],t[2]=e,t[3]=l,t[4]=s):(l=t[3],s=t[4]),u(l,s),a}l.default=d}),98);
__d("ZenonPreCallHookBuilder",["CometRelay","FBLogger","Promise","ZenonPreCallHookBuilderHelper","err","gkx","promiseDone","react","react-compiler-runtime","useZenonCallInvite"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useContext,m=u.useDebugValue,p=u.useEffect,_=6e4;function f(e){function t(t){var n=o("react-compiler-runtime").c(3),r=d(e),a;return n[0]!==r||n[1]!==t?(a=function(){return o("ZenonPreCallHookBuilderHelper").acceptCall(r,t)},n[0]=r,n[1]=t,n[2]=a):a=n[2],a}return t}function g(e){function t(){var t=d(e),n=r("useZenonCallInvite")(t?t.callInviteModel:null);return m(n),n}return t}function h(e,t){return function(n,a,i){function l(){var l=o("react-compiler-runtime").c(6),s=d(e),u=n(),c=a(),m=i(),p=t(),_;return l[0]!==s||l[1]!==u||l[2]!==c||l[3]!==m||l[4]!==p?(_=function(t){if(r("gkx")("24231")){var e=t.existingCall,n=t.thread;if(!s||!s.incomingRingSDK.isCallSupported({threadType:n.type,type:"thread"}))m(t);else e:switch(n.type){case 1:{r("promiseDone")(p(babelHelpers.extends({},t,{invitees:[n.id]})));break e}case 15:{if(n.secureOneToOneThreadPeerId==null)throw r("err")("secureOneToOneThreadPeerId should be defined when starting a call from a secure 1:1 thread");r("promiseDone")(p(babelHelpers.extends({},t,{invitees:[n.secureOneToOneThreadPeerId]})));break e}case 2:case 16:{e===null||e.call_state==="NO_ONGOING_CALL"?u(t,function(e){r("promiseDone")(p(babelHelpers.extends({},t,{invitees:e})))}):c(t,function(){r("promiseDone")(p(babelHelpers.extends({},t,{invitees:[]})))});break e}default:r("FBLogger")("rtc_www").blameToPreviousFrame().mustfix("Attempted to start RTC call for unsupported thread type %d",n.type)}}},l[0]=s,l[1]=u,l[2]=c,l[3]=m,l[4]=p,l[5]=_):_=l[5],_}return l}}function y(e,t){function n(){var n=o("react-compiler-runtime").c(4),r=d(e),a=t(),i,l;n[0]!==r||n[1]!==a?(i=function(){if(r&&a&&a.type==="ringing"){var e=window.setTimeout(function(){r.callInviteModel.decline("NoAnswerTimeout")},_);return(function(){window.clearTimeout(e)})}},l=[r,a],n[0]=r,n[1]=a,n[2]=i,n[3]=l):(i=n[2],l=n[3]),p(i,l)}return n}function C(t){function a(){var a=o("react-compiler-runtime").c(2),i=d(t),l;return a[0]!==i?(l=function(a){var t=a.existingCall,l=a.extra,s=a.hideE2eeAttributions,u=a.invitees,c=a.isE2eeMandated,d=a.mediaType,m=a.representedID,p=a.thread,_=a.trigger;return r("gkx")("24231")?o("ZenonPreCallHookBuilderHelper").startCall(i,{existingCall:t,extra:l,hideE2eeAttributions:s,invitees:u,isE2eeMandated:c,mediaType:d,representedID:m,thread:p,trigger:_}):(e||(e=n("Promise"))).resolve()},a[0]=i,a[1]=l):l=a[1],l}return a}function b(t){function a(){var a=o("react-compiler-runtime").c(3),i=d(t),l=o("CometRelay").useRelayEnvironment(),s;return a[0]!==i||a[1]!==l?(s=function(a,s,u,c){return r("gkx")("24231")?o("ZenonPreCallHookBuilderHelper").createMeetup(i,l,a,s,u,c):(e||(e=n("Promise"))).resolve(null)},a[0]=i,a[1]=l,a[2]=s):s=a[2],s}return a}function v(t){function a(){var a=o("react-compiler-runtime").c(2),i=d(t),l;return a[0]!==i?(l=function(a,l){var t=l===void 0?{}:l;if(!r("gkx")("24231"))return(e||(e=n("Promise"))).resolve();var s=t!=null?t:{},u=s.actorID,c=s.callbackUsers,d=s.mediaType,m=s.referrerContext,p=s.startCallImmediately,_=s.trigger;return o("ZenonPreCallHookBuilderHelper").joinMeetup({actorID:u,callback_users:c,context:i,forceSkipChildLobby:!1,hasVideo:d!=null?d==="video":!0,linkUrl:a,referrerContext:m,startCallImmediately:p,trigger:_})},a[0]=i,a[1]=l):l=a[1],l}return a}l.createAcceptCallCallbackHook=f,l.createCallInviteHook=g,l.createInviteAndStartCallCallbackHookFactory=h,l.createNoAnswerTimeoutHook=y,l.createStartCallCallbackHook=C,l.createCreateMeetupCallbackHook=b,l.createJoinMeetupCallbackHook=v}),98);
__d("IGWebPreCallHooks",["IGWebPreCallContext","ZenonPreCallHookBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=o("ZenonPreCallHookBuilder").createAcceptCallCallbackHook(r("IGWebPreCallContext")),s=o("ZenonPreCallHookBuilder").createCallInviteHook(r("IGWebPreCallContext")),u=o("ZenonPreCallHookBuilder").createStartCallCallbackHook(r("IGWebPreCallContext"));l.useAcceptCallCallback=e,l.useCallInvite=s,l.useStartCallCallback=u}),98);
__d("useBlinkDocumentTitle",["DocumentTitle","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(3),n,a;t[0]!==e?(n=function(){if(e==null)return c;var t=r("DocumentTitle").blink(e);return(function(){t.stop()})},a=[e],t[0]=e,t[1]=n,t[2]=a):(n=t[1],a=t[2]),s(n,a)}function c(){}l.default=u}),98);
__d("PolarisIncomingCallBlinkingTitle.react",["fbt","PolarisCallGatingHelpers","react","react-compiler-runtime","useBlinkDocumentTitle"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),n=e.callerName,r;return t[0]!==n?(r=o("PolarisCallGatingHelpers").isWebCallingEnabled()&&n!=null?u.jsx(d,{callerName:n}):null,t[0]=n,t[1]=r):r=t[1],r}function d(e){var t=o("react-compiler-runtime").c(2),n=e.callerName,a;return t[0]!==n?(a=s._(/*BTDS*/"{caller_name} is calling",[s._param("caller_name",n)]),t[0]=n,t[1]=a):a=t[1],r("useBlinkDocumentTitle")(a),null}l.default=c}),226);
__d("PolarisIncomingCall.react",["fbt","IGCoreModal.react","IGDSBox.react","IGDSCallFilled24Icon.react","IGDSIconButton.react","IGDSTextVariants.react","IGDSVideoChatFilled24Icon.react","IGDSXFilledIcon.react","IGWebPreCallContext","IGWebPreCallHooks","PolarisCallGatingHelpers","PolarisCallNavigator","PolarisDirectLogger","PolarisDirectStrings","PolarisIGCoreText","PolarisIncomingCallActions","PolarisIncomingCallBlinkingTitle.react","PolarisReactRedux.react","PolarisUserAvatar.react","ZenonCallInviteModelTypes","bx","intlList","promiseDone","react","usePolarisMQTT"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useContext,m=c.useEffect;function p(){var e,t=function(t){if(t&&t.type===o("ZenonCallInviteModelTypes").CallInviteModelType.ringing){var e,n,a=(e=t.controllerParams.serverInfoData)!=null?e:"",i=t.requestingVideo,l=(n=t.controllerParams.appMessages)==null?void 0:n.ring_data,s="",u="",c="",d=[];if(l!=null){var m=JSON.parse(l),p=m.display_name,_=m.display_uri,f=m.group_name,g=m.ig_thread_id,h=m.participant_usernames;if(c=p,u=f,s=g,d.push(_),!u){var y=h;try{y=JSON.parse(h)}catch(e){}u=Array.isArray(y)?r("intlList")([c].concat(y),r("intlList").CONJUNCTIONS.NONE).toString():c}}return{avatarUris:d,callerName:c,hasVideo:i,igThreadId:s,serverInfoData:a,threadName:u}}else return null},n=o("IGWebPreCallHooks").useCallInvite(),a=(e=n==null?void 0:n.isE2eeMandated)!=null?e:!1,i=o("IGWebPreCallHooks").useAcceptCallCallback(!0),l=o("PolarisReactRedux.react").useDispatch(),c=r("usePolarisMQTT")(),p=d(r("IGWebPreCallContext")),_=p?p.callInviteModel:null,f=o("PolarisReactRedux.react").useSelector(function(e){return e.incomingCall}),g=f.acknowledged,h=f.avatarUris,y=f.callerName,C=f.hasVideo,b=f.igThreadId,v=f.serverInfoData,S=f.threadName,R=n?t(n):null;R!=null?(h=R.avatarUris,y=R.callerName,C=R.hasVideo,b=R.igThreadId,v=R.serverInfoData,S=R.threadName,g=!1):o("PolarisCallGatingHelpers").isWebCallingEnabled()&&(g=!0);var L=function(){o("PolarisDirectLogger").DirectLogger.logDirectEvent("IncomingCall","join_button_click",{has_video:C,ig_thread_id:b,server_info_data:v}),a?r("promiseDone")(i({trigger:"incoming_call_modal"})):(l(o("PolarisIncomingCallActions").ackCall()),b!=null&&o("PolarisCallNavigator").launchCall(b,!!C,v))},E=!g&&v!=null&&b!=null&&o("PolarisCallGatingHelpers").isWebCallingEnabled();m(function(){E&&o("PolarisDirectLogger").DirectLogger.logDirectEvent("IncomingCall","incoming_call_impression",{has_video:C,ig_thread_id:b,server_info_data:v})},[C,b,E,v]);var k=function(){o("PolarisDirectLogger").DirectLogger.logDirectEvent("IncomingCall","decline_button_click",{has_video:C,ig_thread_id:b,server_info_data:v}),o("PolarisCallGatingHelpers").isWebCallingEnabled()?_==null||_.decline():(l(o("PolarisIncomingCallActions").ackCall()),v!=null&&c!=null&&r("promiseDone")(c.sendRtcHangupRequest(v)))},I=C?s._(/*BTDS*/"Incoming video call..."):s._(/*BTDS*/"Incoming audio call...");return E?u.jsxs(r("IGCoreModal.react"),{size:"small",children:[u.jsx("audio",{autoPlay:!0,loop:!0,children:u.jsx("source",{src:r("bx").getURL(r("bx")("6022")),type:"audio/m4a"})}),u.jsx(r("PolarisIncomingCallBlinkingTitle.react"),{callerName:y}),u.jsxs(r("IGDSBox.react"),{alignItems:"center",alignSelf:"center",height:312,justifyContent:"center",padding:8,position:"relative",children:[u.jsx(r("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:h&&h.length>0?h[0]:null,size:92}),u.jsx(r("IGDSBox.react"),{marginBottom:2,marginTop:4,maxWidth:400,paddingX:8,position:"relative",children:u.jsx(r("PolarisIGCoreText"),{display:"truncated",Element:"h2",size:"headline2",textAlign:"center",weight:"semibold",zeroMargin:!0,children:S})}),u.jsx(r("IGDSBox.react"),{direction:"row",justifyContent:"center",marginBottom:8,position:"relative",children:u.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",zeroMargin:!0,children:I})}),u.jsxs(r("IGDSBox.react"),{direction:"row",position:"relative",children:[u.jsx(r("IGDSBox.react"),{marginEnd:6,position:"relative",children:u.jsx(r("IGDSIconButton.react"),{onClick:k,padding:0,children:u.jsx("div",{className:"x6s0dn4 xvs2etk xg3wpu6 x1jwbhkm xgg4q86 x78zum5 xdd8jsf xl56j7k xvni27 x1mkg91h",children:u.jsx(r("IGDSXFilledIcon.react"),{alt:o("PolarisDirectStrings").DECLINE_CALL_MODAL_STRING,color:"web-always-white","data-testid":void 0})})})}),u.jsx(r("IGDSIconButton.react"),{onClick:L,padding:0,children:u.jsx("div",{className:"x6s0dn4 xvs2etk xg3wpu6 x1jwbhkm xgg4q86 x78zum5 xdd8jsf xl56j7k xvni27 x44zu8b",children:C?u.jsx(r("IGDSVideoChatFilled24Icon.react"),{alt:o("PolarisDirectStrings").JOIN_CALL_MODAL_STRING,color:"web-always-white"}):u.jsx(r("IGDSCallFilled24Icon.react"),{alt:o("PolarisDirectStrings").JOIN_CALL_MODAL_STRING,color:"web-always-white"})})})]})]})]}):null}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),226);
__d("VideoChatLinksUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1={}}var t=e.prototype;return t.log=function(t){n("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,n("Banzai").BASIC,t)},t.logVital=function(t){n("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,n("Banzai").VITAL,t)},t.logImmediately=function(t){n("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,{signal:!0},t)},t.clear=function(){return this.$1={},this},t.getData=function(){return babelHelpers.extends({},this.$1)},t.updateData=function(t){return this.$1=babelHelpers.extends({},this.$1,t),this},t.setCallEndReason=function(t){return this.$1.call_end_reason=t,this},t.setCallID=function(t){return this.$1.call_id=t,this},t.setCameraEnabled=function(t){return this.$1.camera_enabled=t,this},t.setClientAppVersion=function(t){return this.$1.client_app_version=t,this},t.setClientLockStatus=function(t){return this.$1.client_lock_status=t,this},t.setClientMonoTimeMs=function(t){return this.$1.client_mono_time_ms=t,this},t.setClienttime=function(t){return this.$1.clienttime=t,this},t.setComponent=function(t){return this.$1.component=t,this},t.setConferenceNameRaw=function(t){return this.$1.conference_name_raw=t,this},t.setCreationAction=function(t){return this.$1.creation_action=t,this},t.setErrorDetails=function(t){return this.$1.error_details=t,this},t.setErrorType=function(t){return this.$1.error_type=t,this},t.setEvent=function(t){return this.$1.event=t,this},t.setEventDetails=function(t){return this.$1.event_details=n("GeneratedLoggerUtils").serializeMap(t),this},t.setEventFireTimestamp=function(t){return this.$1.event_fire_timestamp=t,this},t.setEventFireTimestampOnClient=function(t){return this.$1.event_fire_timestamp_on_client=t,this},t.setExceptionObject=function(t){return this.$1.exception_object=t,this},t.setExperimentsEnabled=function(t){return this.$1.experiments_enabled=n("GeneratedLoggerUtils").serializeMap(t),this},t.setFalcoBatchSequence=function(t){return this.$1.falco_batch_sequence=t,this},t.setFunnelSessionIDRaw=function(t){return this.$1.funnel_session_id_raw=t,this},t.setGroupID=function(t){return this.$1.group_id=t,this},t.setGroupSize=function(t){return this.$1.group_size=t,this},t.setGuestUserID=function(t){return this.$1.guest_user_id=t,this},t.setKickedUserID=function(t){return this.$1.kicked_user_id=t,this},t.setLinkShareTo=function(t){return this.$1.link_share_to=t,this},t.setLocalCallID=function(t){return this.$1.local_call_id=t,this},t.setMediaDevices=function(t){return this.$1.media_devices=t,this},t.setMicrophoneEnabled=function(t){return this.$1.microphone_enabled=t,this},t.setOpenLinkFrom=function(t){return this.$1.open_link_from=t,this},t.setOpenLinkFromAppVersion=function(t){return this.$1.open_link_from_app_version=t,this},t.setReason=function(t){return this.$1.reason=t,this},t.setReferralSurface=function(t){return this.$1.referral_surface=t,this},t.setRoomIDRaw=function(t){return this.$1.room_id_raw=t,this},t.setServerInfoData=function(t){return this.$1.server_info_data=t,this},t.setSource=function(t){return this.$1.source=t,this},t.setStatus=function(t){return this.$1.status=t,this},t.setSurface=function(t){return this.$1.surface=t,this},t.setTargetedUserIds=function(t){return this.$1.targeted_user_ids=n("GeneratedLoggerUtils").serializeVector(t),this},t.setThreadSyncRoomData=function(t){return this.$1.thread_sync_room_data=n("GeneratedLoggerUtils").serializeMap(t),this},t.setThreadType=function(t){return this.$1.thread_type=t,this},t.setUserIdsToBeRemoved=function(t){return this.$1.user_ids_to_be_removed=n("GeneratedLoggerUtils").serializeVector(t),this},t.setVideoCallLinkHashRaw=function(t){return this.$1.video_call_link_hash_raw=t,this},t.setVideoCallLinkIDRaw=function(t){return this.$1.video_call_link_id_raw=t,this},t.setVideoCallLinkIdentifierRaw=function(t){return this.$1.video_call_link_identifier_raw=t,this},t.setVideoCallLinkURLRaw=function(t){return this.$1.video_call_link_url_raw=t,this},t.updateExtraData=function(t){var e=n("nullthrows")(n("GeneratedLoggerUtils").serializeMap(t));return n("GeneratedLoggerUtils").checkExtraDataFieldNames(e,l),this.$1=babelHelpers.extends({},this.$1,e),this},t.addToExtraData=function(t,n){var e={};return e[t]=n,this.updateExtraData(e)},e})(),l={call_end_reason:!0,call_id:!0,camera_enabled:!0,client_app_version:!0,client_lock_status:!0,client_mono_time_ms:!0,clienttime:!0,component:!0,conference_name_raw:!0,creation_action:!0,error_details:!0,error_type:!0,event:!0,event_details:!0,event_fire_timestamp:!0,event_fire_timestamp_on_client:!0,exception_object:!0,experiments_enabled:!0,falco_batch_sequence:!0,funnel_session_id_raw:!0,group_id:!0,group_size:!0,guest_user_id:!0,kicked_user_id:!0,link_share_to:!0,local_call_id:!0,media_devices:!0,microphone_enabled:!0,open_link_from:!0,open_link_from_app_version:!0,reason:!0,referral_surface:!0,room_id_raw:!0,server_info_data:!0,source:!0,status:!0,surface:!0,targeted_user_ids:!0,thread_sync_room_data:!0,thread_type:!0,user_ids_to_be_removed:!0,video_call_link_hash_raw:!0,video_call_link_id_raw:!0,video_call_link_identifier_raw:!0,video_call_link_url_raw:!0};i.default=e}),66);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceCheckPoint",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("I64"))).of_string("63"),u=e.of_string("65"),c=e.of_string("98"),d=e.of_string("504"),m=e.of_string("1000"),p=e.of_string("1001"),_=e.of_string("1204"),f=e.of_string("1210"),g=e.of_string("1224"),h=e.of_string("1234"),y=e.of_string("1225"),C=e.of_string("2220");l.traceGroupMessage=s,l.armadilloActMessageSend=u,l.traceCreated=c,l.richMediaMediaSendAttachmentType=d,l.traceTextMessage=m,l.traceMediaMessage=p,l.advancedCryptoMEMSendTaskComplete=_,l.deliveryReceiptReceived=f,l.advancedCryptoMEMEncryptionDeviceCount=g,l.advancedCryptoGroupDualSend=h,l.advancedCryptoDualSend=y,l.armadilloTlcControlOpenThread=C}),98);
__d("CometPageletImpl.react",["hero-tracing"],(function(t,n,r,o,a,i,l){"use strict";l.default=o("hero-tracing").HeroPagelet}),98);
__d("CometSuspenseList.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.unstable_SuspenseList;l.default=u}),98);
__d("useCometIgnoreLateMutation",["react","react-compiler-runtime","vc-tracker"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){if(n&&e){var t=r("vc-tracker").getCurrentNavigationVCTrace();t!=null&&t.interactionType==="INITIAL_LOAD"&&t.addLateMutationIgnoreElement(n)}},t[0]=e,t[1]=n):n=t[1],n}l.default=u}),98);
__d("CometPageletWithDiv.react",["CometBackupPlaceholder.react","CometPageletImpl.react","CometPlaceholder.react","CometSuspenseList.react","LegacyHidden","gkx","react","react-compiler-runtime","useCometIgnoreLateMutation","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","children","className","fallback","hidden","ignoreLateMutation","name","pageletAriaProps","pageletLogNamePoisitionLimit","position"],s=["ref","children","className","fallback","hidden","ignoreLateMutation","name","pageletAriaProps","pageletLogNamePoisitionLimit","position"],u=["ref","children","className","hidden","name","pageletAriaProps","position","revealOrder","tail"],c=["ref","children","className","hidden","name","pageletAriaProps","position"],d,m=d||(d=o("react"));function p(t){var n=o("react-compiler-runtime").c(35),a,i,l,s,u,c,d,p,_,f,g;n[0]!==t?(s=t.ref,a=t.children,i=t.className,l=t.fallback,u=t.hidden,c=t.ignoreLateMutation,d=t.name,p=t.pageletAriaProps,_=t.pageletLogNamePoisitionLimit,g=t.position,f=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=u,n[6]=c,n[7]=d,n[8]=p,n[9]=_,n[10]=f,n[11]=g):(a=n[1],i=n[2],l=n[3],s=n[4],u=n[5],c=n[6],d=n[7],p=n[8],_=n[9],f=n[10],g=n[11]);var h;if(n[12]!==d||n[13]!==_||n[14]!==g){h=d;var y=_!=null?_:2;g!=null&&g<y?h=h+("_"+g):g!=null&&(h=h+"_{n}"),n[12]=d,n[13]=_,n[14]=g,n[15]=h}else h=n[15];var C=r("gkx")("26331"),b;n[16]!==h?(b=C?null:{"data-pagelet":h},n[16]=h,n[17]=b):b=n[17];var v;n[18]!==b?(v=babelHelpers.extends({},b),n[18]=b,n[19]=v):v=n[19];var S=v,R=r("useCometIgnoreLateMutation")(c===!0),L=r("useMergeRefs")(s,R),E;n[20]!==a||n[21]!==i||n[22]!==l||n[23]!==u||n[24]!==S||n[25]!==h||n[26]!==p?(E=function(t,n){return m.jsxs(r("CometPlaceholder.react"),{fallback:l,name:h,children:[m.jsx(n,{}),m.jsx(r("LegacyHidden"),{htmlAttributes:babelHelpers.extends({className:i},p,S),mode:u===!0?"hidden":"visible",ref:t,children:a})]})},n[20]=a,n[21]=i,n[22]=l,n[23]=u,n[24]=S,n[25]=h,n[26]=p,n[27]=E):E=n[27];var k;return n[28]!==h||n[29]!==L||n[30]!==d||n[31]!==f||n[32]!==g||n[33]!==E?(k=m.jsx(r("CometPageletImpl.react"),babelHelpers.extends({},f,{name:h,pageletName:d,position:g,ref:L,children:E})),n[28]=h,n[29]=L,n[30]=d,n[31]=f,n[32]=g,n[33]=E,n[34]=k):k=n[34],k}function _(e){var t=o("react-compiler-runtime").c(29),n,a,i,l,u,c,d,p,_,f,g;t[0]!==e?(l=e.ref,n=e.children,a=e.className,i=e.fallback,u=e.hidden,c=e.ignoreLateMutation,d=e.name,p=e.pageletAriaProps,_=e.pageletLogNamePoisitionLimit,g=e.position,f=babelHelpers.objectWithoutPropertiesLoose(e,s),t[0]=e,t[1]=n,t[2]=a,t[3]=i,t[4]=l,t[5]=u,t[6]=c,t[7]=d,t[8]=p,t[9]=_,t[10]=f,t[11]=g):(n=t[1],a=t[2],i=t[3],l=t[4],u=t[5],c=t[6],d=t[7],p=t[8],_=t[9],f=t[10],g=t[11]);var h=d,y=_!=null?_:2;g!=null&&g<y?h=h+("_"+g):g!=null&&(h=h+"_{n}");var C=r("gkx")("26331"),b;t[12]!==h?(b=C?null:{"data-pagelet":h},t[12]=h,t[13]=b):b=t[13];var v;t[14]!==b?(v=babelHelpers.extends({},b),t[14]=b,t[15]=v):v=t[15];var S=v,R=r("useCometIgnoreLateMutation")(c===!0),L=r("useMergeRefs")(l,R),E;t[16]!==n||t[17]!==a||t[18]!==i||t[19]!==u||t[20]!==S||t[21]!==p?(E=function(t,o){return m.jsxs(r("CometBackupPlaceholder.react"),{fallback:i,children:[m.jsx(o,{}),m.jsx(r("LegacyHidden"),{htmlAttributes:babelHelpers.extends({},S,p,{className:a}),mode:u===!0?"hidden":"visible",ref:t,children:n})]})},t[16]=n,t[17]=a,t[18]=i,t[19]=u,t[20]=S,t[21]=p,t[22]=E):E=t[22];var k;return t[23]!==h||t[24]!==L||t[25]!==f||t[26]!==g||t[27]!==E?(k=m.jsx(r("CometPageletImpl.react"),babelHelpers.extends({},f,{name:h,position:g,ref:L,children:E})),t[23]=h,t[24]=L,t[25]=f,t[26]=g,t[27]=E,t[28]=k):k=t[28],k}function f(e){var t=o("react-compiler-runtime").c(29),n,a,i,l,s,c,d,p,_,f;t[0]!==e?(i=e.ref,n=e.children,a=e.className,l=e.hidden,s=e.name,c=e.pageletAriaProps,p=e.position,_=e.revealOrder,f=e.tail,d=babelHelpers.objectWithoutPropertiesLoose(e,u),t[0]=e,t[1]=n,t[2]=a,t[3]=i,t[4]=l,t[5]=s,t[6]=c,t[7]=d,t[8]=p,t[9]=_,t[10]=f):(n=t[1],a=t[2],i=t[3],l=t[4],s=t[5],c=t[6],d=t[7],p=t[8],_=t[9],f=t[10]);var g=s;p!=null&&p<2?g=g+("_"+p):p!=null&&(g=g+"_{n}");var h=r("gkx")("26331"),y;t[11]!==g?(y=h?null:{"data-pagelet":g},t[11]=g,t[12]=y):y=t[12];var C;t[13]!==y?(C=babelHelpers.extends({},y),t[13]=y,t[14]=C):C=t[14];var b=C,v;t[15]!==n||t[16]!==a||t[17]!==l||t[18]!==b||t[19]!==c||t[20]!==_||t[21]!==f?(v=function(t,o){return m.jsxs(r("LegacyHidden"),{htmlAttributes:babelHelpers.extends({className:a},c,b),mode:l===!0?"hidden":"visible",ref:t,children:[m.jsx(o,{}),m.jsx(r("CometSuspenseList.react"),{revealOrder:_,tail:f,children:n})]})},t[15]=n,t[16]=a,t[17]=l,t[18]=b,t[19]=c,t[20]=_,t[21]=f,t[22]=v):v=t[22];var S;return t[23]!==i||t[24]!==g||t[25]!==d||t[26]!==p||t[27]!==v?(S=m.jsx(r("CometPageletImpl.react"),babelHelpers.extends({},d,{name:g,position:p,ref:i,children:v})),t[23]=i,t[24]=g,t[25]=d,t[26]=p,t[27]=v,t[28]=S):S=t[28],S}function g(e){var t=o("react-compiler-runtime").c(25),n,a,i,l,s,u,d,p;t[0]!==e?(i=e.ref,n=e.children,a=e.className,l=e.hidden,s=e.name,u=e.pageletAriaProps,p=e.position,d=babelHelpers.objectWithoutPropertiesLoose(e,c),t[0]=e,t[1]=n,t[2]=a,t[3]=i,t[4]=l,t[5]=s,t[6]=u,t[7]=d,t[8]=p):(n=t[1],a=t[2],i=t[3],l=t[4],s=t[5],u=t[6],d=t[7],p=t[8]);var _=s;p!=null&&p<2?_=_+("_"+p):p!=null&&(_=_+"_{n}");var f=r("gkx")("26331"),g;t[9]!==_?(g=f?null:{"data-pagelet":_},t[9]=_,t[10]=g):g=t[10];var h;t[11]!==g?(h=babelHelpers.extends({},g),t[11]=g,t[12]=h):h=t[12];var y=h,C;t[13]!==n||t[14]!==a||t[15]!==l||t[16]!==y||t[17]!==u?(C=function(t,o){return m.jsxs(m.Fragment,{children:[m.jsx(o,{}),m.jsx(r("LegacyHidden"),{htmlAttributes:babelHelpers.extends({},y,u,{className:a}),mode:l===!0?"hidden":"visible",ref:t,children:n})]})},t[13]=n,t[14]=a,t[15]=l,t[16]=y,t[17]=u,t[18]=C):C=t[18];var b;return t[19]!==i||t[20]!==_||t[21]!==d||t[22]!==p||t[23]!==C?(b=m.jsx(r("CometPageletImpl.react"),babelHelpers.extends({},d,{name:_,position:p,ref:i,children:C})),t[19]=i,t[20]=_,t[21]=d,t[22]=p,t[23]=C,t[24]=b):b=t[24],b}l.Placeholder=p,l.BackupPlaceholder=_,l.SuspenseList=f,l.Div=g}),98);
__d("EntMessageReplyType",[],(function(t,n,r,o,a,i){var e=Object.freeze({REGULAR:0,BUMP:1});i.default=e}),66);
__d("IGDChatTabsQPLInstanceKeyContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useState,_=c({setThreadListKey:r("emptyFunction"),setThreadViewKey:r("emptyFunction"),threadListKey:0,threadViewKeys:{}});function f(e){var t=o("react-compiler-runtime").c(10),n=e.children,r=p(0),a=r[0],i=r[1],l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={},t[0]=l):l=t[0];var u=p(l),c=u[0],d=u[1],m;t[1]!==c?(m=function(t,n){var e;d(babelHelpers.extends({},c,(e={},e[t]=n,e)))},t[1]=c,t[2]=m):m=t[2];var f;t[3]!==m||t[4]!==a||t[5]!==c?(f={setThreadListKey:i,setThreadViewKey:m,threadListKey:a,threadViewKeys:c},t[3]=m,t[4]=a,t[5]=c,t[6]=f):f=t[6];var g=f,h;return t[7]!==n||t[8]!==g?(h=s.jsx(_.Provider,{value:g,children:n}),t[7]=n,t[8]=g,t[9]=h):h=t[9],h}function g(){return d(_)}l.IGDChatTabsQPLInstanceKeyContextProvider=f,l.useIGDChatTabsQPLInstanceKeyContext=g}),98);
__d("LSIssueNewError",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(r){return n[0]=t.i64.of_float(Date.now()),t.db.table(6).add({errorId:void 0,taskId:e[0],errorCode:e[1],errorTitleText:e[2],errorBodyText:e[3],issuedTimestampMs:n[0],errorExtraData:e[4],presentationStyle:e[5]})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreIssueNewErrorStoredProcedure",e.__tables__=["user_visible_errors"],a.exports=e}),null);
__d("LSIssueNewErrorStoredProcedure",["LSIssueNewError","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueNewError"),a.taskId,a.errorCode,a.errorTitleText,a.errorBodyText,a.errorExtraData,a.presentationStyle);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMessageSearchType",[],(function(t,n,r,o,a,i){var e=Object.freeze({THREAD:1,MESSAGE:2});i.default=e}),66);
__d("LSMessageUnsendabilityStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({CAN_UNSEND:0,DENY_LOG_MESSAGE:1,DENY_TOMBSTONE_MESSAGE:2,DENY_FOR_NON_SENDER:3,DENY_P2P_PAYMENT:4,DENY_STORY_REACTION:5,DENY_BLOB_ATTACHMENT:6,DENY_MESSAGE_NOT_FOUND:7,DENY_MESSAGE_INSTAGRAM_DIRECT_WRITE_RESTRICTION:8});i.default=e}),66);
__d("LSOptimisticAcceptMessageRequest",["LSIssueNewTaskWithExtraOperations"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?0:(a=l.item,t.sequence([function(n){return r[1]=a.threadSubtype,t.i64.eq(r[1],t.i64.cast([0,75]))?r[0]="interop":r[0]="inbox",t.i64.eq(r[1],t.i64.cast([0,75]))?r[2]=t.i64.cast([-1,4294967277]):r[2]=t.i64.cast([0,0]),t.forEach(t.db.table(9).fetch([[[e[0]]]]),function(n){var o=n.update,i=n.item;return o({folderName:r[0],parentThreadKey:r[2],igFolder:e[1],capabilities:t.i64.and_(a.capabilities,t.i64.cast([-1,4292870143]))})})},function(n){return t.db.table(173).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?0:(n=a.item,r[7]=n.clientThreadPk,t.db.table(276).fetch([[[r[7]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?0:(n=a.item,t.i64.eq(r[2],t.i64.cast([-1,4294967277]))?r[8]=t.i64.cast([0,19]):r[8]=t.i64.cast([0,0]),t.forEach(t.db.table(276).fetch([[[r[7]]]]),function(e){var t=e.update,n=e.item;return t({folderType:r[8]})}))}))})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[3]=t.i64.cast([0,1]):(n=a.item,r[8]=n.syncGroup,t.i64.neq(r[8],void 0)?r[7]=r[8]:r[7]=t.i64.cast([0,1]),r[3]=r[7])})},function(o){return r[5]=new t.Map,r[5].set("thread_key",e[0]),r[5].set("sync_group",r[3]),r[5].set("ig_folder",e[1]),r[6]=t.toJSON(r[5]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),"message_request",t.i64.cast([0,66]),r[6],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))}]))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticAcceptMessageRequestStoredProcedure",e.__tables__=["threads","mi_act_mapping_table","client_threads"],a.exports=e}),null);
__d("LSOptimisticAcceptMessageRequestStoredProcedure",["LSOptimisticAcceptMessageRequest","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticAcceptMessageRequest"),a.threadKey,a.igFolder);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSRtcCallState",[],(function(t,n,r,o,a,i){var e=Object.freeze({NO_ONGOING_CALL:0,AUDIO_GROUP_CALL:1,VIDEO_GROUP_CALL:2,VIDEO_1TO1_CALL:3,AUDIO_1TO1_CALL:4});i.default=e}),66);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","WADbContact"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("LSContactBitOffset").hasWithDefault(64,t,!0),r=(e||(e=o("I64"))).ge(t.contactViewerRelationship,e.of_string("2"));return r&&n?o("WADbContact").ONE_WAY_CONTACT:!r&&!n?o("WADbContact").REVERSED_ONE_WAY_CONTACT:r&&!n?o("WADbContact").TWO_WAY_CONTACT:o("WADbContact").NON_CONTACT}l.getContactRelationshipType=s}),98);
__d("MAWIsIDBOperational",["FBLogger","WebAsyncStorage","asyncToGeneratorRuntime","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(e===void 0&&(e=!1),e&&!r("WebAsyncStorage").isOpenPromiseSettled())return!1;var t=yield r("WebAsyncStorage").isOperational();return t.success?!0:(r("FBLogger")("messenger_web").catching(t.error).warn("Marking MAW IDB as unavailable: %s",t.error.message),!1)}),m.apply(this,arguments)}var p=!1;function _(){var e=o("react-compiler-runtime").c(2),t=c(p),n=t[0],a=t[1],i,l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(i=function(){r("promiseDone")(d().then(function(e){a(e),p=e}))},l=[a],e[0]=i,e[1]=l):(i=e[0],l=e[1]),u(i,l),n}l.isIDBOperational=d,l.useIsIDBOperational=_}),98);
__d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE",["MAWThreadLoadingState","MWFBLogger","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MWFBLogger").MWLogger().tags(["MiActMapping","UIActions","ThreadReady"]);function c(e,t,n,r){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,a){var i=yield o("MAWThreadLoadingState").getThreadKeyIfMiThreadNotMissing(t,n);if(i==null)throw u.mustfixThrow("Missing thread key or MI mapping for jid: %s, thread action: %s, MI mapping state %s",r,n);return u.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Executing ",", jid: ",""])),r,n),a(t,i)}),d.apply(this,arguments)}function m(e,t,n,r){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a=yield o("MAWThreadLoadingState").getThreadKeyIfMiThreadNotMissing(e,t);if(a!=null)return u.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Executing ",", jid: ",""])),n,t),r(e,a)}),p.apply(this,arguments)}l.onMiThreadExistsForJid__DO_NOT_USE=c,l.onMiThreadExistsForJidNoThrow__DO_NOT_USE=m}),98);
__d("MAWOfflineQueueStatus",["FBLogger","MAWSharedProtocolQueueConst"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map,s=!1;function u(t,n){e.set(t,n),e.size>5e3&&r("FBLogger")("wmi_eb").warn("Offline queue status map size (%s) is too large",e.size)}function c(t){return e.get(t)}function d(){e=new Map,s=!1}function m(){return s}function p(){s=!0}function _(e,t){var n=Object.keys(e);n.map(function(e){u(e,t)})}function f(e){return c(e)===o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}function g(){return Array.from(e.entries()).filter(function(e){var t=e[0],n=e[1];return n!==o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete&&n!==o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed}).map(function(e){var t=e[0];return t})}l.setOfflineQueueStatus=u,l.getOfflineQueueStatus=c,l.resetOfflineQueueState=d,l.isOfflineQueueComplete=m,l.markOfflineQueueComplete=p,l.markThreadWithOfflineQueueStatus=_,l.isOfflineQueueDoneForThread=f,l.getAllThreadsWithOfflineQueueIncomplete=g}),98);
__d("MAWUIJob",["ExecutionEnvironment","MAWBridge","WAJobOrchestratorTypes","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d={priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},m={fireAndForget:function(n){var t;(c||(c=r("ExecutionEnvironment"))).isInWorker&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters fireAndForget called in the worker, which is a bug for job: ",""])),n.type),o("MAWBridge").getBridge().fireAndForget("backend","runJobFireAndForget",babelHelpers.extends({},n,{scheduleConfig:(t=n.scheduleConfig)!=null?t:d}))},waitUntilCompleted:function(t,n,a){var e;(c||(c=r("ExecutionEnvironment"))).isInWorker&&o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilCompleted called in the worker, which is a bug for job: ",""])),t.type);var i=o("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilCompleted",babelHelpers.extends({},t,{scheduleConfig:(e=t.scheduleConfig)!=null?e:d}),void 0,n,a);return i},waitUntilPersisted:function(t,n,a){var e;(c||(c=r("ExecutionEnvironment"))).isInWorker&&o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilPersisted called in the worker, which is a bug for job: ",""])),t.type);var i=o("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilPersisted",babelHelpers.extends({},t,{scheduleConfig:(e=t.scheduleConfig)!=null?e:d}),void 0,n,a);return i}};l.UIJobStarters=m}),98);
__d("MNLSXMATemplateType",[],(function(t,n,r,o,a,i){var e=Object.freeze({GENERIC_SHARE:0,DEFAULT:-1});i.default=e}),66);
__d("MWXSpinner.react",["fbt","ScreenReaderText.react","cr:5028","cr:8931","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=function(t){return t<=12?12:t<=16?16:t<=24?24:32};function d(e){var t=o("react-compiler-runtime").c(9),a=e.color,i=e.size,l=e.xstyle,d=a==="disabled_DEPRECATED"?"dark":a;if(n("cr:8931")!=null){var m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsx(r("ScreenReaderText.react"),{text:s._(/*BTDS*/"Loading...")}),t[0]=m):m=t[0];var p;return t[1]!==d||t[2]!==i||t[3]!==l?(p=u.jsxs(o("react-strict-dom").html.div,{children:[m,u.jsx(n("cr:8931"),{color:d,isDecorative:!0,size:i,xstyle:l})]}),t[1]=d,t[2]=i,t[3]=l,t[4]=p):p=t[4],p}if(n("cr:5028")!=null){var _=d==="blue"?"blue":"grey",f;t[5]===Symbol.for("react.memo_cache_sentinel")?(f=c(16),t[5]=f):f=t[5];var g;return t[6]!==_||t[7]!==l?(g=u.jsx(n("cr:5028"),{color:_,size:f,xstyle:l}),t[6]=_,t[7]=l,t[8]=g):g=t[8],g}return null}l.default=d}),226);
__d("MessagingFolderTag",[],(function(t,n,r,o,a,i){var e=Object.freeze({INBOX:"inbox",OTHER:"other",SPAM:"spam",PENDING:"pending",MONTAGE:"montage",HIDDEN:"hidden",LEGACY:"legacy",DISABLED:"disabled",PAGE_BACKGROUND:"page_background",PAGE_DONE:"page_done",BLOCKED:"blocked",COMMUNITY:"community",RESTRICTED:"restricted",BC_PARTNERSHIP:"bc_partnership",E2EE_CUTOVER:"e2ee_cutover",E2EE_CUTOVER_ARCHIVED:"e2ee_cutover_archived",E2EE_CUTOVER_PENDING:"e2ee_cutover_pending",E2EE_CUTOVER_OTHER:"e2ee_cutover_other",E2EE_CUTOVER_RESTRICTED:"e2ee_cutover_restricted",INTEROP:"interop",INTEROP_PENDING:"interop_pending",ARCHIVED:"archived",AI_ACTIVE:"ai_active",SALSA_RESTRICTED:"salsa_restricted",MESSENGER_MARKETING_MESSAGE:"messenger_marketing_message",SECRET_CONVERSATIONS:"secret_conversations",WEBCHAT_PLUGIN:"webchat_plugin",NFB_OVERFLOW:"nfb_overflow",META_AI_THREAD:"meta_ai_thread",META_AI_GROUP_SIDE_CHAT:"meta_ai_group_side_chat",META_AI_IG_GROUP_SIDE_CHAT:"meta_ai_ig_group_side_chat",UNKNOWN:""});i.default=e}),66);
__d("isMWBumpMessage",["EntMessageReplyType","I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return t!=null&&(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").BUMP))}l.default=u}),98);/*FB_PKG_DELIM*/
__d("IGDUncaughtErrorState.react",["FBLogger","PolarisHttp500UnexpectedErrorPage.react","cr:8915","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){if(n("cr:8915")!=null&&e!=null&&e instanceof n("cr:8915").ReStoreDbVersionChange){r("FBLogger")("igd_web").info(e);return}r("FBLogger")("igd_web").catching(e).mustfix("Uncaught Error while loading chat: %s",e.toString())}function d(e){var t=o("react-compiler-runtime").c(7),n=e.description,a=e.error,i=e.header,l=e.onPress,d,m;t[0]!==a?(d=function(){c(a)},m=[a],t[0]=a,t[1]=d,t[2]=m):(d=t[1],m=t[2]),u(d,m);var p=n!=null?n:void 0,_=i!=null?i:void 0,f;return t[3]!==l||t[4]!==p||t[5]!==_?(f=s.jsx(r("PolarisHttp500UnexpectedErrorPage.react"),{description:p,header:_,onClick:l}),t[3]=l,t[4]=p,t[5]=_,t[6]=f):f=t[6],f}l.default=d}),98);
__d("IGDInboxErrorState.react",["IGDUncaughtErrorState.react","cr:9977","react","react-compiler-runtime","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=o("react-compiler-runtime").c(10),a=e.error,i=a,l=r("useCurrentDisplayMode")(),u;t[0]!==a||t[1]!==l?(u=n("cr:9977")==null?void 0:n("cr:9977")(a,l),t[0]=a,t[1]=l,t[2]=u):u=t[2];var c=u;if(c!=null){var d,m=(d=c.action)==null?void 0:d.onPress,p;return t[3]!==c.body||t[4]!==c.headline||t[5]!==i||t[6]!==m?(p=s.jsx(r("IGDUncaughtErrorState.react"),{description:c.body,error:i,header:c.headline,onPress:m}),t[3]=c.body,t[4]=c.headline,t[5]=i,t[6]=m,t[7]=p):p=t[7],p}else{var _;return t[8]!==a?(_=s.jsx(r("IGDUncaughtErrorState.react"),{error:a}),t[8]=a,t[9]=_):_=t[9],_}}l.default=c}),98);
__d("LSBeginHandlingSyncForSyncGroup",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(o){return t.sequence([function(r){return t.db.table(1).fetch([[[e[0]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?n[0]=void 0:(r=a.item,n[9]=new t.Map,n[9].set("group_id",r.groupId),n[9].set("current_cursor",r.currentCursor),n[9].set("sync_status",r.syncStatus),n[9].set("sync_params",r.syncParams),n[9].set("send_sync_params",r.sendSyncParams),n[9].set("min_time_to_sync_timestamp_ms",r.minTimeToSyncTimestampMs),n[9].set("can_ignore_timestamp",r.canIgnoreTimestamp),n[9].set("sync_channel",r.syncChannel),n[9].set("last_sync_request_timestamp_ms",r.lastSyncRequestTimestampMs),n[0]=n[9])})},function(r){var o;return n[0]?n[2]=!1:n[2]=!0,n[2]?t.resolve((o=[e[0],void 0,t.i64.cast([0,4]),void 0,!1],n[3]=o[0],n[4]=o[1],n[5]=o[2],n[6]=o[3],n[7]=o[4],o)):t.sequence([function(e){return n[9]=n[0].get("group_id"),t.filter(t.db.table(3).fetch(),function(e){return t.i64.neq(e.epochId,void 0)&&t.i64.eq(e.syncDatabaseId,n[9])}).next().then(function(e,t){var r=e.done,o=e.value;return r?n[10]=!1:(t=o.item,n[10]=!0)})},function(r){var o;return n[10]?t.resolve((n[17]=n[0].get("group_id"),o=[n[17],void 0,t.i64.cast([0,4]),void 0,!1],n[12]=o[0],n[13]=o[1],n[14]=o[2],n[15]=o[3],n[16]=o[4])):t.sequence([function(r){return n[17]=t.i64.of_float(Date.now()),n[18]=n[0].get("min_time_to_sync_timestamp_ms"),n[19]=n[0].get("last_sync_request_timestamp_ms"),n[20]=n[0].get("can_ignore_timestamp"),n[20]&&e[1]||t.i64.ge(n[17],n[18])?t.sequence([function(r){return e[1]?t.resolve(n[28]=t.i64.cast([0,0])):t.sequence([function(e){return n[29]=n[0].get("group_id"),t.db.table(3).fetch([[["",n[29]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?n[30]=t.i64.cast([0,0]):(r=a.item,n[30]=r.failureCount)})},function(e){return n[32]=t.i64.mul(t.i64.sub(t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.lt(t.i64.cast([0,15]),n[30])?t.i64.cast([0,15]):n[30])),t.i64.cast([0,1])),t.i64.cast([0,500])),n[33]=t.i64.sub(t.i64.add(n[19]==null?t.i64.cast([0,0]):n[19],t.i64.lt(n[32],t.i64.cast([0,3e4]))?n[32]:t.i64.cast([0,3e4])),n[17]),n[28]=t.i64.gt(n[33],t.i64.cast([0,0]))?n[33]:t.i64.cast([0,0])}])},function(e){return n[21]=n[28]}]):t.resolve(n[21]=t.i64.sub(n[18],n[17]))},function(e){return n[22]=n[0].get("group_id"),t.i64.gt(n[21],t.i64.cast([0,0]))?t.sequence([function(e){return n[28]=t.i64.of_float(Date.now()),t.forEach(t.filter(t.db.table(3).fetch(),function(e){return t.i64.eq(e.syncDatabaseId,n[22])}),function(e){var t=e.update,r=e.item;return t({lastDelayedRequestTimestampMs:n[28]})})},function(e){var r;return r=[n[22],n[21],t.i64.cast([0,3]),void 0,!1],n[23]=r[0],n[24]=r[1],n[25]=r[2],n[26]=r[3],n[27]=r[4],r}]):t.sequence([function(e){return n[28]=t.i64.of_float(Date.now()),t.forEach(t.db.table(1).fetch([[[n[22]]]]),function(e){var t=e.update,r=e.item;return t({lastSyncRequestTimestampMs:n[28]})})},function(e){return n[29]=t.i64.of_float(Date.now()),t.forEach(t.filter(t.db.table(3).fetch(),function(e){return t.i64.eq(e.syncDatabaseId,n[22])}),function(e){var t=e.update,r=e.item;return t({lastSyncRequestTimestampMs:n[29]})})},function(e){return n[30]=n[0].get("group_id"),n[31]=t.i64.of_float(Date.now()),n[32]=t.i64.random(),n[45]=t.i64.and_(t.i64.or_(t.i64.lsl_(n[31],t.i64.to_int32(t.i64.cast([0,22]))),t.i64.and_(n[32],t.i64.cast([0,4194303]))),t.i64.cast([2147483647,4294967295])),t.db.table(3).fetch([[["",n[30]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?t.db.table(3).add({syncDatabaseId:n[30],taskQueueName:"",failureCount:t.i64.cast([0,0]),lastSentTimestampMs:t.i64.cast([0,0]),lastSyncRequestTimestampMs:t.i64.cast([0,0]),epochId:n[45]}):(r=a.item,t.forEach(t.db.table(3).fetch([[["",n[30]]]]),function(e){var t=e.update,r=e.item;return t({epochId:n[45]})}))})},function(e){return n[34]=n[0].get("group_id"),t.db.table(3).fetch([[["",n[34]]]]).next().then(function(e,r){var o=e.done,a=e.value;return o?n[35]=t.i64.cast([0,0]):(r=a.item,n[35]=r.failureCount)})},function(e){var r;return n[37]=n[0].get("send_sync_params"),n[38]=n[0].get("sync_params"),n[39]=n[0].get("current_cursor"),n[40]=new t.Map,n[40].set("database",n[34]),n[40].set("version",t.i64.cast([-1,4294967295])),n[40].set("epoch_id",n[45]),n[40].set("last_applied_cursor",n[39]),n[40].set("sync_params",n[37]?n[38]:void 0),n[40].set("failure_count",t.i64.gt(n[35],t.i64.cast([0,0]))?n[35]:void 0),n[41]=n[0].get("current_cursor"),n[41]===void 0?n[42]=t.i64.cast([0,1]):n[42]=t.i64.cast([0,2]),n[43]=new t.Map,n[43].set("type",n[42]),n[43].set("request_payload",n[40]),n[44]=n[0].get("sync_channel"),r=[n[30],void 0,t.i64.cast([0,1]),n[43],t.i64.eq(n[44],t.i64.cast([0,2]))],n[23]=r[0],n[24]=r[1],n[25]=r[2],n[26]=r[3],n[27]=r[4]}])},function(e){var t;return t=[n[23],n[24],n[25],n[26],n[27]],n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=t[3],n[16]=t[4],t}])},function(e){var t;return t=[n[12],n[13],n[14],n[15],n[16]],n[3]=t[0],n[4]=t[1],n[5]=t[2],n[6]=t[3],n[7]=t[4],t}])},function(e){return n[8]=new t.Map,n[8].set("sync_group_id",n[3]),n[8].set("next_sync_ms",n[4]),n[8].set("work_item_type",n[5]),n[8].set("network_payload",n[6]),n[8].set("skip_realtime_gateway",n[7]),r[0]=n[8]}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSCoreBeginHandlingSyncForSyncGroupStoredProcedure",e.__tables__=["sync_groups","network_requests"],a.exports=e}),null);
__d("LSBeginHandlingSync",["LSBeginHandlingSyncForSyncGroup"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(a){return t.sequence([function(o){return r[0]=t.createArray(),t.forEach(t.db.table(1).fetch(),function(o){var a=o.item;return t.sequence([function(o){return t.storedProcedure(n("LSBeginHandlingSyncForSyncGroup"),a.groupId,e[0]).then(function(e){var t;return t=e,r[1]=t[0],t})},function(e){return r[2]=(r[0].push(r[1]),r[0])}])})},function(e){return o[0]=r[0]}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSCoreBeginHandlingSyncStoredProcedure",e.__tables__=["sync_groups"],a.exports=e}),null);
__d("LSBeginHandlingSyncForSyncGroupStoredProcedure",["LSBeginHandlingSyncForSyncGroup","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSBeginHandlingSyncForSyncGroup"),a.syncGroupId,a.ignoreSoftDelay);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSBeginHandlingSyncStoredProcedure",["LSBeginHandlingSync","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSBeginHandlingSync"),a.ignoreSoftDelay);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSCheckThreadConsistency",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("threads",e[0]),r[0].set("metadata",e[1]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"check-thread-consistency",t.i64.cast([0,160019]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxCheckThreadConsistencyStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSCheckThreadConsistencyStoredProcedure",["LSCheckThreadConsistency","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSCheckThreadConsistency"),a.threads,a.metadata);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSPlatformSyncSystem",["FBLogger","I64","LSBeginHandlingSyncForSyncGroupStoredProcedure","LSBeginHandlingSyncStoredProcedure","LSDatabaseProviderType","LSFactory","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformGraphQLTransport","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBumpEntityKey","MessengerLogHistory","Promise","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","qex","throttle"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,a,l,c,d,m){var p=o("MessengerLogHistory").getInstance("client_sync"),_=new(r("LSPlatformServerResponseHandler"))(l),f=o("LSDatabaseProviderType").isProviderPersisted(t),g=function(r){return t.runInTransaction((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.network_requests).getKeyRange("",r));t!=null&&(yield e.network_requests.put({epochId:void 0,failureCount:(s||(s=o("I64"))).add(t.failureCount,s.one),lastDelayedRequestTimestampMs:t.lastDelayedRequestTimestampMs,lastSentTimestampMs:t.lastSentTimestampMs,lastSyncRequestTimestampMs:t.lastSyncRequestTimestampMs,networkTaskIdentifier:t.networkTaskIdentifier,syncDatabaseId:t.syncDatabaseId,taskQueueName:t.taskQueueName}))});return function(t){return e.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":77")},h=new(r("LSPlatformRequestScheduler")),y=(function(){var i=n("asyncToGeneratorRuntime").asyncToGenerator(function*(i,p){var g=o("LSShape").toRecord(p),h=o("LSShape").toRecord(g.request_payload),y=g.type,C=r("LSPlatformRequestId").generate(),b=o("LSJson").stringify(o("LSShape").ofRecord({database:h.database,epoch_id:h.epoch_id,failure_count:h.failure_count,last_applied_cursor:h.last_applied_cursor,sync_params:h.sync_params,version:(s||(s=o("I64"))).of_string(c)})),v=(s||(s=o("I64"))).equal(i.sync_group_id,(u||(u=o("LSIntEnum"))).ofNumber(1))&&r("gkx")("26386")===!0;if(!v&&i.skip_realtime_gateway){var S=yield o("LSPlatformGraphQLTransport").publish(d,C,y,b,m),R=S[0],L=S[1],E=S[2],k=S[3],I={experiments:E,syncScript:L,target:k};return f?_.maybeEvalInOrderReceived(R,I):l(I)}else{var T=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.sync_groups).getKeyRange(i.sync_group_id)),D=(u||(u=o("LSIntEnum"))).ofNumber(2),x=(s||(s=o("I64"))).to_int32(h.database),$=o("LSMailboxInitialSyncCursor").dgwDisabledSyncGroups.split(",").includes(String(x)),P;return T!=null&&(s||(s=o("I64"))).equal(T.syncChannel,D)?P=D:P=$?(u||(u=o("LSIntEnum"))).ofNumber(1):o("LSMailboxInitialSyncCursor").syncChannel,a.publish({databaseType:x,payload:b,queueName:void 0,requestId:C,syncChannel:P,type_:y}).then(function(){return(e||(e=n("Promise"))).resolve()})}});return function(t,n){return i.apply(this,arguments)}})(),C=function(l){var a=function(n){return t.runInTransaction(function(e){return r("LSBeginHandlingSyncForSyncGroupStoredProcedure")(r("LSFactory")(e),{ignoreSoftDelay:!1,syncGroupId:n})},"readwrite",void 0,void 0,i.id+":192").then(function(e){return C(e[0])})},c=function(t,n){h.schedule(function(){r("promiseDone")(a(t))},(s||(s=o("I64"))).to_string(t),s.to_float(n))},d=o("LSShape").toRecord(l),m=d.work_item_type;if((s||(s=o("I64"))).equal(m,(u||(u=o("LSIntEnum"))).ofNumber(1))||(s||(s=o("I64"))).equal(m,(u||(u=o("LSIntEnum"))).ofNumber(5))){var _=d.network_payload;return _!=null?y(d,_).catch(function(e){if(e.message===o("LSPlatformGraphQLTransport").ServerError)o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_graphql_error");else if(e.RE_EXN_ID===o("LSPlatformRealtimeTransport").Timeout||e.RE_EXN_ID===o("LSPlatformRealtimeTransport").NotConnected)o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_timeout_or_disc"),p.debug("Publish timed out");else if(o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_other_error"),e instanceof Error)r("FBLogger")("messenger_web").catching(e).mustfix("Encountered an JS error while publishing a LS sync request");else{var t="";try{t=JSON.stringify(e)}catch(e){}r("FBLogger")("messenger_web").mustfix("Encountered an JS error while publishing a LS sync request %s",t)}return o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handleSyncFailure."+(u||(u=o("LSIntEnum"))).toNumber(o("LSShape").toRecord(_).type)+"."+u.toNumber(d.sync_group_id)),g(d.sync_group_id).then(function(){return a(d.sync_group_id)})}):(r("FBLogger")("ls_web_init").mustfix("Expected networkpayload for sync request but didn't get any"),(e||(e=n("Promise"))).resolve())}if(!(s||(s=o("I64"))).equal(m,(u||(u=o("LSIntEnum"))).ofNumber(3)))return(s||(s=o("I64"))).equal(m,(u||(u=o("LSIntEnum"))).ofNumber(4))||!(s||(s=o("I64"))).equal(m,(u||(u=o("LSIntEnum"))).ofNumber(2))||r("FBLogger")("ls_web_init").mustfix("Native handling for sync group not implemented yet"),(e||(e=n("Promise"))).resolve();var f=d.next_sync_ms;return f!=null?(c(d.sync_group_id,f),(e||(e=n("Promise"))).resolve()):(r("FBLogger")("ls_web_init").mustfix("Expected delay for delayed sync request but didn't get any"),(e||(e=n("Promise"))).resolve())},b=function(o){return(e||(e=n("Promise"))).all(r("LSVec").toArray(o[0]).map(function(e){return C(e)}))},v=function(){r("promiseDone")(t.runInTransaction(function(e){return r("LSBeginHandlingSyncStoredProcedure")(r("LSFactory")(e),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,i.id+":338").then(b))},S=r("throttle")(v,500),R=function(){return o("ReQL").fromTableAscending(t.tables.sync_groups).subscribe(function(){return S()})},L=function(){return a.subscribeToNonTaskResponses(function(e,t){var n=t.ex,a=t.payload,i={experiments:n,sp:t.sp,syncScript:a,target:t.target};r("promiseDone")(_.maybeEvalInOrderReceived(e,i),function(){return S()},function(e){if(o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handle_sync_response_failure"),e instanceof Error)r("FBLogger")("messenger_web").catching(e).mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",f,e.message);else{var t="";try{t=JSON.stringify(e)}catch(e){}r("FBLogger")("messenger_web").mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",f,t)}})})},E=function(){return a.onReconnect(function(a){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","resume_sync_reconnect"),!(o("LSMailboxInitialSyncCursor").isWebApp&&a===1&&r("qex")._("2072")===!0&&r("qex")._("2080")===!0)&&(p.debug("Sync System reconnecting"),r("promiseDone")(t.runInTransaction((function(){var a=n("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var i,l=yield(i=o("ReQL")).toArrayAsync(i.mergeJoin(i.fromTableAscending(t.tables.sync_groups),i.fromTableAscending(t.tables.network_requests).getKeyRange("")));return yield(e||(e=n("Promise"))).all(l.map(function(e){var t=e[1];return a.network_requests.put({epochId:void 0,failureCount:t.failureCount,lastDelayedRequestTimestampMs:t.lastDelayedRequestTimestampMs,lastSentTimestampMs:t.lastSentTimestampMs,lastSyncRequestTimestampMs:t.lastSyncRequestTimestampMs,networkTaskIdentifier:t.networkTaskIdentifier,syncDatabaseId:t.syncDatabaseId,taskQueueName:t.taskQueueName})})),r("LSBeginHandlingSyncStoredProcedure")(r("LSFactory")(a),{ignoreSoftDelay:!1})});return function(e){return a.apply(this,arguments)}})(),"readwrite",void 0,void 0,i.id+":432").then(b)))})},k=R(),I=L(),T=E();return S(),{cleanup:function(){k(),T(),I()}}}l.default=c}),98);
__d("MAWThreadConsistencyLogger",["FBLogger","I64","LSAuthorityLevel","LSCheckThreadConsistencyStoredProcedure","LSDatabaseSingleton","LSFactory","LSMessagingThreadTypeUtil","LSShape","LSVec","ODS","Promise","ReQL","WAArrayZip","asyncToGeneratorRuntime","clearInterval","justknobx","promiseDone","qex","setInterval"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=20,m=r("justknobx")._("3207"),p=!1,_=null;function f(){p||(p=!0,r("clearInterval")(_),_=r("setInterval")(function(){document.visibilityState==="visible"&&r("promiseDone")(g())},m*1e3))}function g(){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield(s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton;r("promiseDone")(t.runInTransaction((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){(c||(c=o("ODS"))).bumpEntityKey(3185,"maw_tc_metric","initiate_snapshot");var a=yield o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(t.threads.index("lastActivityTimestampMs")).filter(y).take(d));if(a.length===0){(c||(c=o("ODS"))).bumpEntityKey(3185,"maw_tc_metric","no_e2ee_threads_fetched_on_client");return}var i;r("qex")._("18")?i=yield(e||(e=n("Promise"))).all(a.map(function(e){return o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(e.threadKey))})):i=yield(e||(e=n("Promise"))).all(a.map(function(e){return o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.messages.index("messageDisplayOrder")).getKeyRange(e.threadKey))}));var l=o("WAArrayZip").zip(a,i).map(function(e){var t=e[0],n=e[1];return o("LSShape").ofRecord({is_last_activity_optimistic:C(n),last_activity_timestamp_ms:t.lastActivityTimestampMs,last_read_timestamp_ms:t.lastReadWatermarkTimestampMs,thread_key:t.threadKey})});return r("LSCheckThreadConsistencyStoredProcedure")(r("LSFactory")(t),{metadata:o("LSShape").ofRecord({client_snapshot_timestamp_ms:(u||(u=o("I64"))).of_float(Date.now()),session_timestamp_ms:u.of_int32(Math.round(window.performance.now()))}),threads:r("LSVec").ofArray(l)})});return function(e){return t.apply(this,arguments)}})(),"readonly",void 0,void 0,i.id+":57"),function(){return(c||(c=o("ODS"))).bumpEntityKey(3185,"maw_tc_metric","send_snapshot")},function(e){r("FBLogger")("maw_tc_metric").catching(e).warn("failed to send tc metric snapshot")})}),h.apply(this,arguments)}function y(e){return o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)&&e.folderName==="inbox"&&(u||(u=o("I64"))).to_int32(e.authorityLevel)>=r("LSAuthorityLevel").AUTHORITATIVE}function C(e){return e==null?!1:(u||(u=o("I64"))).to_int32(e.authorityLevel)<r("LSAuthorityLevel").AUTHORITATIVE}l.startMAWThreadConsistencyLogger=f,l.MAWThreadConsistencyLoggerTakeSnapshot=g}),98);/*FB_PKG_DELIM*/
__d("BaseListCellFDSVariants",[],(function(t,n,r,o,a,i,l){"use strict";var e={padding:{paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",$$css:!0},root:{marginTop:"xifccgj",marginBottom:"x4cne27",marginInlineStart:"xw01apr",marginInlineEnd:"x1ws5yxj",marginLeft:null,marginRight:null,minHeight:"xbktkl8",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",rowGap:"xp1r0qw",$$css:!0}},s={addOnBottomResponsive:!1,verticalAlign:"center",xstyleConfig:{addOnBottom:e.padding,addOnEnd:e.padding,addOnStart:e.padding,content:e.padding,root:e.root}};l.BaseListCellFDSDefaultVariant=s}),98);
__d("FDSListCellImpl_New.react",["BaseDivider.react","BaseIsDecorativeContext","BaseListCell.react","BaseListCellFDSVariants","CometListCellContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["action","addOnBottom","addOnBottomResponsive","addOnEnd","addOnEndVerticalAlign","addOnFooter","addOnStart","addOnStartMarginTop","addOnStartVerticalAlign","content","contentId","disabled","hasBottomDivider","level","nestedSpacing","ref","testid"],s,u=s||(s=o("react")),c=s.useMemo,d={paddingLeft:"",paddingRight:"",$$css:!0},m={marginInlineStart:"x1svr5r5",marginInlineEnd:"x1py1tus",marginLeft:"",marginRight:"",$$css:!0},p={marginTop:"xm2jpb4",marginBottom:"xiehhov",minHeight:"x82snj4",$$css:!0},_={paddingInlineStart:"x1tr5nd9",paddingInlineEnd:"x3su7b9",paddingLeft:"",paddingRight:"",$$css:!0},f={paddingTop:"x12pbpz1",paddingBottom:"x1gtkyd9",$$css:!0},g={addOnStartMargin:{marginTop:"x1rdy4ex",$$css:!0},rootPaddingBlock:function(t){return[{paddingTop:t!=null?"x12pbpz1":t,paddingBottom:t!=null?"x1gtkyd9":t,$$css:!0},{"--x-paddingBlock":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},rootPaddingInline:function(t){return[d,{paddingInlineStart:t!=null?"x1tr5nd9":t,paddingInlineEnd:t!=null?"x3su7b9":t,$$css:!0},{"--x-paddingInline":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},rootRowGap:function(t){return[{rowGap:t!=null?"x1r8uycs":t,$$css:!0},{"--x-rowGap":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},rootSpacingHorizontal:function(t){return[m,{"--x-marginInline":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(-t/2)}]},rootSpacingVertical:function(t){return[p,{"--x-marginBlock":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(-t/2),"--x-minHeight":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(44+t)}]},spacingHorizontal:function(t){return[_,{"--x-paddingInline":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t/2)}]},spacingVertical:function(t){return[f,{"--x-paddingBlock":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t/2)}]}};function h(t){var n=o("react-compiler-runtime").c(86),a,i,l,s,c,d,m,p,_,f,h,y,C,b,v,S,R,L;n[0]!==t?(a=t.action,i=t.addOnBottom,v=t.addOnBottomResponsive,l=t.addOnEnd,s=t.addOnEndVerticalAlign,c=t.addOnFooter,d=t.addOnStart,m=t.addOnStartMarginTop,p=t.addOnStartVerticalAlign,_=t.content,f=t.contentId,h=t.disabled,S=t.hasBottomDivider,R=t.level,C=t.nestedSpacing,b=t.ref,L=t.testid,y=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=m,n[8]=p,n[9]=_,n[10]=f,n[11]=h,n[12]=y,n[13]=C,n[14]=b,n[15]=v,n[16]=S,n[17]=R,n[18]=L):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],m=n[7],p=n[8],_=n[9],f=n[10],h=n[11],y=n[12],C=n[13],b=n[14],v=n[15],S=n[16],R=n[17],L=n[18]);var E=v===void 0?!1:v,k=S===void 0?!1:S,I=R===void 0?3:R,T=y,D=T.contentPaddingHorizontal,x=T.paddingVertical,$=T.spacingHorizontal,P=T.spacingVertical,N=T.verticalAlign,M=N===void 0?"center":N,w;n[19]!==h||n[20]!==I?(w={disabled:h,level:I},n[19]=h,n[20]=I,n[21]=w):w=n[21];var A=w,F;n[22]!==$?(F=$!=null&&g.spacingHorizontal($),n[22]=$,n[23]=F):F=n[23];var O;n[24]!==P?(O=P!=null&&g.spacingVertical(P),n[24]=P,n[25]=O):O=n[25];var B;n[26]!==F||n[27]!==O?(B=[F,O],n[26]=F,n[27]=O,n[28]=B):B=n[28];var W=B,q=E!=null?E:o("BaseListCellFDSVariants").BaseListCellFDSDefaultVariant.addOnBottomResponsive,U=s!=null?s:o("BaseListCellFDSVariants").BaseListCellFDSDefaultVariant.addOnEndVerticalAlign,V=p!=null?p:o("BaseListCellFDSVariants").BaseListCellFDSDefaultVariant.addOnStartVerticalAlign,H=C!=null?C:o("BaseListCellFDSVariants").BaseListCellFDSDefaultVariant.nestedSpacing,G=M!=null?M:o("BaseListCellFDSVariants").BaseListCellFDSDefaultVariant.verticalAlign,z;if(n[29]!==W){var j;z=[(j=o("BaseListCellFDSVariants").BaseListCellFDSDefaultVariant.xstyleConfig)==null?void 0:j.addOnBottom,W],n[29]=W,n[30]=z}else z=n[30];var K;if(n[31]!==W){var Q;K=[(Q=o("BaseListCellFDSVariants").BaseListCellFDSDefaultVariant.xstyleConfig)==null?void 0:Q.addOnEnd,W],n[31]=W,n[32]=K}else K=n[32];var X=m!==0&&g.addOnStartMargin,Y;if(n[33]!==W||n[34]!==X){var J;Y=[(J=o("BaseListCellFDSVariants").BaseListCellFDSDefaultVariant.xstyleConfig)==null?void 0:J.addOnStart,W,X],n[33]=W,n[34]=X,n[35]=Y}else Y=n[35];var Z;if(n[36]!==W){var ee;Z=[(ee=o("BaseListCellFDSVariants").BaseListCellFDSDefaultVariant.xstyleConfig)==null?void 0:ee.content,W],n[36]=W,n[37]=Z}else Z=n[37];var te;n[38]!==D?(te=D!=null&&g.rootPaddingInline(D),n[38]=D,n[39]=te):te=n[39];var ne;n[40]!==x?(ne=x!=null&&g.rootPaddingBlock(x),n[40]=x,n[41]=ne):ne=n[41];var re;n[42]!==x?(re=x!=null&&g.rootRowGap(x),n[42]=x,n[43]=re):re=n[43];var oe;n[44]!==$?(oe=$!=null&&g.rootSpacingHorizontal($),n[44]=$,n[45]=oe):oe=n[45];var ae;n[46]!==P?(ae=P!=null&&g.rootSpacingVertical(P),n[46]=P,n[47]=ae):ae=n[47];var ie;if(n[48]!==te||n[49]!==ne||n[50]!==re||n[51]!==oe||n[52]!==ae){var le;ie=[(le=o("BaseListCellFDSVariants").BaseListCellFDSDefaultVariant.xstyleConfig)==null?void 0:le.root,te,ne,re,oe,ae],n[48]=te,n[49]=ne,n[50]=re,n[51]=oe,n[52]=ae,n[53]=ie}else ie=n[53];var se;n[54]!==z||n[55]!==K||n[56]!==Y||n[57]!==Z||n[58]!==ie?(se={addOnBottom:z,addOnEnd:K,addOnStart:Y,content:Z,root:ie},n[54]=z,n[55]=K,n[56]=Y,n[57]=Z,n[58]=ie,n[59]=se):se=n[59];var ue;n[60]!==U||n[61]!==V||n[62]!==H||n[63]!==G||n[64]!==se||n[65]!==q?(ue={addOnBottomResponsive:q,addOnEndVerticalAlign:U,addOnStartVerticalAlign:V,nestedSpacing:H,verticalAlign:G,xstyleConfig:se},n[60]=U,n[61]=V,n[62]=H,n[63]=G,n[64]=se,n[65]=q,n[66]=ue):ue=n[66];var ce=ue,de;n[67]!==a||n[68]!==i||n[69]!==l||n[70]!==c||n[71]!==d||n[72]!==_||n[73]!==f||n[74]!==b||n[75]!==L||n[76]!==ce?(de=u.jsx(r("BaseListCell.react"),{action:a,addOnBottom:i,addOnEnd:l,addOnFooter:c,addOnStart:d,content:_,contentId:f,ref:b,testid:void 0,variant:ce}),n[67]=a,n[68]=i,n[69]=l,n[70]=c,n[71]=d,n[72]=_,n[73]=f,n[74]=b,n[75]=L,n[76]=ce,n[77]=de):de=n[77];var me;n[78]!==k?(me=k&&u.jsx(r("BaseDivider.react"),{}),n[78]=k,n[79]=me):me=n[79];var pe;n[80]!==de||n[81]!==me?(pe=u.jsxs(r("BaseIsDecorativeContext").Provider,{value:!0,children:[de,me]}),n[80]=de,n[81]=me,n[82]=pe):pe=n[82];var _e;return n[83]!==A||n[84]!==pe?(_e=u.jsx(r("CometListCellContext").Provider,{value:A,children:pe}),n[83]=A,n[84]=pe,n[85]=_e):_e=n[85],_e}l.default=h}),98);
__d("PolarisAddToHomeScreen.react",["PolarisDismissEntry","PolarisUA","polarisLogAction","polarisShouldShowAddToHomeScreen","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useState;function p(e){var t=r("polarisShouldShowAddToHomeScreen")()&&e;if(!t)return!1;if(o("PolarisUA").isUCBrowser())_();else return!0;return!1}function _(){window.defferedA2HSPrompt!=null&&(window.defferedA2HSPrompt.prompt(),r("polarisLogAction")("a2hsShown"),window.defferedA2HSPrompt.userChoice.then(function(e){o("PolarisDismissEntry").setDismissEntry(o("PolarisDismissEntry").ADD_TO_HOMESCREEN_TYPE),e.outcome==="dismissed"?r("polarisLogAction")("a2hsDismissed"):r("polarisLogAction")("a2hsAdded"),window.defferedA2HSPrompt=null}))}function f(e){var t=o("react-compiler-runtime").c(10),n=e.addToHomeScreenUI,a=m(!!window.defferedA2HSPrompt),i=a[0],l=a[1],u;t[0]!==i?(u=p(i),t[0]=i,t[1]=u):u=t[1];var c=m(u),_=c[0],f=c[1],h,y;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=function(){l(!!window.defferedA2HSPrompt),f(p(!!window.defferedA2HSPrompt))},y=[window.defferedA2HSPrompt],t[2]=h,t[3]=y):(h=t[2],y=t[3]),d(h,y);var C=g,b;t[4]===Symbol.for("react.memo_cache_sentinel")?(b=function(){r("polarisLogAction")("a2hsNuxDismissed"),f(!1),o("PolarisDismissEntry").setDismissEntry(o("PolarisDismissEntry").ADD_TO_HOMESCREEN_TYPE)},t[4]=b):b=t[4];var v=b,S;t[5]===Symbol.for("react.memo_cache_sentinel")?(S=function(){l(!0)},t[5]=S):S=t[5];var R=S,L,E;if(t[6]===Symbol.for("react.memo_cache_sentinel")?(L=function(){return window.addEventListener("beforeinstallprompt",R),(function(){window.removeEventListener("beforeinstallprompt",R)})},E=[R],t[6]=L,t[7]=E):(L=t[6],E=t[7]),d(L,E),!_)return null;var k=n,I;return t[8]!==k?(I=s.jsx(k,{onAction:C,onClose:v}),t[8]=k,t[9]=I):I=t[9],I}function g(){window.defferedA2HSPrompt!=null&&(window.defferedA2HSPrompt.prompt(),r("polarisLogAction")("a2hsShown"),window.defferedA2HSPrompt.userChoice.then(h))}function h(e){e.outcome==="dismissed"?r("polarisLogAction")("a2hsDismissed"):r("polarisLogAction")("a2hsAdded"),window.defferedA2HSPrompt=null}l.default=f}),98);
__d("PolarisAddToHomeScreenStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Access Instagram quickly and easily by adding it to your home screen."),u=s._(/*BTDS*/"Add Instagram to your home screen?"),c=s._(/*BTDS*/"Add to Home screen");l.A2HS_MODAL_PARAGRAPH=e,l.A2HS_MODAL_TITLE=u,l.A2HS_MODAL_ACTION_TITLE=c}),226);
__d("PolarisAddToHomeScreenModal.react",["IGCoreDialog.react","PolarisAddToHomeScreen.react","PolarisAddToHomeScreenStrings","PolarisGenericStrings","PolarisIGCoreDialogCircleMedia","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.jsx("img",{alt:"",height:"76px",src:"/images/instagram/xig/ico/xxhdpi_launcher.png?__d=www",width:"76px"}),c=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.render=function(){var e=s.jsx(r("PolarisIGCoreDialogCircleMedia"),{icon:u});return s.jsxs(o("IGCoreDialog.react").IGCoreDialog,{body:o("PolarisAddToHomeScreenStrings").A2HS_MODAL_PARAGRAPH,media:e,title:o("PolarisAddToHomeScreenStrings").A2HS_MODAL_TITLE,children:[s.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.props.onAction,children:o("PolarisAddToHomeScreenStrings").A2HS_MODAL_ACTION_TITLE}),s.jsx(o("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.props.onClose,children:o("PolarisGenericStrings").CANCEL_TEXT})]})},t})(s.PureComponent);function d(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("PolarisAddToHomeScreen.react"),{addToHomeScreenUI:c}),e[0]=t):t=e[0],t}l.AddToHomeScreenModalUI=c,l.AddToHomeScreenModal=d}),98);
__d("PolarisFeedVariantsStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Favourites"),u=s._(/*BTDS*/"Following"),c=s._(/*BTDS*/"Past posts"),d=s._(/*BTDS*/"Add accounts to your favourites to see their posts here, starting with the most recent posts."),m=s._(/*BTDS*/"Choose the accounts that you can't miss out on"),p=s._(/*BTDS*/"Star outline icon in circle."),_=s._(/*BTDS*/"No posts yet"),f=s._(/*BTDS*/"Camera outline icon in circle.");l.FAVORITES_TEXT=e,l.FOLLOWING_TEXT=u,l.PAST_POSTS_TEXT=c,l.FAVORITES_NULL_STATE_BODY_TEXT=d,l.FAVORITES_NULL_STATE_HEADER_TEXT=m,l.FAVORITES_NULL_STATE_ICON_ALT=p,l.NO_POSTS_HEADER_TEXT=_,l.NO_POSTS_ICON_ALT=f}),226);
__d("XPolarisCASB976Phase2DayOfDialogControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/accounts/ca/suggested_content/",Object.freeze({}),void 0),s=e;l.default=s}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/aJoeSHn7XcN/
 */
__d("blakejs-1.1.0",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){var e="Input must be an string, Buffer or Uint8Array";function t(t){var n;if(t instanceof Uint8Array)n=t;else if(t instanceof Buffer)n=new Uint8Array(t);else if(typeof t=="string")n=new Uint8Array(Buffer.from(t,"utf8"));else throw new Error(e);return n}function n(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function r(e){return(4294967296+e).toString(16).substring(1)}function o(e,t,n){for(var o="\n"+e+" = ",a=0;a<t.length;a+=2){if(n===32)o+=r(t[a]).toUpperCase(),o+=" ",o+=r(t[a+1]).toUpperCase();else if(n===64)o+=r(t[a+1]).toUpperCase(),o+=r(t[a]).toUpperCase();else throw new Error("Invalid size "+n);a%6===4?o+="\n"+new Array(e.length+4).join(" "):a<t.length-2&&(o+=" ")}}function a(e,t,n){for(var r=new Date().getTime(),o=new Uint8Array(t),a=0;a<t;a++)o[a]=a%256;var i=new Date().getTime();for(""+(i-r),r=i,a=0;a<n;a++){var l=e(o),s=new Date().getTime(),u=s-r;r=s,""+u+l.substring(0,20),Math.round(t/(1<<20)/(u/1e3)*100)/100+""}}l.exports={normalizeInput:t,toHex:n,debugPrint:o,testSpeed:a}}var u=!1;function c(){return u||(u=!0,s()),l.exports}var d={},m={exports:d};function p(){var e=c();function t(e,t,n){var r=e[t]+e[n],o=e[t+1]+e[n+1];r>=4294967296&&o++,e[t]=r,e[t+1]=o}function n(e,t,n,r){var o=e[t]+n;n<0&&(o+=4294967296);var a=e[t+1]+r;o>=4294967296&&a++,e[t]=o,e[t+1]=a}function r(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function o(e,r,o,a,i,l){var c=u[i],d=u[i+1],m=u[l],p=u[l+1];t(s,e,r),n(s,e,c,d);var _=s[a]^s[e],f=s[a+1]^s[e+1];s[a]=f,s[a+1]=_,t(s,o,a),_=s[r]^s[o],f=s[r+1]^s[o+1],s[r]=_>>>24^f<<8,s[r+1]=f>>>24^_<<8,t(s,e,r),n(s,e,m,p),_=s[a]^s[e],f=s[a+1]^s[e+1],s[a]=_>>>16^f<<16,s[a+1]=f>>>16^_<<16,t(s,o,a),_=s[r]^s[o],f=s[r+1]^s[o+1],s[r]=f>>>31^_<<1,s[r+1]=_>>>31^f<<1}var a=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],l=new Uint8Array(i.map(function(e){return e*2})),s=new Uint32Array(32),u=new Uint32Array(32);function d(e,t){var n=0;for(n=0;n<16;n++)s[n]=e.h[n],s[n+16]=a[n];for(s[24]=s[24]^e.t,s[25]=s[25]^e.t/4294967296,t&&(s[28]=~s[28],s[29]=~s[29]),n=0;n<32;n++)u[n]=r(e.b,4*n);for(n=0;n<12;n++)o(0,8,16,24,l[n*16+0],l[n*16+1]),o(2,10,18,26,l[n*16+2],l[n*16+3]),o(4,12,20,28,l[n*16+4],l[n*16+5]),o(6,14,22,30,l[n*16+6],l[n*16+7]),o(0,10,20,30,l[n*16+8],l[n*16+9]),o(2,12,22,24,l[n*16+10],l[n*16+11]),o(4,14,16,26,l[n*16+12],l[n*16+13]),o(6,8,18,28,l[n*16+14],l[n*16+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^s[n]^s[n+16]}function p(e,t){if(e===0||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var n={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e},r=0;r<16;r++)n.h[r]=a[r];var o=t?t.length:0;return n.h[0]^=16842752^o<<8^e,t&&(_(n,t),n.c=128),n}function _(e,t){for(var n=0;n<t.length;n++)e.c===128&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[n]}function f(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;d(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(n&3);return t}function g(t,n,r){r=r||64,t=e.normalizeInput(t);var o=p(r,n);return _(o,t),f(o)}function h(t,n,r){var o=g(t,n,r);return e.toHex(o)}m.exports={blake2b:g,blake2bHex:h,blake2bInit:p,blake2bUpdate:_,blake2bFinal:f}}var _=!1;function f(){return _||(_=!0,p()),m.exports}var g={},h={exports:g};function y(){var e=c();function t(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function n(e,t,n,o,a,l){i[e]=i[e]+i[t]+a,i[o]=r(i[o]^i[e],16),i[n]=i[n]+i[o],i[t]=r(i[t]^i[n],12),i[e]=i[e]+i[t]+l,i[o]=r(i[o]^i[e],8),i[n]=i[n]+i[o],i[t]=r(i[t]^i[n],7)}function r(e,t){return e>>>t^e<<32-t}var o=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),i=new Uint32Array(16),l=new Uint32Array(16);function s(e,r){var s=0;for(s=0;s<8;s++)i[s]=e.h[s],i[s+8]=o[s];for(i[12]^=e.t,i[13]^=e.t/4294967296,r&&(i[14]=~i[14]),s=0;s<16;s++)l[s]=t(e.b,4*s);for(s=0;s<10;s++)n(0,4,8,12,l[a[s*16+0]],l[a[s*16+1]]),n(1,5,9,13,l[a[s*16+2]],l[a[s*16+3]]),n(2,6,10,14,l[a[s*16+4]],l[a[s*16+5]]),n(3,7,11,15,l[a[s*16+6]],l[a[s*16+7]]),n(0,5,10,15,l[a[s*16+8]],l[a[s*16+9]]),n(1,6,11,12,l[a[s*16+10]],l[a[s*16+11]]),n(2,7,8,13,l[a[s*16+12]],l[a[s*16+13]]),n(3,4,9,14,l[a[s*16+14]],l[a[s*16+15]]);for(s=0;s<8;s++)e.h[s]^=i[s]^i[s+8]}function u(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");var n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");var r={h:new Uint32Array(o),b:new Uint32Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(d(r,t),r.c=64),r}function d(e,t){for(var n=0;n<t.length;n++)e.c===64&&(e.t+=e.c,s(e,!1),e.c=0),e.b[e.c++]=t[n]}function m(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;s(e,!0);for(var t=new Uint8Array(e.outlen),n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(n&3)&255;return t}function p(t,n,r){r=r||32,t=e.normalizeInput(t);var o=u(r,n);return d(o,t),m(o)}function _(t,n,r){var o=p(t,n,r);return e.toHex(o)}h.exports={blake2s:p,blake2sHex:_,blake2sInit:u,blake2sUpdate:d,blake2sFinal:m}}var C=!1;function b(){return C||(C=!0,y()),h.exports}var v={},S={exports:v};function R(){var e=f(),t=b();S.exports={blake2b:e.blake2b,blake2bHex:e.blake2bHex,blake2bInit:e.blake2bInit,blake2bUpdate:e.blake2bUpdate,blake2bFinal:e.blake2bFinal,blake2s:t.blake2s,blake2sHex:t.blake2sHex,blake2sInit:t.blake2sInit,blake2sUpdate:t.blake2sUpdate,blake2sFinal:t.blake2sFinal}}var L=!1;function E(){return L||(L=!0,R()),S.exports}function k(e){switch(e){case void 0:return E();case"/blake2b":return f()}}a.exports=k}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("tweetnacl-sealedbox-js-1.1.0",["tweetnacl-1.0.1","blakejs-1.1.0"],(function(t,n,r,o,a,i){"use strict";function e(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var l=e(n("tweetnacl-1.0.1")),s=e(n("blakejs-1.1.0")),u={},c={exports:u},d;function m(){(function(t,n){if(typeof u=="object"&&typeof c=="object")c.exports=n();else if(typeof d=="function"&&d.amd)d([],n);else{var e=n();for(var r in e)(typeof u=="object"?u:t)[r]=e[r]}})(typeof self!="undefined"?self:this,function(){return(function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)})([(function(e,t){e.exports=l()}),(function(e,t,n){var r=n(0),o=n.n(r),a=o.a.box.publicKeyLength+o.a.box.overheadLength;t.a=a}),(function(e,t,n){t.a=l;var r=n(0),o=n.n(r),a=n(5),i=n.n(a);function l(e,t){var n=i.a.blake2bInit(o.a.box.nonceLength,null);return i.a.blake2bUpdate(n,e),i.a.blake2bUpdate(n,t),i.a.blake2bFinal(n)}}),(function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);n.d(t,"overheadLength",function(){return r.a});var o=n(4),a=n(7);n.d(t,"seal",function(){return o.a}),n.d(t,"open",function(){return a.a})}),(function(e,t,n){t.a=s;var r=n(0),o=n.n(r),a=n(2),i=n(1),l=n(6);function s(e,t){var n=new Uint8Array(i.a+e.length),r=o.a.box.keyPair();n.set(r.publicKey);var s=Object(a.a)(r.publicKey,t),u=o.a.box(e,s,t,r.secretKey);return n.set(u,r.publicKey.length),Object(l.a)(r.secretKey),n}}),(function(e,t){e.exports=s("/blake2b")}),(function(e,t,n){t.a=r;function r(e){for(var t=0;t<e.length;t++)e[t]=0}}),(function(e,t,n){t.a=i;var r=n(0),o=n.n(r),a=n(2);function i(e,t,n){var r=e.subarray(0,o.a.box.publicKeyLength),i=Object(a.a)(r,t),l=e.subarray(o.a.box.publicKeyLength);return o.a.box.open(l,i,r,n)}})])})}var p=!1;function _(){return p||(p=!0,m()),c.exports}function f(e){switch(e){case void 0:return _()}}a.exports=f}),null);
__d("tweetnacl-sealedbox-js",["tweetnacl-sealedbox-js-1.1.0"],(function(t,n,r,o,a,i){a.exports=n("tweetnacl-sealedbox-js-1.1.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/CCT5pM3qiNk/
 */
__d("tweetnacl-util-0.15.1",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){(function(e,t){typeof l!="undefined"&&l.exports?l.exports=t():(e.nacl||(e.nacl={}),e.nacl.util=t())})(this,function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if(typeof e!="string")throw new TypeError("expected string");var t,n=unescape(encodeURIComponent(e)),r=new Uint8Array(n.length);for(t=0;t<n.length;t++)r[t]=n.charCodeAt(t);return r},e.encodeUTF8=function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(n.join("")))},typeof atob=="undefined"?typeof Buffer.from!="undefined"?(e.encodeBase64=function(e){return Buffer.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(Buffer.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new Buffer(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new Buffer(e,"base64"),0))}):(e.encodeBase64=function(e){var t,n=[],r=e.length;for(t=0;t<r;t++)n.push(String.fromCharCode(e[t]));return btoa(n.join(""))},e.decodeBase64=function(e){t(e);var n,r=atob(e),o=new Uint8Array(r.length);for(n=0;n<r.length;n++)o[n]=r.charCodeAt(n);return o}),e})}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("tweetnacl-util",["tweetnacl-util-0.15.1"],(function(t,n,r,o,a,i){a.exports=n("tweetnacl-util-0.15.1")()}),null);/*FB_PKG_DELIM*/
__d("IGD30DayAgoTimestampMs.relayprovider",[],(function(t,n,r,o,a,i){"use strict";var e=2592e6,l=new Date().getTime(),s=l-e,u={get:function(){return s.toString()}};i.default=u}),66);
__d("IGDEnableOffMsysComposerQE.relayprovider",["qex"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){return r("qex")._("842")===!0}};l.default=e}),98);
__d("IGDEnableOffMsysMessagesListQE.relayprovider",["qex"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){return r("qex")._("2197")===!0}};l.default=e}),98);
__d("IGDEnableOffMsysThreadListMobileQE.relayprovider",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){return r("gkx")("4464")===!0}};l.default=e}),98);
__d("IGDEnableOffMsysThreadListQE.relayprovider",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){return r("gkx")("19167")===!0}};l.default=e}),98);
__d("IGDInboxHeaderOffMsysQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="33532752006368982"}),null);
__d("IGDInboxHeaderOffMsysQuery$Parameters",["IGDInboxHeaderOffMsysQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDInboxHeaderOffMsysQuery_instagramRelayOperation"),metadata:{},name:"IGDInboxHeaderOffMsysQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDInboxTrayQuery$Parameters",["IGDInboxTrayQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDInboxTrayQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_get_inbox_tray_items"]},name:"IGDInboxTrayQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("useIGDNoteCTADataQuery$Parameters",["useIGDNoteCTADataQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("useIGDNoteCTADataQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_fetch_user_ctas_notes"]},name:"useIGDNoteCTADataQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDInboxTray.entrypoint",["IGDInboxTrayQuery$Parameters","JSResourceForInteraction","qex","useIGDNoteCTADataQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=r("qex")._("823");return{queries:babelHelpers.extends({},e===!0&&{ctaQueryReference:{parameters:r("useIGDNoteCTADataQuery$Parameters"),variables:{request:{surface:"ALL",timezone_offset_seconds:new Date().getTimezoneOffset()*-60}}}},{queryReference:{parameters:r("IGDInboxTrayQuery$Parameters"),variables:{}}})}},root:r("JSResourceForInteraction")("IGDInboxTray.react").__setRef("IGDInboxTray.entrypoint")};l.default=e}),98);
__d("IGDInboxTrayMobileQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="26186716317583873"}),null);
__d("IGDInboxTrayMobileQuery$Parameters",["IGDInboxTrayMobileQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDInboxTrayMobileQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_get_inbox_tray_items"]},name:"IGDInboxTrayMobileQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDInboxTrayMobile.entrypoint",["IGDInboxTrayMobileQuery$Parameters","JSResourceForInteraction","qex","useIGDNoteCTADataQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=r("qex")._("823");return{queries:babelHelpers.extends({},e===!0&&{ctaQueryReference:{parameters:r("useIGDNoteCTADataQuery$Parameters"),variables:{request:{surface:"ALL",timezone_offset_seconds:new Date().getTimezoneOffset()*-60}}}},{queryReference:{parameters:r("IGDInboxTrayMobileQuery$Parameters"),variables:{}}})}},root:r("JSResourceForInteraction")("IGDInboxTrayMobile.react").__setRef("IGDInboxTrayMobile.entrypoint")};l.default=e}),98);
__d("IGDInitialMessagePageCount.relayprovider",[],(function(t,n,r,o,a,i){"use strict";var e={get:function(){return 20}};i.default=e}),66);
__d("IGDIsProfessionalAccountGK.relayprovider",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){return r("gkx")("10037")===!0}};l.default=e}),98);
__d("IGDMaxUnreadMessagesCount.relayprovider",[],(function(t,n,r,o,a,i){"use strict";var e={get:function(){return 5}};i.default=e}),66);
__d("IGDMessageRequestLeftRailStandaloneQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="26558652217057371"}),null);
__d("IGDPinnedThreadsRenderEnabledGK.relayprovider",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){return r("gkx")("784")}};l.default=e}),98);
__d("IGDThreadListActionsEnabledGK.relayprovider",["qex"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){return r("qex")._("1313")===!0}};l.default=e}),98);
__d("IGDMessageRequestLeftRailStandaloneQuery$Parameters",["IGD30DayAgoTimestampMs.relayprovider","IGDMaxUnreadMessagesCount.relayprovider","IGDMessageRequestLeftRailStandaloneQuery_instagramRelayOperation","IGDPinnedThreadsRenderEnabledGK.relayprovider","IGDThreadListActionsEnabledGK.relayprovider"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDMessageRequestLeftRailStandaloneQuery_instagramRelayOperation"),metadata:{},name:"IGDMessageRequestLeftRailStandaloneQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__IGD30DayAgoTimestampMsrelayprovider:n("IGD30DayAgoTimestampMs.relayprovider"),__relay_internal__pv__IGDPinnedThreadsRenderEnabledGKrelayprovider:n("IGDPinnedThreadsRenderEnabledGK.relayprovider"),__relay_internal__pv__IGDMaxUnreadMessagesCountrelayprovider:n("IGDMaxUnreadMessagesCount.relayprovider"),__relay_internal__pv__IGDThreadListActionsEnabledGKrelayprovider:n("IGDThreadListActionsEnabledGK.relayprovider")}}};a.exports=e}),null);
__d("IGDPartnershipInboxThreadListButtonOffMsysQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="8995762667214812"}),null);
__d("IGDPartnershipInboxThreadListButtonOffMsysQuery$Parameters",["IGDPartnershipInboxThreadListButtonOffMsysQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDPartnershipInboxThreadListButtonOffMsysQuery_instagramRelayOperation"),metadata:{},name:"IGDPartnershipInboxThreadListButtonOffMsysQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("IGDThreadDetailMainViewContainerQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25832003843152642"}),null);
__d("IGDThreadDetailMainViewContainerQuery$Parameters",["IGDEnableOffMsysComposerQE.relayprovider","IGDEnableOffMsysMessagesListQE.relayprovider","IGDInitialMessagePageCount.relayprovider","IGDThreadDetailMainViewContainerQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDThreadDetailMainViewContainerQuery_instagramRelayOperation"),metadata:{},name:"IGDThreadDetailMainViewContainerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__IGDEnableOffMsysMessagesListQErelayprovider:n("IGDEnableOffMsysMessagesListQE.relayprovider"),__relay_internal__pv__IGDInitialMessagePageCountrelayprovider:n("IGDInitialMessagePageCount.relayprovider"),__relay_internal__pv__IGDEnableOffMsysComposerQErelayprovider:n("IGDEnableOffMsysComposerQE.relayprovider")}}};a.exports=e}),null);
__d("IGPresenceUnifiedSetupQuery$Parameters",["IGPresenceUnifiedSetupQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGPresenceUnifiedSetupQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__get__presence__disabled"]},name:"IGPresenceUnifiedSetupQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisAutomaticPreviewsDisabledContextProviderQuery$Parameters",["PolarisAutomaticPreviewsDisabledContextProviderQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisAutomaticPreviewsDisabledContextProviderQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_get_igd_automatic_previews_disabled"]},name:"PolarisAutomaticPreviewsDisabledContextProviderQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisDirectInboxMobileQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25467388332933505"}),null);
__d("PolarisDirectInboxMobileQuery$Parameters",["IGDEnableOffMsysThreadListMobileQE.relayprovider","IGDIsProfessionalAccountGK.relayprovider","IGDMaxUnreadMessagesCount.relayprovider","IGDPinnedThreadsRenderEnabledGK.relayprovider","IGDThreadListActionsEnabledGK.relayprovider","PolarisDirectInboxMobileQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisDirectInboxMobileQuery_instagramRelayOperation"),metadata:{},name:"PolarisDirectInboxMobileQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__IGDEnableOffMsysThreadListMobileQErelayprovider:n("IGDEnableOffMsysThreadListMobileQE.relayprovider"),__relay_internal__pv__IGDIsProfessionalAccountGKrelayprovider:n("IGDIsProfessionalAccountGK.relayprovider"),__relay_internal__pv__IGDPinnedThreadsRenderEnabledGKrelayprovider:n("IGDPinnedThreadsRenderEnabledGK.relayprovider"),__relay_internal__pv__IGDMaxUnreadMessagesCountrelayprovider:n("IGDMaxUnreadMessagesCount.relayprovider"),__relay_internal__pv__IGDThreadListActionsEnabledGKrelayprovider:n("IGDThreadListActionsEnabledGK.relayprovider")}}};a.exports=e}),null);
__d("PolarisViewerSettingsQuery$Parameters",["PolarisViewerSettingsQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisViewerSettingsQuery_instagramRelayOperation"),metadata:{},name:"PolarisViewerSettingsQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("useIGDSystemFolderUnreadThreadCountQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24756039620738912"}),null);
__d("useIGDSystemFolderUnreadThreadCountQuery$Parameters",["useIGDSystemFolderUnreadThreadCountQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("useIGDSystemFolderUnreadThreadCountQuery_instagramRelayOperation"),metadata:{},name:"useIGDSystemFolderUnreadThreadCountQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisDirectInboxMobileRoot.entrypoint",["IGD30DayAgoTimestampMs.relayprovider","IGDInboxHeaderOffMsysQuery$Parameters","IGDInboxTrayMobile.entrypoint","IGDMqttWebDeviceID","IGDThreadDetailMainViewContainerQuery$Parameters","IGDUqppSequenceIDTrackerSingleton","IGPresenceUnifiedSetupQuery$Parameters","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils","PolarisDirectInboxMobileQuery$Parameters","PolarisViewerSettingsQuery$Parameters","gkx","useFeatureLimitsOffMsysQuery$Parameters","useIGDSystemFolderUnreadThreadCountQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e,a=t.routeParams,i=t.routeProps,l={featureLimitsQueryRef:{parameters:r("useFeatureLimitsOffMsysQuery$Parameters"),variables:{}},mailboxQueryRef:{parameters:r("PolarisDirectInboxMobileQuery$Parameters"),variables:{device_id_for_iris_subscription:r("IGDMqttWebDeviceID").clientId}},presenceSetupQueryRef:{parameters:r("IGPresenceUnifiedSetupQuery$Parameters"),variables:{}}};r("gkx")("19167")===!0&&(l=babelHelpers.extends({},l,{pendingBadgeCountQueryRef:{parameters:r("useIGDSystemFolderUnreadThreadCountQuery$Parameters"),variables:{device_id_for_iris_subscription:r("IGDMqttWebDeviceID").clientId,folder:"PENDING",newer_than_timestamp_ms:r("IGD30DayAgoTimestampMs.relayprovider").get()}}}));var s=(e=i==null?void 0:i.thread_fbid)!=null?e:a.thread_key;return s!=null&&s!==""&&(l=babelHelpers.extends({},l,{headerQueryRef:{parameters:r("IGDInboxHeaderOffMsysQuery$Parameters"),variables:{min_uq_seq_id:r("IGDUqppSequenceIDTrackerSingleton").getSequenceID(),thread_fbid:s}},slideThreadQueryRef:{parameters:r("IGDThreadDetailMainViewContainerQuery$Parameters"),variables:{min_uq_seq_id:r("IGDUqppSequenceIDTrackerSingleton").getSequenceID(),thread_fbid:s}}})),l=babelHelpers.extends({},l,{viewerSettingsQueryRef:{parameters:r("PolarisViewerSettingsQuery$Parameters"),variables:{}}}),{entryPoints:{inboxTrayEntrypointMobile:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:n("IGDInboxTrayMobile.entrypoint"),entryPointParams:{}})},queries:l}},root:r("JSResourceForInteraction")("PolarisDirectInboxMobileRoot.react").__setRef("PolarisDirectInboxMobileRoot.entrypoint")};l.default=e}),98);
__d("PolarisDirectInboxQPInterstitialQuery$Parameters",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:"24355376224103806",metadata:{},name:"PolarisDirectInboxQPInterstitialQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisDirectInboxQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25119090594436966"}),null);
__d("PolarisDirectInboxQuery$Parameters",["IGDEnableOffMsysThreadListQE.relayprovider","IGDIsProfessionalAccountGK.relayprovider","IGDMaxUnreadMessagesCount.relayprovider","IGDPinnedThreadsRenderEnabledGK.relayprovider","IGDThreadListActionsEnabledGK.relayprovider","PolarisDirectInboxQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisDirectInboxQuery_instagramRelayOperation"),metadata:{},name:"PolarisDirectInboxQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__IGDEnableOffMsysThreadListQErelayprovider:n("IGDEnableOffMsysThreadListQE.relayprovider"),__relay_internal__pv__IGDIsProfessionalAccountGKrelayprovider:n("IGDIsProfessionalAccountGK.relayprovider"),__relay_internal__pv__IGDPinnedThreadsRenderEnabledGKrelayprovider:n("IGDPinnedThreadsRenderEnabledGK.relayprovider"),__relay_internal__pv__IGDMaxUnreadMessagesCountrelayprovider:n("IGDMaxUnreadMessagesCount.relayprovider"),__relay_internal__pv__IGDThreadListActionsEnabledGKrelayprovider:n("IGDThreadListActionsEnabledGK.relayprovider")}}};a.exports=e}),null);
__d("PolarisDirectInboxRoot.entrypoint",["IGD30DayAgoTimestampMs.relayprovider","IGDInboxHeaderOffMsysQuery$Parameters","IGDInboxTray.entrypoint","IGDMessageRequestLeftRailStandaloneQuery$Parameters","IGDMqttWebDeviceID","IGDPartnershipInboxThreadListButtonOffMsysQuery$Parameters","IGDThreadDetailMainViewContainerQuery$Parameters","IGDUqppSequenceIDTrackerSingleton","IGPresenceUnifiedSetupQuery$Parameters","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils","PolarisAutomaticPreviewsDisabledContextProviderQuery$Parameters","PolarisDirectInboxQPInterstitialQuery$Parameters","PolarisDirectInboxQuery$Parameters","PolarisViewerSettingsQuery$Parameters","gkx","useFeatureLimitsOffMsysQuery$Parameters","useIGDSystemFolderUnreadThreadCountQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e,a=t.passthroughProps,i=t.routeParams,l=t.routeProps,s={automaticPreviewsSettingsQueryRef:{parameters:r("PolarisAutomaticPreviewsDisabledContextProviderQuery$Parameters"),variables:{}},featureLimitsQueryRef:{parameters:r("useFeatureLimitsOffMsysQuery$Parameters"),variables:{}},mailboxQueryRef:{parameters:r("PolarisDirectInboxQuery$Parameters"),variables:{device_id_for_iris_subscription:r("IGDMqttWebDeviceID").clientId}},presenceSetupQueryRef:{parameters:r("IGPresenceUnifiedSetupQuery$Parameters"),variables:{}},qpInterstitialQueryRef:{parameters:r("PolarisDirectInboxQPInterstitialQuery$Parameters"),variables:{}}};((a==null?void 0:a.entryPoint)==="igd_message_requests_threads_list"||(a==null?void 0:a.entryPoint)==="igd_hidden_message_requests_threads_list"||(a==null?void 0:a.entryPoint)==="pendingRequests"||(a==null?void 0:a.entryPoint)==="inboxSpam")&&(s=babelHelpers.extends({},s,{messageRequestMailboxQueryRef:{options:{fetchPolicy:"store-only"},parameters:r("IGDMessageRequestLeftRailStandaloneQuery$Parameters"),variables:{device_id_for_iris_subscription:r("IGDMqttWebDeviceID").clientId,enable_pending_threads_list:r("gkx")("9484")===!0}}})),r("gkx")("19167")===!0&&(s=babelHelpers.extends({},s,{pendingBadgeCountQueryRef:{parameters:r("useIGDSystemFolderUnreadThreadCountQuery$Parameters"),variables:{device_id_for_iris_subscription:r("IGDMqttWebDeviceID").clientId,folder:"PENDING",newer_than_timestamp_ms:r("IGD30DayAgoTimestampMs.relayprovider").get()}}}));var u=(e=l==null?void 0:l.thread_fbid)!=null?e:i.thread_key;return u!=null&&u!==""&&(s=babelHelpers.extends({},s,{headerQueryRef:{parameters:r("IGDInboxHeaderOffMsysQuery$Parameters"),variables:{min_uq_seq_id:r("IGDUqppSequenceIDTrackerSingleton").getSequenceID(),thread_fbid:u}},slideThreadQueryRef:{parameters:r("IGDThreadDetailMainViewContainerQuery$Parameters"),variables:{min_uq_seq_id:r("IGDUqppSequenceIDTrackerSingleton").getSequenceID(),thread_fbid:u}}})),r("gkx")("10037")===!0&&(s=babelHelpers.extends({},s,{partnershipQueryRef:{parameters:r("IGDPartnershipInboxThreadListButtonOffMsysQuery$Parameters"),variables:{}}})),s=babelHelpers.extends({},s,{viewerSettingsQueryRef:{parameters:r("PolarisViewerSettingsQuery$Parameters"),variables:{}}}),{entryPoints:{inboxTrayEntrypoint:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:n("IGDInboxTray.entrypoint"),entryPointParams:{}})},queries:s}},root:r("JSResourceForInteraction")("PolarisDirectInboxRoot.react").__setRef("PolarisDirectInboxRoot.entrypoint")};l.default=e}),98);
__d("PolarisDirectMessageRequestQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25481728358121881"}),null);/*FB_PKG_DELIM*/
__d("LiveVideoOverlayStickerFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4077"),s=o("FalcoLoggerInternal").create("live_video_overlay_sticker",e),u=s;l.default=u}),98);
__d("VideoPlayerOzImplementationEngineDebugAPI",["BinarySearch","VideoPlayerDataSource","VideoPlayerImplementationEngineDebugAPI"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.getTimeRange(),n=t.endTime,r=t.startTime,o=null,a=e.getByteRange();return a&&(o=a.endByte!=null?a.endByte-a.startByte+1:null),{byteLength:o,dataState:e.getData()!=null?"ready":"unknown",debugJsonString:JSON.stringify({url:e.getURI().toString()}),mediaTimeEnd:n,mediaTimeStart:r,segmentId:e.getSequenceNumber()}}function s(e){var t;return(t={0:"video",1:"audio",3:"captions"}[e.type])!=null?t:null}function u(t,n,r){var a=s(r);if(a==null)return t;var i=t[a];if(i==null)return t;var l=e(r.segment);if(l==null)return t;var u=l.mediaTimeStart+"_"+l.mediaTimeEnd;if(n.has(u))return t;if(n.add(u),i.length===0)i=[l];else{var c=o("BinarySearch").findBoundInArray(i,l,function(e,t){return e.mediaTimeStart-t.mediaTimeStart},o("BinarySearch").LEAST_UPPER_BOUND);i=[].concat(i),i.splice(c,0,l)}var d=babelHelpers.extends({},t);return d[a]=i,d}function c(e,t,n){var r=s(t),o=babelHelpers.extends({},e);if(r!=null){var a=[],i=t.sourceBuffer;if(i)try{for(var l=i.getBuffered(),u=0;u<l.length;++u)a.push({endTime:l.end(u),startTime:l.start(u)})}catch(e){}o[r]=a}return o.combo=n,o}var d=(function(){function e(){var e;this.$1=(e=o("VideoPlayerDataSource")).createDataSource(null),this.$2=e.createDataSource(null),this.$3=e.createDataSource({audio:[],captions:[],combo:[],video:[]}),this.$4=e.createDataSource({audio:[],captions:[],combo:[],video:[]}),this.$5=null,this.$6=new Set}var t=e.prototype;return t.createDebugAPI=function(t){var e=t.engineExtrasAPI,n=t.getConfig,r=t.getManifest,a=t.getManifestUrl,i=t.getOzBufferingDetector,l=t.getOzPlayer,s=t.getVideoElementAPI,u=t.loggerToVPL;return this.handleOzPlayerChanged(l(),s()),o("VideoPlayerImplementationEngineDebugAPI").createVideoPlayerImplementationDebugAPI({debugAPIOverrides:{dataSourceBufferedRangesByTrack:this.$4,dataSourceP2PStats:this.$2,dataSourceP2PTech:this.$1,dataSourceSegmentsByTrack:this.$3,getConfig:n,getEnginePartsForConsole:function(){var e=l(),t=e!=null?e.getDebug():null,n={AudioBufferManager:"abm",AudioSourceBuffer:"asb",AudioSourceStream:"ass",CaptionBufferManager:"cbm",CaptionSourceBuffer:"csb",CaptionSourceStream:"css",DashManifestParsed:"mpd",VideoAbrManager:"vam",VideoBufferManager:"vbm",VideoSourceBuffer:"vsb",VideoSourceStream:"vss"};return[{label:"BufferingDetector",value:i(),windowVariableName:"bdt"},{label:"DashPlayer",value:e,windowVariableName:"dsp"},{label:"DashManifestXML",value:r(),windowVariableName:"man"},{label:"DashManifestURL",value:a(),windowVariableName:"url"}].concat(t!=null?Object.keys(n).map(function(e){return{label:e,value:t[e],windowVariableName:n[e]}}):[])},getManifest:r,getManifestUrl:a},engineExtrasAPI:e,getVideoElementAPI:s,loggerToVPL:u})},t.handleOzPlayerChanged=function(t,n){var e=this,r=this.$5;r&&(r.remove(),this.$5=null);{var a,i=(a=n==null?void 0:n.getBufferedRanges())!=null?a:[];this.$4.value=babelHelpers.extends({},this.$4.value,{combo:i}),o("VideoPlayerDataSource").notifyAllDataSourceHandlers(this.$4)}t!=null&&(this.$5=t.addListener("debug/dashPlayerEvent",function(t){var r=t.detail;switch(r.type){case"SegmentAppended":{var a,i=e.$6,l=e.$4.value;e.$3.value=u(e.$3.value,i,r.event),e.$4.value=c(l,r.event,(a=n==null?void 0:n.getBufferedRanges())!=null?a:[]),o("VideoPlayerDataSource").notifyAllDataSourceHandlers(e.$3),o("VideoPlayerDataSource").notifyAllDataSourceHandlers(e.$4);break}case"P2PTech":{var s=r.event;e.$1.value=s,o("VideoPlayerDataSource").notifyAllDataSourceHandlers(e.$1);break}case"P2PStats":{var d=r.event;e.$2.value=d,o("VideoPlayerDataSource").notifyAllDataSourceHandlers(e.$2);break}}}))},e})();l.default=d}),98);
__d("polarisLogODSToConsole",["polarisDeveloperSettings"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n;if(o("polarisDeveloperSettings").getCanLogODSToConsole()){var r=o("polarisDeveloperSettings").getConsoleLogODSFilter();if(r){var a=RegExp(r);if(!a.test(e))return}console.table((n={},n[e]=t!=null?t:1,n))}}l.default=e}),98);/*FB_PKG_DELIM*/
__d("IGWebBloksDebugOverlay.react",["fbt","IGDSIconButton.react","IGDSXPanoOutlineIcon.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useState;function d(e){var t=o("react-compiler-runtime").c(13),n=e.appId;r("vulture")("ezfEhCR3WuWIQTxUBSyep_RmL08=");var a=c(!1),i=a[0],l=a[1];if(i)return null;var d,m,p,_,f;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"xzykdq0 xmo616w x1ef03lz x2a8wvt xlya59e xwy3id5 xpvcztv x11nt7xy x1gp4ovq x9p2oo0 x1h2mt7u x56jcm7 x1ey2m1c xtijo5x x1o0tod x47corl x10l6tqk x13vifvy"},m={className:"x1frzhxr x1awj2ng x78zum5 x1q0g3np x67bb7w xh8yej3"},p={className:"x1iyjqo2 x6ikm8r x10wlt62 x1iorvi4 x11lfxj5 xjkvuk6 x135b78x xlyipyv"},_=s._(/*BTDS*/"Bloks app ID:"),f=u.jsx("br",{}),t[0]=d,t[1]=m,t[2]=p,t[3]=_,t[4]=f):(d=t[0],m=t[1],p=t[2],_=t[3],f=t[4]);var g;t[5]!==n?(g=n!=null?n:s._(/*BTDS*/"not specified"),t[5]=n,t[6]=g):g=t[6];var h;t[7]!==g?(h=u.jsxs("div",babelHelpers.extends({},p,{children:[_,f,g]})),t[7]=g,t[8]=h):h=t[8];var y;t[9]===Symbol.for("react.memo_cache_sentinel")?(y=function(){l(!0)},t[9]=y):y=t[9];var C;t[10]===Symbol.for("react.memo_cache_sentinel")?(C=u.jsx(r("IGDSIconButton.react"),{onClick:y,children:u.jsx(r("IGDSXPanoOutlineIcon.react"),{alt:s._(/*BTDS*/"Close"),color:"web-always-white",size:18})}),t[10]=C):C=t[10];var b;return t[11]!==h?(b=u.jsx("div",babelHelpers.extends({},d,{children:u.jsxs("div",babelHelpers.extends({},m,{children:[h,C]}))})),t[11]=h,t[12]=b):b=t[12],b}l.default=d}),226);/*FB_PKG_DELIM*/
__d("CAAFetaSavePasswordInterstitial.entrypoint",["CAAFetaSavePasswordInterstitialDialogQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{query:{parameters:r("CAAFetaSavePasswordInterstitialDialogQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("CAAFetaSavePasswordInterstitialDialog.react").__setRef("CAAFetaSavePasswordInterstitial.entrypoint")};l.default=e}),98);/*FB_PKG_DELIM*/
__d("RpWebMqttEnabledAppIds.experimental",["cr:6642"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:6642")}),98);
__d("RpZenonBinaryThriftSignalingSitevarConfig.experimental",["cr:4161"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:4161")}),98);/*FB_PKG_DELIM*/
__d("RpWebMqttEnabledAppIdsJSModuleWrapper",["RpWebMqttEnabledAppIds"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("RpWebMqttEnabledAppIds")}),98);
__d("RpZenonBinaryThriftSignalingSitevarConfigJSModuleWrapper",["RpZenonBinaryThriftSignalingSitevarConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("RpZenonBinaryThriftSignalingSitevarConfig")}),98);/*FB_PKG_DELIM*/
__d("usePolarisNotificationsSecurityAlertUnseenCountDataDefault.react",[],(function(t,n,r,o,a,i){"use strict";function e(){return 0}i.default=e}),66);